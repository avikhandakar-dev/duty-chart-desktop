var xx=Object.defineProperty;var wx=Object.getPrototypeOf;var kx=Reflect.get;var Kh=o=>{throw TypeError(o)};var Sx=(o,e,t)=>e in o?xx(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var Wt=(o,e,t)=>Sx(o,typeof e!="symbol"?e+"":e,t),Zh=(o,e,t)=>e.has(o)||Kh("Cannot "+t);var Tl=(o,e,t)=>(Zh(o,e,"read from private field"),t?t.call(o):e.get(o)),d0=(o,e,t)=>e.has(o)?Kh("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,t);var mg=(o,e,t)=>(Zh(o,e,"access private method"),t);var Xh=(o,e,t)=>kx(wx(o),t,e);import{r as Cx,v as Jh,w as Ix,x as Xg,e as yt,a as N,y as Ln,b as wt,l as Pa,t as ue,s as El,c as ti,z as $a,A as Qs,n as x2,B as Px,C as w2,f as k2,D as Mx,p as S2}from"../chunks/stores.B4wQ8t43.js";import{v as Tx,E as Ax,w as Dx,J as mu,K as Qh,Q as Pm,F as Lx,L as C2,H as Ex,at as Fx,al as jx,P as e1,O as t1,C as th,aY as I2,I as $x,G as Bx,as as Ox,l as Jg,e as Qt,aZ as Rx,a_ as Nx,a$ as zx,a6 as Vx,q as oh,aC as pv,b0 as qx,b1 as Wx,aK as o1,Z as n1,av as Gx,ac as Hx,m as kh,aL as P2,B as Ux,A as b,aJ as bc,c as m,f as nt,b2 as ei,r as _,t as Re,p as Pr,ag as Ac,ah as hv,i,s as v,a as Mr,ai as Yr,j as mc,aj as cc,ab as Z,k as tt,b3 as s1,a2 as hc,b as Ds,aI as ur,b4 as ja,b5 as hg,aa as Yx,b6 as gu,y as Kv,b7 as Kx,aH as Bu,a5 as Zx}from"../chunks/entry.vQWoLaXc.js";import{b as M2,l as Ot,p as Po,i as xe,a as $,c as Ll,s as Ul}from"../chunks/runtime.IewXnSlc.js";import{i as wc}from"../chunks/lifecycle.BUXozHX3.js";import{s as lt,t as Ls,e as Qo,i as ln,r as ut,h as Un,j as Ud,k as Vg,f as Xx,l as T0,b as zl,m as i1,n as Yd,o as nh,A as Jx,p as Qx}from"../chunks/alert.BgKZ2xQm.js";import{c as nc,a as Su,b as Al,_ as r1,o as yc}from"../chunks/preload-helper.DokBhrDu.js";const e6=[];function cv(o,e=!1){return Dg(o,new Map,"",e6)}function Dg(o,e,t,n,s=null){if(typeof o=="object"&&o!==null){const a=e.get(o);if(a!==void 0)return a;if(o instanceof Map)return new Map(o);if(o instanceof Set)return new Set(o);if(Tx(o)){const c=[];e.set(o,c),s!==null&&e.set(s,c);for(let d=0;d<o.length;d+=1)c.push(Dg(o[d],e,t,n));return c}if(Ax(o)===Dx){const c={};e.set(o,c),s!==null&&e.set(s,c);for(var r in o)c[r]=Dg(o[r],e,t,n);return c}if(o instanceof Date)return structuredClone(o);if(typeof o.toJSON=="function")return Dg(o.toJSON(),e,t,n,o)}if(o instanceof EventTarget)return o;try{return structuredClone(o)}catch{return o}}function t6(o,e,t,n,s,r){let a=mu;mu&&Qh();var c,d,u=null;mu&&Pm.nodeType===1&&(u=Pm,Qh());var p=mu?Pm:o,h;Lx(()=>{const x=e()||null;var w=I2;x!==c&&(h&&(x===null?$x(h,()=>{h=null,d=null}):x===d?Bx(h):(Ox(h),Jh(!1))),x&&x!==d&&(h=Ex(()=>{if(u=mu?u:document.createElementNS(w,x),Cx(u,u),n){var k=mu?Fx(u):u.appendChild(jx());mu&&(k===null?e1(!1):t1(k)),n(u,k)}th.nodes_end=u,p.before(u)})),c=x,c&&(d=c),Jh(!0))},C2),a&&(e1(!0),t1(p))}function a1(o,e,t){Jg(()=>{var n=Qt(()=>e(o,t==null?void 0:t())||{});if(n!=null&&n.destroy)return()=>n.destroy()})}const o6=()=>performance.now(),Ru={tick:o=>requestAnimationFrame(o),now:()=>o6(),tasks:new Set};function T2(o){Ru.tasks.forEach(e=>{e.c(o)||(Ru.tasks.delete(e),e.f())}),Ru.tasks.size!==0&&Ru.tick(T2)}function n6(o){let e;return Ru.tasks.size===0&&Ru.tick(T2),{promise:new Promise(t=>{Ru.tasks.add(e={c:o,f:t})}),abort(){Ru.tasks.delete(e)}}}function yg(o,e){o.dispatchEvent(new CustomEvent(e))}function s6(o){if(o==="float")return"cssFloat";if(o==="offset")return"cssOffset";if(o.startsWith("--"))return o;const e=o.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function l1(o){const e={},t=o.split(";");for(const n of t){const[s,r]=n.split(":");if(!s||r===void 0)break;const a=s6(s.trim());e[a]=r.trim()}return e}const i6=o=>o;function bu(o,e,t,n){var s=(o&zx)!==0,r=(o&qx)!==0,a=s&&r,c=(o&Wx)!==0,d=a?"both":s?"in":"out",u,p=e.inert,h,x;function w(){var D=Gx,A=th;o1(null),n1(null);try{return u??(u=t()(e,(n==null?void 0:n())??{},{direction:d}))}finally{o1(D),n1(A)}}var k={is_global:c,in(){var D;if(e.inert=p,!s){x==null||x.abort(),(D=x==null?void 0:x.reset)==null||D.call(x);return}r||h==null||h.abort(),yg(e,"introstart"),h=sh(e,w(),x,1,()=>{yg(e,"introend"),h==null||h.abort(),h=u=void 0})},out(D){if(!r){D==null||D(),u=void 0;return}e.inert=!0,yg(e,"outrostart"),x=sh(e,w(),h,0,()=>{yg(e,"outroend"),D==null||D()})},stop:()=>{h==null||h.abort(),x==null||x.abort()}},S=th;if((S.transitions??(S.transitions=[])).push(k),s&&Ix){var M=c;if(!M){for(var T=S.parent;T&&T.f&C2;)for(;(T=T.parent)&&!(T.f&Rx););M=!T||(T.f&Nx)!==0}M&&Jg(()=>{Qt(()=>k.in())})}}function sh(o,e,t,n,s){var r=n===1;if(Vx(e)){var a,c=!1;return oh(()=>{if(!c){var M=e({direction:r?"in":"out"});a=sh(o,M,t,n,s)}}),{abort:()=>{c=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return s(),{abort:pv,deactivate:pv,reset:pv,t:()=>n};const{delay:d=0,css:u,tick:p,easing:h=i6}=e;var x=[];if(r&&t===void 0&&(p&&p(0,1),u)){var w=l1(u(0,1));x.push(w,w)}var k=()=>1-n,S=o.animate(x,{duration:d});return S.onfinish=()=>{var M=(t==null?void 0:t.t())??1-n;t==null||t.abort();var T=n-M,D=e.duration*Math.abs(T),A=[];if(D>0){if(u)for(var j=Math.ceil(D/16.666666666666668),F=0;F<=j;F+=1){var q=M+T*h(F/j),B=u(q,1-q);A.push(l1(B))}k=()=>{var O=S.currentTime;return M+T*h(O/D)},p&&n6(()=>{if(S.playState!=="running")return!1;var O=k();return p(O,1-O),!0})}S=o.animate(A,{duration:D,fill:"forwards"}),S.onfinish=()=>{k=()=>n,p==null||p(n,1-n),s()}},{abort:()=>{S&&(S.cancel(),S.effect=null,S.onfinish=pv)},deactivate:()=>{s=pv},reset:()=>{n===0&&(p==null||p(1,0))},t:()=>k()}}function Mt(o,e,t=e){var n=Hx();Xg(o,"input",()=>{var s=Tm(o)?Am(o.value):o.value;t(s),n&&s!==(s=e())&&(o.value=s??"")}),kh(()=>{var s=e();if(mu&&o.defaultValue!==o.value){t(Tm(o)?Am(o.value):o.value);return}Tm(o)&&s===Am(o.value)||o.type==="date"&&!s&&!o.value||s!==o.value&&(o.value=s??"")})}const Mm=new Set;function r6(o,e,t,n,s=n){var r=t.getAttribute("type")==="checkbox",a=o;let c=!1;if(e!==null)for(var d of e)a=a[d]??(a[d]=[]);a.push(t),Xg(t,"change",()=>{var u=t.__value;r&&(u=c1(a,u,t.checked)),s(u)},()=>s(r?[]:null)),kh(()=>{var u=n();if(mu&&t.defaultChecked!==t.checked){c=!0;return}r?(u=u||[],t.checked=u.includes(t.__value)):t.checked=M2(t.__value,u)}),P2(()=>{var u=a.indexOf(t);u!==-1&&a.splice(u,1)}),Mm.has(a)||(Mm.add(a),oh(()=>{a.sort((u,p)=>u.compareDocumentPosition(p)===4?-1:1),Mm.delete(a)})),oh(()=>{if(c){var u;if(r)u=c1(a,u,t.checked);else{var p=a.find(h=>h.checked);u=p==null?void 0:p.__value}s(u)}})}function fd(o,e,t=e){Xg(o,"change",()=>{var n=o.checked;t(n)}),e()==null&&t(!1),kh(()=>{var n=e();o.checked=!!n})}function c1(o,e,t){for(var n=new Set,s=0;s<o.length;s+=1)o[s].checked&&n.add(o[s].__value);return t||n.delete(e),Array.from(n)}function Tm(o){var e=o.type;return e==="number"||e==="range"}function Am(o){return o===""?null:+o}function d1(o,e,t){var n=Ux(o,e);n&&n.set&&(o[e]=t,P2(()=>{o[e]=null}))}function sp(o,e,t){if(o.multiple)return a6(o,e);for(var n of o.options){var s=h0(n);if(M2(s,e)){n.selected=!0;return}}(!t||e!==void 0)&&(o.selectedIndex=-1)}function Qg(o,e){let t=!0;Jg(()=>{e&&sp(o,Qt(e),t),t=!1;var n=new MutationObserver(()=>{var s=o.__value;sp(o,s)});return n.observe(o,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function qt(o,e,t=e){var n=!0;Xg(o,"change",()=>{var s;if(o.multiple)s=[].map.call(o.querySelectorAll(":checked"),h0);else{var r=o.querySelector(":checked");s=r&&h0(r)}t(s)}),Jg(()=>{var s=e();if(sp(o,s,n),n&&s===void 0){var r=o.querySelector(":checked");r!==null&&(s=h0(r),t(s))}o.__value=s,n=!1}),Qg(o)}function a6(o,e){for(var t of o.options)t.selected=~e.indexOf(h0(t))}function h0(o){return"__value"in o?o.__value:o.value}function u0(o){b(o,o.v+1)}/**
     * @license
     * KLineChart v10.0.0-alpha5
     * Copyright (c) 2019 lihu.
     * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
     */var ih=function(o,e){return ih=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])},ih(o,e)};function sr(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ih(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Kn=function(){return Kn=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Kn.apply(this,arguments)};function S0(o,e){var t={};for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&e.indexOf(n)<0&&(t[n]=o[n]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(o);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(o,n[s])&&(t[n[s]]=o[n[s]]);return t}function A2(o,e,t,n){function s(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function c(p){try{u(n.next(p))}catch(h){a(h)}}function d(p){try{u(n.throw(p))}catch(h){a(h)}}function u(p){p.done?r(p.value):s(p.value).then(c,d)}u((n=n.apply(o,[])).next())})}function D2(o,e){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,s,r,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(p){return d([u,p])}}function d(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(t=0)),t;)try{if(n=1,s&&(r=u[0]&2?s.return:u[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,u[1])).done)return r;switch(s=0,r&&(u=[u[0]&2,r.value]),u[0]){case 0:case 1:r=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){t.label=u[1];break}if(u[0]===6&&t.label<r[1]){t.label=r[1],r=u;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(u);break}r[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(o,t)}catch(p){u=[6,p],s=0}finally{n=r=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function hd(o){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&o[e],n=0;if(t)return t.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&n>=o.length&&(o=void 0),{value:o&&o[n++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zd(o,e){var t=typeof Symbol=="function"&&o[Symbol.iterator];if(!t)return o;var n=t.call(o),s,r=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)r.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return r}function A0(o,e,t){if(arguments.length===2)for(var n=0,s=e.length,r;n<s;n++)(r||!(n in e))&&(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return o.concat(r||Array.prototype.slice.call(e))}function Dl(o,e){if(!(!Md(o)&&!Md(e))){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=o[t],s=e[t];Md(s)&&Md(n)?Dl(n,s):Gt(e[t])&&(o[t]=ip(e[t]))}}}function ip(o){if(!Md(o))return o;var e=null;Kd(o)?e=[]:e={};for(var t in o)if(Object.prototype.hasOwnProperty.call(o,t)){var n=o[t];Md(n)?e[t]=ip(n):e[t]=n}return e}function Kd(o){return Object.prototype.toString.call(o)==="[object Array]"}function xc(o){return typeof o=="function"}function Md(o){return typeof o=="object"&&Gt(o)}function ys(o){return typeof o=="number"&&Number.isFinite(o)}function Gt(o){return o!=null}function D0(o){return typeof o=="boolean"}function da(o){return typeof o=="string"}function rp(o){return o==="transparent"||o==="none"||/^[rR][gG][Bb][Aa]\(([\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\s]*,){3}[\s]*0[\s]*\)$/.test(o)||/^[hH][Ss][Ll][Aa]\(([\s]*(360ï½œ3[0-5][0-9]|[012]?[0-9][0-9]?)[\s]*,)([\s]*((100|[0-9][0-9]?)%|0)[\s]*,){2}([\s]*0[\s]*)\)$/.test(o)}function Nu(o,e){var t=o.replace(/^#/,""),n=parseInt(t,16),s=n>>16&255,r=n>>8&255,a=n&255;return"rgba(".concat(s,", ").concat(r,", ").concat(a,", ").concat(e??1,")")}var de;(function(o){o.Dashed="dashed",o.Solid="solid"})(de||(de={}));var rh;(function(o){o.Stroke="stroke",o.Fill="fill"})(rh||(rh={}));var hr;(function(o){o.Stroke="stroke",o.Fill="fill",o.StrokeFill="stroke_fill"})(hr||(hr={}));var Vu;(function(o){o.Always="always",o.FollowCross="follow_cross",o.None="none"})(Vu||(Vu={}));var Gd;(function(o){o.Standard="standard",o.Rect="rect"})(Gd||(Gd={}));var qg;(function(o){o.Path="path",o.IconFont="icon_font"})(qg||(qg={}));var tp;(function(o){o.Left="left",o.Middle="middle",o.Right="right"})(tp||(tp={}));var Wg;(function(o){o.Fixed="fixed",o.Pointer="pointer"})(Wg||(Wg={}));var td;(function(o){o.CandleSolid="candle_solid",o.CandleStroke="candle_stroke",o.CandleUpStroke="candle_up_stroke",o.CandleDownStroke="candle_down_stroke",o.Ohlc="ohlc",o.Area="area"})(td||(td={}));var qu;(function(o){o.CurrentOpen="current_open",o.PreviousClose="previous_close"})(qu||(qu={}));var Mi={RED:"#F92855",GREEN:"#2DC08E",WHITE:"#FFFFFF",GREY:"#76808F",BLUE:"#1677FF"};function l6(){return{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:de.Dashed,dashedValue:[2,2]},vertical:{show:!0,size:1,color:"#EDEDED",style:de.Dashed,dashedValue:[2,2]}}}function c6(){var o={show:!0,color:Mi.GREY,textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"};return{type:td.CandleSolid,bar:{compareRule:qu.CurrentOpen,upColor:Mi.GREEN,downColor:Mi.RED,noChangeColor:Mi.GREY,upBorderColor:Mi.GREEN,downBorderColor:Mi.RED,noChangeBorderColor:Mi.GREY,upWickColor:Mi.GREEN,downWickColor:Mi.RED,noChangeWickColor:Mi.GREY},area:{lineSize:2,lineColor:Mi.BLUE,smooth:!1,value:"close",backgroundColor:[{offset:0,color:Nu(Mi.BLUE,.01)},{offset:1,color:Nu(Mi.BLUE,.2)}],point:{show:!0,color:Mi.BLUE,radius:4,rippleColor:Nu(Mi.BLUE,.3),rippleRadius:8,animation:!0,animationDuration:1e3}},priceMark:{show:!0,high:Kn({},o),low:Kn({},o),last:{show:!0,compareRule:qu.CurrentOpen,upColor:Mi.GREEN,downColor:Mi.RED,noChangeColor:Mi.GREY,line:{show:!0,style:de.Dashed,dashedValue:[4,4],size:1},text:{show:!0,style:hr.Fill,size:12,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderColor:"transparent",borderStyle:de.Solid,borderSize:0,borderDashedValue:[2,2],color:Mi.WHITE,family:"Helvetica Neue",weight:"normal",borderRadius:2}}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:Vu.Always,showType:Gd.Standard,custom:[{title:"time",value:"{time}"},{title:"open",value:"{open}"},{title:"high",value:"{high}"},{title:"low",value:"{low}"},{title:"close",value:"{close}"},{title:"volume",value:"{volume}"}],defaultValue:"n/a",rect:{position:Wg.Fixed,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,offsetLeft:4,offsetTop:4,offsetRight:4,offsetBottom:4,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",color:"#FEFEFE"},text:{size:12,family:"Helvetica Neue",weight:"normal",color:Mi.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4},features:[]}}}function d6(){var o=Nu(Mi.GREEN,.7),e=Nu(Mi.RED,.7);return{ohlc:{compareRule:qu.CurrentOpen,upColor:o,downColor:e,noChangeColor:Mi.GREY},bars:[{style:hr.Fill,borderStyle:de.Solid,borderSize:1,borderDashedValue:[2,2],upColor:o,downColor:e,noChangeColor:Mi.GREY}],lines:["#FF9600","#935EBD",Mi.BLUE,"#E11D74","#01C5C4"].map(function(t){return{style:de.Solid,smooth:!1,size:1,dashedValue:[2,2],color:t}}),circles:[{style:hr.Fill,borderStyle:de.Solid,borderSize:1,borderDashedValue:[2,2],upColor:o,downColor:e,noChangeColor:Mi.GREY}],lastValueMark:{show:!1,text:{show:!1,style:hr.Fill,color:Mi.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:de.Solid,borderColor:"transparent",borderSize:0,borderDashedValue:[2,2],paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderRadius:2}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:Vu.Always,showType:Gd.Standard,showName:!0,showParams:!0,defaultValue:"n/a",text:{size:12,family:"Helvetica Neue",weight:"normal",color:Mi.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4},features:[]}}}function u1(){return{show:!0,size:"auto",axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:Mi.GREY,size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:6},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}}}function u6(){function o(){return{show:!0,line:{show:!0,style:de.Dashed,dashedValue:[4,2],size:1,color:Mi.GREY},text:{show:!0,style:hr.Fill,color:Mi.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:de.Solid,borderDashedValue:[2,2],borderSize:1,borderColor:Mi.GREY,borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:Mi.GREY}}}return{show:!0,horizontal:o(),vertical:o()}}function v6(){var o=Nu(Mi.BLUE,.35),e=Nu(Mi.BLUE,.25);function t(){return{style:hr.Fill,color:Mi.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:de.Solid,borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:Mi.BLUE,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:Mi.BLUE}}return{point:{color:Mi.BLUE,borderColor:o,borderSize:1,radius:5,activeColor:Mi.BLUE,activeBorderColor:o,activeBorderSize:3,activeRadius:5},line:{style:de.Solid,smooth:!1,color:Mi.BLUE,size:1,dashedValue:[2,2]},rect:{style:hr.Fill,color:e,borderColor:Mi.BLUE,borderSize:1,borderRadius:0,borderStyle:de.Solid,borderDashedValue:[2,2]},polygon:{style:hr.Fill,color:Mi.BLUE,borderColor:Mi.BLUE,borderSize:1,borderStyle:de.Solid,borderDashedValue:[2,2]},circle:{style:hr.Fill,color:e,borderColor:Mi.BLUE,borderSize:1,borderStyle:de.Solid,borderDashedValue:[2,2]},arc:{style:de.Solid,color:Mi.BLUE,size:1,dashedValue:[2,2]},text:t()}}function p6(){return{size:1,color:"#DDDDDD",fill:!0,activeBackgroundColor:Nu(Mi.BLUE,.08)}}function f6(){return{grid:l6(),candle:c6(),indicator:d6(),xAxis:u1(),yAxis:u1(),separator:p6(),crosshair:u6(),overlay:v6()}}var g6=/\\(\\)?/g,_6=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function Hl(o,e,t){if(Gt(o)){var n=[];e.replace(_6,function(c){for(var d=[],u=1;u<arguments.length;u++)d[u-1]=arguments[u];var p=c;return Gt(d[1])?p=d[2].replace(g6,"$1"):Gt(d[0])&&(p=d[0].trim()),n.push(p),""});for(var s=o,r=0,a=n.length;Gt(s)&&r<a;)s=s==null?void 0:s[n[r++]];return Gt(s)?s:t??"--"}return t??"--"}function L2(o,e){var t={};return o.formatToParts(new Date(e)).forEach(function(n){var s=n.type,r=n.value;switch(s){case"year":{t.YYYY=r;break}case"month":{t.MM=r;break}case"day":{t.DD=r;break}case"hour":{t.HH=r==="24"?"00":r;break}case"minute":{t.mm=r;break}case"second":{t.ss=r;break}}}),t}function E2(o,e,t){var n=L2(o,e);return t.replace(/YYYY|MM|DD|HH|mm|ss/g,function(s){return n[s]})}function _c(o,e){var t=+o;return ys(t)?t.toFixed(e??2):"".concat(o)}function F2(o){var e=+o;if(ys(e)){if(e>1e9)return"".concat(+(e/1e9).toFixed(3),"B");if(e>1e6)return"".concat(+(e/1e6).toFixed(3),"M");if(e>1e3)return"".concat(+(e/1e3).toFixed(3),"K")}return"".concat(o)}function j2(o,e){var t="".concat(o);if(e.length===0)return t;if(t.includes(".")){var n=t.split(".");return"".concat(n[0].replace(/(\d)(?=(\d{3})+$)/g,function(s){return"".concat(s).concat(e)}),".").concat(n[1])}return t.replace(/(\d)(?=(\d{3})+$)/g,function(s){return"".concat(s).concat(e)})}function $2(o,e){var t="".concat(o),n=new RegExp("\\.0{"+e+",}[1-9][0-9]*$");if(n.test(t)){var s=t.split("."),r=s.length-1,a=s[r],c=/0*/.exec(a);if(Gt(c)){var d=c[0].length;return s[r]=a.replace(/0*/,"0{".concat(d,"}")),s.join(".")}}return t}var v0=null;function zu(o){var e,t;return(t=(e=o.ownerDocument.defaultView)===null||e===void 0?void 0:e.devicePixelRatio)!==null&&t!==void 0?t:1}function gv(o,e,t){return"".concat(e??"normal"," ").concat(o??12,"px ").concat(t??"Helvetica Neue")}function ap(o,e,t,n){if(!Gt(v0)){var s=document.createElement("canvas"),r=zu(s);v0=s.getContext("2d"),v0.scale(r,r)}return v0.font=gv(e,t,n),Math.round(v0.measureText(o).width)}var Rc;(function(o){o.OnZoom="onZoom",o.OnScroll="onScroll",o.OnVisibleRangeChange="onVisibleRangeChange",o.OnCandleTooltipFeatureClick="onCandleTooltipFeatureClick",o.OnCrosshairChange="onCrosshairChange",o.OnCandleBarClick="onCandleBarClick",o.OnPaneDrag="onPaneDrag"})(Rc||(Rc={}));var m6=function(){function o(){this._callbacks=[]}return o.prototype.subscribe=function(e){var t=this._callbacks.indexOf(e);t<0&&this._callbacks.push(e)},o.prototype.unsubscribe=function(e){if(xc(e)){var t=this._callbacks.indexOf(e);t>-1&&this._callbacks.splice(t,1)}else this._callbacks=[]},o.prototype.execute=function(e){this._callbacks.forEach(function(t){t(e)})},o.prototype.isEmpty=function(){return this._callbacks.length===0},o}(),od;(function(o){o.Normal="normal",o.Price="price",o.Volume="volume"})(od||(od={}));var ah;(function(o){o.Feature="feature"})(ah||(ah={}));var y0;(function(o){o.Loading="loading",o.Error="error",o.Ready="ready"})(y0||(y0={}));function Sh(o,e,t,n){var s=o.result,r=o.figures,a=o.styles,c=Hl(a,"circles",t.circles),d=c.length,u=Hl(a,"bars",t.bars),p=u.length,h=Hl(a,"lines",t.lines),x=h.length,w=0,k=0,S=0,M,T=0;r.forEach(function(D){var A;switch(D.type){case"circle":{T=w;var j=c[w%d];M=Kn(Kn({},j),{color:j.noChangeColor}),w++;break}case"bar":{T=k;var F=u[k%p];M=Kn(Kn({},F),{color:F.noChangeColor}),k++;break}case"line":{T=S,M=h[S%x],S++;break}}if(Gt(D.type)){var q=(A=D.styles)===null||A===void 0?void 0:A.call(D,{data:{prev:s[e-1],current:s[e],next:s[e+1]},indicator:o,defaultStyles:t});n(D,Kn(Kn({},M),q),T)}})}var B2=function(){function o(e){this.precision=4,this.calcParams=[],this.shouldOhlc=!1,this.shouldFormatBigNumber=!1,this.visible=!0,this.zLevel=0,this.series=od.Normal,this.figures=[],this.minValue=null,this.maxValue=null,this.styles=null,this.shouldUpdate=function(t,n){var s=JSON.stringify(t.calcParams)!==JSON.stringify(n.calcParams)||t.figures!==n.figures||t.calc!==n.calc,r=s||t.shortName!==n.shortName||t.series!==n.series||t.minValue!==n.minValue||t.maxValue!==n.maxValue||t.precision!==n.precision||t.shouldOhlc!==n.shouldOhlc||t.shouldFormatBigNumber!==n.shouldFormatBigNumber||t.visible!==n.visible||t.zLevel!==n.zLevel||t.extendData!==n.extendData||t.regenerateFigures!==n.regenerateFigures||t.createTooltipDataSource!==n.createTooltipDataSource||t.draw!==n.draw;return{calc:s,draw:r}},this.calc=function(){return[]},this.regenerateFigures=null,this.createTooltipDataSource=null,this.draw=null,this.onClick=null,this.onDataStateChange=null,this.result=[],this._lockSeriesPrecision=!1,this.override(e),this._lockSeriesPrecision=!1}return o.prototype.override=function(e){var t,n,s=this,r=s.result,a=S0(s,["result"]);this._prevIndicator=Kn(Kn({},ip(a)),{result:r});var c=e.id,d=e.name,u=e.shortName,p=e.precision,h=e.styles,x=e.figures,w=e.calcParams,k=S0(e,["id","name","shortName","precision","styles","figures","calcParams"]);!da(this.id)&&da(c)&&(this.id=c),da(this.name)||(this.name=d??""),this.shortName=(t=u??this.shortName)!==null&&t!==void 0?t:this.name,ys(p)&&(this.precision=p,this._lockSeriesPrecision=!0),Gt(h)&&((n=this.styles)!==null&&n!==void 0||(this.styles={}),Dl(this.styles,h)),Dl(this,k),Gt(w)&&(this.calcParams=w,xc(this.regenerateFigures)&&(this.figures=this.regenerateFigures(this.calcParams))),this.figures=x??this.figures},o.prototype.setSeriesPrecision=function(e){this._lockSeriesPrecision||(this.precision=e)},o.prototype.shouldUpdateImp=function(){var e=this._prevIndicator.zLevel!==this.zLevel,t=this.shouldUpdate(this._prevIndicator,this);return D0(t)?{calc:t,draw:t,sort:e}:Kn(Kn({},t),{sort:e})},o.prototype.calcImp=function(e){return A2(this,void 0,void 0,function(){var t;return D2(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.calc(e,this)];case 1:return t=n.sent(),this.result=t,[2,!0];case 2:return n.sent(),[2,!1];case 3:return[2]}})})},o.extend=function(e){var t=function(n){sr(s,n);function s(){return n.call(this,e)||this}return s}(o);return t},o}(),fv;(function(o){o.Normal="normal",o.WeakMagnet="weak_magnet",o.StrongMagnet="strong_magnet"})(fv||(fv={}));function gd(o,e){var t,n=(t=e==null?void 0:e.ignoreEvent)!==null&&t!==void 0?t:!1;return D0(n)?!n:!n.includes(o)}var v1=1,p0=-1,h6="overlay_",Zv="overlay_figure_",O2=function(){function o(e){this.groupId="",this.totalStep=1,this.currentStep=v1,this.lock=!1,this.visible=!0,this.zLevel=0,this.needDefaultPointFigure=!1,this.needDefaultXAxisFigure=!1,this.needDefaultYAxisFigure=!1,this.mode=fv.Normal,this.modeSensitivity=8,this.points=[],this.styles=null,this.createPointFigures=null,this.createXAxisFigures=null,this.createYAxisFigures=null,this.performEventPressedMove=null,this.performEventMoveForDrawing=null,this.onDrawStart=null,this.onDrawing=null,this.onDrawEnd=null,this.onClick=null,this.onDoubleClick=null,this.onRightClick=null,this.onPressedMoveStart=null,this.onPressedMoving=null,this.onPressedMoveEnd=null,this.onMouseEnter=null,this.onMouseLeave=null,this.onRemoved=null,this.onSelected=null,this.onDeselected=null,this._prevZLevel=0,this._prevPressedPoint=null,this._prevPressedPoints=[],this.override(e)}return o.prototype.override=function(e){var t,n;this._prevOverlay=ip(this);var s=e.id,r=e.name;e.currentStep;var a=e.points,c=e.styles,d=S0(e,["id","name","currentStep","points","styles"]);if(Dl(this,d),da(this.name)||(this.name=r??""),!da(this.id)&&da(s)&&(this.id=s),Gt(c)&&((t=this.styles)!==null&&t!==void 0||(this.styles={}),Dl(this.styles,c)),Kd(a)&&a.length>0){var u=0;if(this.points=A0([],Zd(a),!1),a.length>=this.totalStep-1?(this.currentStep=p0,u=this.totalStep-1):(this.currentStep=a.length+1,u=a.length),xc(this.performEventMoveForDrawing))for(var p=0;p<u;p++)this.performEventMoveForDrawing({currentStep:p+2,mode:this.mode,points:this.points,performPointIndex:p,performPoint:this.points[p]});this.currentStep===p0&&((n=this.performEventPressedMove)===null||n===void 0||n.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:this.points.length-1,performPoint:this.points[this.points.length-1]}))}},o.prototype.getPrevZLevel=function(){return this._prevZLevel},o.prototype.setPrevZLevel=function(e){this._prevZLevel=e},o.prototype.shouldUpdate=function(){var e=this._prevOverlay.zLevel!==this.zLevel,t=e||JSON.stringify(this._prevOverlay)!==JSON.stringify(this.points)||this._prevOverlay.visible!==this.visible||this._prevOverlay.extendData!==this.extendData||this._prevOverlay.styles!==this.styles;return{sort:e,draw:t}},o.prototype.nextStep=function(){this.currentStep===this.totalStep-1?this.currentStep=p0:this.currentStep++},o.prototype.forceComplete=function(){this.currentStep=p0},o.prototype.isDrawing=function(){return this.currentStep!==p0},o.prototype.isStart=function(){return this.currentStep===v1},o.prototype.eventMoveForDrawing=function(e){var t,n=this.currentStep-1,s={};ys(e.timestamp)&&(s.timestamp=e.timestamp),ys(e.dataIndex)&&(s.dataIndex=e.dataIndex),ys(e.value)&&(s.value=e.value),this.points[n]=s,(t=this.performEventMoveForDrawing)===null||t===void 0||t.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:n,performPoint:s})},o.prototype.eventPressedPointMove=function(e,t){var n;this.points[t].timestamp=e.timestamp,ys(e.value)&&(this.points[t].value=e.value),(n=this.performEventPressedMove)===null||n===void 0||n.call(this,{currentStep:this.currentStep,points:this.points,mode:this.mode,performPointIndex:t,performPoint:this.points[t]})},o.prototype.startPressedMove=function(e){this._prevPressedPoint=Kn({},e),this._prevPressedPoints=ip(this.points)},o.prototype.eventPressedOtherMove=function(e,t){if(this._prevPressedPoint!==null){var n=null;ys(e.dataIndex)&&ys(this._prevPressedPoint.dataIndex)&&(n=e.dataIndex-this._prevPressedPoint.dataIndex);var s=null;ys(e.value)&&ys(this._prevPressedPoint.value)&&(s=e.value-this._prevPressedPoint.value),this.points=this._prevPressedPoints.map(function(r){var a;ys(r.timestamp)&&(r.dataIndex=t.timestampToDataIndex(r.timestamp));var c=Kn({},r);return ys(n)&&ys(r.dataIndex)&&(c.dataIndex=r.dataIndex+n,c.timestamp=(a=t.dataIndexToTimestamp(c.dataIndex))!==null&&a!==void 0?a:void 0),ys(s)&&ys(r.value)&&(c.value=r.value+s),c})}},o.extend=function(e){var t=function(n){sr(s,n);function s(){return n.call(this,e)||this}return s}(o);return t},o}(),_v;(function(o){o[o.Tooltip=0]="Tooltip",o[o.Crosshair=1]="Crosshair",o[o.XAxis=2]="XAxis"})(_v||(_v={}));function Gg(o){var e={width:0,height:0,left:0,right:0,top:0,bottom:0};return Gt(o)&&Dl(e,o),e}var op=-1;function Hg(o){return xc(window.requestAnimationFrame)?window.requestAnimationFrame(o):window.setTimeout(o,20)}function p1(o){xc(window.cancelAnimationFrame)?window.cancelAnimationFrame(o):window.clearTimeout(o)}function f1(o){if(xc(window.requestIdleCallback))return window.requestIdleCallback(o);var e=performance.now();return window.setTimeout(function(){o({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(performance.now()-e))}})},1)}function y6(o){xc(window.cancelIdleCallback)?window.cancelIdleCallback(o):window.clearTimeout(o)}var lh=function(){function o(e){this._options={duration:500,iterationCount:1},this._currentIterationCount=0,this._running=!1,this._time=0,Dl(this._options,e)}return o.prototype._loop=function(){var e=this;this._running=!0;var t=function(){var n;if(e._running){var s=new Date().getTime()-e._time;s<e._options.duration?((n=e._doFrameCallback)===null||n===void 0||n.call(e,s),Hg(t)):(e.stop(),e._currentIterationCount++,e._currentIterationCount<e._options.iterationCount&&e.start())}};Hg(t)},o.prototype.doFrame=function(e){return this._doFrameCallback=e,this},o.prototype.setDuration=function(e){return this._options.duration=e,this},o.prototype.setIterationCount=function(e){return this._options.iterationCount=e,this},o.prototype.start=function(){this._running||(this._time=new Date().getTime(),this._loop())},o.prototype.stop=function(){var e;this._running&&((e=this._doFrameCallback)===null||e===void 0||e.call(this,this._options.duration)),this._running=!1},o}(),Dm=1,g1=new Date().getTime();function Lg(o){var e=new Date().getTime();return e===g1?++Dm:Dm=1,g1=e,"".concat(o??"").concat(e,"_").concat(Dm)}function Cu(o,e){var t,n=document.createElement(o),s=e??{};for(var r in s)n.style[r]=(t=s[r])!==null&&t!==void 0?t:"";return n}function ch(o,e,t){var n=0,s=0;for(s=o.length-1;n!==s;){var r=Math.floor((s+n)/2),a=s-n,c=o[r][e];if(t===o[n][e])return n;if(t===o[s][e])return s;if(t===c)return r;if(t>c?n=r:s=r,a<=2)break}return n}function b6(o,e){e=Math.max(0,e??0);var t=Math.pow(10,e);return Math.round(o*t)/t}function x6(o){var e=o.toString(),t=e.indexOf("e");if(t>0){var n=+e.slice(t+1);return n<0?-n:0}var s=e.indexOf(".");return s<0?0:e.length-1-s}function R2(o,e,t){for(var n,s,r=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],a=o.length,c=0;c<a;){var d=o[c];r[0]=Math.max((n=d[e])!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER,r[0]),r[1]=Math.min((s=d[t])!==null&&s!==void 0?s:Number.MAX_SAFE_INTEGER,r[1]),++c}return r}function Ou(o){return o===0?0:Math.log10(o)}function Jv(o){return Math.pow(10,o)}var ed;(function(o){o.Init="init",o.Forward="forward",o.Backward="backward",o.Update="update"})(ed||(ed={}));function _1(){return{from:0,to:0,realFrom:0,realTo:0}}function m1(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return o.join("_")}var w6=function(){function o(e){this._requestIdleCallbackId=op,this._tasks=e??[],this._operateTasks()}return o.prototype._operateTasks=function(e){var t=this;this._requestIdleCallbackId!==op&&(y6(this._requestIdleCallbackId),this._requestIdleCallbackId=op),e==null||e(),this._requestIdleCallbackId=f1(function(n){t._runTasks(n)})},o.prototype._runTasks=function(e){for(var t=this;e.timeRemaining()>0&&this._tasks.length>0;){var n=this._tasks.shift();n==null||n.handler()}this._tasks.length>0&&(this._requestIdleCallbackId=f1(function(s){t._runTasks(s)}))},o.prototype.addTask=function(e){var t=this;return this._operateTasks(function(){var n=t._tasks.findIndex(function(s){return s.id===e.id});n>-1?t._tasks[n]=e:t._tasks.push(e)}),this},o.prototype.removeTask=function(e){var t=this;return this._operateTasks(function(){var n=t._tasks.findIndex(function(s){return s.id===e});n>-1&&t._tasks.splice(n,1)}),this},o}(),dv={Year:365*24*3600,Month:30*24*3600,Day:24*3600,Hour:3600,Minute:60,Second:1};function k6(o,e,t,n,s,r){var a;n===void 0&&(n=0);for(var c=null,d=r??null,u=0;u<e.length;u++){var p=e[u].timestamp,h=dv.Minute,x=L2(t,p);Gt(c)&&(x.YYYY!==c.YYYY?h=dv.Year:x.MM!==c.MM?h=dv.Month:x.DD!==c.DD?h=dv.Day:x.HH!==c.HH?h=dv.Hour:x.mm!==c.mm?h=dv.Minute:h=dv.Second),ys(d)&&ys(s==null?void 0:s.compare)&&(s.compare=Math.min(s.compare,p-d));var w=(a=o.get(h))!==null&&a!==void 0?a:[];w.push({dataIndex:u+n,weight:h,timestamp:p}),o.set(h,w),c=x,d=p}}function S6(o,e){var t=Math.max(ap("0000-00-00 00:00:00",e.size,e.weight,e.family),146);return Math.ceil(t/o)}function h1(o,e,t){var n=S6(e,t),s=[];return Array.from(o.keys()).sort(function(r,a){return a-r}).forEach(function(r){var a=o.get(r),c=s;s=[];for(var d=c.length,u=0,p=a.length,h=1/0,x=-1/0,w=0;w<p;w++){for(var k=a[w],S=k.dataIndex;u<d;){var M=c[u],T=M.dataIndex;if(T<S)u++,s.push(M),x=T,h=1/0;else{h=T;break}}h-S>=n&&S-x>=n&&(s.push(k),x=S)}for(;u<d;u++)s.push(c[u])}),s}var C6={name:"AVP",shortName:"AVP",series:od.Price,precision:2,figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:function(o){var e=0,t=0;return o.map(function(n){var s,r,a={},c=(s=n.turnover)!==null&&s!==void 0?s:0,d=(r=n.volume)!==null&&r!==void 0?r:0;return e+=c,t+=d,t!==0&&(a.avp=e/t),a})}},I6={name:"AO",shortName:"AO",calcParams:[5,34],figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:function(o){var e,t,n=o.data,s=o.indicator,r=o.defaultStyles,a=n.prev,c=n.current,d=(e=a==null?void 0:a.ao)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER,u=(t=c==null?void 0:c.ao)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER,p="";u>d?p=Hl(s.styles,"bars[0].upColor",r.bars[0].upColor):p=Hl(s.styles,"bars[0].downColor",r.bars[0].downColor);var h=u>d?hr.Stroke:hr.Fill;return{color:p,style:h,borderColor:p}}}],calc:function(o,e){var t=e.calcParams,n=Math.max(t[0],t[1]),s=0,r=0,a=0,c=0;return o.map(function(d,u){var p={},h=(d.low+d.high)/2;if(s+=h,r+=h,u>=t[0]-1){a=s/t[0];var x=o[u-(t[0]-1)];s-=(x.low+x.high)/2}if(u>=t[1]-1){c=r/t[1];var x=o[u-(t[1]-1)];r-=(x.low+x.high)/2}return u>=n-1&&(p.ao=a-c),p})}},P6={name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:function(o){return o.map(function(e,t){return{key:"bias".concat(t+1),title:"BIAS".concat(e,": "),type:"line"}})},calc:function(o,e){var t=e.calcParams,n=e.figures,s=[];return o.map(function(r,a){var c={},d=r.close;return t.forEach(function(u,p){var h;if(s[p]=((h=s[p])!==null&&h!==void 0?h:0)+d,a>=u-1){var x=s[p]/t[p];c[n[p].key]=(d-x)/x*100,s[p]-=o[a-(u-1)].close}}),c})}};function M6(o,e){var t=o.length,n=0;return o.forEach(function(s){var r=s.close-e;n+=r*r}),n=Math.abs(n),Math.sqrt(n/t)}var T6={name:"BOLL",shortName:"BOLL",series:od.Price,calcParams:[20,2],precision:2,shouldOhlc:!0,figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:function(o,e){var t=e.calcParams,n=t[0]-1,s=0;return o.map(function(r,a){var c=r.close,d={};if(s+=c,a>=n){d.mid=s/t[0];var u=M6(o.slice(a-n,a+1),d.mid);d.up=d.mid+t[1]*u,d.dn=d.mid-t[1]*u,s-=o[a-n].close}return d})}},A6={name:"BRAR",shortName:"BRAR",calcParams:[26],figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:function(o,e){var t=e.calcParams,n=0,s=0,r=0,a=0;return o.map(function(c,d){var u,p,h={},x=c.high,w=c.low,k=c.open,S=((u=o[d-1])!==null&&u!==void 0?u:c).close;if(r+=x-k,a+=k-w,n+=x-S,s+=S-w,d>=t[0]-1){a!==0?h.ar=r/a*100:h.ar=0,s!==0?h.br=n/s*100:h.br=0;var M=o[d-(t[0]-1)],T=M.high,D=M.low,A=M.open,j=((p=o[d-t[0]])!==null&&p!==void 0?p:o[d-(t[0]-1)]).close;n-=T-j,s-=j-D,r-=T-A,a-=A-D}return h})}},D6={name:"BBI",shortName:"BBI",series:od.Price,precision:2,calcParams:[3,6,12,24],shouldOhlc:!0,figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:function(o,e){var t=e.calcParams,n=Math.max.apply(Math,A0([],Zd(t),!1)),s=[],r=[];return o.map(function(a,c){var d={},u=a.close;if(t.forEach(function(h,x){var w;s[x]=((w=s[x])!==null&&w!==void 0?w:0)+u,c>=h-1&&(r[x]=s[x]/h,s[x]-=o[c-(h-1)].close)}),c>=n-1){var p=0;r.forEach(function(h){p+=h}),d.bbi=p/4}return d})}},L6={name:"CCI",shortName:"CCI",calcParams:[20],figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:function(o,e){var t=e.calcParams,n=t[0]-1,s=0,r=[];return o.map(function(a,c){var d={},u=(a.high+a.low+a.close)/3;if(s+=u,r.push(u),c>=n){var p=s/t[0],h=r.slice(c-n,c+1),x=0;h.forEach(function(S){x+=Math.abs(S-p)});var w=x/t[0];d.cci=w!==0?(u-p)/w/.015:0;var k=(o[c-n].high+o[c-n].low+o[c-n].close)/3;s-=k}return d})}},E6={name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:function(o,e){var t=e.calcParams,n=Math.ceil(t[1]/2.5+1),s=Math.ceil(t[2]/2.5+1),r=Math.ceil(t[3]/2.5+1),a=Math.ceil(t[4]/2.5+1),c=0,d=[],u=0,p=[],h=0,x=[],w=0,k=[],S=[];return o.forEach(function(M,T){var D,A,j,F,q,B={},O=(D=o[T-1])!==null&&D!==void 0?D:M,z=(O.high+O.close+O.low+O.open)/4,Y=Math.max(0,M.high-z),G=Math.max(0,z-M.low);T>=t[0]-1&&(G!==0?B.cr=Y/G*100:B.cr=0,c+=B.cr,u+=B.cr,h+=B.cr,w+=B.cr,T>=t[0]+t[1]-2&&(d.push(c/t[1]),T>=t[0]+t[1]+n-3&&(B.ma1=d[d.length-1-n]),c-=(A=S[T-(t[1]-1)].cr)!==null&&A!==void 0?A:0),T>=t[0]+t[2]-2&&(p.push(u/t[2]),T>=t[0]+t[2]+s-3&&(B.ma2=p[p.length-1-s]),u-=(j=S[T-(t[2]-1)].cr)!==null&&j!==void 0?j:0),T>=t[0]+t[3]-2&&(x.push(h/t[3]),T>=t[0]+t[3]+r-3&&(B.ma3=x[x.length-1-r]),h-=(F=S[T-(t[3]-1)].cr)!==null&&F!==void 0?F:0),T>=t[0]+t[4]-2&&(k.push(w/t[4]),T>=t[0]+t[4]+a-3&&(B.ma4=k[k.length-1-a]),w-=(q=S[T-(t[4]-1)].cr)!==null&&q!==void 0?q:0)),S.push(B)}),S}},F6={name:"DMA",shortName:"DMA",calcParams:[10,50,10],figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:function(o,e){var t=e.calcParams,n=Math.max(t[0],t[1]),s=0,r=0,a=0,c=[];return o.forEach(function(d,u){var p,h={},x=d.close;s+=x,r+=x;var w=0,k=0;if(u>=t[0]-1&&(w=s/t[0],s-=o[u-(t[0]-1)].close),u>=t[1]-1&&(k=r/t[1],r-=o[u-(t[1]-1)].close),u>=n-1){var S=w-k;h.dma=S,a+=S,u>=n+t[2]-2&&(h.ama=a/t[2],a-=(p=c[u-(t[2]-1)].dma)!==null&&p!==void 0?p:0)}c.push(h)}),c}},j6={name:"DMI",shortName:"DMI",calcParams:[14,6],figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:function(o,e){var t=e.calcParams,n=0,s=0,r=0,a=0,c=0,d=0,u=0,p=0,h=[];return o.forEach(function(x,w){var k,S,M={},T=(k=o[w-1])!==null&&k!==void 0?k:x,D=T.close,A=x.high,j=x.low,F=A-j,q=Math.abs(A-D),B=Math.abs(D-j),O=A-T.high,z=T.low-j,Y=Math.max(Math.max(F,q),B),G=O>0&&O>z?O:0,oe=z>0&&z>O?z:0;if(n+=Y,s+=G,r+=oe,w>=t[0]-1){w>t[0]-1?(a=a-a/t[0]+Y,c=c-c/t[0]+G,d=d-d/t[0]+oe):(a=n,c=s,d=r);var re=0,se=0;a!==0&&(re=c*100/a,se=d*100/a),M.pdi=re,M.mdi=se;var ie=0;se+re!==0&&(ie=Math.abs(se-re)/(se+re)*100),u+=ie,w>=t[0]*2-2&&(w>t[0]*2-2?p=(p*(t[0]-1)+ie)/t[0]:p=u/t[0],M.adx=p,w>=t[0]*2+t[1]-3&&(M.adxr=(((S=h[w-(t[1]-1)].adx)!==null&&S!==void 0?S:0)+p)/2))}h.push(M)}),h}},$6={name:"EMV",shortName:"EMV",calcParams:[14,9],figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:function(o,e){var t=e.calcParams,n=0,s=[];return o.map(function(r,a){var c,d={};if(a>0){var u=o[a-1],p=r.high,h=r.low,x=(c=r.volume)!==null&&c!==void 0?c:0,w=(p+h)/2-(u.high+u.low)/2;if(x===0||p-h===0)d.emv=0;else{var k=x/1e8/(p-h);d.emv=w/k}n+=d.emv,s.push(d.emv),a>=t[0]&&(d.maEmv=n/t[0],n-=s[a-t[0]])}return d})}},B6={name:"EMA",shortName:"EMA",series:od.Price,calcParams:[6,12,20],precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:function(o){return o.map(function(e,t){return{key:"ema".concat(t+1),title:"EMA".concat(e,": "),type:"line"}})},calc:function(o,e){var t=e.calcParams,n=e.figures,s=0,r=[];return o.map(function(a,c){var d={},u=a.close;return s+=u,t.forEach(function(p,h){c>=p-1&&(c>p-1?r[h]=(2*u+(p-1)*r[h])/(p+1):r[h]=s/p,d[n[h].key]=r[h])}),d})}},O6={name:"MTM",shortName:"MTM",calcParams:[12,6],figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:function(o,e){var t=e.calcParams,n=0,s=[];return o.forEach(function(r,a){var c,d={};if(a>=t[0]){var u=r.close,p=o[a-t[0]].close;d.mtm=u-p,n+=d.mtm,a>=t[0]+t[1]-1&&(d.maMtm=n/t[1],n-=(c=s[a-(t[1]-1)].mtm)!==null&&c!==void 0?c:0)}s.push(d)}),s}},R6={name:"MA",shortName:"MA",series:od.Price,calcParams:[5,10,30,60],precision:2,shouldOhlc:!0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA30: ",type:"line"},{key:"ma4",title:"MA60: ",type:"line"}],regenerateFigures:function(o){return o.map(function(e,t){return{key:"ma".concat(t+1),title:"MA".concat(e,": "),type:"line"}})},calc:function(o,e){var t=e.calcParams,n=e.figures,s=[];return o.map(function(r,a){var c={},d=r.close;return t.forEach(function(u,p){var h;s[p]=((h=s[p])!==null&&h!==void 0?h:0)+d,a>=u-1&&(c[n[p].key]=s[p]/u,s[p]-=o[a-(u-1)].close)}),c})}},N6={name:"MACD",shortName:"MACD",calcParams:[12,26,9],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:function(o){var e,t,n=o.data,s=o.indicator,r=o.defaultStyles,a=n.prev,c=n.current,d=(e=a==null?void 0:a.macd)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER,u=(t=c==null?void 0:c.macd)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER,p="";u>0?p=Hl(s.styles,"bars[0].upColor",r.bars[0].upColor):u<0?p=Hl(s.styles,"bars[0].downColor",r.bars[0].downColor):p=Hl(s.styles,"bars[0].noChangeColor",r.bars[0].noChangeColor);var h=d<u?hr.Stroke:hr.Fill;return{style:h,color:p,borderColor:p}}}],calc:function(o,e){var t=e.calcParams,n=0,s=0,r=0,a=0,c=0,d=0,u=Math.max(t[0],t[1]);return o.map(function(p,h){var x={},w=p.close;return n+=w,h>=t[0]-1&&(h>t[0]-1?s=(2*w+(t[0]-1)*s)/(t[0]+1):s=n/t[0]),h>=t[1]-1&&(h>t[1]-1?r=(2*w+(t[1]-1)*r)/(t[1]+1):r=n/t[1]),h>=u-1&&(a=s-r,x.dif=a,c+=a,h>=u+t[2]-2&&(h>u+t[2]-2?d=(a*2+d*(t[2]-1))/(t[2]+1):d=c/t[2],x.macd=(a-d)*2,x.dea=d)),x})}},z6={name:"OBV",shortName:"OBV",calcParams:[30],figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:function(o,e){var t=e.calcParams,n=0,s=0,r=[];return o.forEach(function(a,c){var d,u,p,h,x=(d=o[c-1])!==null&&d!==void 0?d:a;a.close<x.close?s-=(u=a.volume)!==null&&u!==void 0?u:0:a.close>x.close&&(s+=(p=a.volume)!==null&&p!==void 0?p:0);var w={obv:s};n+=s,c>=t[0]-1&&(w.maObv=n/t[0],n-=(h=r[c-(t[0]-1)].obv)!==null&&h!==void 0?h:0),r.push(w)}),r}},V6={name:"PVT",shortName:"PVT",figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:function(o){var e=0;return o.map(function(t,n){var s,r,a={},c=t.close,d=(s=t.volume)!==null&&s!==void 0?s:1,u=((r=o[n-1])!==null&&r!==void 0?r:t).close,p=0,h=u*d;return h!==0&&(p=(c-u)/h),e+=p,a.pvt=e,a})}},q6={name:"PSY",shortName:"PSY",calcParams:[12,6],figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:function(o,e){var t=e.calcParams,n=0,s=0,r=[],a=[];return o.forEach(function(c,d){var u,p,h={},x=((u=o[d-1])!==null&&u!==void 0?u:c).close,w=c.close-x>0?1:0;r.push(w),n+=w,d>=t[0]-1&&(h.psy=n/t[0]*100,s+=h.psy,d>=t[0]+t[1]-2&&(h.maPsy=s/t[1],s-=(p=a[d-(t[1]-1)].psy)!==null&&p!==void 0?p:0),n-=r[d-(t[0]-1)]),a.push(h)}),a}},W6={name:"ROC",shortName:"ROC",calcParams:[12,6],figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:function(o,e){var t=e.calcParams,n=[],s=0;return o.forEach(function(r,a){var c,d,u={};if(a>=t[0]-1){var p=r.close,h=((c=o[a-t[0]])!==null&&c!==void 0?c:o[a-(t[0]-1)]).close;h!==0?u.roc=(p-h)/h*100:u.roc=0,s+=u.roc,a>=t[0]-1+t[1]-1&&(u.maRoc=s/t[1],s-=(d=n[a-(t[1]-1)].roc)!==null&&d!==void 0?d:0)}n.push(u)}),n}},G6={name:"RSI",shortName:"RSI",calcParams:[6,12,24],figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:function(o){return o.map(function(e,t){var n=t+1;return{key:"rsi".concat(n),title:"RSI".concat(n,": "),type:"line"}})},calc:function(o,e){var t=e.calcParams,n=e.figures,s=[],r=[];return o.map(function(a,c){var d,u={},p=((d=o[c-1])!==null&&d!==void 0?d:a).close,h=a.close-p;return t.forEach(function(x,w){var k,S,M;if(h>0?s[w]=((k=s[w])!==null&&k!==void 0?k:0)+h:r[w]=((S=r[w])!==null&&S!==void 0?S:0)+Math.abs(h),c>=x-1){r[w]!==0?u[n[w].key]=100-100/(1+s[w]/r[w]):u[n[w].key]=0;var T=o[c-(x-1)],D=(M=o[c-x])!==null&&M!==void 0?M:T,A=T.close-D.close;A>0?s[w]-=A:r[w]-=Math.abs(A)}}),u})}},H6={name:"SMA",shortName:"SMA",series:od.Price,calcParams:[12,2],precision:2,figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:function(o,e){var t=e.calcParams,n=0,s=0;return o.map(function(r,a){var c={},d=r.close;return n+=d,a>=t[0]-1&&(a>t[0]-1?s=(d*t[1]+s*(t[0]-t[1]+1))/(t[0]+1):s=n/t[0],c.sma=s),c})}},U6={name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:function(o,e){var t=e.calcParams,n=[];return o.forEach(function(s,r){var a,c,d,u,p={},h=s.close;if(r>=t[0]-1){var x=R2(o.slice(r-(t[0]-1),r+1),"high","low"),w=x[0],k=x[1],S=w-k,M=(h-k)/(S===0?1:S)*100;p.k=((t[1]-1)*((c=(a=n[r-1])===null||a===void 0?void 0:a.k)!==null&&c!==void 0?c:50)+M)/t[1],p.d=((t[2]-1)*((u=(d=n[r-1])===null||d===void 0?void 0:d.d)!==null&&u!==void 0?u:50)+p.k)/t[2],p.j=3*p.k-2*p.d}n.push(p)}),n}},Y6={name:"SAR",shortName:"SAR",series:od.Price,calcParams:[2,2,20],precision:2,shouldOhlc:!0,figures:[{key:"sar",title:"SAR: ",type:"circle",styles:function(o){var e,t,n,s=o.data,r=o.indicator,a=o.defaultStyles,c=s.current,d=(e=c==null?void 0:c.sar)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER,u=(((t=c==null?void 0:c.high)!==null&&t!==void 0?t:0)+((n=c==null?void 0:c.low)!==null&&n!==void 0?n:0))/2,p=d<u?Hl(r.styles,"circles[0].upColor",a.circles[0].upColor):Hl(r.styles,"circles[0].downColor",a.circles[0].downColor);return{color:p}}}],calc:function(o,e){var t=e.calcParams,n=t[0]/100,s=t[1]/100,r=t[2]/100,a=n,c=-100,d=!1,u=0;return o.map(function(p,h){var x=u,w=p.high,k=p.low;if(d){(c===-100||c<w)&&(c=w,a=Math.min(a+s,r)),u=x+a*(c-x);var S=Math.min(o[Math.max(1,h)-1].low,k);u>p.low?(u=c,a=n,c=-100,d=!d):u>S&&(u=S)}else{(c===-100||c>k)&&(c=k,a=Math.min(a+s,r)),u=x+a*(c-x);var M=Math.max(o[Math.max(1,h)-1].high,w);u<p.high?(u=c,a=0,c=-100,d=!d):u<M&&(u=M)}return{high:w,low:k,sar:u}})}},K6={name:"TRIX",shortName:"TRIX",calcParams:[12,9],figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:function(o,e){var t=e.calcParams,n=0,s=0,r=0,a=0,c=0,d=0,u=0,p=[];return o.forEach(function(h,x){var w,k={},S=h.close;if(n+=S,x>=t[0]-1&&(x>t[0]-1?s=(2*S+(t[0]-1)*s)/(t[0]+1):s=n/t[0],c+=s,x>=t[0]*2-2&&(x>t[0]*2-2?r=(2*s+(t[0]-1)*r)/(t[0]+1):r=c/t[0],d+=r,x>=t[0]*3-3))){var M=0,T=0;x>t[0]*3-3?(M=(2*r+(t[0]-1)*a)/(t[0]+1),T=(M-a)/a*100):M=d/t[0],a=M,k.trix=T,u+=T,x>=t[0]*3+t[1]-4&&(k.maTrix=u/t[1],u-=(w=p[x-(t[1]-1)].trix)!==null&&w!==void 0?w:0)}p.push(k)}),p}};function y1(){return{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(o){var e=o.data,t=o.indicator,n=o.defaultStyles,s=e.current,r=Hl(t.styles,"bars[0].noChangeColor",n.bars[0].noChangeColor);return Gt(s)&&(s.close>s.open?r=Hl(t.styles,"bars[0].upColor",n.bars[0].upColor):s.close<s.open&&(r=Hl(t.styles,"bars[0].downColor",n.bars[0].downColor))),{color:r}}}}var Z6={name:"VOL",shortName:"VOL",series:od.Volume,calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},y1()],regenerateFigures:function(o){var e=o.map(function(t,n){return{key:"ma".concat(n+1),title:"MA".concat(t,": "),type:"line"}});return e.push(y1()),e},calc:function(o,e){var t=e.calcParams,n=e.figures,s=[];return o.map(function(r,a){var c,d=(c=r.volume)!==null&&c!==void 0?c:0,u={volume:d,open:r.open,close:r.close};return t.forEach(function(p,h){var x,w;s[h]=((x=s[h])!==null&&x!==void 0?x:0)+d,a>=p-1&&(u[n[h].key]=s[h]/p,s[h]-=(w=o[a-(p-1)].volume)!==null&&w!==void 0?w:0)}),u})}},X6={name:"VR",shortName:"VR",calcParams:[26,6],figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:function(o,e){var t=e.calcParams,n=0,s=0,r=0,a=0,c=[];return o.forEach(function(d,u){var p,h,x,w,k,S={},M=d.close,T=((p=o[u-1])!==null&&p!==void 0?p:d).close,D=(h=d.volume)!==null&&h!==void 0?h:0;if(M>T?n+=D:M<T?s+=D:r+=D,u>=t[0]-1){var A=r/2;s+A===0?S.vr=0:S.vr=(n+A)/(s+A)*100,a+=S.vr,u>=t[0]+t[1]-2&&(S.maVr=a/t[1],a-=(x=c[u-(t[1]-1)].vr)!==null&&x!==void 0?x:0);var j=o[u-(t[0]-1)],F=(w=o[u-t[0]])!==null&&w!==void 0?w:j,q=j.close,B=(k=j.volume)!==null&&k!==void 0?k:0;q>F.close?n-=B:q<F.close?s-=B:r-=B}c.push(S)}),c}},J6={name:"WR",shortName:"WR",calcParams:[6,10,14],figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:function(o){return o.map(function(e,t){return{key:"wr".concat(t+1),title:"WR".concat(t+1,": "),type:"line"}})},calc:function(o,e){var t=e.calcParams,n=e.figures;return o.map(function(s,r){var a={},c=s.close;return t.forEach(function(d,u){var p=d-1;if(r>=p){var h=R2(o.slice(r-p,r+1),"high","low"),x=h[0],w=h[1],k=x-w;a[n[u].key]=k===0?0:(c-x)/k*100}}),a})}},Ch={},Q6=[C6,I6,P6,T6,A6,D6,L6,E6,F6,j6,$6,B6,O6,R6,N6,z6,V6,q6,W6,G6,H6,U6,Y6,K6,Z6,X6,J6];Q6.forEach(function(o){Ch[o.name]=B2.extend(o)});function Lm(o){Ch[o.name]=B2.extend(o)}function N2(o){var e;return(e=Ch[o])!==null&&e!==void 0?e:null}var e5={name:"fibonacciLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(o){var e,t=o.chart,n=o.coordinates,s=o.bounding,r=o.overlay,a=o.yAxis,c=r.points;if(n.length>0){var d=0;if(!((e=a==null?void 0:a.isInCandle())!==null&&e!==void 0)||e)d=t.getPrecision().price;else{var u=t.getIndicators({paneId:r.paneId});u.forEach(function(T){d=Math.max(d,T.precision)})}var p=[],h=[],x=0,w=s.width;if(n.length>1&&ys(c[0].value)&&ys(c[1].value)){var k=[1,.786,.618,.5,.382,.236,0],S=n[0].y-n[1].y,M=c[0].value-c[1].value;k.forEach(function(T){var D,A=n[1].y+S*T,j=t.getDecimalFold().format(t.getThousandsSeparator().format((((D=c[1].value)!==null&&D!==void 0?D:0)+M*T).toFixed(d)));p.push({coordinates:[{x,y:A},{x:w,y:A}]}),h.push({x,y:A,text:"".concat(j," (").concat((T*100).toFixed(1),"%)"),baseline:"bottom"})})}return[{type:"line",attrs:p},{type:"text",isCheckEvent:!1,attrs:h}]}return[]}},t5={name:"horizontalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(o){var e=o.coordinates,t=o.bounding,n={x:0,y:e[0].y};return Gt(e[1])&&e[0].x<e[1].x&&(n.x=t.width),[{type:"line",attrs:{coordinates:[e[0],n]}}]},performEventPressedMove:function(o){var e=o.points,t=o.performPoint;e[0].value=t.value,e[1].value=t.value},performEventMoveForDrawing:function(o){var e=o.currentStep,t=o.points,n=o.performPoint;e===2&&(t[0].value=n.value)}},o5={name:"horizontalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(o){var e=o.coordinates,t=[];return e.length===2&&t.push({coordinates:e}),[{type:"line",attrs:t}]},performEventPressedMove:function(o){var e=o.points,t=o.performPoint;e[0].value=t.value,e[1].value=t.value},performEventMoveForDrawing:function(o){var e=o.currentStep,t=o.points,n=o.performPoint;e===2&&(t[0].value=n.value)}},n5={name:"horizontalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(o){var e=o.coordinates,t=o.bounding;return[{type:"line",attrs:{coordinates:[{x:0,y:e[0].y},{x:t.width,y:e[0].y}]}}]}},Ih=function(){function o(){this._children=[],this._callbacks=new Map}return o.prototype.registerEvent=function(e,t){return this._callbacks.set(e,t),this},o.prototype.onEvent=function(e,t,n){var s=this._callbacks.get(e);return Gt(s)&&this.checkEventOn(t)?s(t,n):!1},o.prototype.checkEventOn=function(e){var t,n;try{for(var s=hd(this._children),r=s.next();!r.done;r=s.next()){var a=r.value;if(a.checkEventOn(e))return!0}}catch(c){t={error:c}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return!1},o.prototype.dispatchEvent=function(e,t,n){var s=this._children.length-1;if(s>-1){for(var r=s;r>-1;r--)if(this._children[r].dispatchEvent(e,t,n))return!0}return this.onEvent(e,t,n)},o.prototype.addChild=function(e){return this._children.push(e),this},o.prototype.clear=function(){this._children=[]},o}(),oc=2,z2=function(o){sr(e,o);function e(t){var n=o.call(this)||this;return n.attrs=t.attrs,n.styles=t.styles,n}return e.prototype.checkEventOn=function(t){return this.checkEventOnImp(t,this.attrs,this.styles)},e.prototype.setAttrs=function(t){return this.attrs=t,this},e.prototype.setStyles=function(t){return this.styles=t,this},e.prototype.draw=function(t){this.drawImp(t,this.attrs,this.styles)},e.extend=function(t){var n=function(s){sr(r,s);function r(){return s!==null&&s.apply(this,arguments)||this}return r.prototype.checkEventOnImp=function(a,c,d){return t.checkEventOn(a,c,d)},r.prototype.drawImp=function(a,c,d){t.draw(a,c,d)},r}(e);return n},e}(Ih);function V2(o,e){var t,n,s=[];s=s.concat(e);try{for(var r=hd(s),a=r.next();!a.done;a=r.next()){var c=a.value,d=c.coordinates;if(d.length>1)for(var u=1;u<d.length;u++){var p=d[u-1],h=d[u];if(p.x===h.x){if(Math.abs(p.y-o.y)+Math.abs(h.y-o.y)-Math.abs(p.y-h.y)<oc+oc&&Math.abs(o.x-p.x)<oc)return!0}else{var x=e_(p,h),w=Ph(x,o),k=Math.abs(w-o.y);if(Math.abs(p.x-o.x)+Math.abs(h.x-o.x)-Math.abs(p.x-h.x)<oc+oc&&k*k/(x[0]*x[0]+1)<oc*oc)return!0}}}}catch(S){t={error:S}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1}function Ph(o,e){return o!==null?e.x*o[0]+o[1]:e.y}function C0(o,e,t){var n=e_(o,e);return Ph(n,t)}function e_(o,e){var t=o.x-e.x;if(t!==0){var n=(o.y-e.y)/t,s=o.y-n*o.x;return[n,s]}return null}function q2(o,e,t){var n=e.length,s=ys(t)?t>0&&t<1?t:0:t?.5:0;if(s>0&&n>2){for(var r=e[0].x,a=e[0].y,c=1;c<n-1;c++){var d=e[c-1],u=e[c],p=e[c+1],h=u.x-d.x,x=u.y-d.y,w=p.x-u.x,k=p.y-u.y,S=p.x-d.x,M=p.y-d.y,T=Math.sqrt(h*h+x*x),D=Math.sqrt(w*w+k*k),A=D/(D+T),j=u.x+S*s*A,F=u.y+M*s*A;j=Math.min(j,Math.max(p.x,u.x)),F=Math.min(F,Math.max(p.y,u.y)),j=Math.max(j,Math.min(p.x,u.x)),F=Math.max(F,Math.min(p.y,u.y)),S=j-u.x,M=F-u.y;var q=u.x-S*T/D,B=u.y-M*T/D;q=Math.min(q,Math.max(d.x,u.x)),B=Math.min(B,Math.max(d.y,u.y)),q=Math.max(q,Math.min(d.x,u.x)),B=Math.max(B,Math.min(d.y,u.y)),S=u.x-q,M=u.y-B,j=u.x+S*D/T,F=u.y+M*D/T,o.bezierCurveTo(r,a,q,B,u.x,u.y),r=j,a=F}var O=e[n-1];o.bezierCurveTo(r,a,O.x,O.y,O.x,O.y)}else for(var c=1;c<n;c++)o.lineTo(e[c].x,e[c].y)}function s5(o,e,t){var n=[];n=n.concat(e);var s=t.style,r=s===void 0?de.Solid:s,a=t.smooth,c=a===void 0?!1:a,d=t.size,u=d===void 0?1:d,p=t.color,h=p===void 0?"currentColor":p,x=t.dashedValue,w=x===void 0?[2,2]:x;o.lineWidth=u,o.strokeStyle=h,r===de.Dashed?o.setLineDash(w):o.setLineDash([]);var k=u%2===1?.5:0;n.forEach(function(S){var M=S.coordinates;M.length>1&&(M.length===2&&(M[0].x===M[1].x||M[0].y===M[1].y)?(o.beginPath(),M[0].x===M[1].x?(o.moveTo(M[0].x+k,M[0].y),o.lineTo(M[1].x+k,M[1].y)):(o.moveTo(M[0].x,M[0].y+k),o.lineTo(M[1].x,M[1].y+k)),o.stroke(),o.closePath()):(o.save(),u%2===1&&o.translate(.5,.5),o.beginPath(),o.moveTo(M[0].x,M[0].y),q2(o,M,c),o.stroke(),o.closePath(),o.restore()))})}var i5={name:"line",checkEventOn:V2,draw:function(o,e,t){s5(o,e,t)}};function W2(o,e,t){var n=t??0,s=[];if(o.length>1)if(o[0].x===o[1].x){var r=0,a=e.height;if(s.push({coordinates:[{x:o[0].x,y:r},{x:o[0].x,y:a}]}),o.length>2){s.push({coordinates:[{x:o[2].x,y:r},{x:o[2].x,y:a}]});for(var c=o[0].x-o[2].x,d=0;d<n;d++){var u=c*(d+1);s.push({coordinates:[{x:o[0].x+u,y:r},{x:o[0].x+u,y:a}]})}}}else{var p=0,h=e.width,x=e_(o[0],o[1]),w=x[0],k=x[1];if(s.push({coordinates:[{x:p,y:p*w+k},{x:h,y:h*w+k}]}),o.length>2){var S=o[2].y-w*o[2].x;s.push({coordinates:[{x:p,y:p*w+S},{x:h,y:h*w+S}]});for(var c=k-S,d=0;d<n;d++){var M=k+c*(d+1);s.push({coordinates:[{x:p,y:p*w+M},{x:h,y:h*w+M}]})}}}return s}var r5={name:"parallelStraightLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(o){var e=o.coordinates,t=o.bounding;return[{type:"line",attrs:W2(e,t)}]}},a5={name:"priceChannelLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(o){var e=o.coordinates,t=o.bounding;return[{type:"line",attrs:W2(e,t,1)}]}},l5={name:"priceLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(o){var e,t=o.chart,n=o.coordinates,s=o.bounding,r=o.overlay,a=o.yAxis,c=0;if(!((e=a==null?void 0:a.isInCandle())!==null&&e!==void 0)||e)c=t.getPrecision().price;else{var d=t.getIndicators({paneId:r.paneId});d.forEach(function(h){c=Math.max(c,h.precision)})}var u=r.points[0].value,p=u===void 0?0:u;return[{type:"line",attrs:{coordinates:[n[0],{x:s.width,y:n[0].y}]}},{type:"text",ignoreEvent:!0,attrs:{x:n[0].x,y:n[0].y,text:t.getDecimalFold().format(t.getThousandsSeparator().format(p.toFixed(c))),baseline:"bottom"}}]}};function c5(o,e){if(o.length>1){var t={x:0,y:0};return o[0].x===o[1].x&&o[0].y!==o[1].y?o[0].y<o[1].y?t={x:o[0].x,y:e.height}:t={x:o[0].x,y:0}:o[0].x>o[1].x?t={x:0,y:C0(o[0],o[1],{x:0,y:o[0].y})}:t={x:e.width,y:C0(o[0],o[1],{x:e.width,y:o[0].y})},{coordinates:[o[0],t]}}return[]}var d5={name:"rayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(o){var e=o.coordinates,t=o.bounding;return[{type:"line",attrs:c5(e,t)}]}},u5={name:"segment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(o){var e=o.coordinates;return e.length===2?[{type:"line",attrs:{coordinates:e}}]:[]}},v5={name:"straightLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(o){var e=o.coordinates,t=o.bounding;return e.length===2?e[0].x===e[1].x?[{type:"line",attrs:{coordinates:[{x:e[0].x,y:0},{x:e[0].x,y:t.height}]}}]:[{type:"line",attrs:{coordinates:[{x:0,y:C0(e[0],e[1],{x:0,y:e[0].y})},{x:t.width,y:C0(e[0],e[1],{x:t.width,y:e[0].y})}]}}]:[]}},p5={name:"verticalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(o){var e=o.coordinates,t=o.bounding;if(e.length===2){var n={x:e[0].x,y:0};return e[0].y<e[1].y&&(n.y=t.height),[{type:"line",attrs:{coordinates:[e[0],n]}}]}return[]},performEventPressedMove:function(o){var e=o.points,t=o.performPoint;e[0].timestamp=t.timestamp,e[0].dataIndex=t.dataIndex,e[1].timestamp=t.timestamp,e[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(o){var e=o.currentStep,t=o.points,n=o.performPoint;e===2&&(t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex)}},f5={name:"verticalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(o){var e=o.coordinates;return e.length===2?[{type:"line",attrs:{coordinates:e}}]:[]},performEventPressedMove:function(o){var e=o.points,t=o.performPoint;e[0].timestamp=t.timestamp,e[0].dataIndex=t.dataIndex,e[1].timestamp=t.timestamp,e[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(o){var e=o.currentStep,t=o.points,n=o.performPoint;e===2&&(t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex)}},g5={name:"verticalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(o){var e=o.coordinates,t=o.bounding;return[{type:"line",attrs:{coordinates:[{x:e[0].x,y:0},{x:e[0].x,y:t.height}]}}]}},_5={name:"simpleAnnotation",totalStep:2,styles:{line:{style:de.Dashed}},createPointFigures:function(o){var e,t=o.overlay,n=o.coordinates,s="";Gt(t.extendData)&&(xc(t.extendData)?s=t.extendData(t):s=(e=t.extendData)!==null&&e!==void 0?e:"");var r=n[0].x,a=n[0].y-6,c=a-50,d=c-5;return[{type:"line",attrs:{coordinates:[{x:r,y:a},{x:r,y:c}]},ignoreEvent:!0},{type:"polygon",attrs:{coordinates:[{x:r,y:c},{x:r-4,y:d},{x:r+4,y:d}]},ignoreEvent:!0},{type:"text",attrs:{x:r,y:d,text:s,align:"center",baseline:"bottom"},ignoreEvent:!0}]}},m5={name:"simpleTag",totalStep:2,styles:{line:{style:de.Dashed}},createPointFigures:function(o){var e=o.bounding,t=o.coordinates;return{type:"line",attrs:{coordinates:[{x:0,y:t[0].y},{x:e.width,y:t[0].y}]},ignoreEvent:!0}},createYAxisFigures:function(o){var e,t,n=o.chart,s=o.overlay,r=o.coordinates,a=o.bounding,c=o.yAxis,d=(e=c==null?void 0:c.isFromZero())!==null&&e!==void 0?e:!1,u="left",p=0;d?(u="left",p=0):(u="right",p=a.width);var h="";return Gt(s.extendData)&&(xc(s.extendData)?h=s.extendData(s):h=(t=s.extendData)!==null&&t!==void 0?t:""),!Gt(h)&&ys(s.points[0].value)&&(h=_c(s.points[0].value,n.getPrecision().price)),{type:"text",attrs:{x:p,y:r[0].y,text:h,align:u,baseline:"middle"}}}},Mh={},h5=[e5,t5,o5,n5,r5,a5,l5,d5,u5,v5,p5,f5,g5,_5,m5];h5.forEach(function(o){Mh[o.name]=O2.extend(o)});function G2(o){Mh[o.name]=O2.extend(o)}function y5(o){var e;return(e=Mh[o])!==null&&e!==void 0?e:null}var b5={grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{priceMark:{high:{color:"#76808F"},low:{color:"#76808F"}},tooltip:{rect:{color:"#FEFEFE",borderColor:"#F2F3F5"},text:{color:"#76808F"}}},indicator:{tooltip:{text:{color:"#76808F"}}},xAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},yAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},separator:{color:"#DDDDDD"},crosshair:{horizontal:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}},vertical:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}}}},x5={grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{priceMark:{high:{color:"#929AA5"},low:{color:"#929AA5"}},tooltip:{rect:{color:"rgba(10, 10, 10, .6)",borderColor:"rgba(10, 10, 10, .6)"},text:{color:"#929AA5"}}},indicator:{tooltip:{text:{color:"#929AA5"}}},xAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},yAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},separator:{color:"#333333"},crosshair:{horizontal:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}},vertical:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}}}},w5={light:b5,dark:x5};function k5(o){var e;return(e=w5[o])!==null&&e!==void 0?e:null}var Eg=30,H2=100,_r={CANDLE:"candle_pane",INDICATOR:"indicator_pane_",X_AXIS:"x_axis_pane"},b1={MIN:1,MAX:50},S5=10,C5=80,I5=.2,dh=10,uh=15*60*1e3,P5=function(){function o(e,t){var n=this;this._styles=f6(),this._customApi={formatDate:function(h,x){return E2(n._dateTimeFormat,h,x)},formatBigNumber:F2},this._locale="en-US",this._thousandsSeparator={sign:",",format:function(h){return j2(h,n._thousandsSeparator.sign)}},this._decimalFold={threshold:3,format:function(h){return $2(h,n._decimalFold.threshold)}},this._precision={price:2,volume:0},this._dataList=[],this._loadMoreDataCallback=null,this._loading=!0,this._loadDataMore={forward:!1,backward:!1},this._zoomEnabled=!0,this._scrollEnabled=!0,this._totalBarSpace=0,this._barSpace=S5,this._offsetRightDistance=C5,this._startLastBarRightSideDiffBarCount=0,this._scrollLimitRole=0,this._minVisibleBarCount={left:2,right:2},this._maxOffsetDistance={left:50,right:50},this._visibleRange=_1(),this._timeWeightTickMap=new Map,this._timeWeightTickList=[],this._minTimeSpan={compare:Number.MAX_SAFE_INTEGER,calc:uh},this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._crosshair={},this._activeTooltipFeatureInfo=null,this._actions=new Map,this._indicators=new Map,this._taskScheduler=new w6,this._overlays=new Map,this._progressOverlayInfo=null,this._pressedOverlayInfo={paneId:"",overlay:null,figureType:0,figureIndex:-1,figure:null},this._hoverOverlayInfo={paneId:"",overlay:null,figureType:0,figureIndex:-1,figure:null},this._clickOverlayInfo={paneId:"",overlay:null,figureType:0,figureIndex:-1,figure:null},this._chart=e,this._calcOptimalBarSpace(),this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace;var s=t??{},r=s.styles,a=s.locale,c=s.timezone,d=s.customApi,u=s.thousandsSeparator,p=s.decimalFold;Gt(r)&&this.setStyles(r),da(a)&&this.setLocale(a),this.setTimezone(c??""),Gt(d)&&this.setCustomApi(d),Gt(u)&&this.setThousandsSeparator(u),Gt(p)&&this.setDecimalFold(p)}return o.prototype.setStyles=function(e){var t,n,s=null;da(e)?s=k5(e):s=e,Dl(this._styles,s),Kd((n=(t=s==null?void 0:s.candle)===null||t===void 0?void 0:t.tooltip)===null||n===void 0?void 0:n.custom)&&(this._styles.candle.tooltip.custom=s.candle.tooltip.custom)},o.prototype.getStyles=function(){return this._styles},o.prototype.setCustomApi=function(e){Dl(this._customApi,e)},o.prototype.getCustomApi=function(){return this._customApi},o.prototype.setLocale=function(e){this._locale=e},o.prototype.getLocale=function(){return this._locale},o.prototype.setTimezone=function(e){if(!Gt(this._dateTimeFormat)||this.getTimezone()!==e){var t={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};e.length>0&&(t.timeZone=e);var n=null;try{n=new Intl.DateTimeFormat("en",t)}catch{}n!==null&&(this._classifyTimeWeightTicks(this._dataList),this._dateTimeFormat=n)}},o.prototype.getTimezone=function(){return this._dateTimeFormat.resolvedOptions().timeZone},o.prototype.getDateTimeFormat=function(){return this._dateTimeFormat},o.prototype.setThousandsSeparator=function(e){Dl(this._thousandsSeparator,e)},o.prototype.getThousandsSeparator=function(){return this._thousandsSeparator},o.prototype.setDecimalFold=function(e){Dl(this._decimalFold,e)},o.prototype.getDecimalFold=function(){return this._decimalFold},o.prototype.getPrecision=function(){return this._precision},o.prototype.setPrecision=function(e){Dl(this._precision,e),this._synchronizeIndicatorSeriesPrecision()},o.prototype.getDataList=function(){return this._dataList},o.prototype.getVisibleRangeDataList=function(){return this._visibleRangeDataList},o.prototype.getVisibleRangeHighLowPrice=function(){return this._visibleRangeHighLowPrice},o.prototype.addData=function(e,t,n){var s=this,r,a,c,d,u=!1,p=!1,h=0;if(Kd(e)){switch(h=e.length,t){case ed.Init:{this.clearData(),this._dataList=e,this._loadDataMore.backward=(r=n==null?void 0:n.backward)!==null&&r!==void 0?r:!1,this._loadDataMore.forward=(a=n==null?void 0:n.forward)!==null&&a!==void 0?a:!1,this._classifyTimeWeightTicks(this._dataList),this.setOffsetRightDistance(this._offsetRightDistance),p=!0;break}case ed.Backward:{this._classifyTimeWeightTicks(e,!0),this._dataList=this._dataList.concat(e),this._loadDataMore.backward=(c=n==null?void 0:n.backward)!==null&&c!==void 0?c:!1,p=h>0;break}case ed.Forward:{this._dataList=e.concat(this._dataList),this._classifyTimeWeightTicks(this._dataList),this._loadDataMore.forward=(d=n==null?void 0:n.forward)!==null&&d!==void 0?d:!1,p=h>0;break}}this._loading=!1,u=!0}else{var x=this._dataList.length,w=e.timestamp,k=Hl(this._dataList[x-1],"timestamp",0);if(w>k){this._classifyTimeWeightTicks([e],!0),this._dataList.push(e);var S=this.getLastBarRightSideDiffBarCount();S<0&&this.setLastBarRightSideDiffBarCount(--S),h=1,u=!0,p=!0}else w===k&&(this._dataList[x-1]=e,u=!0,p=!0)}if(u&&p){this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0});var M=this.getIndicatorsByFilter({});M.forEach(function(T){s._addIndicatorCalcTask(T,t)}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0})}},o.prototype.setLoadMoreDataCallback=function(e){this._loadMoreDataCallback=e},o.prototype._calcOptimalBarSpace=function(){var e=4,t=1-I5*Math.atan(Math.max(e,this._barSpace)-e)/(Math.PI*.5),n=Math.min(Math.floor(this._barSpace*t),Math.floor(this._barSpace));n%2===0&&n+2>=this._barSpace&&--n,this._gapBarSpace=Math.max(1,n)},o.prototype._classifyTimeWeightTicks=function(e,t){var n=0,s=null;t??!1?(n=this._dataList.length,s=this._dataList[n-1].timestamp):(this._timeWeightTickMap.clear(),this._minTimeSpan={compare:Number.MAX_SAFE_INTEGER,calc:uh}),k6(this._timeWeightTickMap,e,this._dateTimeFormat,n,this._minTimeSpan,s),this._minTimeSpan.compare!==Number.MAX_SAFE_INTEGER&&(this._minTimeSpan.calc=this._minTimeSpan.compare),this._timeWeightTickList=h1(this._timeWeightTickMap,this._barSpace,this._styles.xAxis.tickText)},o.prototype.getTimeWeightTickList=function(){return this._timeWeightTickList},o.prototype._adjustVisibleRange=function(){var e=this,t,n,s,r,a=this._dataList.length,c=this._totalBarSpace/this._barSpace,d=0,u=0;this._scrollLimitRole===1?(d=(this._totalBarSpace-this._maxOffsetDistance.right)/this._barSpace,u=(this._totalBarSpace-this._maxOffsetDistance.left)/this._barSpace):(d=this._minVisibleBarCount.left,u=this._minVisibleBarCount.right),d=Math.max(0,d),u=Math.max(0,u);var p=c-Math.min(d,a);this._lastBarRightSideDiffBarCount>p&&(this._lastBarRightSideDiffBarCount=p);var h=-a+Math.min(u,a);this._lastBarRightSideDiffBarCount<h&&(this._lastBarRightSideDiffBarCount=h);var x=Math.round(this._lastBarRightSideDiffBarCount+a+.5),w=x;x>a&&(x=a);var k=Math.round(x-c)-1;k<0&&(k=0);var S=this._lastBarRightSideDiffBarCount>0?Math.round(a+this._lastBarRightSideDiffBarCount-c)-1:k;this._visibleRange={from:k,to:x,realFrom:S,realTo:w},this.executeAction(Rc.OnVisibleRangeChange,this._visibleRange),this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}];for(var M=S;M<w;M++){var T=this._dataList[M],D=this.dataIndexToCoordinate(M);this._visibleRangeDataList.push({dataIndex:M,x:D,data:{prev:(t=this._dataList[M-1])!==null&&t!==void 0?t:T,current:T,next:(n=this._dataList[M-1])!==null&&n!==void 0?n:T}}),Gt(T)&&(this._visibleRangeHighLowPrice[0].price<T.high&&(this._visibleRangeHighLowPrice[0].price=T.high,this._visibleRangeHighLowPrice[0].x=D),this._visibleRangeHighLowPrice[1].price>T.low&&(this._visibleRangeHighLowPrice[1].price=T.low,this._visibleRangeHighLowPrice[1].x=D))}if(!this._loading&&Gt(this._loadMoreDataCallback)){var A=null;k===0?this._loadDataMore.forward&&(this._loading=!0,A={type:ed.Forward,data:(s=this._dataList[0])!==null&&s!==void 0?s:null,callback:function(j,F){e.addData(j,ed.Forward,{forward:F??!1,backward:F??!1})}}):x===a&&this._loadDataMore.backward&&(this._loading=!0,A={type:ed.Backward,data:(r=this._dataList[a-1])!==null&&r!==void 0?r:null,callback:function(j,F){e.addData(j,ed.Backward,{forward:F??!1,backward:F??!1})}}),Gt(A)&&this._loadMoreDataCallback(A)}},o.prototype.getBarSpace=function(){return{bar:this._barSpace,halfBar:this._barSpace/2,gapBar:this._gapBarSpace,halfGapBar:Math.floor(this._gapBarSpace/2)}},o.prototype.setBarSpace=function(e,t){e<b1.MIN||e>b1.MAX||this._barSpace===e||(this._barSpace=e,this._timeWeightTickList=h1(this._timeWeightTickMap,this._barSpace,this._styles.xAxis.tickText),this._calcOptimalBarSpace(),t==null||t(),this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0}))},o.prototype.setTotalBarSpace=function(e){this._totalBarSpace!==e&&(this._totalBarSpace=e,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}))},o.prototype.setOffsetRightDistance=function(e,t){return this._offsetRightDistance=this._scrollLimitRole===1?Math.min(this._maxOffsetDistance.right,e):e,this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace,(t??!1)&&(this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0})),this},o.prototype.getInitialOffsetRightDistance=function(){return this._offsetRightDistance},o.prototype.getOffsetRightDistance=function(){return Math.max(0,this._lastBarRightSideDiffBarCount*this._barSpace)},o.prototype.getLastBarRightSideDiffBarCount=function(){return this._lastBarRightSideDiffBarCount},o.prototype.setLastBarRightSideDiffBarCount=function(e){this._lastBarRightSideDiffBarCount=e},o.prototype.setMaxOffsetLeftDistance=function(e){this._scrollLimitRole=1,this._maxOffsetDistance.left=e},o.prototype.setMaxOffsetRightDistance=function(e){this._scrollLimitRole=1,this._maxOffsetDistance.right=e},o.prototype.setLeftMinVisibleBarCount=function(e){this._scrollLimitRole=0,this._minVisibleBarCount.left=e},o.prototype.setRightMinVisibleBarCount=function(e){this._scrollLimitRole=0,this._minVisibleBarCount.right=e},o.prototype.getVisibleRange=function(){return this._visibleRange},o.prototype.startScroll=function(){this._startLastBarRightSideDiffBarCount=this._lastBarRightSideDiffBarCount},o.prototype.scroll=function(e){if(this._scrollEnabled){var t=e/this._barSpace,n=this._lastBarRightSideDiffBarCount*this._barSpace;this._lastBarRightSideDiffBarCount=this._startLastBarRightSideDiffBarCount-t,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0});var s=Math.round(n-this._lastBarRightSideDiffBarCount*this._barSpace);s!==0&&this.executeAction(Rc.OnScroll,{distance:s})}},o.prototype.getDataByDataIndex=function(e){var t;return(t=this._dataList[e])!==null&&t!==void 0?t:null},o.prototype.coordinateToFloatIndex=function(e){var t=this._dataList.length,n=(this._totalBarSpace-e)/this._barSpace,s=t+this._lastBarRightSideDiffBarCount-n;return Math.round(s*1e6)/1e6},o.prototype.dataIndexToTimestamp=function(e){var t=this._dataList.length;if(t===0)return null;var n=this.getDataByDataIndex(e);if(Gt(n))return n.timestamp;var s=t-1;return e>s?this._dataList[s].timestamp+this._minTimeSpan.calc*(e-s):e<0?this._dataList[0].timestamp-this._minTimeSpan.calc*Math.abs(e):null},o.prototype.timestampToDataIndex=function(e){var t=this._dataList.length;if(t===0)return 0;var n=t-1,s=this._dataList[n].timestamp;if(e>s)return n+Math.floor((e-s)/this._minTimeSpan.calc);var r=this._dataList[0].timestamp;return e<r?Math.floor((e-r)/this._minTimeSpan.calc):ch(this._dataList,"timestamp",e)},o.prototype.dataIndexToCoordinate=function(e){var t=this._dataList.length,n=t+this._lastBarRightSideDiffBarCount-e;return Math.floor(this._totalBarSpace-(n-.5)*this._barSpace+.5)},o.prototype.coordinateToDataIndex=function(e){return Math.ceil(this.coordinateToFloatIndex(e))-1},o.prototype.zoom=function(e,t){var n=this,s;if(this._zoomEnabled){var r=t??null;ys(r==null?void 0:r.x)||(r={x:(s=this._crosshair.x)!==null&&s!==void 0?s:this._totalBarSpace/2});var a=r.x,c=this.coordinateToFloatIndex(a),d=this._barSpace,u=this._barSpace+e*(this._barSpace/dh);this.setBarSpace(u,function(){n._lastBarRightSideDiffBarCount+=c-n.coordinateToFloatIndex(a)});var p=this._barSpace/d;p!==1&&this.executeAction(Rc.OnZoom,{scale:p})}},o.prototype.setZoomEnabled=function(e){this._zoomEnabled=e},o.prototype.isZoomEnabled=function(){return this._zoomEnabled},o.prototype.setScrollEnabled=function(e){this._scrollEnabled=e},o.prototype.isScrollEnabled=function(){return this._scrollEnabled},o.prototype.setCrosshair=function(e,t){var n,s=t??{},r=s.notInvalidate,a=s.notExecuteAction,c=s.forceInvalidate,d=e??{},u=0,p=0;ys(d.x)?(u=this.coordinateToDataIndex(d.x),u<0?p=0:u>this._dataList.length-1?p=this._dataList.length-1:p=u):(u=this._dataList.length-1,p=u);var h=this._dataList[p],x=this.dataIndexToCoordinate(u),w={x:this._crosshair.x,y:this._crosshair.y,paneId:this._crosshair.paneId};this._crosshair=Kn(Kn({},d),{realX:x,kLineData:h,realDataIndex:u,dataIndex:p,timestamp:(n=this.dataIndexToTimestamp(u))!==null&&n!==void 0?n:void 0}),(w.x!==d.x||w.y!==d.y||w.paneId!==d.paneId||(c??!1))&&(Gt(h)&&!(a??!1)&&this._chart.crosshairChange(this._crosshair),(r??!1)||this._chart.updatePane(1))},o.prototype.getCrosshair=function(){return this._crosshair},o.prototype.setActiveTooltipFeatureInfo=function(e){this._activeTooltipFeatureInfo=e??null},o.prototype.getActiveTooltipFeatureInfo=function(){return this._activeTooltipFeatureInfo},o.prototype.executeAction=function(e,t){var n;(n=this._actions.get(e))===null||n===void 0||n.execute(t)},o.prototype.subscribeAction=function(e,t){var n;this._actions.has(e)||this._actions.set(e,new m6),(n=this._actions.get(e))===null||n===void 0||n.subscribe(t)},o.prototype.unsubscribeAction=function(e,t){var n=this._actions.get(e);Gt(n)&&(n.unsubscribe(t),n.isEmpty()&&this._actions.delete(e))},o.prototype.hasAction=function(e){var t=this._actions.get(e);return Gt(t)&&!t.isEmpty()},o.prototype._sortIndicators=function(e){var t;da(e)?(t=this._indicators.get(e))===null||t===void 0||t.sort(function(n,s){return n.zLevel-s.zLevel}):this._indicators.forEach(function(n){n.sort(function(s,r){return s.zLevel-r.zLevel})})},o.prototype._addIndicatorCalcTask=function(e,t){var n=this;this._taskScheduler.addTask({id:m1(e.id),handler:function(){var s;(s=e.onDataStateChange)===null||s===void 0||s.call(e,{state:y0.Loading,type:t,indicator:e}),e.calcImp(n._dataList).then(function(r){var a;r&&(n._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0}),(a=e.onDataStateChange)===null||a===void 0||a.call(e,{state:y0.Ready,type:t,indicator:e}))}).catch(function(){var r;(r=e.onDataStateChange)===null||r===void 0||r.call(e,{state:y0.Error,type:t,indicator:e})})}})},o.prototype.addIndicator=function(e,t,n){var s=e.name,r=this.getIndicatorsByFilter(e);if(r.length>0)return!1;var a=this.getIndicatorsByPaneId(t),c=N2(s),d=new c;return this._synchronizeIndicatorSeriesPrecision(d),d.paneId=t,d.override(e),n||(this.removeIndicator({paneId:t}),a=[]),a.push(d),this._indicators.set(t,a),this._sortIndicators(t),this._addIndicatorCalcTask(d,ed.Init),!0},o.prototype.getIndicatorsByPaneId=function(e){var t;return(t=this._indicators.get(e))!==null&&t!==void 0?t:[]},o.prototype.getIndicatorsByFilter=function(e){var t=e.paneId,n=e.name,s=e.id,r=function(c){return Gt(s)?c.id===s:!Gt(n)||c.name===n},a=[];return Gt(t)?a=a.concat(this.getIndicatorsByPaneId(t).filter(r)):this._indicators.forEach(function(c){a=a.concat(c.filter(r))}),a},o.prototype.removeIndicator=function(e){var t=this,n=!1,s=this.getIndicatorsByFilter(e);return s.forEach(function(r){var a=t.getIndicatorsByPaneId(r.paneId),c=a.findIndex(function(d){return d.id===r.id});c>-1&&(t._taskScheduler.removeTask(m1(r.id)),a.splice(c,1),n=!0),a.length===0&&t._indicators.delete(r.paneId)}),n},o.prototype.hasIndicators=function(e){return this._indicators.has(e)},o.prototype._synchronizeIndicatorSeriesPrecision=function(e){var t=this._precision,n=t.price,s=t.volume,r=function(a){switch(a.series){case od.Price:{a.setSeriesPrecision(n);break}case od.Volume:{a.setSeriesPrecision(s);break}}};Gt(e)?r(e):this._indicators.forEach(function(a){a.forEach(function(c){r(c)})})},o.prototype.overrideIndicator=function(e){var t=this,n=!1,s=!1,r=this.getIndicatorsByFilter(e);return r.forEach(function(a){a.override(e);var c=a.shouldUpdateImp(),d=c.calc,u=c.draw,p=c.sort;p&&(s=!0),d?t._addIndicatorCalcTask(a,ed.Update):u&&(n=!0)}),s&&this._sortIndicators(),n?(this._chart.layout({update:!0}),!0):!1},o.prototype.getOverlaysByFilter=function(e){var t,n=e.id,s=e.groupId,r=e.paneId,a=e.name,c=function(p){return Gt(n)?p.id===n:Gt(s)?p.groupId===s&&(!Gt(a)||p.name===a):!Gt(a)||p.name===a},d=[];Gt(r)?d=d.concat(this.getOverlaysByPaneId(r).filter(c)):this._overlays.forEach(function(p){d=d.concat(p.filter(c))});var u=(t=this._progressOverlayInfo)===null||t===void 0?void 0:t.overlay;return Gt(u)&&c(u)&&d.push(u),d},o.prototype.getOverlaysByPaneId=function(e){var t;if(!da(e)){var n=[];return this._overlays.forEach(function(s){n=n.concat(s)}),n}return(t=this._overlays.get(e))!==null&&t!==void 0?t:[]},o.prototype._sortOverlays=function(e){var t;da(e)?(t=this._overlays.get(e))===null||t===void 0||t.sort(function(n,s){return n.zLevel-s.zLevel}):this._overlays.forEach(function(n){n.sort(function(s,r){return s.zLevel-r.zLevel})})},o.prototype.addOverlays=function(e,t){var n=this,s=[],r=e.map(function(a,c){var d,u,p,h,x,w,k,S;if(Gt(a.id)){var M=null;try{for(var T=hd(n._overlays),D=T.next();!D.done;D=T.next()){var A=Zd(D.value,2),j=A[1],F=j.find(function(Y){return Y.id===a.id});if(Gt(F)){M=F;break}}}catch(Y){d={error:Y}}finally{try{D&&!D.done&&(u=T.return)&&u.call(T)}finally{if(d)throw d.error}}if(Gt(M))return a.id}var q=y5(a.name);if(Gt(q)){var B=(p=a.id)!==null&&p!==void 0?p:Lg(h6),F=new q,O=(h=a.paneId)!==null&&h!==void 0?h:_r.CANDLE;a.id=B,(x=a.groupId)!==null&&x!==void 0||(a.groupId=B);var z=n.getOverlaysByPaneId(O).length;return(w=a.zLevel)!==null&&w!==void 0||(a.zLevel=z),F.override(a),s.includes(O)||s.push(O),F.isDrawing()?n._progressOverlayInfo={paneId:O,overlay:F,appointPaneFlag:t[c]}:(n._overlays.has(O)||n._overlays.set(O,[]),(k=n._overlays.get(O))===null||k===void 0||k.push(F)),F.isStart()&&((S=F.onDrawStart)===null||S===void 0||S.call(F,{overlay:F,chart:n._chart})),B}return null});return s.length>0&&(this._sortOverlays(),s.forEach(function(a){n._chart.updatePane(1,a)}),this._chart.updatePane(1,_r.X_AXIS)),r},o.prototype.getProgressOverlayInfo=function(){return this._progressOverlayInfo},o.prototype.progressOverlayComplete=function(){var e;if(this._progressOverlayInfo!==null){var t=this._progressOverlayInfo,n=t.overlay,s=t.paneId;n.isDrawing()||(this._overlays.has(s)||this._overlays.set(s,[]),(e=this._overlays.get(s))===null||e===void 0||e.push(n),this._sortOverlays(s),this._progressOverlayInfo=null)}},o.prototype.updateProgressOverlayInfo=function(e,t){this._progressOverlayInfo!==null&&(D0(t)&&t&&(this._progressOverlayInfo.appointPaneFlag=t),this._progressOverlayInfo.paneId=e,this._progressOverlayInfo.overlay.override({paneId:e}))},o.prototype.overrideOverlay=function(e){var t=this,n=!1,s=[],r=this.getOverlaysByFilter(e);return r.forEach(function(a){a.override(e);var c=a.shouldUpdate(),d=c.sort,u=c.draw;d&&(n=!0),(d||u)&&(s.includes(a.paneId)||s.push(a.paneId))}),n&&this._sortOverlays(),s.length>0?(s.forEach(function(a){t._chart.updatePane(1,a)}),this._chart.updatePane(1,_r.X_AXIS),!0):!1},o.prototype.removeOverlay=function(e){var t=this,n=[],s=this.getOverlaysByFilter(e);return s.forEach(function(r){var a,c=r.paneId,d=t.getOverlaysByPaneId(r.paneId);if((a=r.onRemoved)===null||a===void 0||a.call(r,{overlay:r,chart:t._chart}),n.includes(c)||n.push(c),r.isDrawing())t._progressOverlayInfo=null;else{var u=d.findIndex(function(p){return p.id===r.id});u>-1&&d.splice(u,1)}d.length===0&&t._overlays.delete(c)}),n.length>0?(n.forEach(function(r){t._chart.updatePane(1,r)}),this._chart.updatePane(1,_r.X_AXIS),!0):!1},o.prototype.setPressedOverlayInfo=function(e){this._pressedOverlayInfo=e},o.prototype.getPressedOverlayInfo=function(){return this._pressedOverlayInfo},o.prototype.setHoverOverlayInfo=function(e,t){var n,s=this._hoverOverlayInfo,r=s.overlay,a=s.figureType,c=s.figureIndex,d=s.figure,u=e.overlay;if(((r==null?void 0:r.id)!==(u==null?void 0:u.id)||a!==e.figureType||c!==e.figureIndex)&&(this._hoverOverlayInfo=e,(r==null?void 0:r.id)!==(u==null?void 0:u.id))){var p=!1,h=!1;r!==null&&(r.override({zLevel:r.getPrevZLevel()}),h=!0,xc(r.onMouseLeave)&&gd("onMouseLeave",d)&&(r.onMouseLeave(Kn({chart:this._chart,overlay:r,figure:d??void 0},t)),p=!0)),u!==null&&(u.setPrevZLevel(u.zLevel),u.override({zLevel:Number.MAX_SAFE_INTEGER}),h=!0,xc(u.onMouseEnter)&&gd("onMouseEnter",e.figure)&&(u.onMouseEnter(Kn({chart:this._chart,overlay:u,figure:(n=e.figure)!==null&&n!==void 0?n:void 0},t)),p=!0)),h&&this._sortOverlays(),p||this._chart.updatePane(1)}},o.prototype.getHoverOverlayInfo=function(){return this._hoverOverlayInfo},o.prototype.setClickOverlayInfo=function(e,t){var n,s,r,a,c,d,u=this._clickOverlayInfo,p=u.paneId,h=u.overlay,x=u.figureType,w=u.figure,k=u.figureIndex,S=e.overlay;!((n=S==null?void 0:S.isDrawing())!==null&&n!==void 0&&n)&&gd("onClick",e.figure)&&((s=S==null?void 0:S.onClick)===null||s===void 0||s.call(S,Kn({chart:this._chart,overlay:S,figure:(r=e.figure)!==null&&r!==void 0?r:void 0},t))),((h==null?void 0:h.id)!==(S==null?void 0:S.id)||x!==e.figureType||k!==e.figureIndex)&&(this._clickOverlayInfo=e,(h==null?void 0:h.id)!==(S==null?void 0:S.id)&&(gd("onDeselected",w)&&((a=h==null?void 0:h.onDeselected)===null||a===void 0||a.call(h,Kn({chart:this._chart,overlay:h,figure:w??void 0},t))),gd("onSelected",e.figure)&&((c=S==null?void 0:S.onSelected)===null||c===void 0||c.call(S,Kn({chart:this._chart,overlay:S,figure:(d=e.figure)!==null&&d!==void 0?d:void 0},t))),this._chart.updatePane(1,e.paneId),p!==e.paneId&&this._chart.updatePane(1,p),this._chart.updatePane(1,_r.X_AXIS)))},o.prototype.getClickOverlayInfo=function(){return this._clickOverlayInfo},o.prototype.isOverlayEmpty=function(){return this._overlays.size===0&&this._progressOverlayInfo===null},o.prototype.isOverlayDrawing=function(){var e,t;return(t=(e=this._progressOverlayInfo)===null||e===void 0?void 0:e.overlay.isDrawing())!==null&&t!==void 0?t:!1},o.prototype.clearData=function(){this._loadDataMore.backward=!1,this._loadDataMore.forward=!1,this._loading=!0,this._dataList=[],this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._visibleRange=_1(),this._timeWeightTickMap.clear(),this._timeWeightTickList=[],this._crosshair={},this._activeTooltipFeatureInfo=null},o.prototype.getChart=function(){return this._chart},o}(),Ir={MAIN:"main",X_AXIS:"xAxis",Y_AXIS:"yAxis",SEPARATOR:"separator"},b0=7;function M5(){return A2(this,void 0,void 0,function(){return D2(this,function(o){switch(o.label){case 0:return[4,new Promise(function(e){var t=new ResizeObserver(function(n){e(n.every(function(s){return"devicePixelContentBoxSize"in s})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})];case 1:return[2,o.sent()]}})})}var x1=function(){function o(e,t){var n=this;this._supportedDevicePixelContentBox=!1,this._width=0,this._height=0,this._pixelWidth=0,this._pixelHeight=0,this._nextPixelWidth=0,this._nextPixelHeight=0,this._requestAnimationId=op,this._mediaQueryListener=function(){var s=zu(n._element);n._nextPixelWidth=Math.round(n._element.clientWidth*s),n._nextPixelHeight=Math.round(n._element.clientHeight*s),n._resetPixelRatio()},this._listener=t,this._element=Cu("canvas",e),this._ctx=this._element.getContext("2d"),M5().then(function(s){n._supportedDevicePixelContentBox=s,s?(n._resizeObserver=new ResizeObserver(function(r){var a=r.find(function(d){return d.target===n._element}),c=a==null?void 0:a.devicePixelContentBoxSize[0];Gt(c)&&(n._nextPixelWidth=c.inlineSize,n._nextPixelHeight=c.blockSize,(n._pixelWidth!==n._nextPixelWidth||n._pixelHeight!==n._nextPixelHeight)&&n._resetPixelRatio())}),n._resizeObserver.observe(n._element,{box:"device-pixel-content-box"})):(n._mediaQueryList=window.matchMedia("(resolution: ".concat(zu(n._element),"dppx)")),n._mediaQueryList.addListener(n._mediaQueryListener))}).catch(function(s){return!1})}return o.prototype._resetPixelRatio=function(){var e=this;this._executeListener(function(){var t=e._element.clientWidth,n=e._element.clientHeight;e._width=t,e._height=n,e._pixelWidth=e._nextPixelWidth,e._pixelHeight=e._nextPixelHeight,e._element.width=e._nextPixelWidth,e._element.height=e._nextPixelHeight;var s=e._nextPixelWidth/t,r=e._nextPixelHeight/n;e._ctx.scale(s,r)})},o.prototype._executeListener=function(e){var t=this;this._requestAnimationId===op&&(this._requestAnimationId=Hg(function(){t._ctx.clearRect(0,0,t._width,t._height),e==null||e(),t._listener(),t._requestAnimationId=op}))},o.prototype.update=function(e,t){if(this._width!==e||this._height!==t){if(this._element.style.width="".concat(e,"px"),this._element.style.height="".concat(t,"px"),!this._supportedDevicePixelContentBox){var n=zu(this._element);this._nextPixelWidth=Math.round(e*n),this._nextPixelHeight=Math.round(t*n),this._resetPixelRatio()}}else this._executeListener()},o.prototype.getElement=function(){return this._element},o.prototype.getContext=function(){return this._ctx},o.prototype.destroy=function(){Gt(this._resizeObserver)&&this._resizeObserver.unobserve(this._element),Gt(this._mediaQueryList)&&this._mediaQueryList.removeListener(this._mediaQueryListener)},o}(),U2=function(o){sr(e,o);function e(t,n){var s=o.call(this)||this;return s._bounding=Gg(),s._pane=n,s._rootContainer=t,s._container=s.createContainer(),t.appendChild(s._container),s}return e.prototype.setBounding=function(t){return Dl(this._bounding,t),this},e.prototype.getContainer=function(){return this._container},e.prototype.getBounding=function(){return this._bounding},e.prototype.getPane=function(){return this._pane},e.prototype.update=function(t){this.updateImp(this._container,this._bounding,t??3)},e.prototype.destroy=function(){this._rootContainer.removeChild(this._container)},e}(Ih),Th=function(o){sr(e,o);function e(t,n){var s=o.call(this,t,n)||this;s._mainCanvas=new x1({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){s.updateMain(s._mainCanvas.getContext())}),s._overlayCanvas=new x1({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){s.updateOverlay(s._overlayCanvas.getContext())});var r=s.getContainer();return r.appendChild(s._mainCanvas.getElement()),r.appendChild(s._overlayCanvas.getElement()),s}return e.prototype.createContainer=function(){return Cu("div",{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box",zIndex:"1"})},e.prototype.updateImp=function(t,n,s){var r=n.width,a=n.height,c=n.left;t.style.left="".concat(c,"px");var d=s,u=t.clientWidth,p=t.clientHeight;switch((r!==u||a!==p)&&(t.style.width="".concat(r,"px"),t.style.height="".concat(a,"px"),d=3),d){case 0:{this._mainCanvas.update(r,a);break}case 1:{this._overlayCanvas.update(r,a);break}case 3:case 4:{this._mainCanvas.update(r,a),this._overlayCanvas.update(r,a);break}}},e.prototype.destroy=function(){this._mainCanvas.destroy(),this._overlayCanvas.destroy()},e.prototype.getImage=function(t){var n=this.getBounding(),s=n.width,r=n.height,a=Cu("canvas",{width:"".concat(s,"px"),height:"".concat(r,"px"),boxSizing:"border-box"}),c=a.getContext("2d"),d=zu(a);return a.width=s*d,a.height=r*d,c.scale(d,d),c.drawImage(this._mainCanvas.getElement(),0,0,s,r),t&&c.drawImage(this._overlayCanvas.getElement(),0,0,s,r),a},e}(U2);function Y2(o,e){var t,n,s=[];s=s.concat(e);try{for(var r=hd(s),a=r.next();!a.done;a=r.next()){var c=a.value,d=c.x,u=c.y,p=c.r,h=o.x-d,x=o.y-u;if(!(h*h+x*x>p*p))return!0}}catch(w){t={error:w}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1}function T5(o,e,t){var n=[];n=n.concat(e);var s=t.style,r=s===void 0?hr.Fill:s,a=t.color,c=a===void 0?"currentColor":a,d=t.borderSize,u=d===void 0?1:d,p=t.borderColor,h=p===void 0?"currentColor":p,x=t.borderStyle,w=x===void 0?de.Solid:x,k=t.borderDashedValue,S=k===void 0?[2,2]:k,M=(r===hr.Fill||t.style===hr.StrokeFill)&&(!da(c)||!rp(c));M&&(o.fillStyle=c,n.forEach(function(T){var D=T.x,A=T.y,j=T.r;o.beginPath(),o.arc(D,A,j,0,Math.PI*2),o.closePath(),o.fill()})),(r===hr.Stroke||t.style===hr.StrokeFill)&&u>0&&!rp(h)&&(o.strokeStyle=h,o.lineWidth=u,w===de.Dashed?o.setLineDash(S):o.setLineDash([]),n.forEach(function(T){var D=T.x,A=T.y,j=T.r;(!M||j>u)&&(o.beginPath(),o.arc(D,A,j,0,Math.PI*2),o.closePath(),o.stroke())}))}var A5={name:"circle",checkEventOn:Y2,draw:function(o,e,t){T5(o,e,t)}};function K2(o,e){var t,n,s=[];s=s.concat(e);try{for(var r=hd(s),a=r.next();!a.done;a=r.next()){for(var c=a.value,d=!1,u=c.coordinates,p=0,h=u.length-1;p<u.length;h=p++)u[p].y>o.y!=u[h].y>o.y&&o.x<(u[h].x-u[p].x)*(o.y-u[p].y)/(u[h].y-u[p].y)+u[p].x&&(d=!d);if(d)return!0}}catch(x){t={error:x}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1}function D5(o,e,t){var n=[];n=n.concat(e);var s=t.style,r=s===void 0?hr.Fill:s,a=t.color,c=a===void 0?"currentColor":a,d=t.borderSize,u=d===void 0?1:d,p=t.borderColor,h=p===void 0?"currentColor":p,x=t.borderStyle,w=x===void 0?de.Solid:x,k=t.borderDashedValue,S=k===void 0?[2,2]:k;(r===hr.Fill||t.style===hr.StrokeFill)&&(!da(c)||!rp(c))&&(o.fillStyle=c,n.forEach(function(M){var T=M.coordinates;o.beginPath(),o.moveTo(T[0].x,T[0].y);for(var D=1;D<T.length;D++)o.lineTo(T[D].x,T[D].y);o.closePath(),o.fill()})),(r===hr.Stroke||t.style===hr.StrokeFill)&&u>0&&!rp(h)&&(o.strokeStyle=h,o.lineWidth=u,w===de.Dashed?o.setLineDash(S):o.setLineDash([]),n.forEach(function(M){var T=M.coordinates;o.beginPath(),o.moveTo(T[0].x,T[0].y);for(var D=1;D<T.length;D++)o.lineTo(T[D].x,T[D].y);o.closePath(),o.stroke()}))}var L5={name:"polygon",checkEventOn:K2,draw:function(o,e,t){D5(o,e,t)}};function Ah(o,e){var t,n,s=[];s=s.concat(e);try{for(var r=hd(s),a=r.next();!a.done;a=r.next()){var c=a.value,d=c.x,u=c.width;u<oc*2&&(d-=oc,u=oc*2);var p=c.y,h=c.height;if(h<oc*2&&(p-=oc,h=oc*2),o.x>=d&&o.x<=d+u&&o.y>=p&&o.y<=p+h)return!0}}catch(x){t={error:x}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1}function Z2(o,e,t){var n,s=[];s=s.concat(e);var r=t.style,a=r===void 0?hr.Fill:r,c=t.color,d=c===void 0?"transparent":c,u=t.borderSize,p=u===void 0?1:u,h=t.borderColor,x=h===void 0?"transparent":h,w=t.borderStyle,k=w===void 0?de.Solid:w,S=t.borderRadius,M=S===void 0?0:S,T=t.borderDashedValue,D=T===void 0?[2,2]:T,A=(n=o.roundRect)!==null&&n!==void 0?n:o.rect,j=(a===hr.Fill||t.style===hr.StrokeFill)&&(!da(d)||!rp(d));if(j&&(o.fillStyle=d,s.forEach(function(B){var O=B.x,z=B.y,Y=B.width,G=B.height;o.beginPath(),A.call(o,O,z,Y,G,M),o.closePath(),o.fill()})),(a===hr.Stroke||t.style===hr.StrokeFill)&&p>0&&!rp(x)){o.strokeStyle=x,o.fillStyle=x,o.lineWidth=p,k===de.Dashed?o.setLineDash(D):o.setLineDash([]);var F=p%2===1?.5:0,q=Math.round(F*2);s.forEach(function(B){var O=B.x,z=B.y,Y=B.width,G=B.height;Y>p*2&&G>p*2?(o.beginPath(),A.call(o,O+F,z+F,Y-q,G-q,M),o.closePath(),o.stroke()):j||o.fillRect(O,z,Y,G)})}}var E5={name:"rect",checkEventOn:Ah,draw:function(o,e,t){Z2(o,e,t)}};function X2(o,e){var t=e.size,n=t===void 0?12:t,s=e.paddingLeft,r=s===void 0?0:s,a=e.paddingTop,c=a===void 0?0:a,d=e.paddingRight,u=d===void 0?0:d,p=e.paddingBottom,h=p===void 0?0:p,x=e.weight,w=x===void 0?"normal":x,k=e.family,S=o.x,M=o.y,T=o.text,D=o.align,A=D===void 0?"left":D,j=o.baseline,F=j===void 0?"top":j,q=o.width,B=o.height,O=q??r+ap(T,n,w,k)+u,z=B??c+n+h,Y=0;switch(A){case"left":case"start":{Y=S;break}case"right":case"end":{Y=S-O;break}default:{Y=S-O/2;break}}var G=0;switch(F){case"top":case"hanging":{G=M;break}case"bottom":case"ideographic":case"alphabetic":{G=M-z;break}default:{G=M-z/2;break}}return{x:Y,y:G,width:O,height:z}}function J2(o,e,t){var n,s,r=[];r=r.concat(e);try{for(var a=hd(r),c=a.next();!c.done;c=a.next()){var d=c.value,u=X2(d,t),p=u.x,h=u.y,x=u.width,w=u.height;if(o.x>=p&&o.x<=p+x&&o.y>=h&&o.y<=h+w)return!0}}catch(k){n={error:k}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(n)throw n.error}}return!1}function F5(o,e,t){var n=[];n=n.concat(e);var s=t.color,r=s===void 0?"currentColor":s,a=t.size,c=a===void 0?12:a,d=t.family,u=t.weight,p=t.paddingLeft,h=p===void 0?0:p,x=t.paddingTop,w=x===void 0?0:x,k=t.paddingRight,S=k===void 0?0:k,M=n.map(function(T){return X2(T,t)});Z2(o,M,Kn(Kn({},t),{color:t.backgroundColor})),o.textAlign="left",o.textBaseline="top",o.font=gv(c,u,d),o.fillStyle=r,n.forEach(function(T,D){var A=M[D];o.fillText(T.text,A.x+h,A.y+w,A.width-h-S)})}var j5={name:"text",checkEventOn:J2,draw:function(o,e,t){F5(o,e,t)}};function $5(o,e){var t=o.x-e.x,n=o.y-e.y;return Math.sqrt(t*t+n*n)}function Q2(o,e){var t,n,s=[];s=s.concat(e);try{for(var r=hd(s),a=r.next();!a.done;a=r.next()){var c=a.value;if(Math.abs($5(o,c)-c.r)<oc){var d=c.r,u=c.startAngle,p=c.endAngle,h=d*Math.cos(u)+c.x,x=d*Math.sin(u)+c.y,w=d*Math.cos(p)+c.x,k=d*Math.sin(p)+c.y;if(o.x<=Math.max(h,w)+oc&&o.x>=Math.min(h,w)-oc&&o.y<=Math.max(x,k)+oc&&o.y>=Math.min(x,k)-oc)return!0}}}catch(S){t={error:S}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1}function B5(o,e,t){var n=[];n=n.concat(e);var s=t.style,r=s===void 0?de.Solid:s,a=t.size,c=a===void 0?1:a,d=t.color,u=d===void 0?"currentColor":d,p=t.dashedValue,h=p===void 0?[2,2]:p;o.lineWidth=c,o.strokeStyle=u,r===de.Dashed?o.setLineDash(h):o.setLineDash([]),n.forEach(function(x){var w=x.x,k=x.y,S=x.r,M=x.startAngle,T=x.endAngle;o.beginPath(),o.arc(w,k,S,M,T),o.stroke(),o.closePath()})}var O5={name:"arc",checkEventOn:Q2,draw:function(o,e,t){B5(o,e,t)}};function w1(o,e,t,n,s,r,a){var c=Zd(n,7),d=c[0],u=c[1],p=c[2],h=c[3],x=c[4],w=c[5],k=c[6],S=a?e+w:w+s,M=a?t+k:k+r,T=R5(e,t,d,u,p,h,x,S,M);T.forEach(function(D){o.bezierCurveTo(D[0],D[1],D[2],D[3],D[4],D[5])})}function R5(o,e,t,n,s,r,a,c,d){for(var u=N5(o,e,t,n,s,r,a,c,d),p=u.cx,h=u.cy,x=u.startAngle,w=u.deltaAngle,k=[],S=Math.ceil(Math.abs(w)/(Math.PI/2)),M=0;M<S;M++){var T=x+M*w/S,D=x+(M+1)*w/S,A=z5(p,h,t,n,s,T,D);k.push(A)}return k}function N5(o,e,t,n,s,r,a,c,d){var u=s*Math.PI/180,p=(o-c)/2,h=(e-d)/2,x=Math.cos(u)*p+Math.sin(u)*h,w=-Math.sin(u)*p+Math.cos(u)*h,k=Math.pow(x,2)/Math.pow(t,2)+Math.pow(w,2)/Math.pow(n,2);k>1&&(t*=Math.sqrt(k),n*=Math.sqrt(k));var S=r===a?-1:1,M=Math.pow(t,2)*Math.pow(n,2)-Math.pow(t,2)*Math.pow(w,2)-Math.pow(n,2)*Math.pow(x,2),T=Math.pow(t,2)*Math.pow(w,2)+Math.pow(n,2)*Math.pow(x,2),D=S*Math.sqrt(Math.abs(M/T))*(t*w/n),A=S*Math.sqrt(Math.abs(M/T))*(-n*x/t),j=Math.cos(u)*D-Math.sin(u)*A+(o+c)/2,F=Math.sin(u)*D+Math.cos(u)*A+(e+d)/2,q=Math.atan2((w-A)/n,(x-D)/t),B=Math.atan2((-w-A)/n,(-x-D)/t)-q;return B<0&&a===1?B+=2*Math.PI:B>0&&a===0&&(B-=2*Math.PI),{cx:j,cy:F,startAngle:q,deltaAngle:B}}function z5(o,e,t,n,s,r,a){var c=Math.sin(a-r)*(Math.sqrt(4+3*Math.pow(Math.tan((a-r)/2),2))-1)/3,d=Math.cos(s),u=Math.sin(s),p=o+t*Math.cos(r)*d-n*Math.sin(r)*u,h=e+t*Math.cos(r)*u+n*Math.sin(r)*d,x=o+t*Math.cos(a)*d-n*Math.sin(a)*u,w=e+t*Math.cos(a)*u+n*Math.sin(a)*d,k=p+c*(-t*Math.sin(r)*d-n*Math.cos(r)*u),S=h+c*(-t*Math.sin(r)*u+n*Math.cos(r)*d),M=x-c*(-t*Math.sin(a)*d-n*Math.cos(a)*u),T=w-c*(-t*Math.sin(a)*u+n*Math.cos(a)*d);return[k,S,M,T,x,w]}function V5(o,e,t){var n=[];n=n.concat(e);var s=t.lineWidth,r=s===void 0?1:s,a=t.color,c=a===void 0?"currentColor":a;o.lineWidth=r,o.strokeStyle=c,o.setLineDash([]),n.forEach(function(d){var u=d.x,p=d.y,h=d.path,x=h.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/gi);if(Gt(x)){var w=u,k=p;o.beginPath(),x.forEach(function(S){var M=0,T=0,D=0,A=0,j=S[0],F=S.slice(1).trim().split(/[\s,]+/).map(Number);switch(j){case"M":M=F[0]+w,T=F[1]+k,o.moveTo(M,T),D=M,A=T;break;case"m":M+=F[0],T+=F[1],o.moveTo(M,T),D=M,A=T;break;case"L":M=F[0]+w,T=F[1]+k,o.lineTo(M,T);break;case"l":M+=F[0],T+=F[1],o.lineTo(M,T);break;case"H":M=F[0]+w,o.lineTo(M,T);break;case"h":M+=F[0],o.lineTo(M,T);break;case"V":T=F[0]+k,o.lineTo(M,T);break;case"v":T+=F[0],o.lineTo(M,T);break;case"C":o.bezierCurveTo(F[0]+w,F[1]+k,F[2]+w,F[3]+k,F[4]+w,F[5]+k),M=F[4]+w,T=F[5]+k;break;case"c":o.bezierCurveTo(M+F[0],T+F[1],M+F[2],T+F[3],M+F[4],T+F[5]),M+=F[4],T+=F[5];break;case"S":o.bezierCurveTo(M,T,F[0]+w,F[1]+k,F[2]+w,F[3]+k),M=F[2]+w,T=F[3]+k;break;case"s":o.bezierCurveTo(M,T,M+F[0],T+F[1],M+F[2],T+F[3]),M+=F[2],T+=F[3];break;case"Q":o.quadraticCurveTo(F[0]+w,F[1]+k,F[2]+w,F[3]+k),M=F[2]+w,T=F[3]+k;break;case"q":o.quadraticCurveTo(M+F[0],T+F[1],M+F[2],T+F[3]),M+=F[2],T+=F[3];break;case"T":o.quadraticCurveTo(M,T,F[0]+w,F[1]+k),M=F[0]+w,T=F[1]+k;break;case"t":o.quadraticCurveTo(M,T,M+F[0],T+F[1]),M+=F[0],T+=F[1];break;case"A":w1(o,M,T,F,w,k,!1),M=F[5]+w,T=F[6]+k;break;case"a":w1(o,M,T,F,w,k,!0),M+=F[5],T+=F[6];break;case"Z":case"z":o.closePath(),M=D,T=A;break}}),t.style===rh.Fill?o.fill():o.stroke()}})}var q5={name:"path",checkEventOn:Ah,draw:function(o,e,t){V5(o,e,t)}},Dh={},W5=[A5,i5,L5,E5,j5,O5,q5];W5.forEach(function(o){Dh[o.name]=z2.extend(o)});function G5(o){Dh[o.name]=z2.extend(o)}function H5(o){var e;return(e=Dh[o])!==null&&e!==void 0?e:null}var Td=function(o){sr(e,o);function e(t){var n=o.call(this)||this;return n._widget=t,n}return e.prototype.getWidget=function(){return this._widget},e.prototype.createFigure=function(t,n){var s=H5(t.name);if(s!==null){var r=new s(t);if(Gt(n)){for(var a in n)n.hasOwnProperty(a)&&r.registerEvent(a,n[a]);this.addChild(r)}return r}return null},e.prototype.draw=function(t){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];this.clear(),this.drawImp(t,n)},e}(Ih),U5=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.drawImp=function(t){var n,s,r=this.getWidget(),a=this.getWidget().getPane(),c=a.getChart(),d=r.getBounding(),u=c.getStyles().grid,p=u.show;if(p){t.save(),t.globalCompositeOperation="destination-over";var h=u.horizontal,x=h.show;if(x){var w=a.getAxisComponent(),k=w.getTicks().map(function(D){return{coordinates:[{x:0,y:D.coord},{x:d.width,y:D.coord}]}});(n=this.createFigure({name:"line",attrs:k,styles:h}))===null||n===void 0||n.draw(t)}var S=u.vertical,M=S.show;if(M){var T=c.getXAxisPane().getAxisComponent(),k=T.getTicks().map(function(A){return{coordinates:[{x:A.coord,y:0},{x:A.coord,y:d.height}]}});(s=this.createFigure({name:"line",attrs:k,styles:S}))===null||s===void 0||s.draw(t)}t.restore()}},e}(Td),ey=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.eachChildren=function(t){for(var n=this.getWidget().getPane(),s=n.getChart().getChartStore(),r=s.getVisibleRangeDataList(),a=s.getBarSpace(),c=r.length,d=0;d<c;)t(r[d],a,d),++d},e}(Td),ty=function(o){sr(e,o);function e(){var t=o.apply(this,A0([],Zd(arguments),!1))||this;return t._boundCandleBarClickEvent=function(n){return function(){return t.getWidget().getPane().getChart().getChartStore().executeAction(Rc.OnCandleBarClick,n),!1}},t}return e.prototype.drawImp=function(t){var n=this,s=this.getWidget().getPane(),r=s.getId()===_r.CANDLE,a=s.getChart().getChartStore(),c=this.getCandleBarOptions();if(c!==null){var d=c.type,u=c.styles,p=0,h=0;if(c.type===td.Ohlc){var x=a.getBarSpace().gapBar;p=Math.min(Math.max(Math.round(x*.2),1),8),p>2&&p%2===1&&p--,h=Math.floor(h/2)}var w=s.getAxisComponent();this.eachChildren(function(k,S){var M,T=k.x,D=k.data,A=D.current,j=D.prev;if(Gt(A)){var F=A.open,q=A.high,B=A.low,O=A.close,z=u.compareRule===qu.CurrentOpen?F:(M=j==null?void 0:j.close)!==null&&M!==void 0?M:O,Y=[];O>z?(Y[0]=u.upColor,Y[1]=u.upBorderColor,Y[2]=u.upWickColor):O<z?(Y[0]=u.downColor,Y[1]=u.downBorderColor,Y[2]=u.downWickColor):(Y[0]=u.noChangeColor,Y[1]=u.noChangeBorderColor,Y[2]=u.noChangeWickColor);var G=w.convertToPixel(F),oe=w.convertToPixel(O),re=[G,oe,w.convertToPixel(q),w.convertToPixel(B)];re.sort(function(te,K){return te-K});var se=S.gapBar%2===0?1:0,ie=[];switch(d){case td.CandleSolid:{ie=n._createSolidBar(T,re,S,Y,se);break}case td.CandleStroke:{ie=n._createStrokeBar(T,re,S,Y,se);break}case td.CandleUpStroke:{O>F?ie=n._createStrokeBar(T,re,S,Y,se):ie=n._createSolidBar(T,re,S,Y,se);break}case td.CandleDownStroke:{F>O?ie=n._createStrokeBar(T,re,S,Y,se):ie=n._createSolidBar(T,re,S,Y,se);break}case td.Ohlc:{ie=[{name:"rect",attrs:[{x:T-h,y:re[0],width:p,height:re[3]-re[0]},{x:T-S.halfGapBar,y:G+p>re[3]?re[3]-p:G,width:S.halfGapBar,height:p},{x:T+h,y:oe+p>re[3]?re[3]-p:oe,width:S.halfGapBar-h,height:p}],styles:{color:Y[0]}}];break}}ie.forEach(function(te){var K,J=null;r&&(J={mouseClickEvent:n._boundCandleBarClickEvent(k)}),(K=n.createFigure(te,J??void 0))===null||K===void 0||K.draw(t)})}})}},e.prototype.getCandleBarOptions=function(){var t=this.getWidget().getPane().getChart().getStyles().candle;return{type:t.type,styles:t.bar}},e.prototype._createSolidBar=function(t,n,s,r,a){return[{name:"rect",attrs:{x:t,y:n[0],width:1,height:n[3]-n[0]},styles:{color:r[2]}},{name:"rect",attrs:{x:t-s.halfGapBar,y:n[1],width:s.gapBar+a,height:Math.max(1,n[2]-n[1])},styles:{style:hr.StrokeFill,color:r[0],borderColor:r[1]}}]},e.prototype._createStrokeBar=function(t,n,s,r,a){return[{name:"rect",attrs:[{x:t,y:n[0],width:1,height:n[1]-n[0]},{x:t,y:n[2],width:1,height:n[3]-n[2]}],styles:{color:r[2]}},{name:"rect",attrs:{x:t-s.halfGapBar,y:n[1],width:s.gapBar+a,height:Math.max(1,n[2]-n[1])},styles:{style:hr.Stroke,borderColor:r[1]}}]},e}(ey),Y5=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.getCandleBarOptions=function(){var t,n,s=this.getWidget().getPane(),r=s.getAxisComponent();if(!r.isInCandle()){var a=s.getChart().getChartStore(),c=a.getIndicatorsByPaneId(s.getId());try{for(var d=hd(c),u=d.next();!u.done;u=d.next()){var p=u.value;if(p.shouldOhlc&&p.visible){var h=p.styles,x=a.getStyles().indicator,w=Hl(h,"ohlc.compareRule",x.ohlc.compareRule),k=Hl(h,"ohlc.upColor",x.ohlc.upColor),S=Hl(h,"ohlc.downColor",x.ohlc.downColor),M=Hl(h,"ohlc.noChangeColor",x.ohlc.noChangeColor);return{type:td.Ohlc,styles:{compareRule:w,upColor:k,downColor:S,noChangeColor:M,upBorderColor:k,downBorderColor:S,noChangeBorderColor:M,upWickColor:k,downWickColor:S,noChangeWickColor:M}}}}}catch(T){t={error:T}}finally{try{u&&!u.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}}return null},e.prototype.drawImp=function(t){var n=this;o.prototype.drawImp.call(this,t);var s=this.getWidget(),r=s.getPane(),a=r.getChart(),c=s.getBounding(),d=a.getXAxisPane().getAxisComponent(),u=r.getAxisComponent(),p=a.getChartStore(),h=p.getIndicatorsByPaneId(r.getId()),x=p.getStyles().indicator;t.save(),h.forEach(function(w){if(w.visible){w.zLevel<0?t.globalCompositeOperation="destination-over":t.globalCompositeOperation="source-over";var k=!1;if(w.draw!==null&&(t.save(),k=w.draw({ctx:t,chart:a,indicator:w,bounding:c,xAxis:d,yAxis:u}),t.restore()),!k){var S=w.result,M=[];n.eachChildren(function(T,D){var A,j,F,q=D.halfGapBar,B=T.dataIndex,O=T.x,z=d.convertToPixel(B-1),Y=d.convertToPixel(B+1),G=(A=S[B-1])!==null&&A!==void 0?A:null,oe=(j=S[B])!==null&&j!==void 0?j:null,re=(F=S[B+1])!==null&&F!==void 0?F:null,se={x:z},ie={x:O},te={x:Y};w.figures.forEach(function(K){var J=K.key,U=G==null?void 0:G[J];ys(U)&&(se[J]=u.convertToPixel(U));var ae=oe==null?void 0:oe[J];ys(ae)&&(ie[J]=u.convertToPixel(ae));var me=re==null?void 0:re[J];ys(me)&&(te[J]=u.convertToPixel(me))}),Sh(w,B,x,function(K,J,U){var ae,me,ke;if(Gt(oe==null?void 0:oe[K.key])){var Ae=ie[K.key],Le=(ae=K.attrs)===null||ae===void 0?void 0:ae.call(K,{data:{prev:G,current:oe,next:re},coordinate:{prev:se,current:ie,next:te},bounding:c,barSpace:D,xAxis:d,yAxis:u});if(!Gt(Le))switch(K.type){case"circle":{Le={x:O,y:Ae,r:Math.max(1,q)};break}case"rect":case"bar":{var He=(me=K.baseValue)!==null&&me!==void 0?me:u.getRange().from,it=u.convertToPixel(He),Ne=Math.abs(it-Ae);He!==(oe==null?void 0:oe[K.key])&&(Ne=Math.max(1,Ne));var we=0;Ae>it?we=it:we=Ae,Le={x:O-q,y:we,width:Math.max(1,q*2),height:Ne};break}case"line":{Gt(M[U])||(M[U]=[]),ys(ie[K.key])&&ys(te[K.key])&&M[U].push({coordinates:[{x:ie.x,y:ie[K.key]},{x:te.x,y:te[K.key]}],styles:J});break}}var je=K.type;Gt(Le)&&je!=="line"&&((ke=n.createFigure({name:je==="bar"?"rect":je,attrs:Le,styles:J}))===null||ke===void 0||ke.draw(t))}})}),M.forEach(function(T){var D,A,j,F;if(T.length>1){for(var q=[{coordinates:[T[0].coordinates[0],T[0].coordinates[1]],styles:T[0].styles}],B=1;B<T.length;B++){var O=q[q.length-1],z=T[B],Y=O.coordinates[O.coordinates.length-1];Y.x===z.coordinates[0].x&&Y.y===z.coordinates[0].y&&O.styles.style===z.styles.style&&O.styles.color===z.styles.color&&O.styles.size===z.styles.size&&O.styles.smooth===z.styles.smooth&&((D=O.styles.dashedValue)===null||D===void 0?void 0:D[0])===((A=z.styles.dashedValue)===null||A===void 0?void 0:A[0])&&((j=O.styles.dashedValue)===null||j===void 0?void 0:j[1])===((F=z.styles.dashedValue)===null||F===void 0?void 0:F[1])?O.coordinates.push(z.coordinates[1]):q.push({coordinates:[z.coordinates[0],z.coordinates[1]],styles:z.styles})}q.forEach(function(G){var oe,re=G.coordinates,se=G.styles;(oe=n.createFigure({name:"line",attrs:{coordinates:re},styles:se}))===null||oe===void 0||oe.draw(t)})}})}}}),t.restore()},e}(ty),K5=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.drawImp=function(t){var n=this.getWidget(),s=n.getPane(),r=n.getBounding(),a=n.getPane().getChart().getChartStore(),c=a.getCrosshair(),d=a.getStyles().crosshair;if(da(c.paneId)&&d.show){if(c.paneId===s.getId()){var u=c.y;this._drawLine(t,[{x:0,y:u},{x:r.width,y:u}],d.horizontal)}var p=c.realX;this._drawLine(t,[{x:p,y:0},{x:p,y:r.height}],d.vertical)}},e.prototype._drawLine=function(t,n,s){var r;if(s.show){var a=s.line;a.show&&((r=this.createFigure({name:"line",attrs:{coordinates:n},styles:a}))===null||r===void 0||r.draw(t))}},e}(Td),oy=function(o){sr(e,o);function e(){var t=o.apply(this,A0([],Zd(arguments),!1))||this;return t._boundFeatureClickEvent=function(n){return function(){var s,r=t.getWidget().getPane(),a=n.indicator,c=S0(n,["indicator"]);return Gt(a)?(s=a.onClick)===null||s===void 0||s.call(a,Kn({target:ah.Feature,chart:r.getChart(),indicator:a},c)):r.getChart().getChartStore().executeAction(Rc.OnCandleTooltipFeatureClick,n),!0}},t._boundFeatureMouseMoveEvent=function(n){return function(){return t.getWidget().getPane().getChart().getChartStore().setActiveTooltipFeatureInfo(n),!0}},t}return e.prototype.drawImp=function(t){var n=this.getWidget(),s=n.getPane(),r=s.getChart().getChartStore(),a=r.getCrosshair();if(Gt(a.kLineData)){var c=n.getBounding(),d=r.getStyles().indicator.tooltip,u=d.offsetLeft,p=d.offsetTop,h=d.offsetRight;this.drawIndicatorTooltip(t,u,p,c.width-h)}},e.prototype.drawIndicatorTooltip=function(t,n,s,r){var a=this,c=this.getWidget().getPane(),d=c.getChart().getChartStore(),u=d.getStyles().indicator,p=u.tooltip;if(this.isDrawTooltip(d.getCrosshair(),p)){var h=d.getIndicatorsByPaneId(c.getId()),x=p.text;h.forEach(function(w){var k=0,S={x:n,y:s},M=a.getIndicatorTooltipData(w),T=M.name,D=M.calcParamsText,A=M.legends,j=M.features,F=T.length>0,q=A.length>0;if(F||q){var B=Zd(a.classifyTooltipFeatures(j),3),O=B[0],z=B[1],Y=B[2];if(k=a.drawStandardTooltipFeatures(t,O,S,w,n,k,r),F){var G=T;D.length>0&&(G="".concat(G).concat(D)),k=a.drawStandardTooltipLegends(t,[{title:{text:"",color:x.color},value:{text:G,color:x.color}}],S,n,k,r,x)}k=a.drawStandardTooltipFeatures(t,z,S,w,n,k,r),q&&(k=a.drawStandardTooltipLegends(t,A,S,n,k,r,p.text)),k=a.drawStandardTooltipFeatures(t,Y,S,w,n,k,r),s=S.y+k}})}return s},e.prototype.drawStandardTooltipFeatures=function(t,n,s,r,a,c,d){var u=this;if(n.length>0){var p=0,h=0;n.forEach(function(S){var M=S.marginLeft,T=M===void 0?0:M,D=S.marginTop,A=D===void 0?0:D,j=S.marginRight,F=j===void 0?0:j,q=S.marginBottom,B=q===void 0?0:q,O=S.paddingLeft,z=O===void 0?0:O,Y=S.paddingTop,G=Y===void 0?0:Y,oe=S.paddingRight,re=oe===void 0?0:oe,se=S.paddingBottom,ie=se===void 0?0:se,te=S.size,K=te===void 0?0:te,J=S.type,U=S.iconFont,ae=0;J===qg.IconFont?(t.font=gv(K,"normal",U.family),ae=t.measureText(U.content).width):ae=K,p+=T+z+ae+re+F,h=Math.max(h,A+G+K+ie+B)}),s.x+p>d?(s.x=a,s.y+=c,c=h):c=Math.max(c,h);var x=this.getWidget().getPane(),w=x.getId(),k=x.getChart().getChartStore().getActiveTooltipFeatureInfo();n.forEach(function(S){var M,T,D,A,j=S.marginLeft,F=j===void 0?0:j,q=S.marginTop,B=q===void 0?0:q,O=S.marginRight,z=O===void 0?0:O,Y=S.paddingLeft,G=Y===void 0?0:Y,oe=S.paddingTop,re=oe===void 0?0:oe,se=S.paddingRight,ie=se===void 0?0:se,te=S.paddingBottom,K=te===void 0?0:te,J=S.backgroundColor,U=S.activeBackgroundColor,ae=S.borderRadius,me=S.size,ke=me===void 0?0:me,Ae=S.color,Le=S.activeColor,He=S.type,it=S.iconFont,Ne=S.path,we=(k==null?void 0:k.paneId)===w&&((M=k.indicator)===null||M===void 0?void 0:M.id)===(r==null?void 0:r.id)&&k.feature.id===S.id,je=0,Te={mouseClickEvent:u._boundFeatureClickEvent({paneId:w,indicator:r,feature:S}),mouseMoveEvent:u._boundFeatureMouseMoveEvent({paneId:w,indicator:r,feature:S})},Se=we?Le??Ae:Ae,Ue=we?U??J:J;He===qg.IconFont?((T=u.createFigure({name:"text",attrs:{text:it.content,x:s.x+F,y:s.y+B},styles:{paddingLeft:G,paddingTop:re,paddingRight:ie,paddingBottom:K,borderRadius:ae,size:ke,family:it.family,color:Se,backgroundColor:Ue}},Te))===null||T===void 0||T.draw(t),je=t.measureText(it.content).width):((D=u.createFigure({name:"rect",attrs:{x:s.x+F,y:s.y+B,width:ke,height:ke},styles:{paddingLeft:G,paddingTop:re,paddingRight:ie,paddingBottom:K,color:Ue}},Te))===null||D===void 0||D.draw(t),(A=u.createFigure({name:"path",attrs:{path:Ne.path,x:s.x+F+G,y:s.y+B+re,width:ke,height:ke},styles:{style:Ne.style,lineWidth:Ne.lineWidth,color:Se}}))===null||A===void 0||A.draw(t),je=ke),s.x+=F+G+je+ie+z})}return c},e.prototype.drawStandardTooltipLegends=function(t,n,s,r,a,c,d){var u=this;if(n.length>0){var p=d.marginLeft,h=d.marginTop,x=d.marginRight,w=d.marginBottom,k=d.size,S=d.family,M=d.weight;t.font=gv(k,M,S),n.forEach(function(T){var D,A,j=T.title,F=T.value,q=t.measureText(j.text).width,B=t.measureText(F.text).width,O=q+B,z=h+k+w;s.x+p+O+x>c?(s.x=r,s.y+=a,a=z):a=Math.max(a,z),j.text.length>0&&((D=u.createFigure({name:"text",attrs:{x:s.x+p,y:s.y+h,text:j.text},styles:{color:j.color,size:k,family:S,weight:M}}))===null||D===void 0||D.draw(t)),(A=u.createFigure({name:"text",attrs:{x:s.x+p+q,y:s.y+h,text:F.text},styles:{color:F.color,size:k,family:S,weight:M}}))===null||A===void 0||A.draw(t),s.x+=p+O+x})}return a},e.prototype.isDrawTooltip=function(t,n){var s=n.showRule;return s===Vu.Always||s===Vu.FollowCross&&da(t.paneId)},e.prototype.getIndicatorTooltipData=function(t){var n,s,r=this.getWidget().getPane().getChart().getChartStore(),a=r.getStyles().indicator,c=a.tooltip,d=c.showName?t.shortName:"",u="";if(c.showParams){var p=t.calcParams;p.length>0&&(u="(".concat(p.join(","),")"))}var h={name:d,calcParamsText:u,legends:[],features:c.features},x=r.getCrosshair().dataIndex,w=t.result,k=r.getCustomApi(),S=r.getDecimalFold(),M=r.getThousandsSeparator(),T=[];if(t.visible){var D=(s=(n=w[x])!==null&&n!==void 0?n:w[x-1])!==null&&s!==void 0?s:{};Sh(t,x,a,function(re,se){if(da(re.title)){var ie=se.color,te=D[re.key];ys(te)&&(te=_c(te,t.precision),t.shouldFormatBigNumber&&(te=k.formatBigNumber(te)),te=S.format(M.format(te))),T.push({title:{text:re.title,color:ie},value:{text:te??c.defaultValue,color:ie}})}}),h.legends=T}if(xc(t.createTooltipDataSource)){var A=this.getWidget(),j=A.getPane(),F=j.getChart(),q=t.createTooltipDataSource({chart:F,indicator:t,crosshair:r.getCrosshair(),bounding:A.getBounding(),xAxis:j.getChart().getXAxisPane().getAxisComponent(),yAxis:j.getAxisComponent()}),B=q.name,O=q.calcParamsText,z=q.legends,Y=q.features;if(da(B)&&c.showName&&(h.name=B),da(O)&&c.showParams&&(h.calcParamsText=O),Gt(Y)&&(h.features=Y),Gt(z)&&t.visible){var G=[],oe=a.tooltip.text.color;z.forEach(function(re){var se={text:"",color:oe};Md(re.title)?se=re.title:se.text=re.title;var ie={text:"",color:oe};Md(re.value)?ie=re.value:ie.text=re.value,ys(Number(ie.text))&&(ie.text=S.format(M.format(ie.text))),G.push({title:se,value:ie})}),h.legends=G}}return h},e.prototype.classifyTooltipFeatures=function(t){var n=[],s=[],r=[];return t.forEach(function(a){switch(a.position){case tp.Left:{n.push(a);break}case tp.Middle:{s.push(a);break}case tp.Right:{r.push(a);break}}}),[n,s,r]},e}(Td),ny=function(o){sr(e,o);function e(t){var n=o.call(this,t)||this;return n._initEvent(),n}return e.prototype._initEvent=function(){var t=this,n=this.getWidget().getPane(),s=n.getId(),r=n.getChart(),a=r.getChartStore();this.registerEvent("mouseMoveEvent",function(c){var d,u=a.getProgressOverlayInfo();if(u!==null){var p=u.overlay,h=u.paneId;p.isStart()&&(a.updateProgressOverlayInfo(s),h=s);var x=p.points.length-1;return p.isDrawing()&&h===s&&(p.eventMoveForDrawing(t._coordinateToPoint(p,c)),(d=p.onDrawing)===null||d===void 0||d.call(p,Kn({chart:r,overlay:p},c))),t._figureMouseMoveEvent(p,1,x,{key:"".concat(Zv,"point_").concat(x),type:"circle",attrs:{}})(c)}return a.setHoverOverlayInfo({paneId:s,overlay:null,figureType:0,figureIndex:-1,figure:null},c),!1}).registerEvent("mouseClickEvent",function(c){var d,u,p=a.getProgressOverlayInfo();if(p!==null){var h=p.overlay,x=p.paneId;h.isStart()&&(a.updateProgressOverlayInfo(s,!0),x=s);var w=h.points.length-1;return h.isDrawing()&&x===s&&(h.eventMoveForDrawing(t._coordinateToPoint(h,c)),(d=h.onDrawing)===null||d===void 0||d.call(h,Kn({chart:r,overlay:h},c)),h.nextStep(),h.isDrawing()||(a.progressOverlayComplete(),(u=h.onDrawEnd)===null||u===void 0||u.call(h,Kn({chart:r,overlay:h},c)))),t._figureMouseClickEvent(h,1,w,{key:"".concat(Zv,"point_").concat(w),type:"circle",attrs:{}})(c)}return a.setClickOverlayInfo({paneId:s,overlay:null,figureType:0,figureIndex:-1,figure:null},c),!1}).registerEvent("mouseDoubleClickEvent",function(c){var d,u=a.getProgressOverlayInfo();if(u!==null){var p=u.overlay,h=u.paneId;p.isDrawing()&&h===s&&(p.forceComplete(),p.isDrawing()||(a.progressOverlayComplete(),(d=p.onDrawEnd)===null||d===void 0||d.call(p,Kn({chart:r,overlay:p},c))));var x=p.points.length-1;return t._figureMouseClickEvent(p,1,x,{key:"".concat(Zv,"point_").concat(x),type:"circle",attrs:{}})(c)}return!1}).registerEvent("mouseRightClickEvent",function(c){var d=a.getProgressOverlayInfo();if(d!==null){var u=d.overlay;if(u.isDrawing()){var p=u.points.length-1;return t._figureMouseRightClickEvent(u,1,p,{key:"".concat(Zv,"point_").concat(p),type:"circle",attrs:{}})(c)}}return!1}).registerEvent("mouseUpEvent",function(c){var d,u=a.getPressedOverlayInfo(),p=u.overlay,h=u.figure;return p!==null&&gd("onPressedMoveEnd",h)&&((d=p.onPressedMoveEnd)===null||d===void 0||d.call(p,Kn({chart:r,overlay:p,figure:h??void 0},c))),a.setPressedOverlayInfo({paneId:s,overlay:null,figureType:0,figureIndex:-1,figure:null}),!1}).registerEvent("pressedMouseMoveEvent",function(c){var d,u,p=a.getPressedOverlayInfo(),h=p.overlay,x=p.figureType,w=p.figureIndex,k=p.figure;if(h!==null&&gd("onPressedMoving",k)){if(!h.lock&&!((u=(d=h.onPressedMoving)===null||d===void 0?void 0:d.call(h,Kn({chart:r,overlay:h,figure:k??void 0},c)))!==null&&u!==void 0&&u)){var S=t._coordinateToPoint(h,c);x===1?h.eventPressedPointMove(S,w):h.eventPressedOtherMove(S,t.getWidget().getPane().getChart().getChartStore())}return!0}return!1})},e.prototype._createFigureEvents=function(t,n,s,r){return t.isDrawing()?null:{mouseMoveEvent:this._figureMouseMoveEvent(t,n,s,r),mouseDownEvent:this._figureMouseDownEvent(t,n,s,r),mouseClickEvent:this._figureMouseClickEvent(t,n,s,r),mouseRightClickEvent:this._figureMouseRightClickEvent(t,n,s,r),mouseDoubleClickEvent:this._figureMouseDoubleClickEvent(t,n,s,r)}},e.prototype._figureMouseMoveEvent=function(t,n,s,r){var a=this;return function(c){var d=a.getWidget().getPane();return d.getChart().getChartStore().setHoverOverlayInfo({paneId:d.getId(),overlay:t,figureType:n,figure:r,figureIndex:s},c),gd("onMouseEnter",r)&&!t.isDrawing()}},e.prototype._figureMouseDownEvent=function(t,n,s,r){var a=this;return function(c){var d,u=a.getWidget().getPane(),p=u.getId();return t.startPressedMove(a._coordinateToPoint(t,c)),gd("onPressedMoveStart",r)?((d=t.onPressedMoveStart)===null||d===void 0||d.call(t,Kn({chart:u.getChart(),overlay:t,figure:r},c)),u.getChart().getChartStore().setPressedOverlayInfo({paneId:p,overlay:t,figureType:n,figureIndex:s,figure:r}),!t.isDrawing()):!1}},e.prototype._figureMouseClickEvent=function(t,n,s,r){var a=this;return function(c){var d=a.getWidget().getPane(),u=d.getId();return d.getChart().getChartStore().setClickOverlayInfo({paneId:u,overlay:t,figureType:n,figureIndex:s,figure:r},c),gd("onClick",r)&&!t.isDrawing()}},e.prototype._figureMouseDoubleClickEvent=function(t,n,s,r){var a=this;return function(c){var d;return gd("onDoubleClick",r)?((d=t.onDoubleClick)===null||d===void 0||d.call(t,Kn(Kn({},c),{chart:a.getWidget().getPane().getChart(),figure:r,overlay:t})),!t.isDrawing()):!1}},e.prototype._figureMouseRightClickEvent=function(t,n,s,r){var a=this;return function(c){var d,u;return gd("onRightClick",r)?((u=(d=t.onRightClick)===null||d===void 0?void 0:d.call(t,Kn({chart:a.getWidget().getPane().getChart(),overlay:t,figure:r},c)))!==null&&u!==void 0&&u||a.getWidget().getPane().getChart().getChartStore().removeOverlay(t),!t.isDrawing()):!1}},e.prototype._coordinateToPoint=function(t,n){var s,r={},a=this.getWidget().getPane(),c=a.getChart(),d=a.getId(),u=c.getChartStore();if(this.coordinateToPointTimestampDataIndexFlag()){var p=c.getXAxisPane().getAxisComponent(),h=p.convertFromPixel(n.x),x=(s=u.dataIndexToTimestamp(h))!==null&&s!==void 0?s:void 0;r.timestamp=x,r.dataIndex=h}if(this.coordinateToPointValueFlag()){var w=a.getAxisComponent(),k=w.convertFromPixel(n.y);if(t.mode!==fv.Normal&&d===_r.CANDLE&&ys(r.dataIndex)){var S=u.getDataByDataIndex(r.dataIndex);if(S!==null){var M=t.modeSensitivity;if(k>S.high)if(t.mode===fv.WeakMagnet){var T=w.convertToPixel(S.high),D=w.convertFromPixel(T-M);k<D&&(k=S.high)}else k=S.high;else if(k<S.low)if(t.mode===fv.WeakMagnet){var A=w.convertToPixel(S.low),D=w.convertFromPixel(A-M);k>D&&(k=S.low)}else k=S.low;else{var j=Math.max(S.open,S.close),F=Math.min(S.open,S.close);k>j?k-j<S.high-k?k=j:k=S.high:k<F?k-S.low<F-k?k=S.low:k=F:j-k<k-F?k=j:k=F}}}r.value=k}return r},e.prototype.coordinateToPointValueFlag=function(){return!0},e.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},e.prototype.dispatchEvent=function(t,n,s){return this.getWidget().getPane().getChart().getChartStore().isOverlayDrawing()?this.onEvent(t,n,s):o.prototype.dispatchEvent.call(this,t,n,s)},e.prototype.checkEventOn=function(){return!0},e.prototype.drawImp=function(t){var n=this,s=this.getCompleteOverlays();s.forEach(function(a){a.visible&&n._drawOverlay(t,a)});var r=this.getProgressOverlay();Gt(r)&&r.visible&&this._drawOverlay(t,r)},e.prototype._drawOverlay=function(t,n){var s=n.points,r=this.getWidget().getPane(),a=r.getChart(),c=a.getChartStore(),d=r.getAxisComponent(),u=a.getXAxisPane().getAxisComponent(),p=s.map(function(x){var w,k=null;ys(x.timestamp)&&(k=c.timestampToDataIndex(x.timestamp));var S={x:0,y:0};return ys(k)&&(S.x=u.convertToPixel(k)),ys(x.value)&&(S.y=(w=d==null?void 0:d.convertToPixel(x.value))!==null&&w!==void 0?w:0),S});if(p.length>0){var h=[].concat(this.getFigures(n,p));this.drawFigures(t,n,h)}this.drawDefaultFigures(t,n,p)},e.prototype.drawFigures=function(t,n,s){var r=this,a=this.getWidget().getPane().getChart().getStyles().overlay;s.forEach(function(c,d){var u=c.type,p=c.styles,h=c.attrs,x=[].concat(h);x.forEach(function(w){var k,S,M=r._createFigureEvents(n,2,d,c),T=Kn(Kn(Kn({},a[u]),(k=n.styles)===null||k===void 0?void 0:k[u]),p);(S=r.createFigure({name:u,attrs:w,styles:T},M??void 0))===null||S===void 0||S.draw(t)})})},e.prototype.getCompleteOverlays=function(){var t=this.getWidget().getPane();return t.getChart().getChartStore().getOverlaysByPaneId(t.getId())},e.prototype.getProgressOverlay=function(){var t=this.getWidget().getPane(),n=t.getChart().getChartStore().getProgressOverlayInfo();return Gt(n)&&n.paneId===t.getId()?n.overlay:null},e.prototype.getFigures=function(t,n){var s,r,a=this.getWidget(),c=a.getPane(),d=c.getChart(),u=c.getAxisComponent(),p=d.getXAxisPane().getAxisComponent(),h=a.getBounding();return(r=(s=t.createPointFigures)===null||s===void 0?void 0:s.call(t,{chart:d,overlay:t,coordinates:n,bounding:h,xAxis:p,yAxis:u}))!==null&&r!==void 0?r:[]},e.prototype.drawDefaultFigures=function(t,n,s){var r=this,a,c;if(n.needDefaultPointFigure){var d=this.getWidget().getPane().getChart().getChartStore(),u=d.getHoverOverlayInfo(),p=d.getClickOverlayInfo();if(((a=u.overlay)===null||a===void 0?void 0:a.id)===n.id&&u.figureType!==0||((c=p.overlay)===null||c===void 0?void 0:c.id)===n.id&&p.figureType!==0){var h=d.getStyles().overlay,x=n.styles,w=Kn(Kn({},h.point),x==null?void 0:x.point);s.forEach(function(k,S){var M,T,D,A,j,F=k.x,q=k.y,B=w.radius,O=w.color,z=w.borderColor,Y=w.borderSize;((M=u.overlay)===null||M===void 0?void 0:M.id)===n.id&&u.figureType===1&&((T=u.figure)===null||T===void 0?void 0:T.key)==="".concat(Zv,"point_").concat(S)&&(B=w.activeRadius,O=w.activeColor,z=w.activeBorderColor,Y=w.activeBorderSize),(A=r.createFigure({name:"circle",attrs:{x:F,y:q,r:B+Y},styles:{color:z}},(D=r._createFigureEvents(n,1,S,{key:"".concat(Zv,"point_").concat(S),type:"circle",attrs:{x:F,y:q,r:B+Y},styles:{color:z}}))!==null&&D!==void 0?D:void 0))===null||A===void 0||A.draw(t),(j=r.createFigure({name:"circle",attrs:{x:F,y:q,r:B},styles:{color:O}}))===null||j===void 0||j.draw(t)})}}},e}(Td),sy=function(o){sr(e,o);function e(t,n){var s=o.call(this,t,n)||this;return s._gridView=new U5(s),s._indicatorView=new Y5(s),s._crosshairLineView=new K5(s),s._tooltipView=s.createTooltipView(),s._overlayView=new ny(s),s.addChild(s._tooltipView),s.addChild(s._overlayView),s.getContainer().style.cursor="crosshair",s}return e.prototype.getName=function(){return Ir.MAIN},e.prototype.updateMain=function(t){this.getPane().getOptions().state!=="minimize"&&(this.updateMainContent(t),this._indicatorView.draw(t),this._gridView.draw(t))},e.prototype.createTooltipView=function(){return new oy(this)},e.prototype.updateMainContent=function(t){},e.prototype.updateOverlay=function(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayView.draw(t),this._crosshairLineView.draw(t)),this._tooltipView.draw(t)},e}(Th),Z5=function(o){sr(e,o);function e(){var t=o.apply(this,A0([],Zd(arguments),!1))||this;return t._ripplePoint=t.createFigure({name:"circle",attrs:{x:0,y:0,r:0},styles:{style:"fill"}}),t._animationFrameTime=0,t._animation=new lh({iterationCount:1/0}).doFrame(function(n){t._animationFrameTime=n;var s=t.getWidget().getPane();s.getChart().updatePane(0,s.getId())}),t}return e.prototype.drawImp=function(t){var n,s,r,a=this.getWidget(),c=a.getPane(),d=c.getChart(),u=d.getDataList(),p=u.length-1,h=a.getBounding(),x=c.getAxisComponent(),w=d.getStyles().candle.area,k=[],S=Number.MAX_SAFE_INTEGER,M=Number.MIN_SAFE_INTEGER,T=null;if(this.eachChildren(function(B){var O=B.x,z=B.data.current,Y=z==null?void 0:z[w.value];if(ys(Y)){var G=x.convertToPixel(Y);M===Number.MIN_SAFE_INTEGER&&(M=O),k.push({x:O,y:G}),S=Math.min(S,G),B.dataIndex===p&&(T={x:O,y:G})}}),k.length>0){(n=this.createFigure({name:"line",attrs:{coordinates:k},styles:{color:w.lineColor,size:w.lineSize,smooth:w.smooth}}))===null||n===void 0||n.draw(t);var D=w.backgroundColor,A="";if(Kd(D)){var j=t.createLinearGradient(0,h.height,0,S);try{D.forEach(function(B){var O=B.offset,z=B.color;j.addColorStop(O,z)})}catch{}A=j}else A=D;t.fillStyle=A,t.beginPath(),t.moveTo(M,h.height),t.lineTo(k[0].x,k[0].y),q2(t,k,w.smooth),t.lineTo(k[k.length-1].x,h.height),t.closePath(),t.fill()}var F=w.point;if(F.show&&Gt(T)){(s=this.createFigure({name:"circle",attrs:{x:T.x,y:T.y,r:F.radius},styles:{style:"fill",color:F.color}}))===null||s===void 0||s.draw(t);var q=F.rippleRadius;F.animation&&(q=F.radius+this._animationFrameTime/F.animationDuration*(F.rippleRadius-F.radius),this._animation.setDuration(F.animationDuration).start()),(r=this._ripplePoint)===null||r===void 0||r.setAttrs({x:T.x,y:T.y,r:q}).setStyles({style:"fill",color:F.rippleColor}).draw(t)}else this.stopAnimation()},e.prototype.stopAnimation=function(){this._animation.stop()},e}(ey),X5=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.drawImp=function(t){var n=this.getWidget(),s=n.getPane(),r=s.getChart().getChartStore(),a=r.getStyles().candle.priceMark,c=a.high,d=a.low;if(a.show&&(c.show||d.show)){var u=r.getVisibleRangeHighLowPrice(),p=r.getPrecision(),h=s.getAxisComponent(),x=u[0],w=x.price,k=x.x,S=u[1],M=S.price,T=S.x,D=h.convertToPixel(w),A=h.convertToPixel(M),j=r.getDecimalFold(),F=r.getThousandsSeparator();c.show&&w!==Number.MIN_SAFE_INTEGER&&this._drawMark(t,j.format(F.format(_c(w,p.price))),{x:k,y:D},D<A?[-2,-5]:[2,5],c),d.show&&M!==Number.MAX_SAFE_INTEGER&&this._drawMark(t,j.format(F.format(_c(M,p.price))),{x:T,y:A},D<A?[2,5]:[-2,-5],d)}},e.prototype._drawMark=function(t,n,s,r,a){var c,d,u,p=s.x,h=s.y+r[0];(c=this.createFigure({name:"line",attrs:{coordinates:[{x:p-2,y:h+r[0]},{x:p,y:h},{x:p+2,y:h+r[0]}]},styles:{color:a.color}}))===null||c===void 0||c.draw(t);var x=0,w=0,k="left",S=this.getWidget().getBounding().width;p>S/2?(x=p-5,w=x-a.textOffset,k="right"):(x=p+5,k="left",w=x+a.textOffset);var M=h+r[1];(d=this.createFigure({name:"line",attrs:{coordinates:[{x:p,y:h},{x:p,y:M},{x,y:M}]},styles:{color:a.color}}))===null||d===void 0||d.draw(t),(u=this.createFigure({name:"text",attrs:{x:w,y:M,text:n,align:k,baseline:"middle"},styles:{color:a.color,size:a.textSize,family:a.textFamily,weight:a.textWeight}}))===null||u===void 0||u.draw(t)},e}(Td),J5=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.drawImp=function(t){var n,s,r,a=this.getWidget(),c=a.getPane(),d=a.getBounding(),u=c.getChart().getChartStore(),p=u.getStyles().candle.priceMark,h=p.last,x=h.line;if(p.show&&h.show&&x.show){var w=c.getAxisComponent(),k=u.getDataList(),S=k[k.length-1];if(Gt(S)){var M=S.close,T=S.open,D=h.compareRule===qu.CurrentOpen?T:(s=(n=k[k.length-2])===null||n===void 0?void 0:n.close)!==null&&s!==void 0?s:M,A=w.convertToNicePixel(M),j="";M>D?j=h.upColor:M<D?j=h.downColor:j=h.noChangeColor,(r=this.createFigure({name:"line",attrs:{coordinates:[{x:0,y:A},{x:d.width,y:A}]},styles:{style:x.style,color:j,size:x.size,dashedValue:x.dashedValue}}))===null||r===void 0||r.draw(t)}}},e}(Td),wu;(function(o){o.Left="left",o.Right="right"})(wu||(wu={}));function k1(){return{from:0,to:0,range:0,realFrom:0,realTo:0,realRange:0,displayFrom:0,displayTo:0,displayRange:0}}var iy=function(){function o(e){this.scrollZoomEnabled=!0,this._range=k1(),this._prevRange=k1(),this._ticks=[],this._autoCalcTickFlag=!0,this._parent=e}return o.prototype.getParent=function(){return this._parent},o.prototype.buildTicks=function(e){return this._autoCalcTickFlag&&(this._range=this.createRangeImp()),this._prevRange.from!==this._range.from||this._prevRange.to!==this._range.to||e?(this._prevRange=this._range,this._ticks=this.createTicksImp(),!0):!1},o.prototype.getTicks=function(){return this._ticks},o.prototype.setRange=function(e){this._autoCalcTickFlag=!1,this._range=e},o.prototype.getRange=function(){return this._range},o.prototype.setAutoCalcTickFlag=function(e){this._autoCalcTickFlag=e},o.prototype.getAutoCalcTickFlag=function(){return this._autoCalcTickFlag},o}(),Q5={time:"æ—¶é—´ï¼š",open:"å¼€ï¼š",high:"é«˜ï¼š",low:"ä½Žï¼š",close:"æ”¶ï¼š",volume:"æˆäº¤é‡ï¼š",turnover:"æˆäº¤é¢ï¼š",change:"æ¶¨å¹…ï¼š"},e3={time:"Time: ",open:"Open: ",high:"High: ",low:"Low: ",close:"Close: ",volume:"Volume: ",turnover:"Turnover: ",change:"Change: "},t3={"zh-CN":Q5,"en-US":e3};function o3(o,e){var t;return(t=t3[e][o])!==null&&t!==void 0?t:o}var n3=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.drawImp=function(t){var n=this.getWidget(),s=n.getPane().getChart().getChartStore(),r=s.getCrosshair();if(Gt(r.kLineData)){var a=n.getBounding(),c=s.getStyles(),d=c.candle,u=c.indicator;if(d.tooltip.showType===Gd.Rect&&u.tooltip.showType===Gd.Rect){var p=this.isDrawTooltip(r,d.tooltip),h=this.isDrawTooltip(r,u.tooltip);this._drawRectTooltip(t,p,h,d.tooltip.offsetTop)}else if(d.tooltip.showType===Gd.Standard&&u.tooltip.showType===Gd.Standard){var x=d.tooltip,w=x.offsetLeft,k=x.offsetTop,S=x.offsetRight,M=a.width-S,T=this._drawCandleStandardTooltip(t,w,k,M);this.drawIndicatorTooltip(t,w,T,M)}else if(d.tooltip.showType===Gd.Rect&&u.tooltip.showType===Gd.Standard){var D=d.tooltip,w=D.offsetLeft,k=D.offsetTop,S=D.offsetRight,M=a.width-S,A=this.drawIndicatorTooltip(t,w,k,M),p=this.isDrawTooltip(r,d.tooltip);this._drawRectTooltip(t,p,!1,A)}else{var j=d.tooltip,w=j.offsetLeft,k=j.offsetTop,S=j.offsetRight,M=a.width-S,F=this._drawCandleStandardTooltip(t,w,k,M),h=this.isDrawTooltip(r,u.tooltip);this._drawRectTooltip(t,!1,h,F)}}},e.prototype._drawCandleStandardTooltip=function(t,n,s,r){var a=this.getWidget().getPane().getChart().getChartStore(),c=a.getStyles().candle,d=c.tooltip,u=d.text,p=0,h={x:n,y:s},x=a.getCrosshair();if(this.isDrawTooltip(x,d)){var w=this._getCandleTooltipLegends(),k=Zd(this.classifyTooltipFeatures(d.features),3),S=k[0],M=k[1],T=k[2];p=this.drawStandardTooltipFeatures(t,S,h,null,n,p,r),p=this.drawStandardTooltipFeatures(t,M,h,null,n,p,r),w.length>0&&(p=this.drawStandardTooltipLegends(t,w,h,n,p,r,u)),p=this.drawStandardTooltipFeatures(t,T,h,null,n,p,r)}return h.y+p},e.prototype._drawRectTooltip=function(t,n,s,r){var a=this,c,d,u=this.getWidget(),p=u.getPane(),h=p.getChart().getChartStore(),x=h.getStyles(),w=x.candle,k=x.indicator,S=w.tooltip,M=k.tooltip;if(n||s){var T=this._getCandleTooltipLegends(),D=S.offsetLeft,A=S.offsetTop,j=S.offsetRight,F=S.offsetBottom,q=S.text,B=q.marginLeft,O=q.marginRight,z=q.marginTop,Y=q.marginBottom,G=q.size,oe=q.weight,re=q.family,se=S.rect,ie=se.position,te=se.paddingLeft,K=se.paddingRight,J=se.paddingTop,U=se.paddingBottom,ae=se.offsetLeft,me=se.offsetRight,ke=se.offsetTop,Ae=se.offsetBottom,Le=se.borderSize,He=se.borderRadius,it=se.borderColor,Ne=se.color,we=0,je=0,Te=0;n&&(t.font=gv(G,oe,re),T.forEach(function(Do){var Zt=Do.title,Go=Do.value,cn="".concat(Zt.text).concat(Go.text),sn=t.measureText(cn).width+B+O;we=Math.max(we,sn)}),Te+=(Y+z+G)*T.length);var Se=M.text,Ue=Se.marginLeft,Be=Se.marginRight,le=Se.marginTop,ye=Se.marginBottom,Ee=Se.size,Je=Se.weight,be=Se.family,X=[];if(s){var H=h.getIndicatorsByPaneId(p.getId());t.font=gv(Ee,Je,be),H.forEach(function(Do){var Zt=a.getIndicatorTooltipData(Do).legends;X.push(Zt),Zt.forEach(function(Go){var cn=Go.title,sn=Go.value,Tr="".concat(cn.text).concat(sn.text),zi=t.measureText(Tr).width+Ue+Be;we=Math.max(we,zi),Te+=le+ye+Ee})})}if(je+=we,je!==0&&Te!==0){var Ce=h.getCrosshair(),Qe=u.getBounding(),mt=p.getYAxisWidget().getBounding();je+=Le*2+te+K,Te+=Le*2+J+U;var bt=Qe.width/2,ct=ie===Wg.Pointer&&Ce.paneId===_r.CANDLE,yo=((c=Ce.realX)!==null&&c!==void 0?c:0)>bt,Kt=0;if(ct){var to=Ce.realX;yo?Kt=to-me-je:Kt=to+ae}else{var io=this.getWidget().getPane().getAxisComponent();yo?(Kt=ae+D,io.inside&&io.position===wu.Left&&(Kt+=mt.width)):(Kt=Qe.width-me-je-j,io.inside&&io.position===wu.Right&&(Kt-=mt.width))}var ro=r+ke;if(ct){var Uo=Ce.y;ro=Uo-Te/2,ro+Te>Qe.height-Ae-F&&(ro=Qe.height-Ae-Te-F),ro<r+ke&&(ro=r+ke+A)}(d=this.createFigure({name:"rect",attrs:{x:Kt,y:ro,width:je,height:Te},styles:{style:hr.StrokeFill,color:Ne,borderColor:it,borderSize:Le,borderRadius:He}}))===null||d===void 0||d.draw(t);var an=Kt+Le+te+B,Mn=ro+Le+J;if(n&&T.forEach(function(Do){var Zt,Go;Mn+=z;var cn=Do.title;(Zt=a.createFigure({name:"text",attrs:{x:an,y:Mn,text:cn.text},styles:{color:cn.color,size:G,family:re,weight:oe}}))===null||Zt===void 0||Zt.draw(t);var sn=Do.value;(Go=a.createFigure({name:"text",attrs:{x:Kt+je-Le-O-K,y:Mn,text:sn.text,align:"right"},styles:{color:sn.color,size:G,family:re,weight:oe}}))===null||Go===void 0||Go.draw(t),Mn+=G+Y}),s){var uo=Kt+Le+te+Ue;X.forEach(function(Do){Do.forEach(function(Zt){var Go,cn;Mn+=le;var sn=Zt.title,Tr=Zt.value;(Go=a.createFigure({name:"text",attrs:{x:uo,y:Mn,text:sn.text},styles:{color:sn.color,size:Ee,family:be,weight:Je}}))===null||Go===void 0||Go.draw(t),(cn=a.createFigure({name:"text",attrs:{x:Kt+je-Le-Be-K,y:Mn,text:Tr.text,align:"right"},styles:{color:Tr.color,size:Ee,family:be,weight:Je}}))===null||cn===void 0||cn.draw(t),Mn+=Ee+ye})})}}}},e.prototype._getCandleTooltipLegends=function(){var t,n,s,r,a,c,d=this.getWidget().getPane().getChart().getChartStore(),u=d.getStyles().candle,p=d.getDataList(),h=d.getCustomApi(),x=d.getDecimalFold(),w=d.getThousandsSeparator(),k=d.getLocale(),S=d.getPrecision(),M=S.price,T=S.volume,D=(t=d.getCrosshair().dataIndex)!==null&&t!==void 0?t:0,A=u.tooltip,j=A.text.color,F=(n=p[D-1])!==null&&n!==void 0?n:null,q=p[D],B=(s=F==null?void 0:F.close)!==null&&s!==void 0?s:q.close,O=q.close-B,z={"{time}":h.formatDate(q.timestamp,"YYYY-MM-DD HH:mm",_v.Tooltip),"{open}":x.format(w.format(_c(q.open,M))),"{high}":x.format(w.format(_c(q.high,M))),"{low}":x.format(w.format(_c(q.low,M))),"{close}":x.format(w.format(_c(q.close,M))),"{volume}":x.format(w.format(h.formatBigNumber(_c((r=q.volume)!==null&&r!==void 0?r:A.defaultValue,T)))),"{turnover}":x.format(w.format(_c((a=q.turnover)!==null&&a!==void 0?a:A.defaultValue,M))),"{change}":B===0?A.defaultValue:"".concat(w.format(_c(O/B*100)),"%")},Y=xc(A.custom)?A.custom({prev:F,current:q,next:(c=p[D+1])!==null&&c!==void 0?c:null},u):A.custom;return Y.map(function(G){var oe,re=G.title,se=G.value,ie={text:"",color:j};Md(re)?ie=Kn({},re):ie.text=re,ie.text=o3(ie.text,k);var te={text:A.defaultValue,color:j};Md(se)?te=Kn({},se):te.text=se;var K=/{(\S*)}/.exec(te.text);if(K!==null&&K.length>1){var J="{".concat(K[1],"}");te.text=te.text.replace(J,(oe=z[J])!==null&&oe!==void 0?oe:A.defaultValue),J==="{change}"&&(te.color=O===0?u.priceMark.last.noChangeColor:O>0?u.priceMark.last.upColor:u.priceMark.last.downColor)}return{title:ie,value:te}})},e}(oy),s3=function(o){sr(e,o);function e(t,n){var s=o.call(this,t,n)||this;return s._candleBarView=new ty(s),s._candleAreaView=new Z5(s),s._candleHighLowPriceView=new X5(s),s._candleLastPriceLineView=new J5(s),s.addChild(s._candleBarView),s}return e.prototype.updateMainContent=function(t){var n=this.getPane().getChart().getStyles().candle;n.type!==td.Area?(this._candleBarView.draw(t),this._candleHighLowPriceView.draw(t),this._candleAreaView.stopAnimation()):this._candleAreaView.draw(t),this._candleLastPriceLineView.draw(t)},e.prototype.createTooltipView=function(){return new n3(this)},e}(sy),ry=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.drawImp=function(t,n){var s=this,r,a,c=this.getWidget(),d=c.getPane(),u=c.getBounding(),p=d.getAxisComponent(),h=this.getAxisStyles(d.getChart().getStyles());if(h.show&&(h.axisLine.show&&((r=this.createFigure({name:"line",attrs:this.createAxisLine(u,h),styles:h.axisLine}))===null||r===void 0||r.draw(t)),!n[0])){var x=p.getTicks();if(h.tickLine.show){var w=this.createTickLines(x,u,h);w.forEach(function(S){var M;(M=s.createFigure({name:"line",attrs:S,styles:h.tickLine}))===null||M===void 0||M.draw(t)})}if(h.tickText.show){var k=this.createTickTexts(x,u,h);(a=this.createFigure({name:"text",attrs:k,styles:h.tickText}))===null||a===void 0||a.draw(t)}}},e}(Td),i3=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.getAxisStyles=function(t){return t.yAxis},e.prototype.createAxisLine=function(t,n){var s=this.getWidget().getPane().getAxisComponent(),r=n.axisLine.size,a=0;return s.isFromZero()?a=0:a=t.width-r,{coordinates:[{x:a,y:0},{x:a,y:t.height}]}},e.prototype.createTickLines=function(t,n,s){var r=this.getWidget().getPane().getAxisComponent(),a=s.axisLine,c=s.tickLine,d=0,u=0;return r.isFromZero()?(d=0,a.show&&(d+=a.size),u=d+c.length):(d=n.width,a.show&&(d-=a.size),u=d-c.length),t.map(function(p){return{coordinates:[{x:d,y:p.coord},{x:u,y:p.coord}]}})},e.prototype.createTickTexts=function(t,n,s){var r=this.getWidget().getPane().getAxisComponent(),a=s.axisLine,c=s.tickLine,d=s.tickText,u=0;r.isFromZero()?(u=d.marginStart,a.show&&(u+=a.size),c.show&&(u+=c.length)):(u=n.width-d.marginEnd,a.show&&(u-=a.size),c.show&&(u-=c.length));var p=this.getWidget().getPane().getAxisComponent().isFromZero()?"left":"right";return t.map(function(h){return{x:u,y:h.coord,text:h.text,align:p,baseline:"middle"}})},e}(ry),r3=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.drawImp=function(t){var n,s,r,a=this.getWidget(),c=a.getPane(),d=a.getBounding(),u=c.getChart().getChartStore(),p=u.getStyles().candle.priceMark,h=p.last,x=h.text;if(p.show&&h.show&&x.show){var w=u.getPrecision(),k=c.getAxisComponent(),S=u.getDataList(),M=S[S.length-1];if(Gt(M)){var T=M.close,D=M.open,A=h.compareRule===qu.CurrentOpen?D:(s=(n=S[S.length-2])===null||n===void 0?void 0:n.close)!==null&&s!==void 0?s:T,j=k.convertToNicePixel(T),F="";T>A?F=h.upColor:T<A?F=h.downColor:F=h.noChangeColor;var q=k.getRange(),B=k.displayValueToText(k.realValueToDisplayValue(k.valueToRealValue(T,{range:q}),{range:q}),w.price);B=u.getDecimalFold().format(u.getThousandsSeparator().format(B));var O=0,z="left";k.isFromZero()?(O=0,z="left"):(O=d.width,z="right"),(r=this.createFigure({name:"text",attrs:{x:O,y:j,text:B,align:z,baseline:"middle"},styles:Kn(Kn({},x),{backgroundColor:F})}))===null||r===void 0||r.draw(t)}}},e}(Td),a3=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.drawImp=function(t){var n=this,s=this.getWidget(),r=s.getPane(),a=s.getBounding(),c=r.getChart().getChartStore(),d=c.getStyles().indicator,u=d.lastValueMark,p=u.text;if(u.show){var h=r.getAxisComponent(),x=h.getRange(),w=c.getDataList(),k=w.length-1,S=c.getIndicatorsByPaneId(r.getId()),M=c.getCustomApi(),T=c.getDecimalFold(),D=c.getThousandsSeparator();S.forEach(function(A){var j,F,q=A.result,B=(F=(j=q[k])!==null&&j!==void 0?j:q[k-1])!==null&&F!==void 0?F:{};if(Gt(B)&&A.visible){var O=A.precision;Sh(A,k,d,function(z,Y){var G,oe=B[z.key];if(ys(oe)){var re=h.convertToNicePixel(oe),se=h.displayValueToText(h.realValueToDisplayValue(h.valueToRealValue(oe,{range:x}),{range:x}),O);A.shouldFormatBigNumber&&(se=M.formatBigNumber(se)),se=T.format(D.format(se));var ie=0,te="left";h.isFromZero()?(ie=0,te="left"):(ie=a.width,te="right"),(G=n.createFigure({name:"text",attrs:{x:ie,y:re,text:se,align:te,baseline:"middle"},styles:Kn(Kn({},p),{backgroundColor:Y.color})}))===null||G===void 0||G.draw(t)}})}})}},e}(Td),ay=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!1},e.prototype.drawDefaultFigures=function(t,n,s){this.drawFigures(t,n,this.getDefaultFigures(n,s))},e.prototype.getDefaultFigures=function(t,n){var s,r=this.getWidget(),a=r.getPane(),c=a.getChart().getChartStore(),d=c.getClickOverlayInfo(),u=[];if(t.needDefaultYAxisFigure&&t.id===((s=d.overlay)===null||s===void 0?void 0:s.id)&&d.paneId===a.getId()){var p=a.getAxisComponent(),h=r.getBounding(),x=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER,k=p.isFromZero(),S="left",M=0;k?(S="left",M=0):(S="right",M=h.width);var T=c.getDecimalFold(),D=c.getThousandsSeparator();n.forEach(function(A,j){var F=t.points[j];if(ys(F.value)){x=Math.min(x,A.y),w=Math.max(w,A.y);var q=T.format(D.format(_c(F.value,c.getPrecision().price)));u.push({type:"text",attrs:{x:M,y:A.y,text:q,align:S,baseline:"middle"},ignoreEvent:!0})}}),n.length>1&&u.unshift({type:"rect",attrs:{x:0,y:x,width:h.width,height:w-x},ignoreEvent:!0})}return u},e.prototype.getFigures=function(t,n){var s,r,a=this.getWidget(),c=a.getPane(),d=c.getChart(),u=c.getAxisComponent(),p=d.getXAxisPane().getAxisComponent(),h=a.getBounding();return(r=(s=t.createYAxisFigures)===null||s===void 0?void 0:s.call(t,{chart:d,overlay:t,coordinates:n,bounding:h,xAxis:p,yAxis:u}))!==null&&r!==void 0?r:[]},e}(ny),ly=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.drawImp=function(t){var n,s=this.getWidget(),r=s.getPane(),a=s.getBounding(),c=s.getPane().getChart().getChartStore(),d=c.getCrosshair(),u=c.getStyles().crosshair;if(da(d.paneId)&&this.compare(d,r.getId())&&u.show){var p=this.getDirectionStyles(u),h=p.text;if(p.show&&h.show){var x=r.getAxisComponent(),w=this.getText(d,c,x);t.font=gv(h.size,h.weight,h.family),(n=this.createFigure({name:"text",attrs:this.getTextAttrs(w,t.measureText(w).width,d,a,x,h),styles:h}))===null||n===void 0||n.draw(t)}}},e.prototype.compare=function(t,n){return t.paneId===n},e.prototype.getDirectionStyles=function(t){return t.horizontal},e.prototype.getText=function(t,n,s){var r=s,a=s.convertFromPixel(t.y),c=0,d=!1;if(r.isInCandle())c=n.getPrecision().price;else{var u=n.getIndicatorsByPaneId(t.paneId);u.forEach(function(x){c=Math.max(x.precision,c),d||(d=x.shouldFormatBigNumber)})}var p=r.getRange(),h=r.displayValueToText(r.realValueToDisplayValue(r.valueToRealValue(a,{range:p}),{range:p}),c);return d&&(h=n.getCustomApi().formatBigNumber(h)),n.getDecimalFold().format(n.getThousandsSeparator().format(h))},e.prototype.getTextAttrs=function(t,n,s,r,a,c){var d=a,u=0,p="left";return d.isFromZero()?(u=0,p="left"):(u=r.width,p="right"),{x:u,y:s.y,text:t,align:p,baseline:"middle"}},e}(Td),l3=function(o){sr(e,o);function e(t,n){var s=o.call(this,t,n)||this;return s._yAxisView=new i3(s),s._candleLastPriceLabelView=new r3(s),s._indicatorLastValueView=new a3(s),s._overlayYAxisView=new ay(s),s._crosshairHorizontalLabelView=new ly(s),s.getContainer().style.cursor="ns-resize",s.addChild(s._overlayYAxisView),s}return e.prototype.getName=function(){return Ir.Y_AXIS},e.prototype.updateMain=function(t){var n=this.getPane().getOptions().state==="minimize";this._yAxisView.draw(t,n),n||(this.getPane().getAxisComponent().isInCandle()&&this._candleLastPriceLabelView.draw(t),this._indicatorLastValueView.draw(t))},e.prototype.updateOverlay=function(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayYAxisView.draw(t),this._crosshairHorizontalLabelView.draw(t))},e}(Th),Em=8,Fg=function(o){sr(e,o);function e(t,n){var s=o.call(this,t)||this;return s.reverse=!1,s.inside=!1,s.position=wu.Right,s.gap={top:.2,bottom:.1},s.createRange=function(r){return r.defaultRange},s.minSpan=function(r){return Jv(-r)},s.valueToRealValue=function(r){return r},s.realValueToDisplayValue=function(r){return r},s.displayValueToRealValue=function(r){return r},s.realValueToValue=function(r){return r},s.displayValueToText=function(r,a){return _c(r,a)},s.override(n),s}return e.prototype.override=function(t){var n=t.name,s=t.gap,r=S0(t,["name","gap"]);da(this.name)||(this.name=n),Dl(this.gap,s),Dl(this,r)},e.prototype.createRangeImp=function(){var t=this.getParent(),n=t.getChart(),s=n.getChartStore(),r=t.getId(),a=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER,d=!1,u=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER,h=Number.MAX_SAFE_INTEGER,x=s.getIndicatorsByPaneId(r);x.forEach(function(He){d||(d=He.shouldOhlc),h=Math.min(h,He.precision),ys(He.minValue)&&(u=Math.min(u,He.minValue)),ys(He.maxValue)&&(p=Math.max(p,He.maxValue))});var w=4,k=this.isInCandle();if(k){var S=s.getPrecision().price;h!==Number.MAX_SAFE_INTEGER?w=Math.min(h,S):w=S}else h!==Number.MAX_SAFE_INTEGER&&(w=h);var M=s.getVisibleRangeDataList(),T=n.getStyles().candle,D=T.type===td.Area,A=T.area.value,j=k&&!D||!k&&d;M.forEach(function(He){var it=He.dataIndex,Ne=He.data.current;if(Gt(Ne)&&(j&&(a=Math.min(a,Ne.low),c=Math.max(c,Ne.high)),k&&D)){var we=Ne[A];ys(we)&&(a=Math.min(a,we),c=Math.max(c,we))}x.forEach(function(je){var Te,Se=je.result,Ue=je.figures,Be=(Te=Se[it])!==null&&Te!==void 0?Te:{};Ue.forEach(function(le){var ye=Be[le.key];ys(ye)&&(a=Math.min(a,ye),c=Math.max(c,ye))})})}),a!==Number.MAX_SAFE_INTEGER&&c!==Number.MIN_SAFE_INTEGER?(a=Math.min(u,a),c=Math.max(p,c)):(a=0,c=10);var F=c-a,q={from:a,to:c,range:F,realFrom:a,realTo:c,realRange:F,displayFrom:a,displayTo:c,displayRange:F},B=this.createRange({chart:n,paneId:r,defaultRange:q}),O=B.realFrom,z=B.realTo,Y=B.realRange,G=this.minSpan(w);if(O===z||Y<G){var oe=u===O,re=p===z,se=Em/2;O=oe?O:re?O-Em*G:O-se*G,z=re?z:oe?z+Em*G:z+se*G}var ie=this.getBounding().height,te=this.gap,K=te.top,J=te.bottom,U=K;U>=1&&(U=U/ie);var ae=J;ae>=1&&(ae=ae/ie),Y=z-O,O=O-Y*ae,z=z+Y*U;var me=this.realValueToValue(O,{range:B}),ke=this.realValueToValue(z,{range:B}),Ae=this.realValueToDisplayValue(O,{range:B}),Le=this.realValueToDisplayValue(z,{range:B});return{from:me,to:ke,range:ke-me,realFrom:O,realTo:z,realRange:z-O,displayFrom:Ae,displayTo:Le,displayRange:Le-Ae}},e.prototype.isInCandle=function(){return this.getParent().getId()===_r.CANDLE},e.prototype.isFromZero=function(){return this.position===wu.Left&&this.inside||this.position===wu.Right&&!this.inside},e.prototype.createTicksImp=function(){var t=this,n,s,r=this.getRange(),a=r.displayFrom,c=r.displayTo,d=r.displayRange,u=[],p=this.getParent(),h=(s=(n=p.getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&s!==void 0?s:0;if(d<=0||h<=0)return u;for(var x=40,w=80,k=(x+w)/2,S=d/h,M=S*x,T=S*w,D=S*k,A=[1,2,5],j=D,F=1/0,q=Math.floor(Math.log10(M>0?M:D||1))-1,B=Math.floor(Math.log10(T>0?T:D||1))+1,O=q;O<=B;O++)for(var z=Math.pow(10,O),Y=0,G=A;Y<G.length;Y++){var oe=G[Y],re=oe*z;if(!(re<=0)){var se=re/S,ie=se>=x&&se<=w,te=Math.abs(se-k)+(ie?0:k);te<F&&(F=te,j=re)}}for(var K=Math.max(0,x6(j)),J=Math.floor(a/j)*j,U=c+j,ae=J;ae<=U;ae+=j)u.push({value:b6(ae,K),coord:0});var me=p.getChart().getChartStore(),ke=[],Ae=me.getIndicatorsByPaneId(p.getId()),Le=me.getStyles(),He=0,it=!1;this.isInCandle()?He=me.getPrecision().price:Ae.forEach(function(Ue){He=Math.max(He,Ue.precision),it||(it=Ue.shouldFormatBigNumber)});var Ne=me.getCustomApi(),we=me.getThousandsSeparator(),je=me.getDecimalFold(),Te=Le.xAxis.tickText.size,Se=NaN;return u.forEach(function(Ue){var Be=Ue.value,le=t.displayValueToText(+Be,He),ye=t.convertToPixel(t.realValueToValue(t.displayValueToRealValue(+Be,{range:r}),{range:r}));it&&(le=Ne.formatBigNumber(Be)),le=je.format(we.format(le));var Ee=ys(Se);ye>Te&&ye<h-Te&&(Ee&&Math.abs(Se-ye)>Te*2||!Ee)&&(ke.push({text:le,coord:ye,value:Be}),Se=ye)}),xc(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:ke}):ke},e.prototype.getAutoSize=function(){var t=this.getParent(),n=t.getChart(),s=n.getChartStore(),r=s.getStyles(),a=r.yAxis,c=a.size;if(c!=="auto")return c;var d=0;if(a.show&&(a.axisLine.show&&(d+=a.axisLine.size),a.tickLine.show&&(d+=a.tickLine.length),a.tickText.show)){var u=0;this.getTicks().forEach(function(A){u=Math.max(u,ap(A.text,a.tickText.size,a.tickText.weight,a.tickText.family))}),d+=a.tickText.marginStart+a.tickText.marginEnd+u}var p=r.crosshair,h=0;if(p.show&&p.horizontal.show&&p.horizontal.text.show){var x=s.getIndicatorsByPaneId(t.getId()),w=0,k=!1;x.forEach(function(A){w=Math.max(A.precision,w),k||(k=A.shouldFormatBigNumber)});var S=2;if(this.isInCandle()){var M=s.getPrecision().price,T=r.indicator.lastValueMark;T.show&&T.text.show?S=Math.max(w,M):S=M}else S=w;var D=_c(this.getRange().displayTo,S);k&&(D=s.getCustomApi().formatBigNumber(D)),D=s.getDecimalFold().format(D),h+=p.horizontal.text.paddingLeft+p.horizontal.text.paddingRight+p.horizontal.text.borderSize*2+ap(D,p.horizontal.text.size,p.horizontal.text.weight,p.horizontal.text.family)}return Math.max(d,h)},e.prototype.getBounding=function(){return this.getParent().getYAxisWidget().getBounding()},e.prototype.convertFromPixel=function(t){var n=this.getBounding().height,s=this.getRange(),r=s.realFrom,a=s.realRange,c=this.reverse?t/n:1-t/n,d=c*a+r;return this.realValueToValue(d,{range:s})},e.prototype.convertToPixel=function(t){var n,s,r=this.getRange(),a=this.valueToRealValue(t,{range:r}),c=(s=(n=this.getParent().getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&s!==void 0?s:0,d=r.realFrom,u=r.realRange,p=(a-d)/u;return this.reverse?Math.round(p*c):Math.round((1-p)*c)},e.prototype.convertToNicePixel=function(t){var n,s,r=(s=(n=this.getParent().getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&s!==void 0?s:0,a=this.convertToPixel(t);return Math.round(Math.max(r*.05,Math.min(a,r*.98)))},e.extend=function(t){var n=function(s){sr(r,s);function r(a){return s.call(this,a,t)||this}return r}(e);return n},e}(iy),c3={name:"normal"},d3={name:"percentage",minSpan:function(){return Math.pow(10,-2)},displayValueToText:function(o){return"".concat(_c(o,2),"%")},valueToRealValue:function(o,e){var t=e.range;return(o-t.from)/t.range*t.realRange+t.realFrom},realValueToValue:function(o,e){var t=e.range;return(o-t.realFrom)/t.realRange*t.range+t.from},createRange:function(o){var e=o.chart,t=o.defaultRange,n=e.getDataList(),s=e.getVisibleRange(),r=n[s.from];if(Gt(r)){var a=t.from,c=t.to,d=t.range,u=(t.from-r.close)/r.close*100,p=(t.to-r.close)/r.close*100,h=p-u;return{from:a,to:c,range:d,realFrom:u,realTo:p,realRange:h,displayFrom:u,displayTo:p,displayRange:h}}return t}},u3={name:"logarithm",minSpan:function(o){return .05*Jv(-o)},valueToRealValue:function(o){return o<0?-Ou(Math.abs(o)):Ou(o)},realValueToDisplayValue:function(o){return o<0?-Jv(Math.abs(o)):Jv(o)},displayValueToRealValue:function(o){return o<0?-Ou(Math.abs(o)):Ou(o)},realValueToValue:function(o){return o<0?-Jv(Math.abs(o)):Jv(o)},createRange:function(o){var e=o.defaultRange,t=e.from,n=e.to,s=e.range,r=t<0?-Ou(Math.abs(t)):Ou(t),a=n<0?-Ou(Math.abs(n)):Ou(n);return{from:t,to:n,range:s,realFrom:r,realTo:a,realRange:a-r,displayFrom:t,displayTo:n,displayRange:s}}},S1={normal:Fg.extend(c3),percentage:Fg.extend(d3),logarithm:Fg.extend(u3)};function v3(o){var e;return(e=S1[o])!==null&&e!==void 0?e:S1.normal}var cy=function(){function o(e,t){this._bounding=Gg(),this._originalBounding=Gg(),this._visible=!0,this._chart=e,this._id=t,this._container=Cu("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"})}return o.prototype.getContainer=function(){return this._container},o.prototype.setVisible=function(e){this._visible!==e&&(this._container.style.display=e?"block":"none",this._visible=e)},o.prototype.getVisible=function(){return this._visible},o.prototype.getId=function(){return this._id},o.prototype.getChart=function(){return this._chart},o.prototype.getBounding=function(){return this._bounding},o.prototype.setOriginalBounding=function(e){Dl(this._originalBounding,e)},o.prototype.getOriginalBounding=function(){return this._originalBounding},o.prototype.update=function(e){this._bounding.height!==this._container.clientHeight&&(this._container.style.height="".concat(this._bounding.height,"px")),this.updateImp(e??3,this._container,this._bounding)},o}(),dy=function(o){sr(e,o);function e(t,n,s){var r=o.call(this,t,n)||this;r._yAxisWidget=null,r._options={id:"",minHeight:Eg,dragEnabled:!0,order:0,height:H2,state:"normal",axis:{name:"normal",scrollZoomEnabled:!0}};var a=r.getContainer();return r._mainWidget=r.createMainWidget(a),r._yAxisWidget=r.createYAxisWidget(a),r.setOptions(s),r}return e.prototype.setOptions=function(t){var n,s,r,a,c,d=this.getId();if(d===_r.CANDLE||d===_r.X_AXIS){var u=(n=t.axis)===null||n===void 0?void 0:n.name;(!Gt(this._axis)||Gt(u)&&this._options.axis.name!==u)&&(this._axis=this.createAxisComponent(u??"normal"))}else Gt(this._axis)||(this._axis=this.createAxisComponent("normal"));this._axis instanceof Fg&&this._axis.setAutoCalcTickFlag(!0),Dl(this._options,t),this._axis.override(Kn(Kn({},this._options.axis),{name:(r=(s=t.axis)===null||s===void 0?void 0:s.name)!==null&&r!==void 0?r:"normal"}));var p=null,h="default";return this.getId()===_r.X_AXIS?(p=this.getMainWidget().getContainer(),h="ew-resize"):(p=this.getYAxisWidget().getContainer(),h="ns-resize"),!((c=(a=t.axis)===null||a===void 0?void 0:a.scrollZoomEnabled)!==null&&c!==void 0)||c?p.style.cursor=h:p.style.cursor="default",this},e.prototype.getOptions=function(){return this._options},e.prototype.getAxisComponent=function(){return this._axis},e.prototype.setBounding=function(t,n,s,r){var a,c,d,u;Dl(this.getBounding(),t);var p={};Gt(t.height)&&(p.height=t.height),Gt(t.top)&&(p.top=t.top),this._mainWidget.setBounding(p);var h=Gt(n);if(h&&this._mainWidget.setBounding(n),Gt(this._yAxisWidget)){this._yAxisWidget.setBounding(p);var x=this._axis;x.position===wu.Left?Gt(s)&&this._yAxisWidget.setBounding(Kn(Kn({},s),{left:0})):Gt(r)&&(this._yAxisWidget.setBounding(r),h&&this._yAxisWidget.setBounding({left:((a=n.left)!==null&&a!==void 0?a:0)+((c=n.width)!==null&&c!==void 0?c:0)+((d=n.right)!==null&&d!==void 0?d:0)-((u=r.width)!==null&&u!==void 0?u:0)}))}return this},e.prototype.getMainWidget=function(){return this._mainWidget},e.prototype.getYAxisWidget=function(){return this._yAxisWidget},e.prototype.updateImp=function(t){var n;this._mainWidget.update(t),(n=this._yAxisWidget)===null||n===void 0||n.update(t)},e.prototype.destroy=function(){var t;this._mainWidget.destroy(),(t=this._yAxisWidget)===null||t===void 0||t.destroy()},e.prototype.getImage=function(t){var n=this.getBounding(),s=n.width,r=n.height,a=Cu("canvas",{width:"".concat(s,"px"),height:"".concat(r,"px"),boxSizing:"border-box"}),c=a.getContext("2d"),d=zu(a);a.width=s*d,a.height=r*d,c.scale(d,d);var u=this._mainWidget.getBounding();if(c.drawImage(this._mainWidget.getImage(t),u.left,0,u.width,u.height),this._yAxisWidget!==null){var p=this._yAxisWidget.getBounding();c.drawImage(this._yAxisWidget.getImage(t),p.left,0,p.width,p.height)}return a},e.prototype.createYAxisWidget=function(t){return null},e}(cy),uy=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.createAxisComponent=function(t){var n=v3(t??"default");return new n(this)},e.prototype.createMainWidget=function(t){return new sy(t,this)},e.prototype.createYAxisWidget=function(t){return new l3(t,this)},e}(dy),p3=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.createMainWidget=function(t){return new s3(t,this)},e}(uy),f3=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.getAxisStyles=function(t){return t.xAxis},e.prototype.createAxisLine=function(t){return{coordinates:[{x:0,y:0},{x:t.width,y:0}]}},e.prototype.createTickLines=function(t,n,s){var r=s.tickLine,a=s.axisLine.size;return t.map(function(c){return{coordinates:[{x:c.coord,y:0},{x:c.coord,y:a+r.length}]}})},e.prototype.createTickTexts=function(t,n,s){var r=s.tickText,a=s.axisLine.size,c=s.tickLine.length;return t.map(function(d){return{x:d.coord,y:a+c+r.marginStart,text:d.text,align:"center",baseline:"top"}})},e}(ry),g3=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},e.prototype.coordinateToPointValueFlag=function(){return!1},e.prototype.getCompleteOverlays=function(){return this.getWidget().getPane().getChart().getChartStore().getOverlaysByPaneId()},e.prototype.getProgressOverlay=function(){var t,n;return(n=(t=this.getWidget().getPane().getChart().getChartStore().getProgressOverlayInfo())===null||t===void 0?void 0:t.overlay)!==null&&n!==void 0?n:null},e.prototype.getDefaultFigures=function(t,n){var s,r=[],a=this.getWidget(),c=a.getPane(),d=c.getChart().getChartStore(),u=d.getClickOverlayInfo();if(t.needDefaultXAxisFigure&&t.id===((s=u.overlay)===null||s===void 0?void 0:s.id)){var p=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;n.forEach(function(x,w){p=Math.min(p,x.x),h=Math.max(h,x.x);var k=t.points[w];if(ys(k.timestamp)){var S=d.getCustomApi().formatDate(k.timestamp,"YYYY-MM-DD HH:mm",_v.Crosshair);r.push({type:"text",attrs:{x:x.x,y:0,text:S,align:"center"},ignoreEvent:!0})}}),n.length>1&&r.unshift({type:"rect",attrs:{x:p,y:0,width:h-p,height:a.getBounding().height},ignoreEvent:!0})}return r},e.prototype.getFigures=function(t,n){var s,r,a=this.getWidget(),c=a.getPane(),d=c.getChart(),u=c.getAxisComponent(),p=d.getXAxisPane().getAxisComponent(),h=a.getBounding();return(r=(s=t.createXAxisFigures)===null||s===void 0?void 0:s.call(t,{chart:d,overlay:t,coordinates:n,bounding:h,xAxis:p,yAxis:u}))!==null&&r!==void 0?r:[]},e}(ay),_3=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.compare=function(t){return Gt(t.timestamp)},e.prototype.getDirectionStyles=function(t){return t.vertical},e.prototype.getText=function(t,n){var s=t.timestamp;return n.getCustomApi().formatDate(s,"YYYY-MM-DD HH:mm",_v.Crosshair)},e.prototype.getTextAttrs=function(t,n,s,r,a,c){var d=s.realX,u=0,p="center";return d-n/2-c.paddingLeft<0?(u=0,p="left"):d+n/2+c.paddingRight>r.width?(u=r.width,p="right"):u=d,{x:u,y:0,text:t,align:p,baseline:"top"}},e}(ly),m3=function(o){sr(e,o);function e(t,n){var s=o.call(this,t,n)||this;return s._xAxisView=new f3(s),s._overlayXAxisView=new g3(s),s._crosshairVerticalLabelView=new _3(s),s.getContainer().style.cursor="ew-resize",s.addChild(s._overlayXAxisView),s}return e.prototype.getName=function(){return Ir.X_AXIS},e.prototype.updateMain=function(t){this._xAxisView.draw(t)},e.prototype.updateOverlay=function(t){this._overlayXAxisView.draw(t),this._crosshairVerticalLabelView.draw(t)},e}(Th),h3=function(o){sr(e,o);function e(t,n){var s=o.call(this,t)||this;return s.override(n),s}return e.prototype.override=function(t){var n=t.name,s=t.scrollZoomEnabled,r=t.createTicks;da(this.name)||(this.name=n),this.scrollZoomEnabled=s??this.scrollZoomEnabled,this.createTicks=r??this.createTicks},e.prototype.createRangeImp=function(){var t=this.getParent().getChart().getChartStore(),n=t.getVisibleRange(),s=n.realFrom,r=n.realTo,a=s,c=r,d=r-s+1,u={from:a,to:c,range:d,realFrom:a,realTo:c,realRange:d,displayFrom:a,displayTo:c,displayRange:d};return u},e.prototype.createTicksImp=function(){for(var t=this.getRange(),n=t.realFrom,s=t.realTo,r=this.getParent().getChart().getChartStore(),a=r.getStyles(),c=a.xAxis.tickText,d=r.getBarSpace().bar,u=60,p=120,h=(u+p)/2,x=[1,2,3,5,10,15,20,30,45,60,90,120],w=[],k=0;k<4;k++)for(var S=Math.pow(10,k),M=0,T=x;M<T.length;M++){var D=T[M]*S;w.includes(D)||w.push(D)}w.sort(function(ae,me){return ae-me});var A=w[0],j=1/0;w.forEach(function(ae){if(!(ae<1)){var me=ae*d,ke=me>=u&&me<=p,Ae=Math.abs(me-h)+(ke?0:h);Ae<j&&(j=Ae,A=ae)}});var F=A*d;if(F<u){var q=Math.ceil(u/Math.max(F,1));A=Math.max(1,Math.ceil(A*q))}for(var B=Math.floor(n/A)*A,O=s+A,z=function(){for(var ae=null,me=r.getVisibleRangeDataList(),ke=1;ke<me.length;ke++){var Ae=me[ke-1].data.current,Le=me[ke].data.current;if(Gt(Ae)&&Gt(Le)&&ys(Ae.timestamp)&&ys(Le.timestamp)){var He=Le.timestamp-Ae.timestamp;He>0&&(ae=ys(ae)?Math.min(ae,He):He)}}if(!ys(ae)){var it=r.dataIndexToTimestamp(n),Ne=r.dataIndexToTimestamp(n+1);ys(it)&&ys(Ne)&&(ae=Math.abs(Ne-it))}return ys(ae)?ae:uh},Y=z(),G=function(ae,me){var ke=864e5,Ae=60*60*1e3,Le=60*1e3,He="HH:mm";return me>=ke*180?He="YYYY":me>=ke*28?He="YYYY-MM":me>=ke?He="MM-DD":me>=Ae?He="HH:mm":He=me>=Le?"HH:mm":"HH:mm:ss",r.getCustomApi().formatDate(ae,He,_v.XAxis)},oe=[],re=-1/0,se=Math.max(u*.6,c.size*4),ie=B;ie<O;ie+=A){var te=this.convertToPixel(ie),K=r.dataIndexToTimestamp(ie);if(ys(K)){var J="";if(te-re>=se){J=G(K,Y*A);var U=ap(J,c.size,c.weight,c.family)+c.marginStart+c.marginEnd;te-re>=Math.max(se,U)?re=te:J=""}oe.push({coord:te,value:K,text:J})}}return xc(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:oe}):oe},e.prototype.getAutoSize=function(){var t=this.getParent().getChart().getStyles(),n=t.xAxis,s=n.size;if(s!=="auto")return s;var r=t.crosshair,a=0;n.show&&(n.axisLine.show&&(a+=n.axisLine.size),n.tickLine.show&&(a+=n.tickLine.length),n.tickText.show&&(a+=n.tickText.marginStart+n.tickText.marginEnd+n.tickText.size));var c=0;return r.show&&r.vertical.show&&r.vertical.text.show&&(c+=r.vertical.text.paddingTop+r.vertical.text.paddingBottom+r.vertical.text.borderSize*2+r.vertical.text.size),Math.max(a,c)},e.prototype.getBounding=function(){return this.getParent().getMainWidget().getBounding()},e.prototype.convertTimestampFromPixel=function(t){var n=this.getParent().getChart().getChartStore(),s=n.coordinateToDataIndex(t);return n.dataIndexToTimestamp(s)},e.prototype.convertTimestampToPixel=function(t){var n=this.getParent().getChart().getChartStore(),s=n.timestampToDataIndex(t);return n.dataIndexToCoordinate(s)},e.prototype.convertFromPixel=function(t){return this.getParent().getChart().getChartStore().coordinateToDataIndex(t)},e.prototype.convertToPixel=function(t){return this.getParent().getChart().getChartStore().dataIndexToCoordinate(t)},e.extend=function(t){var n=function(s){sr(r,s);function r(a){return s.call(this,a,t)||this}return r}(e);return n},e}(iy),y3={name:"normal"},C1={normal:h3.extend(y3)};function b3(o){var e;return(e=C1[o])!==null&&e!==void 0?e:C1.normal}var x3=function(o){sr(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.createAxisComponent=function(t){var n=b3(t);return new n(this)},e.prototype.createMainWidget=function(t){return new m3(t,this)},e}(dy);function w3(o,e){var t=0;return function(){var n=Date.now();n-t>e&&(o.apply(this,arguments),t=n)}}var k3=function(o){sr(e,o);function e(t,n){var s=o.call(this,t,n)||this;return s._dragFlag=!1,s._dragStartY=0,s._topPaneHeight=0,s._bottomPaneHeight=0,s._topPane=null,s._bottomPane=null,s._pressedMouseMoveEvent=w3(s._pressedTouchMouseMoveEvent,20),s.registerEvent("touchStartEvent",s._mouseDownEvent.bind(s)).registerEvent("touchMoveEvent",s._pressedMouseMoveEvent.bind(s)).registerEvent("touchEndEvent",s._mouseUpEvent.bind(s)).registerEvent("mouseDownEvent",s._mouseDownEvent.bind(s)).registerEvent("mouseUpEvent",s._mouseUpEvent.bind(s)).registerEvent("pressedMouseMoveEvent",s._pressedMouseMoveEvent.bind(s)).registerEvent("mouseEnterEvent",s._mouseEnterEvent.bind(s)).registerEvent("mouseLeaveEvent",s._mouseLeaveEvent.bind(s)),s}return e.prototype.getName=function(){return Ir.SEPARATOR},e.prototype.checkEventOn=function(){return!0},e.prototype._mouseDownEvent=function(t){var n=this;this._dragFlag=!0,this._dragStartY=t.pageY;var s=this.getPane(),r=s.getChart();this._topPane=s.getTopPane(),this._bottomPane=s.getBottomPane();var a=r.getDrawPanes();if(this._topPane.getOptions().state==="minimize")for(var c=a.findIndex(function(h){var x;return h.getId()===((x=n._topPane)===null||x===void 0?void 0:x.getId())}),d=c-1;d>-1;d--){var u=a[d];if(u.getOptions().state!=="minimize"){this._topPane=u;break}}if(this._bottomPane.getOptions().state==="minimize")for(var c=a.findIndex(function(x){var w;return x.getId()===((w=n._bottomPane)===null||w===void 0?void 0:w.getId())}),d=c+1;d<a.length;d++){var p=a[d];if(p.getOptions().state!=="minimize"){this._bottomPane=p;break}}return this._topPaneHeight=this._topPane.getBounding().height,this._bottomPaneHeight=this._bottomPane.getBounding().height,!0},e.prototype._mouseUpEvent=function(){return this._dragFlag=!1,this._topPane=null,this._bottomPane=null,this._topPaneHeight=0,this._bottomPaneHeight=0,this._mouseLeaveEvent()},e.prototype._pressedTouchMouseMoveEvent=function(t){var n=t.pageY-this._dragStartY,s=n<0;if(Gt(this._topPane)&&Gt(this._bottomPane)){var r=this._bottomPane.getOptions();if(this._topPane.getOptions().state!=="minimize"&&r.state!=="minimize"&&r.dragEnabled){var a=null,c=null,d=0,u=0;s?(a=this._topPane,c=this._bottomPane,d=this._topPaneHeight,u=this._bottomPaneHeight):(a=this._bottomPane,c=this._topPane,d=this._bottomPaneHeight,u=this._topPaneHeight);var p=a.getOptions().minHeight;if(d>p){var h=Math.max(d-Math.abs(n),p),x=d-h;a.setBounding({height:h}),c.setBounding({height:u+x});var w=this.getPane(),k=w.getChart();k.getChartStore().executeAction(Rc.OnPaneDrag,{paneId:w.getId()}),k.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}}}return!0},e.prototype._mouseEnterEvent=function(){var t=this.getPane(),n=t.getBottomPane();if(n.getOptions().dragEnabled){var s=t.getChart(),r=s.getStyles().separator;return this.getContainer().style.background=r.activeBackgroundColor,!0}return!1},e.prototype._mouseLeaveEvent=function(){return this._dragFlag?!1:(this.getContainer().style.background="transparent",!0)},e.prototype.createContainer=function(){return Cu("div",{width:"100%",height:"".concat(b0,"px"),margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box",cursor:"ns-resize"})},e.prototype.updateImp=function(t,n,s){if(s===4||s===2){var r=this.getPane().getChart().getStyles().separator;t.style.top="".concat(-Math.floor((b0-r.size)/2),"px"),t.style.height="".concat(b0,"px")}},e}(U2),S3=function(o){sr(e,o);function e(t,n,s,r){var a=o.call(this,t,n)||this;return a.getContainer().style.overflow="",a._topPane=s,a._bottomPane=r,a._separatorWidget=new k3(a.getContainer(),a),a}return e.prototype.setBounding=function(t){return Dl(this.getBounding(),t),this},e.prototype.getTopPane=function(){return this._topPane},e.prototype.setTopPane=function(t){return this._topPane=t,this},e.prototype.getBottomPane=function(){return this._bottomPane},e.prototype.setBottomPane=function(t){return this._bottomPane=t,this},e.prototype.getWidget=function(){return this._separatorWidget},e.prototype.getImage=function(t){var n=this.getBounding(),s=n.width,r=n.height,a=this.getChart().getStyles().separator,c=Cu("canvas",{width:"".concat(s,"px"),height:"".concat(r,"px"),boxSizing:"border-box"}),d=c.getContext("2d"),u=zu(c);return c.width=s*u,c.height=r*u,d.scale(u,u),d.fillStyle=a.color,d.fillRect(0,0,s,r),c},e.prototype.updateImp=function(t,n,s){if(t===4||t===2){var r=this.getChart().getStyles().separator;n.style.backgroundColor=r.color,n.style.height="".concat(s.height,"px"),n.style.marginLeft="".concat(s.left,"px"),n.style.width="".concat(s.width,"px"),this._separatorWidget.update(t)}},e}(cy);function I1(){return typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("firefox")}function Fm(){return typeof window>"u"?!1:/iPhone|iPad|iPod|iOS/.test(window.navigator.userAgent)}var Xv={CancelClick:5,CancelTap:5,DoubleClick:5,DoubleTap:30},f0={Left:0,Middle:1,Right:2},C3=10,I3=function(){function o(e,t,n){var s=this;this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartCoordinate=null,this._touchMoveStartCoordinate=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeMouseWheel=null,this._unsubscribeContextMenu=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!Fm(),this._onFirefoxOutsideMouseUp=function(r){s._mouseUpHandler(r)},this._onMobileSafariDoubleClick=function(r){if(s._firesTouchEvents(r)){if(++s._tapCount,s._tapTimeoutId!==null&&s._tapCount>1){var a=s._mouseTouchMoveWithDownInfo(s._getCoordinate(r),s._tapCoordinate).manhattanDistance;a<Xv.DoubleTap&&!s._cancelTap&&s._processEvent(s._makeCompatEvent(r),s._handler.doubleTapEvent),s._resetTapTimeout()}}else if(++s._clickCount,s._clickTimeoutId!==null&&s._clickCount>1){var a=s._mouseTouchMoveWithDownInfo(s._getCoordinate(r),s._clickCoordinate).manhattanDistance;a<Xv.DoubleClick&&!s._cancelClick&&s._processEvent(s._makeCompatEvent(r),s._handler.mouseDoubleClickEvent),s._resetClickTimeout()}},this._target=e,this._handler=t,this._options=n,this._init()}return o.prototype.destroy=function(){this._unsubscribeOutsideMouseEvents!==null&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),this._unsubscribeOutsideTouchEvents!==null&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),this._unsubscribeMousemove!==null&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),this._unsubscribeMouseWheel!==null&&(this._unsubscribeMouseWheel(),this._unsubscribeMouseWheel=null),this._unsubscribeContextMenu!==null&&(this._unsubscribeContextMenu(),this._unsubscribeContextMenu=null),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),this._unsubscribeMobileSafariEvents!==null&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()},o.prototype._mouseEnterHandler=function(e){var t=this,n,s,r;(n=this._unsubscribeMousemove)===null||n===void 0||n.call(this),(s=this._unsubscribeMouseWheel)===null||s===void 0||s.call(this),(r=this._unsubscribeContextMenu)===null||r===void 0||r.call(this);var a=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){t._target.removeEventListener("mousemove",a)},this._target.addEventListener("mousemove",a);var c=this._mouseWheelHandler.bind(this);this._unsubscribeMouseWheel=function(){t._target.removeEventListener("wheel",c)},this._target.addEventListener("wheel",c,{passive:!1});var d=this._contextMenuHandler.bind(this);this._unsubscribeContextMenu=function(){t._target.removeEventListener("contextmenu",d)},this._target.addEventListener("contextmenu",d,{passive:!1}),!this._firesTouchEvents(e)&&(this._processEvent(this._makeCompatEvent(e),this._handler.mouseEnterEvent),this._acceptMouseLeave=!0)},o.prototype._resetClickTimeout=function(){this._clickTimeoutId!==null&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},o.prototype._resetTapTimeout=function(){this._tapTimeoutId!==null&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},o.prototype._mouseMoveHandler=function(e){this._mousePressed||this._touchMoveStartCoordinate!==null||this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseMoveEvent),this._acceptMouseLeave=!0)},o.prototype._mouseWheelHandler=function(e){if(Math.abs(e.deltaX)>Math.abs(e.deltaY)){if(!Gt(this._handler.mouseWheelHortEvent)||(this._preventDefault(e),Math.abs(e.deltaX)===0))return;this._handler.mouseWheelHortEvent(this._makeCompatEvent(e),-e.deltaX)}else{if(!Gt(this._handler.mouseWheelVertEvent))return;var t=-(e.deltaY/100);if(t===0)return;switch(this._preventDefault(e),e.deltaMode){case e.DOM_DELTA_PAGE:{t*=120;break}case e.DOM_DELTA_LINE:{t*=32;break}}if(t!==0){var n=Math.sign(t)*Math.min(1,Math.abs(t));this._handler.mouseWheelVertEvent(this._makeCompatEvent(e),n)}}},o.prototype._contextMenuHandler=function(e){this._preventDefault(e)},o.prototype._touchMoveHandler=function(e){var t=this._touchWithId(e.changedTouches,this._activeTouchId);if(t!==null&&(this._lastTouchEventTimeStamp=this._eventTimeStamp(e),this._startPinchMiddleCoordinate===null&&!this._preventTouchDragProcess)){this._pinchPrevented=!0;var n=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._touchMoveStartCoordinate),s=n.xOffset,r=n.yOffset,a=n.manhattanDistance;if(!(!this._touchMoveExceededManhattanDistance&&a<Xv.CancelTap)){if(!this._touchMoveExceededManhattanDistance){var c=s*.5,d=r>=c&&!this._options.treatVertDragAsPageScroll(),u=c>r&&!this._options.treatHorzDragAsPageScroll();!d&&!u&&(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}this._preventTouchDragProcess||this._processEvent(this._makeCompatEvent(e,t),this._handler.touchMoveEvent)}}},o.prototype._mouseMoveWithDownHandler=function(e){if(e.button===f0.Left){var t=this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._mouseMoveStartCoordinate),n=t.manhattanDistance;n>=Xv.CancelClick&&(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick&&this._processEvent(this._makeCompatEvent(e),this._handler.pressedMouseMoveEvent)}},o.prototype._mouseTouchMoveWithDownInfo=function(e,t){var n=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y),r=n+s;return{xOffset:n,yOffset:s,manhattanDistance:r}},o.prototype._touchEndHandler=function(e){var t=this._touchWithId(e.changedTouches,this._activeTouchId);if(t===null&&e.touches.length===0&&(t=e.changedTouches[0]),t!==null){this._activeTouchId=null,this._lastTouchEventTimeStamp=this._eventTimeStamp(e),this._clearLongTapTimeout(),this._touchMoveStartCoordinate=null,this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var n=this._makeCompatEvent(e,t);if(this._processEvent(n,this._handler.touchEndEvent),++this._tapCount,this._tapTimeoutId!==null&&this._tapCount>1){var s=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._tapCoordinate).manhattanDistance;s<Xv.DoubleTap&&!this._cancelTap&&this._processEvent(n,this._handler.doubleTapEvent),this._resetTapTimeout()}else this._cancelTap||(this._processEvent(n,this._handler.tapEvent),Gt(this._handler.tapEvent)&&this._preventDefault(e));this._tapCount===0&&this._preventDefault(e),e.touches.length===0&&this._longTapActive&&(this._longTapActive=!1,this._preventDefault(e))}},o.prototype._mouseUpHandler=function(e){if(e.button===f0.Left){var t=this._makeCompatEvent(e);if(this._mouseMoveStartCoordinate=null,this._mousePressed=!1,this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),I1()){var n=this._target.ownerDocument.documentElement;n.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp)}if(!this._firesTouchEvents(e))if(this._processEvent(t,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId!==null&&this._clickCount>1){var s=this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._clickCoordinate).manhattanDistance;s<Xv.DoubleClick&&!this._cancelClick&&this._processEvent(t,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()}else this._cancelClick||this._processEvent(t,this._handler.mouseClickEvent)}},o.prototype._clearLongTapTimeout=function(){this._longTapTimeoutId!==null&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)},o.prototype._touchStartHandler=function(e){if(this._activeTouchId===null){var t=e.changedTouches[0];this._activeTouchId=t.identifier,this._lastTouchEventTimeStamp=this._eventTimeStamp(e);var n=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartCoordinate=this._getCoordinate(t),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);{var s=this._touchMoveHandler.bind(this),r=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=function(){n.removeEventListener("touchmove",s),n.removeEventListener("touchend",r)},n.addEventListener("touchmove",s,{passive:!1}),n.addEventListener("touchend",r,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,e),500)}this._processEvent(this._makeCompatEvent(e,t),this._handler.touchStartEvent),this._tapTimeoutId===null&&(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),500),this._tapCoordinate=this._getCoordinate(t))}},o.prototype._mouseDownHandler=function(e){if(e.button===f0.Right){this._preventDefault(e),this._processEvent(this._makeCompatEvent(e),this._handler.mouseRightClickEvent);return}if(e.button===f0.Left){var t=this._target.ownerDocument.documentElement;I1()&&t.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartCoordinate=this._getCoordinate(e),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);{var n=this._mouseMoveWithDownHandler.bind(this),s=this._mouseUpHandler.bind(this);this._unsubscribeRootMouseEvents=function(){t.removeEventListener("mousemove",n),t.removeEventListener("mouseup",s)},t.addEventListener("mousemove",n),t.addEventListener("mouseup",s)}this._mousePressed=!0,!this._firesTouchEvents(e)&&(this._processEvent(this._makeCompatEvent(e),this._handler.mouseDownEvent),this._clickTimeoutId===null&&(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500),this._clickCoordinate=this._getCoordinate(e)))}},o.prototype._init=function(){var e=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));{var t=this._target.ownerDocument,n=function(s){e._handler.mouseDownOutsideEvent!=null&&(s.composed&&e._target.contains(s.composedPath()[0])||s.target!==null&&e._target.contains(s.target)||e._handler.mouseDownOutsideEvent({x:0,y:0,pageX:0,pageY:0}))};this._unsubscribeOutsideTouchEvents=function(){t.removeEventListener("touchstart",n)},this._unsubscribeOutsideMouseEvents=function(){t.removeEventListener("mousedown",n)},t.addEventListener("mousedown",n),t.addEventListener("touchstart",n,{passive:!0})}Fm()&&(this._unsubscribeMobileSafariEvents=function(){e._target.removeEventListener("dblclick",e._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),this._target.addEventListener("mousedown",function(s){if(s.button===f0.Middle)return s.preventDefault(),!1}),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",function(){},{passive:!1})},o.prototype._initPinch=function(){var e=this;!Gt(this._handler.pinchStartEvent)&&!Gt(this._handler.pinchEvent)&&!Gt(this._handler.pinchEndEvent)||(this._target.addEventListener("touchstart",function(t){e._checkPinchState(t.touches)},{passive:!0}),this._target.addEventListener("touchmove",function(t){if(!(t.touches.length!==2||e._startPinchMiddleCoordinate===null)&&Gt(e._handler.pinchEvent)){var n=e._getTouchDistance(t.touches[0],t.touches[1]),s=n/e._startPinchDistance;e._handler.pinchEvent(Kn(Kn({},e._startPinchMiddleCoordinate),{pageX:0,pageY:0}),s),e._preventDefault(t)}},{passive:!1}),this._target.addEventListener("touchend",function(t){e._checkPinchState(t.touches)}))},o.prototype._checkPinchState=function(e){e.length===1&&(this._pinchPrevented=!1),e.length!==2||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(e)},o.prototype._startPinch=function(e){var t=this._target.getBoundingClientRect();this._startPinchMiddleCoordinate={x:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,y:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this._startPinchDistance=this._getTouchDistance(e[0],e[1]),Gt(this._handler.pinchStartEvent)&&this._handler.pinchStartEvent({x:0,y:0,pageX:0,pageY:0}),this._clearLongTapTimeout()},o.prototype._stopPinch=function(){this._startPinchMiddleCoordinate!==null&&(this._startPinchMiddleCoordinate=null,Gt(this._handler.pinchEndEvent)&&this._handler.pinchEndEvent({x:0,y:0,pageX:0,pageY:0}))},o.prototype._mouseLeaveHandler=function(e){var t,n,s;(t=this._unsubscribeMousemove)===null||t===void 0||t.call(this),(n=this._unsubscribeMouseWheel)===null||n===void 0||n.call(this),(s=this._unsubscribeContextMenu)===null||s===void 0||s.call(this),!this._firesTouchEvents(e)&&this._acceptMouseLeave&&(this._processEvent(this._makeCompatEvent(e),this._handler.mouseLeaveEvent),this._acceptMouseLeave=!Fm())},o.prototype._longTapHandler=function(e){var t=this._touchWithId(e.touches,this._activeTouchId);t!==null&&(this._processEvent(this._makeCompatEvent(e,t),this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0)},o.prototype._firesTouchEvents=function(e){var t;return Gt((t=e.sourceCapabilities)===null||t===void 0?void 0:t.firesTouchEvents)?e.sourceCapabilities.firesTouchEvents:this._eventTimeStamp(e)<this._lastTouchEventTimeStamp+500},o.prototype._processEvent=function(e,t){t==null||t.call(this._handler,e)},o.prototype._makeCompatEvent=function(e,t){var n=this,s=t??e,r=this._target.getBoundingClientRect();return{x:s.clientX-r.left,y:s.clientY-r.top,pageX:s.pageX,pageY:s.pageY,isTouch:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click"&&e.type!=="wheel",preventDefault:function(){e.type!=="touchstart"&&n._preventDefault(e)}}},o.prototype._getTouchDistance=function(e,t){var n=e.clientX-t.clientX,s=e.clientY-t.clientY;return Math.sqrt(n*n+s*s)},o.prototype._preventDefault=function(e){e.cancelable&&e.preventDefault()},o.prototype._getCoordinate=function(e){return{x:e.pageX,y:e.pageY}},o.prototype._eventTimeStamp=function(e){var t;return(t=e.timeStamp)!==null&&t!==void 0?t:performance.now()},o.prototype._touchWithId=function(e,t){for(var n=0;n<e.length;++n)if(e[n].identifier===t)return e[n];return null},o}(),P3=function(){function o(e,t){var n=this;this._flingStartTime=new Date().getTime(),this._flingScrollRequestId=null,this._startScrollCoordinate=null,this._touchCoordinate=null,this._touchCancelCrosshair=!1,this._touchZoomed=!1,this._pinchScale=1,this._mouseDownWidget=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,this._mouseMoveTriggerWidgetInfo={pane:null,widget:null},this._boundKeyBoardDownEvent=function(s){if(s.shiftKey)switch(s.code){case"Equal":{n._chart.getChartStore().zoom(.5);break}case"Minus":{n._chart.getChartStore().zoom(-.5);break}case"ArrowLeft":{var r=n._chart.getChartStore();r.startScroll(),r.scroll(-3*r.getBarSpace().bar);break}case"ArrowRight":{var r=n._chart.getChartStore();r.startScroll(),r.scroll(3*r.getBarSpace().bar);break}}},this._container=e,this._chart=t,this._event=new I3(e,this,{treatVertDragAsPageScroll:function(){return!1},treatHorzDragAsPageScroll:function(){return!1}}),e.addEventListener("keydown",this._boundKeyBoardDownEvent)}return o.prototype.pinchStartEvent=function(){return this._touchZoomed=!0,this._pinchScale=1,!0},o.prototype.pinchEvent=function(e,t){var n=this._findWidgetByEvent(e),s=n.pane,r=n.widget;if((s==null?void 0:s.getId())!==_r.X_AXIS&&(r==null?void 0:r.getName())===Ir.MAIN){var a=this._makeWidgetEvent(e,r),c=(t-this._pinchScale)*5;return this._pinchScale=t,this._chart.getChartStore().zoom(c,{x:a.x,y:a.y}),!0}return!1},o.prototype.mouseWheelHortEvent=function(e,t){var n=this._chart.getChartStore();return n.startScroll(),n.scroll(t),!0},o.prototype.mouseWheelVertEvent=function(e,t){var n=this._findWidgetByEvent(e).widget,s=this._makeWidgetEvent(e,n),r=n==null?void 0:n.getName();return r===Ir.MAIN?(this._chart.getChartStore().zoom(t,{x:s.x,y:s.y}),!0):!1},o.prototype.mouseDownEvent=function(e){var t=this._findWidgetByEvent(e),n=t.pane,s=t.widget;if(this._mouseDownWidget=s,s!==null){var r=this._makeWidgetEvent(e,s),a=s.getName();switch(a){case Ir.SEPARATOR:return s.dispatchEvent("mouseDownEvent",r);case Ir.MAIN:{var c=n.getAxisComponent();if(!c.getAutoCalcTickFlag()){var d=c.getRange();this._prevYAxisRange=Kn({},d)}return this._startScrollCoordinate={x:r.x,y:r.y},this._chart.getChartStore().startScroll(),s.dispatchEvent("mouseDownEvent",r)}case Ir.X_AXIS:return this._processXAxisScrollStartEvent(s,r);case Ir.Y_AXIS:return this._processYAxisScaleStartEvent(s,r)}}return!1},o.prototype.mouseMoveEvent=function(e){var t,n,s,r=this._findWidgetByEvent(e),a=r.pane,c=r.widget,d=this._makeWidgetEvent(e,c);if((((t=this._mouseMoveTriggerWidgetInfo.pane)===null||t===void 0?void 0:t.getId())!==(a==null?void 0:a.getId())||((n=this._mouseMoveTriggerWidgetInfo.widget)===null||n===void 0?void 0:n.getName())!==(c==null?void 0:c.getName()))&&(c==null||c.dispatchEvent("mouseEnterEvent",d),(s=this._mouseMoveTriggerWidgetInfo.widget)===null||s===void 0||s.dispatchEvent("mouseLeaveEvent",d),this._mouseMoveTriggerWidgetInfo={pane:a,widget:c}),c!==null){var u=c.getName();switch(u){case Ir.MAIN:{var p=c.dispatchEvent("mouseMoveEvent",d),h={x:d.x,y:d.y,paneId:a==null?void 0:a.getId()};return p?(h=void 0,c.getContainer().style.cursor="pointer"):c.getContainer().style.cursor="crosshair",this._chart.getChartStore().setCrosshair(h),p}case Ir.SEPARATOR:case Ir.X_AXIS:case Ir.Y_AXIS:{var p=c.dispatchEvent("mouseMoveEvent",d);return this._chart.getChartStore().setCrosshair(),p}}}return!1},o.prototype.pressedMouseMoveEvent=function(e){var t,n;if(this._mouseDownWidget!==null&&this._mouseDownWidget.getName()===Ir.SEPARATOR)return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent",e);var s=this._findWidgetByEvent(e),r=s.pane,a=s.widget;if(a!==null&&((t=this._mouseDownWidget)===null||t===void 0?void 0:t.getPane().getId())===(r==null?void 0:r.getId())&&((n=this._mouseDownWidget)===null||n===void 0?void 0:n.getName())===a.getName()){var c=this._makeWidgetEvent(e,a),d=a.getName();switch(d){case Ir.MAIN:{var u=void 0,p=a.dispatchEvent("pressedMouseMoveEvent",c);return p||(u={x:c.x,y:c.y,paneId:r==null?void 0:r.getId()},this._processMainScrollingEvent(a,c)),this._chart.getChartStore().setCrosshair(u,{forceInvalidate:!0}),p}case Ir.X_AXIS:return this._processXAxisScrollingEvent(a,c);case Ir.Y_AXIS:return this._processYAxisScalingEvent(a,c)}}return!1},o.prototype.mouseUpEvent=function(e){var t=this._findWidgetByEvent(e).widget,n=!1;if(t!==null){var s=this._makeWidgetEvent(e,t),r=t.getName();switch(r){case Ir.MAIN:case Ir.SEPARATOR:case Ir.X_AXIS:case Ir.Y_AXIS:{n=t.dispatchEvent("mouseUpEvent",s);break}}n&&this._chart.updatePane(1)}return this._mouseDownWidget=null,this._startScrollCoordinate=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,n},o.prototype.mouseClickEvent=function(e){var t=this._findWidgetByEvent(e).widget;if(t!==null){var n=this._makeWidgetEvent(e,t);return t.dispatchEvent("mouseClickEvent",n)}return!1},o.prototype.mouseRightClickEvent=function(e){var t=this._findWidgetByEvent(e).widget,n=!1;if(t!==null){var s=this._makeWidgetEvent(e,t),r=t.getName();switch(r){case Ir.MAIN:case Ir.X_AXIS:case Ir.Y_AXIS:{n=t.dispatchEvent("mouseRightClickEvent",s);break}}n&&this._chart.updatePane(1)}return!1},o.prototype.mouseDoubleClickEvent=function(e){var t=this._findWidgetByEvent(e),n=t.pane,s=t.widget;if(s!==null){var r=s.getName();switch(r){case Ir.MAIN:{var a=this._makeWidgetEvent(e,s);return s.dispatchEvent("mouseDoubleClickEvent",a)}case Ir.Y_AXIS:{var c=n.getAxisComponent();if(!c.getAutoCalcTickFlag())return c.setAutoCalcTickFlag(!0),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0}),!0;break}}}return!1},o.prototype.mouseLeaveEvent=function(){return this._chart.getChartStore().setCrosshair(),!0},o.prototype.touchStartEvent=function(e){var t,n=this._findWidgetByEvent(e),s=n.pane,r=n.widget;if(r!==null){var a=this._makeWidgetEvent(e,r);(t=a.preventDefault)===null||t===void 0||t.call(a);var c=r.getName();switch(c){case Ir.MAIN:{var d=this._chart.getChartStore();if(r.dispatchEvent("mouseDownEvent",a))return this._touchCancelCrosshair=!0,this._touchCoordinate=null,d.setCrosshair(void 0,{notInvalidate:!0}),this._chart.updatePane(1),!0;this._flingScrollRequestId!==null&&(p1(this._flingScrollRequestId),this._flingScrollRequestId=null),this._flingStartTime=new Date().getTime();var u=s.getAxisComponent();if(!u.getAutoCalcTickFlag()){var p=u.getRange();this._prevYAxisRange=Kn({},p)}if(this._startScrollCoordinate={x:a.x,y:a.y},d.startScroll(),this._touchZoomed=!1,this._touchCoordinate!==null){var h=a.x-this._touchCoordinate.x,x=a.y-this._touchCoordinate.y,w=Math.sqrt(h*h+x*x);w<C3?(this._touchCoordinate={x:a.x,y:a.y},d.setCrosshair({x:a.x,y:a.y,paneId:s==null?void 0:s.getId()})):(this._touchCoordinate=null,this._touchCancelCrosshair=!0,d.setCrosshair())}return!0}case Ir.X_AXIS:return this._processXAxisScrollStartEvent(r,a);case Ir.Y_AXIS:return this._processYAxisScaleStartEvent(r,a)}}return!1},o.prototype.touchMoveEvent=function(e){var t,n=this._findWidgetByEvent(e),s=n.pane,r=n.widget;if(r!==null){var a=this._makeWidgetEvent(e,r);(t=a.preventDefault)===null||t===void 0||t.call(a);var c=r.getName(),d=this._chart.getChartStore();switch(c){case Ir.MAIN:return r.dispatchEvent("pressedMouseMoveEvent",a)?(d.setCrosshair(void 0,{notInvalidate:!0}),this._chart.updatePane(1),!0):(this._touchCoordinate!==null?d.setCrosshair({x:a.x,y:a.y,paneId:s==null?void 0:s.getId()}):this._processMainScrollingEvent(r,a),!0);case Ir.X_AXIS:return this._processXAxisScrollingEvent(r,a);case Ir.Y_AXIS:return this._processYAxisScalingEvent(r,a)}}return!1},o.prototype.touchEndEvent=function(e){var t=this,n=this._findWidgetByEvent(e).widget;if(n!==null){var s=this._makeWidgetEvent(e,n),r=n.getName();switch(r){case Ir.MAIN:{if(n.dispatchEvent("mouseUpEvent",s),this._startScrollCoordinate!==null){var a=new Date().getTime()-this._flingStartTime,c=s.x-this._startScrollCoordinate.x,d=c/(a>0?a:1)*20;if(a<200&&Math.abs(d)>0){var u=this._chart.getChartStore(),p=function(){t._flingScrollRequestId=Hg(function(){u.startScroll(),u.scroll(d),d=d*(1-.025),Math.abs(d)<1?t._flingScrollRequestId!==null&&(p1(t._flingScrollRequestId),t._flingScrollRequestId=null):p()})};p()}}return!0}case Ir.X_AXIS:case Ir.Y_AXIS:{var h=n.dispatchEvent("mouseUpEvent",s);h&&this._chart.updatePane(1)}}this._startScrollCoordinate=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0}return!1},o.prototype.tapEvent=function(e){var t=this._findWidgetByEvent(e),n=t.pane,s=t.widget,r=!1;if(s!==null){var a=this._makeWidgetEvent(e,s),c=s.dispatchEvent("mouseClickEvent",a);if(s.getName()===Ir.MAIN){var d=this._makeWidgetEvent(e,s),u=this._chart.getChartStore();c?(this._touchCancelCrosshair=!0,this._touchCoordinate=null,u.setCrosshair(void 0,{notInvalidate:!0}),r=!0):(!this._touchCancelCrosshair&&!this._touchZoomed&&(this._touchCoordinate={x:d.x,y:d.y},u.setCrosshair({x:d.x,y:d.y,paneId:n==null?void 0:n.getId()},{notInvalidate:!0}),r=!0),this._touchCancelCrosshair=!1)}(r||c)&&this._chart.updatePane(1)}return r},o.prototype.doubleTapEvent=function(e){return this.mouseDoubleClickEvent(e)},o.prototype.longTapEvent=function(e){var t=this._findWidgetByEvent(e),n=t.pane,s=t.widget;if(s!==null&&s.getName()===Ir.MAIN){var r=this._makeWidgetEvent(e,s);return this._touchCoordinate={x:r.x,y:r.y},this._chart.getChartStore().setCrosshair({x:r.x,y:r.y,paneId:n==null?void 0:n.getId()}),!0}return!1},o.prototype._processMainScrollingEvent=function(e,t){if(this._startScrollCoordinate!==null){var n=e.getPane().getAxisComponent();if(this._prevYAxisRange!==null&&!n.getAutoCalcTickFlag()&&n.scrollZoomEnabled){var s=this._prevYAxisRange,r=s.from,a=s.to,c=s.range,d=0;n.reverse?d=this._startScrollCoordinate.y-t.y:d=t.y-this._startScrollCoordinate.y;var u=e.getBounding(),p=d/u.height,h=c*p,x=r+h,w=a+h,k=n.valueToRealValue(x,{range:this._prevYAxisRange}),S=n.valueToRealValue(w,{range:this._prevYAxisRange}),M=n.realValueToDisplayValue(k,{range:this._prevYAxisRange}),T=n.realValueToDisplayValue(S,{range:this._prevYAxisRange});n.setRange({from:x,to:w,range:w-x,realFrom:k,realTo:S,realRange:S-k,displayFrom:M,displayTo:T,displayRange:T-M})}var D=t.x-this._startScrollCoordinate.x;this._chart.getChartStore().scroll(D)}},o.prototype._processXAxisScrollStartEvent=function(e,t){var n=e.dispatchEvent("mouseDownEvent",t);return n&&this._chart.updatePane(1),this._xAxisStartScaleCoordinate={x:t.x,y:t.y},this._xAxisStartScaleDistance=t.pageX,n},o.prototype._processXAxisScrollingEvent=function(e,t){var n,s=e.dispatchEvent("pressedMouseMoveEvent",t);if(s)this._chart.updatePane(1);else{var r=e.getPane().getAxisComponent();if(r.scrollZoomEnabled&&this._xAxisStartScaleDistance!==0){var a=this._xAxisStartScaleDistance/t.pageX;if(Number.isFinite(a)){var c=(a-this._xAxisScale)*10;this._xAxisScale=a,this._chart.getChartStore().zoom(c,(n=this._xAxisStartScaleCoordinate)!==null&&n!==void 0?n:void 0)}}}return s},o.prototype._processYAxisScaleStartEvent=function(e,t){var n=e.dispatchEvent("mouseDownEvent",t);n&&this._chart.updatePane(1);var s=e.getPane().getAxisComponent().getRange();return this._prevYAxisRange=Kn({},s),this._yAxisStartScaleDistance=t.pageY,n},o.prototype._processYAxisScalingEvent=function(e,t){var n=e.dispatchEvent("pressedMouseMoveEvent",t);if(n)this._chart.updatePane(1);else{var s=e.getPane().getAxisComponent();if(this._prevYAxisRange!==null&&s.scrollZoomEnabled&&this._yAxisStartScaleDistance!==0){var r=this._prevYAxisRange,a=r.from,c=r.to,d=r.range,u=t.pageY/this._yAxisStartScaleDistance,p=d*u,h=(p-d)/2,x=a-h,w=c+h,k=s.valueToRealValue(x,{range:this._prevYAxisRange}),S=s.valueToRealValue(w,{range:this._prevYAxisRange}),M=s.realValueToDisplayValue(k,{range:this._prevYAxisRange}),T=s.realValueToDisplayValue(S,{range:this._prevYAxisRange});s.setRange({from:x,to:w,range:p,realFrom:k,realTo:S,realRange:S-k,displayFrom:M,displayTo:T,displayRange:T-M}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0})}}return n},o.prototype._findWidgetByEvent=function(e){var t,n,s,r,a=e.x,c=e.y,d=this._chart.getSeparatorPanes(),u=this._chart.getStyles().separator.size;try{for(var p=hd(d),h=p.next();!h.done;h=p.next()){var x=Zd(h.value,2),w=x[1],k=w.getBounding(),S=k.top-Math.round((b0-u)/2);if(a>=k.left&&a<=k.left+k.width&&c>=S&&c<=S+b0)return{pane:w,widget:w.getWidget()}}}catch(Y){t={error:Y}}finally{try{h&&!h.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}var M=this._chart.getDrawPanes(),T=null;try{for(var D=hd(M),A=D.next();!A.done;A=D.next()){var j=A.value,k=j.getBounding();if(a>=k.left&&a<=k.left+k.width&&c>=k.top&&c<=k.top+k.height){T=j;break}}}catch(Y){s={error:Y}}finally{try{A&&!A.done&&(r=D.return)&&r.call(D)}finally{if(s)throw s.error}}var F=null;if(T!==null){if(!Gt(F)){var q=T.getMainWidget(),B=q.getBounding();a>=B.left&&a<=B.left+B.width&&c>=B.top&&c<=B.top+B.height&&(F=q)}if(!Gt(F)){var O=T.getYAxisWidget();if(O!==null){var z=O.getBounding();a>=z.left&&a<=z.left+z.width&&c>=z.top&&c<=z.top+z.height&&(F=O)}}}return{pane:T,widget:F}},o.prototype._makeWidgetEvent=function(e,t){var n,s,r,a=(n=t==null?void 0:t.getBounding())!==null&&n!==void 0?n:null;return Kn(Kn({},e),{x:e.x-((s=a==null?void 0:a.left)!==null&&s!==void 0?s:0),y:e.y-((r=a==null?void 0:a.top)!==null&&r!==void 0?r:0)})},o.prototype.destroy=function(){this._container.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._event.destroy()},o}(),zd;(function(o){o.Root="root",o.Main="main",o.YAxis="yAxis"})(zd||(zd={}));var M3=function(){function o(e,t){this._chartBounding=Gg(),this._drawPanes=[],this._separatorPanes=new Map,this._layoutOptions={sort:!0,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!1,forceBuildYAxisTick:!1},this._layoutPending=!1,this._initContainer(e),this._chartEvent=new P3(this._chartContainer,this),this._chartStore=new P5(this,t),this._initPanes(t),this._layout()}return o.prototype._initContainer=function(e){this._container=e,this._chartContainer=Cu("div",{position:"relative",width:"100%",height:"100%",outline:"none",borderStyle:"none",cursor:"crosshair",boxSizing:"border-box",userSelect:"none",webkitUserSelect:"none",overflow:"hidden",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent"}),this._chartContainer.tabIndex=1,e.appendChild(this._chartContainer),this._cacheChartBounding()},o.prototype._cacheChartBounding=function(){this._chartBounding.width=Math.floor(this._chartContainer.clientWidth),this._chartBounding.height=Math.floor(this._chartContainer.clientHeight)},o.prototype._initPanes=function(e){var t=this,n,s=(n=e==null?void 0:e.layout)!==null&&n!==void 0?n:[{type:"candle"}],r=function(c){var d,u;if(!Gt(t._candlePane)){var p=(d=c.options)!==null&&d!==void 0?d:{};Dl(p,{id:_r.CANDLE}),t._candlePane=t._createPane(p3,_r.CANDLE,p);var h=(u=c.content)!==null&&u!==void 0?u:[];h.forEach(function(x){t.createIndicator(x,!0,p)})}},a=function(c){if(!Gt(t._xAxisPane)){var d=t._createPane(x3,_r.X_AXIS,c??{});t._xAxisPane=d}};s.forEach(function(c){var d,u,p;switch(c.type){case"candle":{r(c);break}case"indicator":{var h=(d=c.content)!==null&&d!==void 0?d:[];if(h.length>0){var x=(p=(u=c.options)===null||u===void 0?void 0:u.id)!==null&&p!==void 0?p:null;Gt(x)&&(x=Lg(_r.INDICATOR));var w=Kn(Kn({},c.options),{id:x});h.forEach(function(k){t.createIndicator(k,!0,w)})}break}case"xAxis":{a(c.options);break}}}),r({}),a({order:Number.MAX_SAFE_INTEGER})},o.prototype._createPane=function(e,t,n){var s=new e(this,t,n??{});return this._drawPanes.push(s),s},o.prototype._recalculatePaneHeight=function(e,t,n){if(n===0)return!1;var s=this._drawPanes.filter(function(h){var x=h.getId();return h.getOptions().state==="normal"&&x!==e.getId()&&x!==_r.X_AXIS}),r=s.length;if(r===0)return!1;if(e.getId()!==_r.CANDLE&&Gt(this._candlePane)&&this._candlePane.getOptions().state==="normal"){var a=this._candlePane.getBounding().height;if(a>0){var c=this._candlePane.getOptions().minHeight,d=a+n;d<c&&(d=c,t-=a+n-d),this._candlePane.setBounding({height:d})}}else{var u=n,p=Math.floor(n/r);s.forEach(function(h,x){var w=h.getBounding().height,k=0;x===r-1?k=w+u:k=w+p,k<h.getOptions().minHeight&&(k=h.getOptions().minHeight),h.setBounding({height:k}),u-=k-w}),Math.abs(u)>0&&(t-=u)}return e.setBounding({height:t}),!0},o.prototype.getDrawPaneById=function(e){if(e===_r.CANDLE)return this._candlePane;if(e===_r.X_AXIS)return this._xAxisPane;var t=this._drawPanes.find(function(n){return n.getId()===e});return t??null},o.prototype.getContainer=function(){return this._container},o.prototype.getChartStore=function(){return this._chartStore},o.prototype.getXAxisPane=function(){return this._xAxisPane},o.prototype.getDrawPanes=function(){return this._drawPanes},o.prototype.getSeparatorPanes=function(){return this._separatorPanes},o.prototype.layout=function(e){var t=this,n,s,r,a,c,d;(n=e.sort)!==null&&n!==void 0&&n&&(this._layoutOptions.sort=e.sort),(s=e.measureHeight)!==null&&s!==void 0&&s&&(this._layoutOptions.measureHeight=e.measureHeight),(r=e.measureWidth)!==null&&r!==void 0&&r&&(this._layoutOptions.measureWidth=e.measureWidth),(a=e.update)!==null&&a!==void 0&&a&&(this._layoutOptions.update=e.update),(c=e.buildYAxisTick)!==null&&c!==void 0&&c&&(this._layoutOptions.buildYAxisTick=e.buildYAxisTick),(d=e.buildYAxisTick)!==null&&d!==void 0&&d&&(this._layoutOptions.forceBuildYAxisTick=e.forceBuildYAxisTick),this._layoutPending||(this._layoutPending=!0,Promise.resolve().then(function(u){t._layout(),t._layoutPending=!1}).catch(function(u){}))},o.prototype._layout=function(){var e=this,t=this._layoutOptions,n=t.sort,s=t.measureHeight,r=t.measureWidth,a=t.update,c=t.buildYAxisTick,d=t.forceBuildYAxisTick;if(n){for(;Gt(this._chartContainer.firstChild);)this._chartContainer.removeChild(this._chartContainer.firstChild);this._separatorPanes.clear(),this._drawPanes.sort(function(ie,te){return ie.getOptions().order-te.getOptions().order});var u=null;this._drawPanes.forEach(function(ie){if(ie.getId()!==_r.X_AXIS){if(Gt(u)){var te=new S3(e,"",u,ie);e._chartContainer.appendChild(te.getContainer()),e._separatorPanes.set(ie,te)}u=ie}e._chartContainer.appendChild(ie.getContainer())})}if(s){var p=this._chartBounding.height,h=this.getStyles().separator.size,x=this._xAxisPane.getAxisComponent().getAutoSize(),w=p-x;w<0&&(w=0),this._drawPanes.forEach(function(ie){var te=ie.getId();if(Gt(e._separatorPanes.get(ie))&&(w-=h),te!==_r.X_AXIS&&te!==_r.CANDLE&&ie.getVisible()){var K=ie.getBounding().height;K>w?(K=w,w=0):w-=K,ie.setBounding({height:K})}}),this._candlePane.setBounding({height:Math.max(w,0)}),this._xAxisPane.setBounding({height:x});var k=0;this._drawPanes.forEach(function(ie){var te=e._separatorPanes.get(ie);Gt(te)&&(te.setBounding({height:h,top:k}),k+=h),ie.setBounding({top:k}),k+=ie.getBounding().height})}var S=r;if((c||d)&&this._drawPanes.forEach(function(ie){var te=ie.getAxisComponent().buildTicks(d);S||(S=te)}),S){var M=this._chartBounding.width,T=this.getStyles(),D=0,A=!0,j=0,F=!0;this._drawPanes.forEach(function(ie){if(ie.getId()!==_r.X_AXIS){var te=ie.getAxisComponent(),K=te.inside,J=te.getAutoSize();te.position===wu.Left?(D=Math.max(D,J),K&&(A=!1)):(j=Math.max(j,J),K&&(F=!1))}});var q=M,B=0,O=0;A&&(q-=D,B=D),F&&(q-=j,O=j),this._chartStore.setTotalBarSpace(q);var z={width:M},Y={width:q,left:B,right:O},G={width:D},oe={width:j},re=T.separator.fill,se={};re?se=z:se=Y,this._drawPanes.forEach(function(ie){var te;(te=e._separatorPanes.get(ie))===null||te===void 0||te.setBounding(se),ie.setBounding(z,Y,G,oe)})}a&&(this._xAxisPane.getAxisComponent().buildTicks(!0),this.updatePane(4)),this._layoutOptions={sort:!1,measureHeight:!1,measureWidth:!1,update:!1,buildYAxisTick:!1,forceBuildYAxisTick:!1}},o.prototype.updatePane=function(e,t){var n=this;if(Gt(t)){var s=this.getDrawPaneById(t);s==null||s.update(e)}else this._drawPanes.forEach(function(r){var a;r.update(e),(a=n._separatorPanes.get(r))===null||a===void 0||a.update(e)})},o.prototype.crosshairChange=function(e){var t=this;if(this._chartStore.hasAction(Rc.OnCrosshairChange)){var n={};this._drawPanes.forEach(function(s){var r=s.getId(),a={},c=t._chartStore.getIndicatorsByPaneId(r);c.forEach(function(d){var u,p=d.result;a[d.name]=p[(u=e.dataIndex)!==null&&u!==void 0?u:p.length-1]}),n[r]=a}),da(e.paneId)&&this._chartStore.executeAction(Rc.OnCrosshairChange,Kn(Kn({},e),{indicatorData:n}))}},o.prototype.getDom=function(e,t){var n,s;if(Gt(e)){var r=this.getDrawPaneById(e);if(Gt(r)){var a=t??zd.Root;switch(a){case zd.Root:return r.getContainer();case zd.Main:return r.getMainWidget().getContainer();case zd.YAxis:return(s=(n=r.getYAxisWidget())===null||n===void 0?void 0:n.getContainer())!==null&&s!==void 0?s:null}}}else return this._chartContainer;return null},o.prototype.getSize=function(e,t){var n,s;if(Gt(e)){var r=this.getDrawPaneById(e);if(Gt(r)){var a=t??zd.Root;switch(a){case zd.Root:return r.getBounding();case zd.Main:return r.getMainWidget().getBounding();case zd.YAxis:return(s=(n=r.getYAxisWidget())===null||n===void 0?void 0:n.getBounding())!==null&&s!==void 0?s:null}}}else return this._chartBounding;return null},o.prototype.setPrecision=function(e){this._chartStore.setPrecision(e)},o.prototype.getPrecision=function(){return this._chartStore.getPrecision()},o.prototype.setStyles=function(e){var t=this;this._setOptions(function(){t._chartStore.setStyles(e)})},o.prototype.getStyles=function(){return this._chartStore.getStyles()},o.prototype.setCustomApi=function(e){var t=this;this._setOptions(function(){t._chartStore.setCustomApi(e)})},o.prototype.getCustomApi=function(){return this._chartStore.getCustomApi()},o.prototype.setLocale=function(e){var t=this;this._setOptions(function(){t._chartStore.setLocale(e)})},o.prototype.getLocale=function(){return this._chartStore.getLocale()},o.prototype.setTimezone=function(e){var t=this;this._setOptions(function(){t._chartStore.setTimezone(e)})},o.prototype.getTimezone=function(){return this._chartStore.getTimezone()},o.prototype.setThousandsSeparator=function(e){var t=this;this._setOptions(function(){t._chartStore.setThousandsSeparator(e)})},o.prototype.getThousandsSeparator=function(){return this._chartStore.getThousandsSeparator()},o.prototype.setDecimalFold=function(e){var t=this;this._setOptions(function(){t._chartStore.setDecimalFold(e)})},o.prototype.getDecimalFold=function(){return this._chartStore.getDecimalFold()},o.prototype._setOptions=function(e){e(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},o.prototype.setOffsetRightDistance=function(e){this._chartStore.setOffsetRightDistance(e,!0)},o.prototype.getOffsetRightDistance=function(){return this._chartStore.getOffsetRightDistance()},o.prototype.setMaxOffsetLeftDistance=function(e){e<0||this._chartStore.setMaxOffsetLeftDistance(e)},o.prototype.setMaxOffsetRightDistance=function(e){e<0||this._chartStore.setMaxOffsetRightDistance(e)},o.prototype.setLeftMinVisibleBarCount=function(e){e<0||this._chartStore.setLeftMinVisibleBarCount(Math.ceil(e))},o.prototype.setRightMinVisibleBarCount=function(e){e<0||this._chartStore.setRightMinVisibleBarCount(Math.ceil(e))},o.prototype.setBarSpace=function(e){this._chartStore.setBarSpace(e)},o.prototype.getBarSpace=function(){return this._chartStore.getBarSpace()},o.prototype.getVisibleRange=function(){return this._chartStore.getVisibleRange()},o.prototype.clearData=function(){this._chartStore.clearData()},o.prototype.getDataList=function(){return this._chartStore.getDataList()},o.prototype.applyNewData=function(e,t){this._drawPanes.forEach(function(s){s.getAxisComponent().setAutoCalcTickFlag(!0)});var n={forward:!1,backward:!1};D0(t)?(n.forward=t,n.backward=t):n=Kn(Kn({},n),t),this._chartStore.addData(e,ed.Init,n)},o.prototype.updateData=function(e){this._chartStore.addData(e,ed.Update)},o.prototype.setLoadMoreDataCallback=function(e){this._chartStore.setLoadMoreDataCallback(e)},o.prototype.createIndicator=function(e,t,n){var s,r=da(e)?{name:e}:e;if(N2(r.name)===null)return null;var a=n??{};da(a.id)||(a.id=Lg(_r.INDICATOR)),da(r.id)||(r.id=Lg(r.name));var c=this._chartStore.addIndicator(r,a.id,t??!1);if(c){var d=!1;return Gt(this.getDrawPaneById(a.id))||(this._createPane(uy,a.id,a),(s=a.height)!==null&&s!==void 0||(a.height=H2),d=!0),this.setPaneOptions(a),this.layout({sort:d,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0}),r.id}return null},o.prototype.overrideIndicator=function(e){return this._chartStore.overrideIndicator(e)},o.prototype.getIndicators=function(e){return this._chartStore.getIndicatorsByFilter(e??{})},o.prototype.removeIndicator=function(e){var t=this,n=this._chartStore.removeIndicator(e??{});if(n){var s=!1,r=[];this._drawPanes.forEach(function(a){var c=a.getId();c!==_r.CANDLE&&c!==_r.X_AXIS&&r.push(c)}),r.forEach(function(a){if(!t._chartStore.hasIndicators(a)){var c=t._drawPanes.findIndex(function(u){return u.getId()===a}),d=t._drawPanes[c];Gt(d)&&(s=!0,t._recalculatePaneHeight(d,0,d.getBounding().height),t._drawPanes.splice(c,1),d.destroy())}}),this._drawPanes.length===2&&(this._candlePane.setVisible(!0),this._candlePane.setBounding({height:this._chartBounding.height-this._xAxisPane.getBounding().height})),this.layout({sort:s,measureHeight:s,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}return n},o.prototype.createOverlay=function(e){var t=this,n=[],s=[],r=function(c){!Gt(c.paneId)||t.getDrawPaneById(c.paneId)===null?(c.paneId=_r.CANDLE,s.push(!1)):s.push(!0),n.push(c)};da(e)?r({name:e}):Kd(e)?e.forEach(function(c){var d=null;da(c)?d={name:c}:d=c,r(d)}):r(e);var a=this._chartStore.addOverlays(n,s);return Kd(e)?a:a[0]},o.prototype.getOverlays=function(e){return this._chartStore.getOverlaysByFilter(e??{})},o.prototype.overrideOverlay=function(e){return this._chartStore.overrideOverlay(e)},o.prototype.removeOverlay=function(e){return this._chartStore.removeOverlay(e??{})},o.prototype.setPaneOptions=function(e){var t,n,s=this,r,a=!1,c=!1,d=Gt(e.id),u=function(S){var M=S.getId();if(d&&e.id===M||!d){if(M!==_r.X_AXIS){if(ys(e.height)&&e.height>0){var T=Math.max((r=e.minHeight)!==null&&r!==void 0?r:S.getOptions().minHeight,0),D=Math.max(T,e.height);c=!0,a=!0,S.setOriginalBounding({height:D}),p._recalculatePaneHeight(S,D,-D)}if(Gt(e.state)&&S.getOptions().state!==e.state){a=!0,c=!0;var A=e.state;switch(A){case"maximize":{var j=p._drawPanes.find(function(z){var Y=z.getId();return z.getOptions().state==="maximize"&&Y!==_r.X_AXIS});if(!Gt(j)){S.getOptions().state==="normal"&&S.setOriginalBounding({height:S.getBounding().height}),S.setOptions({state:A});var F=p._chartBounding.height;S.setBounding({height:F-p._xAxisPane.getBounding().height}),p._drawPanes.forEach(function(z){var Y;z.getId()!==_r.X_AXIS&&z.getId()!==M&&(z.setBounding({height:z.getOriginalBounding().height}),z.setVisible(!1),(Y=s._separatorPanes.get(z))===null||Y===void 0||Y.setVisible(!1))})}break}case"minimize":{var D=S.getBounding().height,q=S.getOptions().state,B=D-Eg;q==="maximize"&&(B=S.getOriginalBounding().height-Eg),p._recalculatePaneHeight(S,Eg,B)&&(q==="normal"&&S.setOriginalBounding({height:D}),S.setOptions({state:A})),p._drawPanes.forEach(function(Y){var G;Y.getId()!==_r.X_AXIS&&(Y.setVisible(!0),(G=s._separatorPanes.get(Y))===null||G===void 0||G.setVisible(!0))});break}default:{var D=S.getOriginalBounding().height;p._recalculatePaneHeight(S,D,S.getBounding().height-D)&&S.setOptions({state:A}),p._drawPanes.forEach(function(Y){var G;Y.getId()!==_r.X_AXIS&&(Y.setVisible(!0),(G=s._separatorPanes.get(Y))===null||G===void 0||G.setVisible(!0))});break}}}}Gt(e.axis)&&(c=!0);var O=Kn({},e);if(delete O.state,S.setOptions(O),M===e.id)return"break"}},p=this;try{for(var h=hd(this._drawPanes),x=h.next();!x.done;x=h.next()){var w=x.value,k=u(w);if(k==="break")break}}catch(S){t={error:S}}finally{try{x&&!x.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}c&&this.layout({measureHeight:a,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},o.prototype.getPaneOptions=function(e){var t;if(Gt(e)){var n=this.getDrawPaneById(e);return(t=n==null?void 0:n.getOptions())!==null&&t!==void 0?t:null}return this._drawPanes.map(function(s){return s.getOptions()})},o.prototype.setZoomEnabled=function(e){this._chartStore.setZoomEnabled(e)},o.prototype.isZoomEnabled=function(){return this._chartStore.isZoomEnabled()},o.prototype.setScrollEnabled=function(e){this._chartStore.setScrollEnabled(e)},o.prototype.isScrollEnabled=function(){return this._chartStore.isScrollEnabled()},o.prototype.scrollByDistance=function(e,t){var n=this,s=ys(t)&&t>0?t:0;if(this._chartStore.startScroll(),s>0){var r=new lh({duration:s});r.doFrame(function(a){var c=e*(a/s);n._chartStore.scroll(c)}),r.start()}else this._chartStore.scroll(e)},o.prototype.scrollToRealTime=function(e){var t=this._chartStore.getBarSpace().bar,n=this._chartStore.getLastBarRightSideDiffBarCount()-this._chartStore.getInitialOffsetRightDistance()/t,s=n*t;this.scrollByDistance(s,e)},o.prototype.scrollToDataIndex=function(e,t){var n=(this._chartStore.getLastBarRightSideDiffBarCount()+(this.getDataList().length-1-e))*this._chartStore.getBarSpace().bar;this.scrollByDistance(n,t)},o.prototype.scrollToTimestamp=function(e,t){var n=ch(this.getDataList(),"timestamp",e);this.scrollToDataIndex(n,t)},o.prototype.zoomAtCoordinate=function(e,t,n){var s=this,r=ys(n)&&n>0?n:0,a=this._chartStore.getBarSpace().bar,c=a*e,d=c-a;if(r>0){var u=0,p=new lh({duration:r});p.doFrame(function(h){var x=d*(h/r),w=(x-u)/s._chartStore.getBarSpace().bar*dh;s._chartStore.zoom(w,t),u=x}),p.start()}else this._chartStore.zoom(d/a*dh,t)},o.prototype.zoomAtDataIndex=function(e,t,n){var s=this._chartStore.dataIndexToCoordinate(t);this.zoomAtCoordinate(e,{x:s,y:0},n)},o.prototype.zoomAtTimestamp=function(e,t,n){var s=ch(this.getDataList(),"timestamp",t);this.zoomAtDataIndex(e,s,n)},o.prototype.convertToPixel=function(e,t){var n=this,s,r=t??{},a=r.paneId,c=a===void 0?_r.CANDLE:a,d=r.absolute,u=d===void 0?!1:d,p=[];if(c!==_r.X_AXIS){var h=this.getDrawPaneById(c);if(h!==null){var x=h.getBounding(),w=[].concat(e),k=this._xAxisPane.getAxisComponent(),S=h.getAxisComponent();p=w.map(function(M){var T={},D=M.dataIndex;if(ys(M.timestamp)&&(D=n._chartStore.timestampToDataIndex(M.timestamp)),ys(D)&&(T.x=k.convertToPixel(D)),ys(M.value)){var A=S.convertToPixel(M.value);T.y=u?x.top+A:A}return T})}}return Kd(e)?p:(s=p[0])!==null&&s!==void 0?s:{}},o.prototype.convertFromPixel=function(e,t){var n=this,s,r=t??{},a=r.paneId,c=a===void 0?_r.CANDLE:a,d=r.absolute,u=d===void 0?!1:d,p=[];if(c!==_r.X_AXIS){var h=this.getDrawPaneById(c);if(h!==null){var x=h.getBounding(),w=[].concat(e),k=this._xAxisPane.getAxisComponent(),S=h.getAxisComponent();p=w.map(function(M){var T,D={};if(ys(M.x)){var A=k.convertFromPixel(M.x);D.dataIndex=A,D.timestamp=(T=n._chartStore.dataIndexToTimestamp(A))!==null&&T!==void 0?T:void 0}if(ys(M.y)){var j=u?M.y-x.top:M.y;D.value=S.convertFromPixel(j)}return D})}}return Kd(e)?p:(s=p[0])!==null&&s!==void 0?s:{}},o.prototype.executeAction=function(e,t){var n;switch(e){case Rc.OnCrosshairChange:{var s=Kn({},t);(n=s.paneId)!==null&&n!==void 0||(s.paneId=_r.CANDLE),this._chartStore.setCrosshair(s,{notExecuteAction:!0});break}}},o.prototype.subscribeAction=function(e,t){this._chartStore.subscribeAction(e,t)},o.prototype.unsubscribeAction=function(e,t){this._chartStore.unsubscribeAction(e,t)},o.prototype.getConvertPictureUrl=function(e,t,n){var s=this,r=this._chartBounding,a=r.width,c=r.height,d=Cu("canvas",{width:"".concat(a,"px"),height:"".concat(c,"px"),boxSizing:"border-box"}),u=d.getContext("2d"),p=zu(d);d.width=a*p,d.height=c*p,u.scale(p,p),u.fillStyle=n??"#FFFFFF",u.fillRect(0,0,a,c);var h=e??!1;return this._drawPanes.forEach(function(x){var w=s._separatorPanes.get(x);if(Gt(w)){var k=w.getBounding();u.drawImage(w.getImage(h),k.left,k.top,k.width,k.height)}var S=x.getBounding();u.drawImage(x.getImage(h),0,S.top,a,S.height)}),d.toDataURL("image/".concat(t??"jpeg"))},o.prototype.resize=function(){this._cacheChartBounding(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},o.prototype.destroy=function(){this._chartEvent.destroy(),this._drawPanes.forEach(function(e){e.destroy()}),this._drawPanes=[],this._separatorPanes.clear(),this._container.removeChild(this._chartContainer)},o}(),P1=new Map,T3=1;function A3(o,e){var t=null;if(da(o)?t=document.getElementById(o):t=o,t===null)return null;var n=P1.get(t.id);if(Gt(n))return n;var s="k_line_chart_".concat(T3++);return n=new M3(t,e),n.id=s,t.setAttribute("k-line-chart-id",s),P1.set(s,n),n}var mv={clone:ip,merge:Dl,isString:da,isNumber:ys,isValid:Gt,isObject:Md,isArray:Kd,isFunction:xc,isBoolean:D0,formatValue:Hl,formatPrecision:_c,formatBigNumber:F2,formatDate:E2,formatThousands:j2,formatFoldDecimal:$2,calcTextWidth:ap,getLinearSlopeIntercept:e_,getLinearYFromSlopeIntercept:Ph,getLinearYFromCoordinates:C0,checkCoordinateOnArc:Q2,checkCoordinateOnCircle:Y2,checkCoordinateOnLine:V2,checkCoordinateOnPolygon:K2,checkCoordinateOnRect:Ah,checkCoordinateOnText:J2},jm={local:{},session:{}};function D3(o){return o==="local"?localStorage:sessionStorage}function Lh(o,e,t){var n,s,r,a,c,d,u,p;const h=(n=void 0)!=null?n:JSON,x=(s=void 0)!=null?s:"local",w=(r=void 0)!=null?r:!0,k=(c=(a=void 0)!=null?a:void 0)!=null?c:q=>console.error(`Error when writing value from persisted store "${o}" to ${x}`,q),S=(d=void 0)!=null?d:(q,B)=>console.error(`Error when parsing ${q?'"'+q+'"':"value"} from persisted store "${o}"`,B),M=(u=void 0)!=null?u:q=>q,T=(p=void 0)!=null?p:q=>q,D=typeof window<"u"&&typeof document<"u",A=D?D3(x):null;function j(q,B){const O=T(B);try{A==null||A.setItem(q,h.stringify(O))}catch(z){k(z)}}function F(){function q(Y){try{return h.parse(Y)}catch(G){S(Y,G)}}const B=A==null?void 0:A.getItem(o);if(B==null)return e;const O=q(B);return O==null?e:M(O)}if(!jm[x][o]){const q=F(),B=bc(q,Y=>{if(D&&x=="local"&&w){const G=oe=>{if(oe.key===o&&oe.newValue){let re;try{re=h.parse(oe.newValue)}catch(ie){S(oe.newValue,ie);return}const se=M(re);Y(se)}};return window.addEventListener("storage",G),()=>window.removeEventListener("storage",G)}}),{subscribe:O,set:z}=B;jm[x][o]={set(Y){z(Y),j(o,Y)},update(Y){return B.update(G=>{const oe=Y(G);return j(o,oe),oe})},reset(){this.set(e)},subscribe:O}}return jm[x][o]}var yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L0(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var vy={exports:{}};(function(o,e){(function(t,n){o.exports=n()})(yu,function(){var t=1e3,n=6e4,s=36e5,r="millisecond",a="second",c="minute",d="hour",u="day",p="week",h="month",x="quarter",w="year",k="date",S="Invalid Date",M=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,D={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(se){var ie=["th","st","nd","rd"],te=se%100;return"["+se+(ie[(te-20)%10]||ie[te]||ie[0])+"]"}},A=function(se,ie,te){var K=String(se);return!K||K.length>=ie?se:""+Array(ie+1-K.length).join(te)+se},j={s:A,z:function(se){var ie=-se.utcOffset(),te=Math.abs(ie),K=Math.floor(te/60),J=te%60;return(ie<=0?"+":"-")+A(K,2,"0")+":"+A(J,2,"0")},m:function se(ie,te){if(ie.date()<te.date())return-se(te,ie);var K=12*(te.year()-ie.year())+(te.month()-ie.month()),J=ie.clone().add(K,h),U=te-J<0,ae=ie.clone().add(K+(U?-1:1),h);return+(-(K+(te-J)/(U?J-ae:ae-J))||0)},a:function(se){return se<0?Math.ceil(se)||0:Math.floor(se)},p:function(se){return{M:h,y:w,w:p,d:u,D:k,h:d,m:c,s:a,ms:r,Q:x}[se]||String(se||"").toLowerCase().replace(/s$/,"")},u:function(se){return se===void 0}},F="en",q={};q[F]=D;var B="$isDayjsObject",O=function(se){return se instanceof oe||!(!se||!se[B])},z=function se(ie,te,K){var J;if(!ie)return F;if(typeof ie=="string"){var U=ie.toLowerCase();q[U]&&(J=U),te&&(q[U]=te,J=U);var ae=ie.split("-");if(!J&&ae.length>1)return se(ae[0])}else{var me=ie.name;q[me]=ie,J=me}return!K&&J&&(F=J),J||!K&&F},Y=function(se,ie){if(O(se))return se.clone();var te=typeof ie=="object"?ie:{};return te.date=se,te.args=arguments,new oe(te)},G=j;G.l=z,G.i=O,G.w=function(se,ie){return Y(se,{locale:ie.$L,utc:ie.$u,x:ie.$x,$offset:ie.$offset})};var oe=function(){function se(te){this.$L=z(te.locale,null,!0),this.parse(te),this.$x=this.$x||te.x||{},this[B]=!0}var ie=se.prototype;return ie.parse=function(te){this.$d=function(K){var J=K.date,U=K.utc;if(J===null)return new Date(NaN);if(G.u(J))return new Date;if(J instanceof Date)return new Date(J);if(typeof J=="string"&&!/Z$/i.test(J)){var ae=J.match(M);if(ae){var me=ae[2]-1||0,ke=(ae[7]||"0").substring(0,3);return U?new Date(Date.UTC(ae[1],me,ae[3]||1,ae[4]||0,ae[5]||0,ae[6]||0,ke)):new Date(ae[1],me,ae[3]||1,ae[4]||0,ae[5]||0,ae[6]||0,ke)}}return new Date(J)}(te),this.init()},ie.init=function(){var te=this.$d;this.$y=te.getFullYear(),this.$M=te.getMonth(),this.$D=te.getDate(),this.$W=te.getDay(),this.$H=te.getHours(),this.$m=te.getMinutes(),this.$s=te.getSeconds(),this.$ms=te.getMilliseconds()},ie.$utils=function(){return G},ie.isValid=function(){return this.$d.toString()!==S},ie.isSame=function(te,K){var J=Y(te);return this.startOf(K)<=J&&J<=this.endOf(K)},ie.isAfter=function(te,K){return Y(te)<this.startOf(K)},ie.isBefore=function(te,K){return this.endOf(K)<Y(te)},ie.$g=function(te,K,J){return G.u(te)?this[K]:this.set(J,te)},ie.unix=function(){return Math.floor(this.valueOf()/1e3)},ie.valueOf=function(){return this.$d.getTime()},ie.startOf=function(te,K){var J=this,U=!!G.u(K)||K,ae=G.p(te),me=function(je,Te){var Se=G.w(J.$u?Date.UTC(J.$y,Te,je):new Date(J.$y,Te,je),J);return U?Se:Se.endOf(u)},ke=function(je,Te){return G.w(J.toDate()[je].apply(J.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(Te)),J)},Ae=this.$W,Le=this.$M,He=this.$D,it="set"+(this.$u?"UTC":"");switch(ae){case w:return U?me(1,0):me(31,11);case h:return U?me(1,Le):me(0,Le+1);case p:var Ne=this.$locale().weekStart||0,we=(Ae<Ne?Ae+7:Ae)-Ne;return me(U?He-we:He+(6-we),Le);case u:case k:return ke(it+"Hours",0);case d:return ke(it+"Minutes",1);case c:return ke(it+"Seconds",2);case a:return ke(it+"Milliseconds",3);default:return this.clone()}},ie.endOf=function(te){return this.startOf(te,!1)},ie.$set=function(te,K){var J,U=G.p(te),ae="set"+(this.$u?"UTC":""),me=(J={},J[u]=ae+"Date",J[k]=ae+"Date",J[h]=ae+"Month",J[w]=ae+"FullYear",J[d]=ae+"Hours",J[c]=ae+"Minutes",J[a]=ae+"Seconds",J[r]=ae+"Milliseconds",J)[U],ke=U===u?this.$D+(K-this.$W):K;if(U===h||U===w){var Ae=this.clone().set(k,1);Ae.$d[me](ke),Ae.init(),this.$d=Ae.set(k,Math.min(this.$D,Ae.daysInMonth())).$d}else me&&this.$d[me](ke);return this.init(),this},ie.set=function(te,K){return this.clone().$set(te,K)},ie.get=function(te){return this[G.p(te)]()},ie.add=function(te,K){var J,U=this;te=Number(te);var ae=G.p(K),me=function(Le){var He=Y(U);return G.w(He.date(He.date()+Math.round(Le*te)),U)};if(ae===h)return this.set(h,this.$M+te);if(ae===w)return this.set(w,this.$y+te);if(ae===u)return me(1);if(ae===p)return me(7);var ke=(J={},J[c]=n,J[d]=s,J[a]=t,J)[ae]||1,Ae=this.$d.getTime()+te*ke;return G.w(Ae,this)},ie.subtract=function(te,K){return this.add(-1*te,K)},ie.format=function(te){var K=this,J=this.$locale();if(!this.isValid())return J.invalidDate||S;var U=te||"YYYY-MM-DDTHH:mm:ssZ",ae=G.z(this),me=this.$H,ke=this.$m,Ae=this.$M,Le=J.weekdays,He=J.months,it=J.meridiem,Ne=function(Te,Se,Ue,Be){return Te&&(Te[Se]||Te(K,U))||Ue[Se].slice(0,Be)},we=function(Te){return G.s(me%12||12,Te,"0")},je=it||function(Te,Se,Ue){var Be=Te<12?"AM":"PM";return Ue?Be.toLowerCase():Be};return U.replace(T,function(Te,Se){return Se||function(Ue){switch(Ue){case"YY":return String(K.$y).slice(-2);case"YYYY":return G.s(K.$y,4,"0");case"M":return Ae+1;case"MM":return G.s(Ae+1,2,"0");case"MMM":return Ne(J.monthsShort,Ae,He,3);case"MMMM":return Ne(He,Ae);case"D":return K.$D;case"DD":return G.s(K.$D,2,"0");case"d":return String(K.$W);case"dd":return Ne(J.weekdaysMin,K.$W,Le,2);case"ddd":return Ne(J.weekdaysShort,K.$W,Le,3);case"dddd":return Le[K.$W];case"H":return String(me);case"HH":return G.s(me,2,"0");case"h":return we(1);case"hh":return we(2);case"a":return je(me,ke,!0);case"A":return je(me,ke,!1);case"m":return String(ke);case"mm":return G.s(ke,2,"0");case"s":return String(K.$s);case"ss":return G.s(K.$s,2,"0");case"SSS":return G.s(K.$ms,3,"0");case"Z":return ae}return null}(Te)||ae.replace(":","")})},ie.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ie.diff=function(te,K,J){var U,ae=this,me=G.p(K),ke=Y(te),Ae=(ke.utcOffset()-this.utcOffset())*n,Le=this-ke,He=function(){return G.m(ae,ke)};switch(me){case w:U=He()/12;break;case h:U=He();break;case x:U=He()/3;break;case p:U=(Le-Ae)/6048e5;break;case u:U=(Le-Ae)/864e5;break;case d:U=Le/s;break;case c:U=Le/n;break;case a:U=Le/t;break;default:U=Le}return J?U:G.a(U)},ie.daysInMonth=function(){return this.endOf(h).$D},ie.$locale=function(){return q[this.$L]},ie.locale=function(te,K){if(!te)return this.$L;var J=this.clone(),U=z(te,K,!0);return U&&(J.$L=U),J},ie.clone=function(){return G.w(this.$d,this)},ie.toDate=function(){return new Date(this.valueOf())},ie.toJSON=function(){return this.isValid()?this.toISOString():null},ie.toISOString=function(){return this.$d.toISOString()},ie.toString=function(){return this.$d.toUTCString()},se}(),re=oe.prototype;return Y.prototype=re,[["$ms",r],["$s",a],["$m",c],["$H",d],["$W",u],["$M",h],["$y",w],["$D",k]].forEach(function(se){re[se[1]]=function(ie){return this.$g(ie,se[0],se[1])}}),Y.extend=function(se,ie){return se.$i||(se(ie,oe,Y),se.$i=!0),Y},Y.locale=z,Y.isDayjs=O,Y.unix=function(se){return Y(1e3*se)},Y.en=q[F],Y.Ls=q,Y.p={},Y})})(vy);var L3=vy.exports;const Tc=L0(L3);var py={exports:{}};(function(o,e){(function(t,n){o.exports=n()})(yu,function(){var t={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(s,r,a){var c,d=function(x,w,k){k===void 0&&(k={});var S=new Date(x),M=function(T,D){D===void 0&&(D={});var A=D.timeZoneName||"short",j=T+"|"+A,F=n[j];return F||(F=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:T,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:A}),n[j]=F),F}(w,k);return M.formatToParts(S)},u=function(x,w){for(var k=d(x,w),S=[],M=0;M<k.length;M+=1){var T=k[M],D=T.type,A=T.value,j=t[D];j>=0&&(S[j]=parseInt(A,10))}var F=S[3],q=F===24?0:F,B=S[0]+"-"+S[1]+"-"+S[2]+" "+q+":"+S[4]+":"+S[5]+":000",O=+x;return(a.utc(B).valueOf()-(O-=O%1e3))/6e4},p=r.prototype;p.tz=function(x,w){x===void 0&&(x=c);var k,S=this.utcOffset(),M=this.toDate(),T=M.toLocaleString("en-US",{timeZone:x}),D=Math.round((M-new Date(T))/1e3/60),A=15*-Math.round(M.getTimezoneOffset()/15)-D;if(!Number(A))k=this.utcOffset(0,w);else if(k=a(T,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(A,!0),w){var j=k.utcOffset();k=k.add(S-j,"minute")}return k.$x.$timezone=x,k},p.offsetName=function(x){var w=this.$x.$timezone||a.tz.guess(),k=d(this.valueOf(),w,{timeZoneName:x}).find(function(S){return S.type.toLowerCase()==="timezonename"});return k&&k.value};var h=p.startOf;p.startOf=function(x,w){if(!this.$x||!this.$x.$timezone)return h.call(this,x,w);var k=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return h.call(k,x,w).tz(this.$x.$timezone,!0)},a.tz=function(x,w,k){var S=k&&w,M=k||w||c,T=u(+a(),M);if(typeof x!="string")return a(x).tz(M);var D=function(q,B,O){var z=q-60*B*1e3,Y=u(z,O);if(B===Y)return[z,B];var G=u(z-=60*(Y-B)*1e3,O);return Y===G?[z,Y]:[q-60*Math.min(Y,G)*1e3,Math.max(Y,G)]}(a.utc(x,S).valueOf(),T,M),A=D[0],j=D[1],F=a(A).utcOffset(j);return F.$x.$timezone=M,F},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(x){c=x}}})})(py);var E3=py.exports;const F3=L0(E3);var fy={exports:{}};(function(o,e){(function(t,n){o.exports=n()})(yu,function(){var t="minute",n=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(r,a,c){var d=a.prototype;c.utc=function(S){var M={date:S,utc:!0,args:arguments};return new a(M)},d.utc=function(S){var M=c(this.toDate(),{locale:this.$L,utc:!0});return S?M.add(this.utcOffset(),t):M},d.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var u=d.parse;d.parse=function(S){S.utc&&(this.$u=!0),this.$utils().u(S.$offset)||(this.$offset=S.$offset),u.call(this,S)};var p=d.init;d.init=function(){if(this.$u){var S=this.$d;this.$y=S.getUTCFullYear(),this.$M=S.getUTCMonth(),this.$D=S.getUTCDate(),this.$W=S.getUTCDay(),this.$H=S.getUTCHours(),this.$m=S.getUTCMinutes(),this.$s=S.getUTCSeconds(),this.$ms=S.getUTCMilliseconds()}else p.call(this)};var h=d.utcOffset;d.utcOffset=function(S,M){var T=this.$utils().u;if(T(S))return this.$u?0:T(this.$offset)?h.call(this):this.$offset;if(typeof S=="string"&&(S=function(F){F===void 0&&(F="");var q=F.match(n);if(!q)return null;var B=(""+q[0]).match(s)||["-",0,0],O=B[0],z=60*+B[1]+ +B[2];return z===0?0:O==="+"?z:-z}(S),S===null))return this;var D=Math.abs(S)<=16?60*S:S,A=this;if(M)return A.$offset=D,A.$u=S===0,A;if(S!==0){var j=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(A=this.local().add(D+j,t)).$offset=D,A.$x.$localOffset=j}else A=this.utc();return A};var x=d.format;d.format=function(S){var M=S||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return x.call(this,M)},d.valueOf=function(){var S=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*S},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var w=d.toDate;d.toDate=function(S){return S==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():w.call(this)};var k=d.diff;d.diff=function(S,M,T){if(S&&this.$u===S.$u)return k.call(this,S,M,T);var D=this.local(),A=c(S).local();return k.call(D,A,M,T)}}})})(fy);var j3=fy.exports;const $3=L0(j3),g0=_v,vd=mv.formatDate;let Eh=!0,Fh="UTC";Tc.extend(F3);Tc.extend($3);Tc.tz.setDefault("UTC");const vh=60,ph=vh*60,I0=ph*24,M1=I0*7,T1=I0*30,A1=I0*365,B3={"Africa/Abidjan":"utc","Pacific/Honolulu":"honolulu","America/Juneau":"juneau","America/Los_Angeles":"los_angeles","America/Chicago":"chicago","America/Toronto":"toronto","America/Sao_Paulo":"sao_paulo","Europe/London":"london","Europe/Berlin":"berlin","Asia/Bahrain":"bahrain","Asia/Dubai":"dubai","Asia/Ashkhabad":"ashkhabad","Asia/Almaty":"almaty","Asia/Bangkok":"bangkok","Asia/Shanghai":"shanghai","Asia/Tokyo":"tokyo","Australia/Sydney":"sydney","Pacific/Guadalcanal":"guadalcanal","Pacific/Auckland":"auckland"};function O3(){return Tc().valueOf()}function D1(o){if(!o)return 0;o=o.trim();const e=/^\d+$/.test(o);let t=null;if(e){const n=o.length;if(n==4){const s=new Date().getFullYear();t=Tc(`${s}${o}`,"YYYYMMDD")}else if(n==6){const s=parseInt(o.substring(0,2)),r=s>50?1900+s:2e3+s,a=o.substring(2);t=Tc(`${r}${a}`,"YYYYMMDD")}else if(n==8)t=Tc(o,"YYYYMMDD");else if(n==10)t=Tc.unix(parseInt(o));else if(n==12)t=Tc(o,"YYYYMMDDHHmm");else if(n==13)t=Tc(parseInt(o));else if(n==14)t=Tc(o,"YYYYMMDDHHmmss");else return console.error("invalid date format:",o),0}else t=Tc(o,["YYYY/MM/DD","YYYY/MM/DD HH:mm","YYYY/MM/DD HH:mm:ss","YYYY-MM-DD","YYYY-MM-DD HH:mm","YYYY-MM-DD HH:mm:ss"],!0);return!t||!t.isValid()?(console.error("Invalid date format or value:",o),0):(Eh||console.error("local timezone not applied"),t=t.tz(Fh,!0),t.valueOf())}function L1(o,e="YYYY-MM-DD HH:mm:ss",t=void 0){if(!o)return"--";let n=null;return o>1e12?n=Tc(o):n=Tc.unix(o),n=n.tz(t||Fh,!0),Eh||console.error("local timezone not applied"),n.format(e)}function R3(o,e,t){let n=e,s=n;switch(o.timespan){case"minute":{n=n-n%(60*1e3),s=n-t*o.multiplier*60*1e3;break}case"hour":{n=n-n%(60*60*1e3),s=n-t*o.multiplier*60*60*1e3;break}case"day":{n=n-n%(60*60*1e3),s=n-t*o.multiplier*24*60*60*1e3;break}case"week":{const a=new Date(n).getDay(),c=a===0?6:a-1;n=n-c*60*60*24;const d=new Date(n);n=new Date(`${d.getFullYear()}-${d.getMonth()+1}-${d.getDate()}`).getTime(),s=t*o.multiplier*7*24*60*60*1e3;break}case"month":{const r=new Date(n),a=r.getFullYear(),c=r.getMonth()+1;n=new Date(`${a}-${c}-01`).getTime(),s=t*o.multiplier*30*24*60*60*1e3;const d=new Date(s);s=new Date(`${d.getFullYear()}-${d.getMonth()+1}-01`).getTime();break}}return[s,n]}function jg(o){if(!o)return 0;const e=o.substring(o.length-1),t=parseInt(o.substring(0,o.length-1));let n=0;if(e=="y")n=31536e3;else if(e=="M")n=2592e3;else if(e=="w")n=604800;else if(e=="d")n=86400;else if(e=="h")n=3600;else if(e=="m")n=60;else if(e=="s")n=1;else throw Error(`unsupport timeframe: ${o}`);return n*t}function N3(o){return o>A1?`${Math.floor(o/A1)}y`:o>T1?`${Math.floor(o/T1)}M`:o>M1?`${Math.floor(o/M1)}w`:o>I0?`${Math.floor(o/I0)}d`:o>ph?`${Math.floor(o/ph)}h`:o>vh?`${Math.floor(o/vh)}m`:`${Math.floor(o)}s`}function z3(o){const e={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};let t=null;try{t=new Intl.DateTimeFormat("en",e)}catch{console.error("","","Timezone is error!!!")}return t}const pd=z3();function E1(o){function e(t,n,s){if(!t||isNaN(t)||t<=0)return new Date().toISOString().slice(0,19).replace("T"," ");switch(o){case"second":return s===g0.XAxis?vd(pd,t,"HH:mm:ss"):vd(pd,t,"YYYY-MM-DD HH:mm:ss");case"minute":return s===g0.XAxis?vd(pd,t,"HH:mm"):vd(pd,t,"YYYY-MM-DD HH:mm");case"hour":return s===g0.XAxis?vd(pd,t,"MM-DD HH:mm"):vd(pd,t,"YYYY-MM-DD HH:mm");case"day":case"week":return vd(pd,t,"YYYY-MM-DD");case"month":return s===g0.XAxis?vd(pd,t,"YYYY-MM"):vd(pd,t,"YYYY-MM-DD");case"year":return s===g0.XAxis?vd(pd,t,"YYYY"):vd(pd,t,"YYYY-MM-DD")}return vd(pd,t,"YYYY-MM-DD HH:mm")}return e}async function F1(o){o&&(o=="Africa/Abidjan"||o.toLowerCase().indexOf("utc")>=0)&&(o="UTC"),Tc.tz.setDefault(o),Fh=o,Eh=!0}function V3(){return Object.entries(B3).map(([o,e])=>({key:o,text:e}))}const q3=()=>"Time",W3=()=>"æ—¶é—´",G3=(o={},e={})=>({en:q3,"zh-CN":W3})[e.languageTag??Ot()](),H3=()=>"O",U3=()=>"å¼€",Y3=(o={},e={})=>({en:H3,"zh-CN":U3})[e.languageTag??Ot()](),K3=()=>"H",Z3=()=>"é«˜",X3=(o={},e={})=>({en:K3,"zh-CN":Z3})[e.languageTag??Ot()](),J3=()=>"L",Q3=()=>"ä½Ž",ew=(o={},e={})=>({en:J3,"zh-CN":Q3})[e.languageTag??Ot()](),tw=()=>"C",ow=()=>"æ”¶",nw=(o={},e={})=>({en:tw,"zh-CN":ow})[e.languageTag??Ot()](),sw=()=>"vol",iw=()=>"é‡",rw=(o={},e={})=>({en:sw,"zh-CN":iw})[e.languageTag??Ot()](),aw=()=>"Chg",lw=()=>"æ¶¨è·Œ",cw=(o={},e={})=>({en:aw,"zh-CN":lw})[e.languageTag??Ot()](),dw=()=>"Timeframe",uw=()=>"å‘¨æœŸ",gy=(o={},e={})=>({en:dw,"zh-CN":uw})[e.languageTag??Ot()](),vw=()=>"No Data",pw=()=>"æ•°æ®ä¸ºç©º",fw=(o={},e={})=>({en:vw,"zh-CN":pw})[e.languageTag??Ot()](),gw=()=>"Indicator",_w=()=>"æŒ‡æ ‡",jh=(o={},e={})=>({en:gw,"zh-CN":_w})[e.languageTag??Ot()](),mw=()=>"Timezone",hw=()=>"æ—¶åŒº",_y=(o={},e={})=>({en:mw,"zh-CN":hw})[e.languageTag??Ot()](),yw=()=>"Setting",bw=()=>"è®¾ç½®",xw=(o={},e={})=>({en:yw,"zh-CN":bw})[e.languageTag??Ot()](),ww=()=>"Confirm",kw=()=>"ç¡®è®¤",Sw=(o={},e={})=>({en:ww,"zh-CN":kw})[e.languageTag??Ot()](),Cw=()=>"Cancel",Iw=()=>"å–æ¶ˆ",Pw=(o={},e={})=>({en:Cw,"zh-CN":Iw})[e.languageTag??Ot()](),Mw=()=>"Search Symbol",Tw=()=>"æœç´¢å“ç§",my=(o={},e={})=>({en:Mw,"zh-CN":Tw})[e.languageTag??Ot()](),Aw=()=>"This indicator has no parameters",Dw=()=>"è¯¥æŒ‡æ ‡æ²¡æœ‰å‚æ•°",hy=(o={},e={})=>({en:Aw,"zh-CN":Dw})[e.languageTag??Ot()](),Lw=()=>"Search",Ew=()=>"æœç´¢",yy=(o={},e={})=>({en:Lw,"zh-CN":Ew})[e.languageTag??Ot()](),Fw=()=>"Settings",jw=()=>"è®¾ç½®",by=(o={},e={})=>({en:Fw,"zh-CN":jw})[e.languageTag??Ot()](),$w=()=>"Screenshot",Bw=()=>"æˆªå›¾",Ow=(o={},e={})=>({en:$w,"zh-CN":Bw})[e.languageTag??Ot()](),Rw=()=>"Grid Show",Nw=()=>"æ˜¾ç¤ºç½‘æ ¼",zw=(o={},e={})=>({en:Rw,"zh-CN":Nw})[e.languageTag??Ot()](),Vw=()=>"Restore",qw=()=>"æ¢å¤",Ww=(o={},e={})=>({en:Vw,"zh-CN":qw})[e.languageTag??Ot()](),Gw=()=>"Reset",Hw=()=>"é‡ç½®",Uw=(o={},e={})=>({en:Gw,"zh-CN":Hw})[e.languageTag??Ot()](),Yw=()=>"Candlestick Type",Kw=()=>"èœ¡çƒ›å›¾ç±»åž‹",Zw=(o={},e={})=>({en:Yw,"zh-CN":Kw})[e.languageTag??Ot()](),Xw=()=>"Candlestick",Jw=()=>"å…¨å®žå¿ƒ",Qw=(o={},e={})=>({en:Xw,"zh-CN":Jw})[e.languageTag??Ot()](),ek=()=>"Hollow",tk=()=>"å…¨ç©ºå¿ƒ",ok=(o={},e={})=>({en:ek,"zh-CN":tk})[e.languageTag??Ot()](),nk=()=>"Up Hollow",sk=()=>"æ¶¨ç©ºå¿ƒ",ik=(o={},e={})=>({en:nk,"zh-CN":sk})[e.languageTag??Ot()](),rk=()=>"Down Hollow",ak=()=>"è·Œç©ºå¿ƒ",lk=(o={},e={})=>({en:rk,"zh-CN":ak})[e.languageTag??Ot()](),ck=()=>"OHLC",dk=()=>"OHLC",uk=(o={},e={})=>({en:ck,"zh-CN":dk})[e.languageTag??Ot()](),vk=()=>"Area",pk=()=>"é¢ç§¯å›¾",fk=(o={},e={})=>({en:vk,"zh-CN":pk})[e.languageTag??Ot()](),gk=()=>"Price Axis Type",_k=()=>"ä»·æ ¼è½´ç±»åž‹",mk=(o={},e={})=>({en:gk,"zh-CN":_k})[e.languageTag??Ot()](),hk=()=>"Reverse Coordinate",yk=()=>"åè½¬åæ ‡",bk=(o={},e={})=>({en:hk,"zh-CN":yk})[e.languageTag??Ot()](),xk=()=>"Show Last Price",wk=()=>"æ˜¾ç¤ºæœ€æ–°ä»·",kk=(o={},e={})=>({en:xk,"zh-CN":wk})[e.languageTag??Ot()](),Sk=()=>"Show High Price",Ck=()=>"æ˜¾ç¤ºæœ€é«˜ä»·",Ik=(o={},e={})=>({en:Sk,"zh-CN":Ck})[e.languageTag??Ot()](),Pk=()=>"Show Low Price",Mk=()=>"æ˜¾ç¤ºæœ€ä½Žä»·",Tk=(o={},e={})=>({en:Pk,"zh-CN":Mk})[e.languageTag??Ot()](),Ak=()=>"Show Indicator Last Value",Dk=()=>"æ˜¾ç¤ºæŒ‡æ ‡æœ€æ–°å€¼",Lk=(o={},e={})=>({en:Ak,"zh-CN":Dk})[e.languageTag??Ot()](),Ek=()=>"Param ",Fk=()=>"å‚æ•°",xy=(o={},e={})=>({en:Ek,"zh-CN":Fk})[e.languageTag??Ot()](),jk=()=>"Period",$k=()=>"å‘¨æœŸ",fh=(o={},e={})=>({en:jk,"zh-CN":$k})[e.languageTag??Ot()](),Bk=()=>"StdDev",Ok=()=>"æ ‡å‡†å·®",wy=(o={},e={})=>({en:Bk,"zh-CN":Ok})[e.languageTag??Ot()](),Rk=()=>"Normal",Nk=()=>"æ­£å¸¸",zk=(o={},e={})=>({en:Rk,"zh-CN":Nk})[e.languageTag??Ot()](),Vk=()=>"Percentage",qk=()=>"ç™¾åˆ†æ¯”",Wk=(o={},e={})=>({en:Vk,"zh-CN":qk})[e.languageTag??Ot()](),Gk=()=>"Log",Hk=()=>"å¯¹æ•°",Uk=(o={},e={})=>({en:Gk,"zh-CN":Hk})[e.languageTag??Ot()](),Yk=()=>" Bars",Kk=()=>"æ ¹",ky=(o={},e={})=>({en:Yk,"zh-CN":Kk})[e.languageTag??Ot()](),Zk=()=>"days",Xk=()=>"å¤©",Sy=(o={},e={})=>({en:Zk,"zh-CN":Xk})[e.languageTag??Ot()](),Jk=()=>"hours",Qk=()=>"æ—¶",Cy=(o={},e={})=>({en:Jk,"zh-CN":Qk})[e.languageTag??Ot()](),e8=()=>"mins",t8=()=>"åˆ†",gh=(o={},e={})=>({en:e8,"zh-CN":t8})[e.languageTag??Ot()](),o8=()=>"Minutes",n8=()=>"åˆ†é’Ÿ",Iy=(o={},e={})=>({en:o8,"zh-CN":n8})[e.languageTag??Ot()](),s8=()=>"Hours",i8=()=>"å°æ—¶",Py=(o={},e={})=>({en:s8,"zh-CN":i8})[e.languageTag??Ot()](),r8=()=>"Days",a8=()=>"æ—¥",My=(o={},e={})=>({en:r8,"zh-CN":a8})[e.languageTag??Ot()](),l8=()=>"Weeks",c8=()=>"å‘¨",Ty=(o={},e={})=>({en:l8,"zh-CN":c8})[e.languageTag??Ot()](),d8=()=>"Months",u8=()=>"æœˆ",Ay=(o={},e={})=>({en:d8,"zh-CN":u8})[e.languageTag??Ot()](),v8=()=>"Horizontal Straight Line",p8=()=>"æ°´å¹³ç›´çº¿",f8=(o={},e={})=>({en:v8,"zh-CN":p8})[e.languageTag??Ot()](),g8=()=>"Horizontal Ray Line",_8=()=>"æ°´å¹³å°„çº¿",m8=(o={},e={})=>({en:g8,"zh-CN":_8})[e.languageTag??Ot()](),h8=()=>"Horizontal Segment",y8=()=>"æ°´å¹³çº¿æ®µ",b8=(o={},e={})=>({en:h8,"zh-CN":y8})[e.languageTag??Ot()](),x8=()=>"Vertical Straight Line",w8=()=>"åž‚ç›´ç›´çº¿",k8=(o={},e={})=>({en:x8,"zh-CN":w8})[e.languageTag??Ot()](),S8=()=>"Vertical Ray Line",C8=()=>"åž‚ç›´å°„çº¿",I8=(o={},e={})=>({en:S8,"zh-CN":C8})[e.languageTag??Ot()](),P8=()=>"Vertical Segment",M8=()=>"åž‚ç›´çº¿æ®µ",T8=(o={},e={})=>({en:P8,"zh-CN":M8})[e.languageTag??Ot()](),A8=()=>"Straight Line",D8=()=>"ç›´çº¿",L8=(o={},e={})=>({en:A8,"zh-CN":D8})[e.languageTag??Ot()](),E8=()=>"Ray Line",F8=()=>"å°„çº¿",j8=(o={},e={})=>({en:E8,"zh-CN":F8})[e.languageTag??Ot()](),$8=()=>"Segment",B8=()=>"çº¿æ®µ",O8=(o={},e={})=>({en:$8,"zh-CN":B8})[e.languageTag??Ot()](),R8=()=>"Arrow",N8=()=>"ç®­å¤´",z8=(o={},e={})=>({en:R8,"zh-CN":N8})[e.languageTag??Ot()](),V8=()=>"Price Line",q8=()=>"ä»·æ ¼çº¿",W8=(o={},e={})=>({en:V8,"zh-CN":q8})[e.languageTag??Ot()](),G8=()=>"Price Channel Line",H8=()=>"ä»·æ ¼é€šé“çº¿",U8=(o={},e={})=>({en:G8,"zh-CN":H8})[e.languageTag??Ot()](),Y8=()=>"Parallel Straight Line",K8=()=>"å¹³è¡Œç›´çº¿",Z8=(o={},e={})=>({en:Y8,"zh-CN":K8})[e.languageTag??Ot()](),X8=()=>"Fibonacci Retracement Segment",J8=()=>"æ–æ³¢é‚£å¥‘å›žè°ƒçº¿æ®µ",Q8=(o={},e={})=>({en:X8,"zh-CN":J8})[e.languageTag??Ot()](),e4=()=>"Fibonacci Circle",t4=()=>"æ–æ³¢é‚£å¥‘åœ†çŽ¯",o4=(o={},e={})=>({en:e4,"zh-CN":t4})[e.languageTag??Ot()](),n4=()=>"Fibonacci Spiral",s4=()=>"æ–æ³¢é‚£å¥‘èžºæ—‹",i4=(o={},e={})=>({en:n4,"zh-CN":s4})[e.languageTag??Ot()](),r4=()=>"Fibonacci Speed Resistance Fan",a4=()=>"æ–æ³¢é‚£å¥‘é€Ÿåº¦é˜»åŠ›æ‰‡",l4=(o={},e={})=>({en:r4,"zh-CN":a4})[e.languageTag??Ot()](),c4=()=>"Fibonacci Extension",d4=()=>"æ–æ³¢é‚£å¥‘è¶‹åŠ¿æ‰©å±•",u4=(o={},e={})=>({en:c4,"zh-CN":d4})[e.languageTag??Ot()](),v4=()=>"Gann Box",p4=()=>"æ±Ÿæ©ç®±",f4=(o={},e={})=>({en:v4,"zh-CN":p4})[e.languageTag??Ot()](),g4=()=>"Rectangle",_4=()=>"çŸ©å½¢",m4=(o={},e={})=>({en:g4,"zh-CN":_4})[e.languageTag??Ot()](),h4=()=>"Parallelogram",y4=()=>"å¹³è¡Œå››è¾¹å½¢",b4=(o={},e={})=>({en:h4,"zh-CN":y4})[e.languageTag??Ot()](),x4=()=>"Circle",w4=()=>"åœ†",k4=(o={},e={})=>({en:x4,"zh-CN":w4})[e.languageTag??Ot()](),S4=()=>"Triangle",C4=()=>"ä¸‰è§’å½¢",I4=(o={},e={})=>({en:S4,"zh-CN":C4})[e.languageTag??Ot()](),P4=()=>"Three Waves",M4=()=>"ä¸‰æµª",T4=(o={},e={})=>({en:P4,"zh-CN":M4})[e.languageTag??Ot()](),A4=()=>"Five Waves",D4=()=>"äº”æµª",L4=(o={},e={})=>({en:A4,"zh-CN":D4})[e.languageTag??Ot()](),E4=()=>"Eight Waves",F4=()=>"å…«æµª",j4=(o={},e={})=>({en:E4,"zh-CN":F4})[e.languageTag??Ot()](),$4=()=>"Any Waves",B4=()=>"ä»»æ„æµª",O4=(o={},e={})=>({en:$4,"zh-CN":B4})[e.languageTag??Ot()](),R4=()=>"ABCD Pattern",N4=()=>"ABCDå½¢æ€",z4=(o={},e={})=>({en:R4,"zh-CN":N4})[e.languageTag??Ot()](),V4=()=>"XABCD Pattern",q4=()=>"XABCDå½¢æ€",W4=(o={},e={})=>({en:V4,"zh-CN":q4})[e.languageTag??Ot()](),G4=()=>"Weak Magnet Mode",H4=()=>"å¼±ç£æ¨¡å¼",U4=(o={},e={})=>({en:G4,"zh-CN":H4})[e.languageTag??Ot()](),Y4=()=>"Strong Magnet Mode",K4=()=>"å¼ºç£æ¨¡å¼",Z4=(o={},e={})=>({en:Y4,"zh-CN":K4})[e.languageTag??Ot()](),X4=()=>"Moving Average",J4=()=>"ç§»åŠ¨å¹³å‡",Q4=(o={},e={})=>({en:X4,"zh-CN":J4})[e.languageTag??Ot()](),e9=()=>"Exponential Moving Average",t9=()=>"æŒ‡æ•°ç§»åŠ¨å¹³å‡",o9=(o={},e={})=>({en:e9,"zh-CN":t9})[e.languageTag??Ot()](),n9=()=>"Simple Moving Average",s9=()=>"ç®€å•ç§»åŠ¨å¹³å‡",i9=(o={},e={})=>({en:n9,"zh-CN":s9})[e.languageTag??Ot()](),r9=()=>"Bollinger Bands",a9=()=>"å¸ƒæž—çº¿",l9=(o={},e={})=>({en:r9,"zh-CN":a9})[e.languageTag??Ot()](),c9=()=>"Parabolic SAR",d9=()=>"æŠ›ç‰©çº¿è½¬å‘",u9=(o={},e={})=>({en:c9,"zh-CN":d9})[e.languageTag??Ot()](),v9=()=>"Bull and Bear Index",p9=()=>"å¤šç©ºæŒ‡æ ‡",f9=(o={},e={})=>({en:v9,"zh-CN":p9})[e.languageTag??Ot()](),g9=()=>"Volume",_9=()=>"æˆäº¤é‡",m9=(o={},e={})=>({en:g9,"zh-CN":_9})[e.languageTag??Ot()](),h9=()=>"Moving Average Convergence Divergence",y9=()=>"å¹³æ»‘å¼‚åŒç§»åŠ¨å¹³å‡çº¿",b9=(o={},e={})=>({en:h9,"zh-CN":y9})[e.languageTag??Ot()](),x9=()=>"KDJ Index",w9=()=>"éšæœºæŒ‡æ ‡",k9=(o={},e={})=>({en:x9,"zh-CN":w9})[e.languageTag??Ot()](),S9=()=>"Relative Strength Index",C9=()=>"ç›¸å¯¹å¼ºå¼±æŒ‡æ•°",I9=(o={},e={})=>({en:S9,"zh-CN":C9})[e.languageTag??Ot()](),P9=()=>"Bias",M9=()=>"ä¹–ç¦»çŽ‡",T9=(o={},e={})=>({en:P9,"zh-CN":M9})[e.languageTag??Ot()](),A9=()=>"Bull and Bear Ratio",D9=()=>"äººæ°”æ„æ„¿æŒ‡æ ‡",L9=(o={},e={})=>({en:A9,"zh-CN":D9})[e.languageTag??Ot()](),E9=()=>"Commodity Channel Index",F9=()=>"é¡ºåŠ¿æŒ‡æ ‡",j9=(o={},e={})=>({en:E9,"zh-CN":F9})[e.languageTag??Ot()](),$9=()=>"Energy",B9=()=>"èƒ½é‡æŒ‡æ ‡",O9=(o={},e={})=>({en:$9,"zh-CN":B9})[e.languageTag??Ot()](),R9=()=>"Psychological Line",N9=()=>"å¿ƒç†çº¿",z9=(o={},e={})=>({en:R9,"zh-CN":N9})[e.languageTag??Ot()](),V9=()=>"Parallel Line Difference",q9=()=>"å¹³è¡Œçº¿å·®æŒ‡æ ‡",W9=(o={},e={})=>({en:V9,"zh-CN":q9})[e.languageTag??Ot()](),G9=()=>"Triple Exponential Moving Average",H9=()=>"ä¸‰é‡æŒ‡æ•°å¹³æ»‘ç§»åŠ¨å¹³å‡çº¿",U9=(o={},e={})=>({en:G9,"zh-CN":H9})[e.languageTag??Ot()](),Y9=()=>"On Balance Volume",K9=()=>"èƒ½é‡æ½®",Z9=(o={},e={})=>({en:Y9,"zh-CN":K9})[e.languageTag??Ot()](),X9=()=>"Volume Variation Rate",J9=()=>"æˆäº¤é‡å˜å¼‚çŽ‡",Q9=(o={},e={})=>({en:X9,"zh-CN":J9})[e.languageTag??Ot()](),e7=()=>"Williams Percentage Range",t7=()=>"å¨å»‰æŒ‡æ ‡",o7=(o={},e={})=>({en:e7,"zh-CN":t7})[e.languageTag??Ot()](),n7=()=>"Momentum",s7=()=>"åŠ¨é‡æŒ‡æ ‡",i7=(o={},e={})=>({en:n7,"zh-CN":s7})[e.languageTag??Ot()](),r7=()=>"Ease of Movement",a7=()=>"ç®€æ˜“æ³¢åŠ¨æŒ‡æ ‡",l7=(o={},e={})=>({en:r7,"zh-CN":a7})[e.languageTag??Ot()](),c7=()=>"Rate of Change",d7=()=>"å˜åŠ¨çŽ‡æŒ‡æ ‡",u7=(o={},e={})=>({en:c7,"zh-CN":d7})[e.languageTag??Ot()](),v7=()=>"Price Volume Trend",p7=()=>"é‡ä»·è¶‹åŠ¿",f7=(o={},e={})=>({en:v7,"zh-CN":p7})[e.languageTag??Ot()](),g7=()=>"Awesome Oscillator",_7=()=>"éœ‡è¡æŒ‡æ ‡",m7=(o={},e={})=>({en:g7,"zh-CN":_7})[e.languageTag??Ot()](),h7=()=>"Directional Movement Index",y7=()=>"è¶‹å‘æŒ‡æ ‡",b7=(o={},e={})=>({en:h7,"zh-CN":y7})[e.languageTag??Ot()](),x7=()=>"Coordinated Universal Time (UTC)",w7=()=>"ä¸–ç•Œç»Ÿä¸€æ—¶é—´",k7=(o={},e={})=>({en:x7,"zh-CN":w7})[e.languageTag??Ot()](),S7=()=>"(UTC-10) Honolulu",C7=()=>"(UTC-10) æª€é¦™å±±",I7=(o={},e={})=>({en:S7,"zh-CN":C7})[e.languageTag??Ot()](),P7=()=>"(UTC-8) Juneau",M7=()=>"(UTC-8) æœ±è¯º",T7=(o={},e={})=>({en:P7,"zh-CN":M7})[e.languageTag??Ot()](),A7=()=>"(UTC-7) Los Angeles",D7=()=>"(UTC-7) æ´›æ‰çŸ¶",L7=(o={},e={})=>({en:A7,"zh-CN":D7})[e.languageTag??Ot()](),E7=()=>"(UTC-5) Chicago",F7=()=>"(UTC-5) èŠåŠ å“¥",j7=(o={},e={})=>({en:E7,"zh-CN":F7})[e.languageTag??Ot()](),$7=()=>"(UTC-4) Toronto",B7=()=>"(UTC-4) å¤šä¼¦å¤š",O7=(o={},e={})=>({en:$7,"zh-CN":B7})[e.languageTag??Ot()](),R7=()=>"(UTC-3) SÃ£o Paulo",N7=()=>"(UTC-3) åœ£ä¿ç½—",z7=(o={},e={})=>({en:R7,"zh-CN":N7})[e.languageTag??Ot()](),V7=()=>"(UTC+1) London",q7=()=>"(UTC+1) ä¼¦æ•¦",W7=(o={},e={})=>({en:V7,"zh-CN":q7})[e.languageTag??Ot()](),G7=()=>"(UTC+2) Berlin",H7=()=>"(UTC+2) æŸæž—",U7=(o={},e={})=>({en:G7,"zh-CN":H7})[e.languageTag??Ot()](),Y7=()=>"(UTC+3) Bahrain",K7=()=>"(UTC+3) å·´æž—",Z7=(o={},e={})=>({en:Y7,"zh-CN":K7})[e.languageTag??Ot()](),X7=()=>"(UTC+4) Dubai",J7=()=>"(UTC+4) è¿ªæ‹œ",Q7=(o={},e={})=>({en:X7,"zh-CN":J7})[e.languageTag??Ot()](),eS=()=>"(UTC+5) Ashkhabad",tS=()=>"(UTC+5) é˜¿ä»€å“ˆå·´å¾·",oS=(o={},e={})=>({en:eS,"zh-CN":tS})[e.languageTag??Ot()](),nS=()=>"(UTC+6) Almaty",sS=()=>"(UTC+6) é˜¿æ‹‰æœ¨å›¾",iS=(o={},e={})=>({en:nS,"zh-CN":sS})[e.languageTag??Ot()](),rS=()=>"(UTC+7) Bangkok",aS=()=>"(UTC+7) æ›¼è°·",lS=(o={},e={})=>({en:rS,"zh-CN":aS})[e.languageTag??Ot()](),cS=()=>"(UTC+8) Shanghai",dS=()=>"(UTC+8) ä¸Šæµ·",uS=(o={},e={})=>({en:cS,"zh-CN":dS})[e.languageTag??Ot()](),vS=()=>"(UTC+9) Tokyo",pS=()=>"(UTC+9) ä¸œäº¬",fS=(o={},e={})=>({en:vS,"zh-CN":pS})[e.languageTag??Ot()](),gS=()=>"(UTC+10) Sydney",_S=()=>"(UTC+10) æ‚‰å°¼",mS=(o={},e={})=>({en:gS,"zh-CN":_S})[e.languageTag??Ot()](),hS=()=>"(UTC+11) Solomon Islands",yS=()=>"(UTC+11) æ‰€ç½—é—¨ç¾¤å²›",bS=(o={},e={})=>({en:hS,"zh-CN":yS})[e.languageTag??Ot()](),xS=()=>"(UTC+12) Auckland",wS=()=>"(UTC+12) å¥¥å…‹å…°",kS=(o={},e={})=>({en:xS,"zh-CN":wS})[e.languageTag??Ot()](),_d=Object.freeze(Object.defineProperty({__proto__:null,AO:m7,BBI:f9,BIAS:T9,BOLL:l9,BRAR:L9,CCI:j9,CR:O9,DMA:W9,DMI:b7,EMA:o9,EMV:l7,KDJ:k9,MA:Q4,MACD:b9,MTM:i7,OBV:Z9,PSY:z9,PVT:f7,ROC:u7,RSI:I9,SAR:u9,SMA:i9,TRIX:U9,VOL:m9,VR:Q9,WR:o7,abcd:z4,almaty:iS,any_waves:O4,area:fk,arrow:z8,ashkhabad:oS,auckland:kS,bahrain:Z7,bangkok:lS,berlin:U7,cancel:Pw,candle_down_stroke:lk,candle_solid:Qw,candle_stroke:ok,candle_type:Zw,candle_up_stroke:ik,change_:cw,chicago:j7,circle:k4,close_:nw,confirm:Sw,day:My,days:Sy,dubai:Q7,eight_waves:j4,fibonacci_circle:o4,fibonacci_extension:u4,fibonacci_segment:Q8,fibonacci_speed_resistance_fan:l4,fibonacci_spiral:i4,five_waves:L4,gann_box:f4,grid_show:zw,guadalcanal:bS,high_:X3,high_price_show:Ik,honolulu:I7,horizontal_ray_line:m8,horizontal_segment:b8,horizontal_straight_line:f8,hour:Py,hours:Cy,indicator:jh,indicator_last_value_show:Lk,juneau:T7,last_price_show:kk,log:Uk,london:W7,los_angeles:L7,low_:ew,low_price_show:Tk,mins:gh,minute:Iy,month:Ay,no_data:fw,no_ind_params:hy,normal:zk,num_bar:ky,ohlc:uk,open_:Y3,parallel_straight_line:Z8,parallelogram:b4,param:xy,percentage:Wk,period:fh,price_axis_type:mk,price_channel_line:U8,price_line:W8,ray_line:j8,rect:m4,reset:Uw,restore:Ww,reverse_coordinate:bk,sao_paulo:z7,screenshot:Ow,search:yy,segment:O8,setting:xw,settings:by,shanghai:uS,standard_deviation:wy,straight_line:L8,strongMagnet:Z4,sydney:mS,symbol_search:my,three_waves:T4,time_:G3,timeframe:gy,timezone:_y,tokyo:fS,toronto:O7,triangle:I4,utc:k7,vertical_ray_line:I8,vertical_segment:T8,vertical_straight_line:k8,volume_:rw,weakMagnet:U4,week:Ty,xabcd:W4},Symbol.toStringTag,{value:"Module"})),SS=["MA","EMA","SMA","BOLL","SAR","BBI"],CS=["VOL","MACD","KDJ","RSI","BIAS","BRAR","CCI","DMI","CR","PSY","TRIX","OBV","VR","WR","MTM","EMV","ROC","PVT","AO"];class Dy{constructor(){Wt(this,"editPaneId");Wt(this,"editIndName");Wt(this,"modalIndCfg");Wt(this,"fireOhlcv");Wt(this,"klineLoaded");Wt(this,"cloudIndLoaded");Wt(this,"initDone");Wt(this,"clickChart");Wt(this,"loadingKLine");Wt(this,"loadingPairs");Wt(this,"timeStart");Wt(this,"timeEnd");Wt(this,"allInds");Wt(this,"isApplyingManualStyles");Wt(this,"applyCanvasColors");Wt(this,"clearCciGroups");Wt(this,"clearEmvGroups");Wt(this,"clearMtmGroups");Wt(this,"clearObvGroups");Wt(this,"clearPsyGroups");Wt(this,"clearPvtGroups");Wt(this,"clearRocGroups");Wt(this,"clearVolGroups");Wt(this,"clearWrGroups");this.editPaneId="",this.editIndName="",this.modalIndCfg=!1,this.fireOhlcv=0,this.klineLoaded=0,this.cloudIndLoaded=0,this.initDone=0,this.clickChart=0,this.loadingKLine=!1,this.loadingPairs=!1,this.timeStart=0,this.timeEnd=0,this.allInds=[],this.isApplyingManualStyles=!1,this.clearCciGroups=0,this.clearEmvGroups=0,this.clearMtmGroups=0,this.clearObvGroups=0,this.clearPsyGroups=0,this.clearPvtGroups=0,this.clearRocGroups=0,this.clearVolGroups=0,this.clearWrGroups=0;for(let e of SS){const t=`${e} (${_d[e]()})`;this.allInds.push({name:e,title:t,cloud:!1,is_main:!0})}for(let e of CS){const t=`${e} (${_d[e]()})`;this.allInds.push({name:e,title:t,cloud:!1,is_main:!1})}}}class $g{constructor(){Wt(this,"showDrawBar");Wt(this,"showSidebar");Wt(this,"period");Wt(this,"symbol");Wt(this,"dateStart");Wt(this,"dateEnd");Wt(this,"timezone");Wt(this,"curSymbols");Wt(this,"allSymbols");Wt(this,"allExgs");Wt(this,"colorLong");Wt(this,"colorShort");Wt(this,"saveInds");Wt(this,"key");Wt(this,"theme");Wt(this,"styles");Wt(this,"options");this.showDrawBar=!0,this.showSidebar=!0,this.symbol={name:"Grameen Phone Limited",ticker:"GP",market:"stock",exchange:"DSEBD",type:"stock",priceCurrency:"BDT"},this.period={multiplier:1,timespan:"day",timeframe:"1d",secs:86400};const e=O3();this.dateEnd=L1(e,"YYYYMMDD");const t=e-this.period.secs*1e3*500;this.dateStart=L1(t,"YYYYMMDD"),this.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone,this.curSymbols=[],this.allSymbols=[],this.allExgs=new Set,this.colorLong="#0000FF",this.colorShort="#FF0000",this.saveInds={},this.key="",this.theme="dark",this.styles={pane:{backgroundColor:"#070211"},candle:{pane:{backgroundColor:"#070211"},type:"renko_atr",renko:{method:"ATR",atrLength:14,source:"close",wick:!1},pnf:{boxSizeMode:"absolute",boxSize:1,reversalBoxes:3,upColor:"#00E6D8",downColor:"#FF4D4D"}},grid:{horizontal:{color:"#081115"},vertical:{color:"#081115"}}},this.options={}}}function _h(o,e){const t=e.x>o.x?0:1,n=mv.getLinearSlopeIntercept(o,e);let s;n?s=Math.atan(n[0])+Math.PI*t:e.y>o.y?s=Math.PI/2:s=Math.PI/2*3;const r=x0({x:e.x-8,y:e.y+4},e,s),a=x0({x:e.x-8,y:e.y-4},e,s);return[{type:"line",attrs:{coordinates:[o,e]}},{type:"line",ignoreEvent:!0,attrs:{coordinates:[r,e,a]}}]}function x0(o,e,t){const n=(o.x-e.x)*Math.cos(t)-(o.y-e.y)*Math.sin(t)+e.x,s=(o.x-e.x)*Math.sin(t)+(o.y-e.y)*Math.cos(t)+e.y;return{x:n,y:s}}function mh(o,e){if(o.length>1){let t;const n=o[0],s=o[1];return n.x===s.x&&n.y!==s.y?n.y<s.y?t={x:n.x,y:e.height}:t={x:n.x,y:0}:n.x>s.x?t={x:0,y:mv.getLinearYFromCoordinates(n,s,{x:0,y:n.y})}:t={x:e.width,y:mv.getLinearYFromCoordinates(n,s,{x:e.width,y:n.y})},{coordinates:[n,t]}}return[]}function Ly(o,e){const t=Math.abs(o.x-e.x),n=Math.abs(o.y-e.y);return Math.sqrt(t*t+n*n)}function $h(o,e,t){let n=2;try{(t==null?void 0:t.isInCandle())??!0?n=2:n=4}catch{n=2}return n}const Ey={name:"arrow",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:o})=>o.length>1?_h(o[0],o[1]):[]},Fy={name:"circle",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{circle:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:o})=>{if(o.length>1){const e=Ly(o[0],o[1]),t=[];return t.push({type:"circle",attrs:{...o[0],r:e+30},styles:{style:"fill",color:"transparent"},ignoreEvent:!1}),t.push({type:"circle",attrs:{...o[0],r:e},styles:{style:"stroke_fill"}}),t}return[]}},jy={name:"rect",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:o})=>{if(o.length>1){const e=[],n=[{x:o[0].x-30,y:o[0].y-30},{x:o[1].x+30,y:o[0].y-30},{x:o[1].x+30,y:o[1].y+30},{x:o[0].x-30,y:o[1].y+30}];return e.push({type:"polygon",attrs:{coordinates:n},styles:{style:"fill",color:"transparent"},ignoreEvent:!1}),e.push({type:"polygon",attrs:{coordinates:[o[0],{x:o[1].x,y:o[0].y},o[1],{x:o[0].x,y:o[1].y}]},styles:{style:"stroke_fill"}}),e}return[]}},$y={name:"parallelogram",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:o})=>{if(o.length===2)return[{type:"line",ignoreEvent:!0,attrs:{coordinates:o}}];if(o.length===3){const e={x:o[0].x+(o[2].x-o[1].x),y:o[2].y};return[{type:"polygon",attrs:{coordinates:[o[0],o[1],o[2],e]},styles:{style:"stroke_fill"}}]}return[]},performEventPressedMove:({points:o,performPointIndex:e,performPoint:t})=>{e<2&&(o[0].price=t.price,o[1].price=t.price)},performEventMoveForDrawing:({currentStep:o,points:e,performPoint:t})=>{o===2&&(e[0].price=t.price)}},By={name:"triangle",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:o})=>[{type:"polygon",attrs:{coordinates:o},styles:{style:"stroke_fill"}}]},Oy={name:"fibonacciCircle",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:o,overlay:e})=>{var t,n,s,r;if(o.length>1){const a=Math.abs(o[0].x-o[1].x),c=Math.abs(o[0].y-o[1].y),d=Math.sqrt(a*a+c*c),u=[.236,.382,.5,.618,.786,1],p=[],h=[];return u.forEach(x=>{const w=d*x;p.push({...o[0],r:w}),h.push({x:o[0].x,y:o[0].y+w+6,text:`${(x*100).toFixed(1)}%`})}),[{type:"circle",attrs:p,styles:{style:"stroke",borderSize:((n=(t=e.styles)==null?void 0:t.line)==null?void 0:n.size)??2}},{type:"text",ignoreEvent:!0,attrs:h,styles:{color:((r=(s=e.styles)==null?void 0:s.line)==null?void 0:r.color)??"#666666",backgroundColor:"transparent",backgroundOpacity:0,borderSize:0,borderColor:"transparent"}}]}return[]}},IS=[{value:0,color:"#FF6B6B",visible:!0},{value:.236,color:"#4ECDC4",visible:!0},{value:.382,color:"#45B7D1",visible:!0},{value:.5,color:"#96CEB4",visible:!0},{value:.618,color:"#FFEAA7",visible:!0},{value:1,color:"#98D8C8",visible:!0},{value:1.618,color:"#85C1E9",visible:!0}],Ry={name:"fibonacciSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{line:{size:1,color:"#1e88e5"},polygon:{color:"rgba(30, 136, 229, 0.1)"}},createPointFigures:({chart:o,coordinates:e,overlay:t,yAxis:n})=>{var a,c,d,u,p,h,x,w,k,S,M,T,D;const s=$h(o,t,n),r=[];if(e.length>1){const A=t.points,j=(a=A[0])==null?void 0:a.value,F=(c=A[1])==null?void 0:c.value;if(j===void 0||F===void 0)return r;const q=F-j,B=e[0].y,O=e[1].y,z=O-B,G=(((d=t.extendData)==null?void 0:d.fibonacciLevels)||t.fibonacciLevels||IS).filter(se=>se.visible);for(let se=0;se<G.length-1;se++){const ie=G[se],te=G[se+1],K=O-z*ie.value,J=O-z*te.value;r.push({type:"polygon",attrs:{coordinates:[{x:e[0].x,y:K},{x:e[1].x,y:K},{x:e[1].x,y:J},{x:e[0].x,y:J}]},styles:{style:"fill",color:ie.color+"40"}})}const oe=[],re=[];G.forEach(se=>{const ie=O-z*se.value,te=(F-q*se.value).toFixed(s);oe.push({coordinates:[{x:e[0].x,y:ie},{x:e[1].x,y:ie}]}),re.push({x:e[1].x+5,y:ie,text:`${te} (${(se.value*100).toFixed(1)}%)`,baseline:"middle",align:"left"})}),r.push({type:"line",attrs:oe,styles:{size:((p=(u=t.styles)==null?void 0:u.line)==null?void 0:p.size)||1,color:((x=(h=t.styles)==null?void 0:h.line)==null?void 0:x.color)||"#1e88e5"}}),r.push({type:"text",ignoreEvent:!0,attrs:re,styles:{color:((k=(w=t.styles)==null?void 0:w.text)==null?void 0:k.color)||"#666666",backgroundColor:"transparent"}}),r.push({type:"line",attrs:{coordinates:[e[0],e[1]]},styles:{style:"dashed",size:((M=(S=t.styles)==null?void 0:S.line)==null?void 0:M.size)||1,color:((D=(T=t.styles)==null?void 0:T.line)==null?void 0:D.color)||"#1e88e5"}})}return r}},Ny={name:"fibonacciSpiral",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:o,bounding:e})=>{if(o.length>1){const t=Ly(o[0],o[1])/Math.sqrt(24),n=o[1].x>o[0].x?0:1,s=mv.getLinearSlopeIntercept(o[0],o[1]);let r;s?r=Math.atan(s[0])+Math.PI*n:o[1].y>o[0].y?r=Math.PI/2:r=Math.PI/2*3;const a=x0({x:o[0].x-t,y:o[0].y},o[0],r),c=x0({x:o[0].x-t,y:o[0].y-t},o[0],r),d=[{...a,r:t,startAngle:r,endAngle:r+Math.PI/2},{...c,r:t*2,startAngle:r+Math.PI/2,endAngle:r+Math.PI}];let u=o[0].x-t,p=o[0].y-t;for(let h=2;h<9;h++){const x=d[h-2].r+d[h-1].r;let w=0;switch(h%4){case 0:{w=r,u-=d[h-2].r;break}case 1:{w=r+Math.PI/2,p-=d[h-2].r;break}case 2:{w=r+Math.PI,u+=d[h-2].r;break}case 3:{w=r+Math.PI/2*3,p+=d[h-2].r;break}}const k=w+Math.PI/2,S=x0({x:u,y:p},o[0],r);d.push({...S,r:x,startAngle:w,endAngle:k})}return[{type:"arc",attrs:d,styles:{size:2}},{type:"line",attrs:mh(o,e),styles:{size:2}}]}return[]}},zy={name:"fibonacciSpeedResistanceFan",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:o,bounding:e,overlay:t})=>{var a,c,d,u,p,h;const n=[];let s=[];const r=[];if(o.length>1){const x=o[1].x>o[0].x?-38:4,w=o[1].y>o[0].y?-2:20,k=o[1].x-o[0].x,S=o[1].y-o[0].y;[1,.75,.618,.5,.382,.25,0].forEach(T=>{const D=o[1].x-k*T,A=o[1].y-S*T;n.push({coordinates:[{x:D,y:o[0].y},{x:D,y:o[1].y}]}),n.push({coordinates:[{x:o[0].x,y:A},{x:o[1].x,y:A}]}),s=s.concat(mh([o[0],{x:D,y:o[1].y}],e)),s=s.concat(mh([o[0],{x:o[1].x,y:A}],e)),r.unshift({x:o[0].x+x,y:A+10,text:`${T.toFixed(3)}`}),r.unshift({x:D-18,y:o[0].y+w,text:`${T.toFixed(3)}`})})}return[{type:"line",attrs:n,styles:{size:((c=(a=t.styles)==null?void 0:a.line)==null?void 0:c.size)??2}},{type:"line",attrs:s,styles:{size:((u=(d=t.styles)==null?void 0:d.line)==null?void 0:u.size)??2}},{type:"text",ignoreEvent:!0,attrs:r,styles:{color:((h=(p=t.styles)==null?void 0:p.line)==null?void 0:h.color)??"#666666",backgroundColor:"transparent",backgroundOpacity:0,borderSize:0,borderColor:"transparent"}}]}},Vy={name:"fibonacciExtension",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({chart:o,coordinates:e,overlay:t,yAxis:n})=>{var c,d,u,p,h,x;const s=$h(o,t,n),r=[],a=[];if(e.length>2){const w=t.points,k=w[1].value-w[0].value,S=e[1].y-e[0].y,M=[0,.236,.382,.5,.618,.786,1,1.618,2.618],D=Math.min(e[1].x,e[2].x)-16;M.forEach(A=>{const j=e[2].y+S*A,F=(w[2].value+k*A).toFixed(s);r.push({coordinates:[{x:e[1].x,y:j},{x:e[2].x,y:j}]}),a.push({x:D,y:j,text:`${F} (${(A*100).toFixed(1)}%)`,baseline:"middle",align:"right"})})}return[{type:"line",attrs:{coordinates:e},styles:{style:"dashed",size:((d=(c=t.styles)==null?void 0:c.line)==null?void 0:d.size)??2}},{type:"line",attrs:r,styles:{size:((p=(u=t.styles)==null?void 0:u.line)==null?void 0:p.size)??2}},{type:"text",ignoreEvent:!0,attrs:a,styles:{color:((x=(h=t.styles)==null?void 0:h.line)==null?void 0:x.color)??"#666666",backgroundColor:"transparent",backgroundOpacity:0,borderSize:0,borderColor:"transparent"}}]}},qy={name:"gannBox",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:o,overlay:e})=>{var t,n,s,r;if(o.length>1){const a=(o[1].y-o[0].y)/4,c=o[1].x-o[0].x,d=[{coordinates:[o[0],{x:o[1].x,y:o[1].y-a}]},{coordinates:[o[0],{x:o[1].x,y:o[1].y-a*2}]},{coordinates:[{x:o[0].x,y:o[1].y},{x:o[1].x,y:o[0].y+a}]},{coordinates:[{x:o[0].x,y:o[1].y},{x:o[1].x,y:o[0].y+a*2}]},{coordinates:[{...o[0]},{x:o[0].x+c*.236,y:o[1].y}]},{coordinates:[{...o[0]},{x:o[0].x+c*.5,y:o[1].y}]},{coordinates:[{x:o[0].x,y:o[1].y},{x:o[0].x+c*.236,y:o[0].y}]},{coordinates:[{x:o[0].x,y:o[1].y},{x:o[0].x+c*.5,y:o[0].y}]}],u=[{coordinates:[o[0],o[1]]},{coordinates:[{x:o[0].x,y:o[1].y},{x:o[1].x,y:o[0].y}]}];return[{type:"line",attrs:[{coordinates:[o[0],{x:o[1].x,y:o[0].y}]},{coordinates:[{x:o[1].x,y:o[0].y},o[1]]},{coordinates:[o[1],{x:o[0].x,y:o[1].y}]},{coordinates:[{x:o[0].x,y:o[1].y},o[0]]}]},{type:"polygon",ignoreEvent:!0,attrs:{coordinates:[o[0],{x:o[1].x,y:o[0].y},o[1],{x:o[0].x,y:o[1].y}]},styles:{style:"fill"}},{type:"line",attrs:d,styles:{style:"dashed",size:((n=(t=e.styles)==null?void 0:t.line)==null?void 0:n.size)??1}},{type:"line",attrs:u,styles:{size:((r=(s=e.styles)==null?void 0:s.line)==null?void 0:r.size)??1}}]}return[]}},Wy={name:"threeWaves",totalStep:5,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:o})=>{const e=o.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:o}},{type:"text",ignoreEvent:!0,attrs:e}]}},Gy={name:"fiveWaves",totalStep:7,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:o})=>{const e=o.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:o}},{type:"text",ignoreEvent:!0,attrs:e}]}},Hy={name:"eightWaves",totalStep:10,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:o})=>{const e=o.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:o}},{type:"text",ignoreEvent:!0,attrs:e}]}},Uy={name:"anyWaves",totalStep:Number.MAX_SAFE_INTEGER,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:o})=>{const e=o.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:o}},{type:"text",ignoreEvent:!0,attrs:e}]}},Yy={name:"abcd",totalStep:5,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:o})=>{let e=[],t=[];const n=["A","B","C","D"],s=o.map((r,a)=>({...r,baseline:"bottom",text:`(${n[a]})`}));return o.length>2&&(e=[o[0],o[2]],o.length>3&&(t=[o[1],o[3]])),[{type:"line",attrs:{coordinates:o}},{type:"line",attrs:[{coordinates:e},{coordinates:t}],styles:{style:"dashed"}},{type:"text",ignoreEvent:!0,attrs:s}]}},Ky={name:"xabcd",totalStep:6,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:o,overlay:e})=>{const t=[],n=[],s=["X","A","B","C","D"],r=o.map((a,c)=>({...a,baseline:"bottom",text:`(${s[c]})`}));return o.length>2&&(t.push({coordinates:[o[0],o[2]]}),n.push({coordinates:[o[0],o[1],o[2]]}),o.length>3&&(t.push({coordinates:[o[1],o[3]]}),o.length>4&&(t.push({coordinates:[o[2],o[4]]}),n.push({coordinates:[o[2],o[3],o[4]]})))),[{type:"line",attrs:{coordinates:o}},{type:"line",attrs:t,styles:{style:"dashed"}},{type:"polygon",ignoreEvent:!0,attrs:n},{type:"text",ignoreEvent:!0,attrs:r}]}};function PS(o,e,t,n){const s=e==="bottom"?1:-1,r=o.x,a=r+200,c=o.y+3*s,d=c+50*s,u=d+5*s,p=n?{color:n}:{},h=n?{backgroundColor:n,borderColor:n}:{};return[{type:"line",attrs:{coordinates:[{x:r,y:c},{x:r,y:d}]},ignoreEvent:!0},{type:"line",attrs:{coordinates:[{x:r,y:o.y},{x:a,y:o.y}]},ignoreEvent:!0,styles:{...p}},{type:"polygon",attrs:{coordinates:[{x:r,y:d},{x:r-4,y:u},{x:r+4,y:u}]},ignoreEvent:!0,styles:p},{type:"rectText",attrs:{x:r,y:u,text:t??"",align:"center",baseline:"bottom"},ignoreEvent:!0,styles:h}]}const Zy={name:"barSignal",totalStep:2,createPointFigures:({overlay:o,coordinates:e})=>{let{postion:t,text:n,bgColor:s}=o.extendData,r=[];return e.forEach(a=>{r.push(...PS(a,t,n,s))}),r}};function MS(o){let s=[];if(o>86400){const r=Math.floor(o/86400);s.push(r.toString(),Sy()),o=o%86400}if(o>3600){const r=Math.floor(o/3600);s.push(r.toString(),Cy()),o=o%3600}if(o>60){const r=Math.floor(o/60);s.push(r.toString(),gh()),o=o%60}return o>0&&s.push("1",gh()),s.join("")}const Xy={name:"ruler",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},onDeselected:o=>{var e;return(e=o.chart)==null||e.removeOverlay({id:o.overlay.id}),!0},createPointFigures:({chart:o,coordinates:e,overlay:t,yAxis:n})=>{const s=$h(o,t,n);if(e.length>1){const r=e[0],a=e[1],c=(r.x+a.x)/2,d=(r.y+a.y)/2,u=_h({x:c,y:r.y},{x:c,y:a.y}),p=_h({x:r.x,y:d},{x:a.x,y:d}),h=r.y>a.y?"#F7525F":"#2962FF",x={color:"#ffffff",backgroundColor:h,borderColor:h,paddingLeft:6,paddingTop:6,paddingRight:6,paddingBottom:6},w=t.points,k=w[0].value-w[1].value,S=k.toFixed(s),M=(k/w[0].value*100).toFixed(2),T=w[1].dataIndex-w[0].dataIndex,D=(w[1].timestamp-w[0].timestamp)/1e3,A=`${S} (${M}%)
${T}${ky()}, ${MS(D)}`;let j=a.y+10,F="top";r.y>a.y&&(j=a.y-10,F="bottom");const q=[],B=30,O=[{x:r.x-B,y:r.y-B},{x:a.x+B,y:r.y-B},{x:a.x+B,y:a.y+B},{x:r.x-B,y:a.y+B}];return q.push({type:"polygon",attrs:{coordinates:O},styles:{style:"fill",color:"transparent"},ignoreEvent:!1}),q.push({type:"polygon",attrs:{coordinates:[r,{x:a.x,y:r.y},a,{x:r.x,y:a.y}]},styles:{style:"stroke_fill"}}),q.push({type:"textBox",attrs:{x:c,y:j,text:A,align:"center",baseline:F},ignoreEvent:!0,styles:x}),q.push(...u),q.push(...p),q}return[]}},j1={color:"#ffffff",paddingLeft:6,paddingTop:6,paddingRight:6,paddingBottom:6},Jy={name:"trade",lock:!0,totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:o,overlay:e})=>{if(o.length<=1)return[];const t=e.extendData,n=o[0],s=o[1],r={size:.5};t&&t.line_color&&(r.color=t.line_color);const a=[],c={type:"line",attrs:{coordinates:[n,s]},styles:{color:"transparent",size:40},ignoreEvent:!1};a.push(c);const d={type:"line",attrs:{coordinates:[n,s]},styles:r};if(a.push(d),!t.active&&!t.selected)return a;const u=t.distance??15;let p="bottom",h=n.y-u,x="top",w=s.y+u;n.y>s.y&&(p="top",h=n.y+u,x="bottom",w=s.y-u);const k={type:"textBox",attrs:{x:n.x,y:h,text:t.in_text,align:"center",baseline:p},ignoreEvent:!0,styles:{...j1,backgroundColor:t.in_color,borderColor:t.in_color}},S={type:"textBox",attrs:{x:s.x,y:w,text:t.out_text,align:"center",baseline:x},ignoreEvent:!0,styles:{...j1,backgroundColor:t.out_color,borderColor:t.out_color}},M={type:"line",attrs:{coordinates:[n,{x:n.x,y:h}]},ignoreEvent:!0,styles:r},T={type:"line",attrs:{coordinates:[s,{x:s.x,y:w}]},ignoreEvent:!0,styles:r};return[c,d,k,S,M,T]},onSelected:o=>{const e=o.overlay.extendData;return e.selected=!0,!1},onDeselected:o=>{const e=o.overlay.extendData;return e.selected=!1,!1},onMouseEnter:o=>{const e=o.overlay.extendData;return e.active=!0,!1},onMouseLeave:o=>{const e=o.overlay.extendData;return e.active=!1,!1}},TS={color:"#ffffff",paddingLeft:6,paddingTop:6,paddingRight:6,paddingBottom:6},Qy={name:"note",lock:!0,totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:o,overlay:e})=>{if(o.length==0)return[];const t=e.extendData,n=o[0],s={size:.5};t&&t.line_color&&(s.color=t.line_color);const r=t.distance??15;let a="bottom",c=n.y-r;const d={type:"textBox",attrs:{x:n.x,y:c,text:t.in_text,align:"center",baseline:a},ignoreEvent:!0,styles:{...TS,backgroundColor:t.in_color,borderColor:t.in_color}},u={type:"line",attrs:{coordinates:[n,{x:n.x,y:c}]},ignoreEvent:!0,styles:s};return[d,u]}},eb={name:"emoji",totalStep:2,needDefaultPointFigure:!1,needDefaultXAxisFigure:!1,needDefaultYAxisFigure:!1,styles:{box:{enabled:!1,stroke:"#3b82f6",width:1,fill:"transparent"},handles:{size:6,fill:"#3b82f6",stroke:"#3b82f6"}},createPointFigures:({coordinates:o,overlay:e})=>{if(o.length===0)return[];const t=e.extendData;if(!t||!t.emoji)return[];const n=o[0],s=t.size||24;t.rotation;const r=t.selected||!1;t.active;const a=[],c=e.styles||{box:{enabled:!1,stroke:"#3b82f6",width:1,fill:"transparent"},handles:{size:6,fill:"#3b82f6",stroke:"#3b82f6"}},d={type:"text",attrs:{x:n.x,y:n.y,text:t.emoji,align:"center",baseline:"middle"},styles:{size:s,family:"Apple Color Emoji, Segoe UI Emoji, Noto Color Emoji, sans-serif",weight:"normal",backgroundColor:"transparent"}};if(a.push(d),r){const u=s/2,p=4,h={type:"rect",attrs:{x:n.x-u-p,y:n.y-u-p,width:s+p*2,height:s+p*2},styles:{stroke:c.box.stroke,strokeWidth:c.box.width,fill:"transparent",backgroundColor:"transparent"}};a.push(h);const x=c.handles.size,w=u+p;[{x:n.x-w-x/2,y:n.y-w-x/2},{x:n.x+w-x/2,y:n.y-w-x/2},{x:n.x-w-x/2,y:n.y+w-x/2},{x:n.x+w-x/2,y:n.y+w-x/2}].forEach(S=>{const M={type:"rect",attrs:{x:S.x,y:S.y,width:x,height:x},styles:{fill:c.handles.fill,stroke:c.handles.stroke,strokeWidth:1,backgroundColor:"transparent"}};a.push(M)})}return a},onDrawStart:o=>!0,onDrawing:o=>!0,onDrawEnd:o=>!0,onPressedMoveStart:o=>!0,onPressedMoving:o=>!0,onPressedMoveEnd:o=>!0,onSelected:o=>{const e=o.overlay.extendData;return e&&(e.selected=!0),!1},onDeselected:o=>{const e=o.overlay.extendData;return e&&(e.selected=!1),!1},onMouseEnter:o=>{const e=o.overlay.extendData;return e&&(e.active=!0),!1},onMouseLeave:o=>{const e=o.overlay.extendData;return e&&(e.active=!1),!1}},$1="system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif",tb={name:"text",totalStep:2,needDefaultPointFigure:!1,needDefaultXAxisFigure:!1,needDefaultYAxisFigure:!1,zLevel:100,styles:{text:{color:"#FFFFFF",backgroundColor:"#A0000020",borderColor:"#1677FF",size:32,weight:"bold",family:$1,paddingLeft:8,paddingRight:8,paddingTop:4,paddingBottom:4,borderSize:1},box:{stroke:"#1677FF",width:1,fill:"transparent"},handles:{size:6,fill:"#1677FF",stroke:"#1677FF"}},createPointFigures:({coordinates:o,overlay:e})=>{var se,ie,te,K,J,U,ae,me,ke,Ae,Le,He,it,Ne,we,je,Te,Se,Ue,Be,le;if(o.length===0)return[];const t=o[0],n=e.extendData||{},s=!!((se=e.extendData)!=null&&se.editing),r=n.text??"",a=n.fontSize??((te=(ie=e.styles)==null?void 0:ie.text)==null?void 0:te.size)??32,c=n.fontWeight??((J=(K=e.styles)==null?void 0:K.text)==null?void 0:J.weight)??"bold",d=n.fontFamily??((ae=(U=e.styles)==null?void 0:U.text)==null?void 0:ae.family)??$1,u=n.textColor??((ke=(me=e.styles)==null?void 0:me.text)==null?void 0:ke.color)??"#FFFFFF",p=n.backgroundColor??((Le=(Ae=e.styles)==null?void 0:Ae.text)==null?void 0:Le.backgroundColor)??"#A0000020",h=((it=(He=e.styles)==null?void 0:He.text)==null?void 0:it.paddingLeft)??8,x=((we=(Ne=e.styles)==null?void 0:Ne.text)==null?void 0:we.paddingRight)??8,w=((Te=(je=e.styles)==null?void 0:je.text)==null?void 0:Te.paddingTop)??4,k=((Ue=(Se=e.styles)==null?void 0:Se.text)==null?void 0:Ue.paddingBottom)??4;if(s||!r||r.trim().length===0)return[];const S=a*(c==="bold"?.62:.58),M=Math.round(a*1.5),T=String(r).split(/\r?\n/),D=T.map(ye=>Math.max(10,Math.round(ye.length*S))),j=(D.length?Math.max(...D):Math.max(10,Math.round(r.length*S)))+h+x,F=(T.length||1)*M+w+k,q=Math.max(n.boxWidth||0,j),B=Math.max(n.boxHeight||0,F),O=t.x,z=t.y-Math.round(B/2),Y=[];Y.push({type:"rect",attrs:{x:O,y:z,width:q,height:B},styles:{style:hr.StrokeFill,color:p,borderColor:"#1677FF",borderSize:1}});const G=O+h,oe="left",re=z+w+Math.round(M/2);if(T.forEach((ye,Ee)=>{const Je=re+Ee*M;Y.push({type:"text",attrs:{x:G,y:Je,text:ye,align:oe,baseline:"middle"},styles:{size:a,family:d,weight:c,color:u,backgroundColor:"transparent"}})}),n.selected){const Ee=((le=(Be=e.styles)==null?void 0:Be.handles)==null?void 0:le.size)??6;[{x:O-Ee/2,y:z-Ee/2},{x:O+q-Ee/2,y:z-Ee/2},{x:O-Ee/2,y:z+B-Ee/2},{x:O+q-Ee/2,y:z+B-Ee/2}].forEach(be=>{var X,H,Ce,Qe;Y.push({type:"rect",attrs:{x:be.x,y:be.y,width:Ee,height:Ee},styles:{fill:((H=(X=e.styles)==null?void 0:X.handles)==null?void 0:H.fill)??"#1677FF",stroke:((Qe=(Ce=e.styles)==null?void 0:Ce.handles)==null?void 0:Qe.stroke)??"#1677FF",strokeWidth:1,backgroundColor:"transparent"}})})}return Y},onSelected:o=>{var t;const e=o.overlay.extendData||{};return e.selected=!0,(t=o.chart)==null||t.overrideOverlay({id:o.overlay.id,extendData:e}),!0},onDeselected:o=>{var t;const e=o.overlay.extendData||{};return e.selected=!1,(t=o.chart)==null||t.overrideOverlay({id:o.overlay.id,extendData:e}),!0},onDrawStart:()=>!0,onDrawing:()=>!0,onDrawEnd:()=>!0,onPressedMoveStart:o=>{if(o.overlay.lock)return!1;const e=o.overlay.extendData||{},t=o.overlay.paneId;try{const n=o.chart.convertToPixel(o.overlay.points[0],{paneId:t});n&&typeof o.x=="number"&&typeof o.y=="number"&&(e.__dragOffX=o.x-(n.x||0),e.__dragOffY=o.y-(n.y||0),o.chart.overrideOverlay({id:o.overlay.id,extendData:e}))}catch{}return!0},onPressedMoving:o=>{if(o.overlay.lock)return!1;const e=o.overlay.extendData||{},t=e.__dragOffX||0,n=e.__dragOffY||0,s=o.overlay.paneId;if(typeof o.x!="number"||typeof o.y!="number")return!0;const r=o.x-t,a=o.y-n;try{const c=o.chart.convertFromPixel([{x:r,y:a}],{paneId:s}),d=Array.isArray(c)?c[0]:c;d&&o.chart.overrideOverlay({id:o.overlay.id,points:[{timestamp:d.timestamp,value:d.value}]})}catch{}return!0},onPressedMoveEnd:o=>{if(o.overlay.lock)return!1;const e=o.overlay.extendData||{};if("__dragOffX"in e||"__dragOffY"in e){delete e.__dragOffX,delete e.__dragOffY;try{o.chart.overrideOverlay({id:o.overlay.id,extendData:e})}catch{}}return!0}};function AS(o,e){if(o.length>0){const t=o[0].y;return{coordinates:[{x:0,y:t},{x:e.width,y:t}]}}return{coordinates:[]}}function DS(o,e){if(o.length>1){const t=o[0].y,n=o[0],s=o[1];return n.x>s.x?{coordinates:[{x:0,y:t},n]}:{coordinates:[n,{x:e.width,y:t}]}}return{coordinates:[]}}const ob={name:"horizontalStraightLine",totalStep:2,needDefaultPointFigure:!1,needDefaultXAxisFigure:!1,needDefaultYAxisFigure:!1,createPointFigures:({coordinates:o,overlay:e,bounding:t})=>{var a,c,d;if(o.length<1)return[];console.log("horizontalStraightLine createPointFigures called",{overlayId:e.id,hasExtendData:!!e.extendData,extendData:e.extendData,selected:e.selected}),!e.extendData||typeof e.extendData!="object"?e.extendData={showDot:!1}:"showDot"in e.extendData||(e.extendData.showDot=!1);const n=e.extendData,s=[],r=AS(o,t);if(r.coordinates.length>0&&(s.push({type:"line",attrs:r,styles:{color:"transparent",size:40,style:"solid"},ignoreEvent:!1}),s.push({type:"line",attrs:r}),n.showDot||e.selected)){const u=t.width/2,p=o[0].y,h=((c=(a=e.styles)==null?void 0:a.line)==null?void 0:c.color)||((d=e.styles)==null?void 0:d.color)||"#1677FF";console.log("Drawing dot for horizontalStraightLine:",{x:u,y:p,showDot:n.showDot,selected:e.selected,color:h}),s.push({type:"circle",attrs:{x:u,y:p,r:6},styles:{style:"fill",color:h}}),s.push({type:"circle",attrs:{x:u,y:p,r:7},styles:{style:"stroke",color:"#ffffff",borderSize:2}})}return s},createYAxisFigures:({overlay:o,coordinates:e,yAxis:t})=>{var c,d,u,p,h;if(e.length<1||!o.points||o.points.length<1)return[];const n=(c=o.points[0])==null?void 0:c.value;if(n===void 0)return[];const s=((d=t==null?void 0:t.getPrecision)==null?void 0:d.call(t))??2,r=n.toFixed(s),a=((p=(u=o.styles)==null?void 0:u.line)==null?void 0:p.color)||((h=o.styles)==null?void 0:h.color)||"#1677FF";return[{type:"text",attrs:{x:0,y:e[0].y,text:r,baseline:"middle"},styles:{backgroundColor:a,color:"#FFFFFF"},ignoreEvent:!0}]},onClick:o=>{console.log("ðŸŸ¢ horizontalStraightLine onClick called",{overlayId:o.overlay.id,overlayName:o.overlay.name,hasExtendData:!!o.overlay.extendData,extendData:o.overlay.extendData}),!o.overlay.extendData||typeof o.overlay.extendData!="object"?o.overlay.extendData={showDot:!1}:"showDot"in o.overlay.extendData||(o.overlay.extendData.showDot=!1);const e=o.overlay.extendData;return e.showDot=!e.showDot,console.log("âœ… Toggled showDot to:",e.showDot,"overlay:",o.overlay),o.chart&&(console.log("Attempting to override overlay to force redraw..."),o.chart.overrideOverlay({id:o.overlay.id,extendData:e})),!0},onSelected:o=>{console.log("ðŸŸ¢ horizontalStraightLine onSelected called",{overlayId:o.overlay.id,overlayName:o.overlay.name,hasExtendData:!!o.overlay.extendData,extendData:o.overlay.extendData}),!o.overlay.extendData||typeof o.overlay.extendData!="object"?o.overlay.extendData={showDot:!1}:"showDot"in o.overlay.extendData||(o.overlay.extendData.showDot=!1);const e=o.overlay.extendData;return e.showDot=!0,console.log("âœ… Set showDot to true:",e,"overlay:",o.overlay),o.chart&&(console.log("Attempting to override overlay to force redraw..."),o.chart.overrideOverlay({id:o.overlay.id,extendData:e})),!0},onDeselected:o=>{console.log("ðŸ”´ horizontalStraightLine onDeselected called"),!o.overlay.extendData||typeof o.overlay.extendData!="object"?o.overlay.extendData={showDot:!1}:"showDot"in o.overlay.extendData||(o.overlay.extendData.showDot=!1);const e=o.overlay.extendData;return e.showDot=!1,o.chart&&o.chart.overrideOverlay({id:o.overlay.id,extendData:e}),!0}},nb={name:"horizontalRayLine",totalStep:3,needDefaultPointFigure:!1,needDefaultXAxisFigure:!1,needDefaultYAxisFigure:!1,createPointFigures:({coordinates:o,overlay:e,bounding:t})=>{var a,c,d;if(o.length<2)return[];console.log("horizontalRayLine createPointFigures called",{overlayId:e.id,hasExtendData:!!e.extendData,extendData:e.extendData,selected:e.selected}),!e.extendData||typeof e.extendData!="object"?e.extendData={showDot:!1}:"showDot"in e.extendData||(e.extendData.showDot=!1);const n=e.extendData,s=[],r=DS(o,t);if(r.coordinates.length>0&&(s.push({type:"line",attrs:r,styles:{color:"transparent",size:40,style:"solid"},ignoreEvent:!1}),s.push({type:"line",attrs:r}),n.showDot||e.selected)){const u=o[0].x,p=o[0].y,h=((c=(a=e.styles)==null?void 0:a.line)==null?void 0:c.color)||((d=e.styles)==null?void 0:d.color)||"#1677FF";console.log("Drawing dot for horizontalRayLine:",{x:u,y:p,showDot:n.showDot,selected:e.selected,color:h}),s.push({type:"circle",attrs:{x:u,y:p,r:6},styles:{style:"fill",color:h}}),s.push({type:"circle",attrs:{x:u,y:p,r:7},styles:{style:"stroke",color:"#ffffff",borderSize:2}})}return s},createYAxisFigures:({overlay:o,coordinates:e,yAxis:t})=>{var c,d,u,p,h;if(e.length<1||!o.points||o.points.length<1)return[];const n=(c=o.points[0])==null?void 0:c.value;if(n===void 0)return[];const s=((d=t==null?void 0:t.getPrecision)==null?void 0:d.call(t))??2,r=n.toFixed(s),a=((p=(u=o.styles)==null?void 0:u.line)==null?void 0:p.color)||((h=o.styles)==null?void 0:h.color)||"#1677FF";return[{type:"text",attrs:{x:0,y:e[0].y,text:r,baseline:"middle"},styles:{backgroundColor:a,color:"#FFFFFF"},ignoreEvent:!0}]},onClick:o=>{console.log("ðŸŸ¢ horizontalRayLine onClick called",{overlayId:o.overlay.id,overlayName:o.overlay.name,hasExtendData:!!o.overlay.extendData,extendData:o.overlay.extendData}),!o.overlay.extendData||typeof o.overlay.extendData!="object"?o.overlay.extendData={showDot:!1}:"showDot"in o.overlay.extendData||(o.overlay.extendData.showDot=!1);const e=o.overlay.extendData;return e.showDot=!e.showDot,console.log("âœ… Toggled showDot to:",e.showDot,"overlay:",o.overlay),o.chart&&(console.log("Attempting to override overlay to force redraw..."),o.chart.overrideOverlay({id:o.overlay.id,extendData:e})),!0},onSelected:o=>{console.log("ðŸŸ¢ horizontalRayLine onSelected called",{overlayId:o.overlay.id,overlayName:o.overlay.name,hasExtendData:!!o.overlay.extendData,extendData:o.overlay.extendData}),!o.overlay.extendData||typeof o.overlay.extendData!="object"?o.overlay.extendData={showDot:!1}:"showDot"in o.overlay.extendData||(o.overlay.extendData.showDot=!1);const e=o.overlay.extendData;return e.showDot=!0,console.log("âœ… Set showDot to true:",e,"overlay:",o.overlay),o.chart&&(console.log("Attempting to override overlay to force redraw..."),o.chart.overrideOverlay({id:o.overlay.id,extendData:e})),!0},onDeselected:o=>{console.log("ðŸ”´ horizontalRayLine onDeselected called"),!o.overlay.extendData||typeof o.overlay.extendData!="object"?o.overlay.extendData={showDot:!1}:"showDot"in o.overlay.extendData||(o.overlay.extendData.showDot=!1);const e=o.overlay.extendData;return e.showDot=!1,o.chart&&o.chart.overrideOverlay({id:o.overlay.id,extendData:e}),!0}};function LS(o,e,t,n,s,r,a){const c=n*.4,d=s*.4;o.save(),o.strokeStyle=r,o.lineWidth=a,o.lineCap="round",o.lineJoin="round",o.beginPath(),o.moveTo(e-c,t-d),o.lineTo(e+c,t+d),o.moveTo(e+c,t-d),o.lineTo(e-c,t+d),o.stroke(),o.restore()}function ES(o,e,t,n,s,r,a){const c=n*.4,d=s*.4;o.save(),o.strokeStyle=r,o.lineWidth=a,o.lineCap="round",o.beginPath(),o.ellipse(e,t,c,d,0,0,Math.PI*2),o.stroke(),o.restore()}const sb={name:"pointAndFigure",totalStep:0,needDefaultPointFigure:!1,needDefaultXAxisFigure:!1,needDefaultYAxisFigure:!1,createPointFigures:()=>[],draw:o=>{var T,D,A;const{ctx:e,chart:t,bounding:n,xAxis:s,yAxis:r,overlay:a}=o;if(!t||!e||!(s!=null&&s.convertToPixel)||!(r!=null&&r.convertToPixel))return[];const c=(T=t.getVisibleRange)==null?void 0:T.call(t);if(!c)return[];const d=((D=t.getDataList)==null?void 0:D.call(t))||[];if(d.length===0)return[];const u=s.convertToPixel(0),p=s.convertToPixel(1),h=Math.max(1,Math.abs(p-u));let x=h;for(let j=c.from;j<=c.to&&j<d.length;j++){const F=(A=d[j])==null?void 0:A._pnf;if(F!=null&&F.boxes&&F.boxes.length>=2){const q=r.convertToPixel(F.boxes[0].price),B=r.convertToPixel(F.boxes[1].price);if(q!==void 0&&B!==void 0&&!isNaN(q)&&!isNaN(B)){const O=Math.abs(q-B);if(O>0){x=O;break}}}}const w=h*.85,k=x*.85,S=(w+k)/2,M=Math.max(.8,S*.08);for(let j=c.from;j<=c.to&&j<d.length;j++){const F=d[j];if(!F)continue;const q=F==null?void 0:F._pnf;if(!q||!q.boxes)continue;const{direction:B,boxes:O,upColor:z="#00E6D8",downColor:Y="#FF4D4D"}=q,G=s.convertToPixel(j);if(!(G==null||isNaN(G)))for(const oe of O){const re=r.convertToPixel(oe.price);re==null||isNaN(re)||(B==="up"?LS(e,G,re,w,k,z,M):ES(e,G,re,w,k,Y,M))}}return[]}},ib={name:"script-layer",totalStep:0,needDefaultPointFigure:!1,needDefaultXAxisFigure:!1,needDefaultYAxisFigure:!1,styles:{},createPointFigures:()=>[]},FS=[Ey,Fy,jy,By,$y,Oy,Ry,Ny,zy,Vy,qy,Wy,Gy,Hy,Uy,Yy,Ky,Zy,Xy,Jy,Qy,eb,tb,ob,nb,sb,ib],jS={arrow:Ey,circle:Fy,rect:jy,triangle:By,parallelogram:$y,fibonacciCircle:Oy,fibonacciSegment:Ry,fibonacciSpiral:Ny,fibonacciSpeedResistanceFan:zy,fibonacciExtension:Vy,gannBox:qy,threeWaves:Wy,fiveWaves:Gy,eightWaves:Hy,anyWaves:Uy,abcd:Yy,xabcd:Ky,barSignal:Zy,ruler:Xy,trade:Jy,note:Qy,emoji:eb,text:tb,horizontalStraightLine:ob,horizontalRayLine:nb,pointAndFigure:sb,scriptLayer:ib};function rb(o,e,t){const{size:n=12,paddingLeft:s=0,paddingTop:r=0,paddingRight:a=0,paddingBottom:c=0}=e,{x:d,y:u,text:p,align:h="left",baseline:x="top"}=o;t=t??n*p.length;let w;switch(h){case"left":case"start":{w=d;break}case"right":case"end":{w=d-a-t-s;break}default:{w=d-t/2-s;break}}return w}function ab(o,e,t,n,s){const{size:r=12,paddingLeft:a=0,paddingTop:c=0,paddingRight:d=0,paddingBottom:u=0}=e,{x:p,y:h,text:x,align:w="left",baseline:k="top"}=o,S=x.length;t=t??r*S,n=n??1,s=s??1.5;const M=r*n*s-(s-1)*r,T=rb(o,e,t);let D;switch(k){case"top":case"hanging":{D=h;break}case"bottom":case"ideographic":case"alphabetic":{D=h-M-c-u;break}default:{D=h-M/2-c;break}}return{x:T,y:D,width:a+t+d,height:c+M+u}}const lb=mv.calcTextWidth;function $S(o,e,t){return`${e??"normal"} ${o??12}px ${t??"Helvetica Neue"}`}function BS(o){return typeof o=="string"}function B1(o){return o==="transparent"||o==="none"||/^[rR][gG][Bb][Aa]\(([\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\s]*,){3}[\s]*0[\s]*\)$/.test(o)||/^[hH][Ss][Ll][Aa]\(([\s]*(360ï½œ3[0-5][0-9]|[012]?[0-9][0-9]?)[\s]*,)([\s]*((100|[0-9][0-9]?)%|0)[\s]*,){2}([\s]*0[\s]*)\)$/.test(o)}function OS(o,e,t){let n=[];n=n.concat(e);const{style:s=hr.Fill,color:r="transparent",borderSize:a=1,borderColor:c="transparent",borderStyle:d=de.Solid,borderRadius:u=0,borderDashedValue:p=[2,2]}=t,h=o.roundRect??o.rect,x=(s===hr.Fill||t.style===hr.StrokeFill)&&(!BS(r)||!B1(r));if(x&&(o.fillStyle=r,n.forEach(({x:w,y:k,width:S,height:M})=>{o.beginPath(),h.call(o,w,k,S,M,u),o.closePath(),o.fill()})),(s===hr.Stroke||t.style===hr.StrokeFill)&&a>0&&!B1(c)){o.strokeStyle=c,o.fillStyle=c,o.lineWidth=a,d===de.Dashed?o.setLineDash(p):o.setLineDash([]);const w=a%2===1?.5:0,k=Math.round(w*2);n.forEach(({x:S,y:M,width:T,height:D})=>{T>a*2&&D>a*2?(o.beginPath(),h.call(o,S+w,M+w,T-k,D-k,u),o.closePath(),o.stroke()):x||o.fillRect(S,M,T,D)})}}function RS(o,e,t){const{text:n}=e,{size:s=12,family:r,weight:a,paddingLeft:c=0,paddingTop:d=0,paddingRight:u=0}=t,p=n.split(`
`),h=p.map(T=>lb(T,s,a,r)),x=1.5,w=s*x,k=Math.max(...h),S=ab(e,t,k,p.length,x);OS(o,S,{...t,color:t.backgroundColor});let M=S.y+d;p.forEach((T,D)=>{const A=rb(e,t,h[D])+c;o.textAlign="left",o.textBaseline="top",o.font=$S(s,a,r),o.fillStyle=t.color||"currentColor",o.fillText(T,A,M,S.width-c-u),M+=w})}function NS(o,e,t){const{size:n=12,family:s,weight:r,paddingLeft:a=0,paddingTop:c=0}=t,d=e.text.split(`
`),u=d.map(M=>lb(M,n,r,s)),p=1.5,h=Math.max(...u),{x,y:w,width:k,height:S}=ab(e,t,h,d.length,p);return o.x>=x&&o.x<=x+k&&o.y>=w&&o.y<=w+S}const zS={name:"textBox",checkEventOn:(o,e,t)=>NS(o,e,t),draw:(o,e,t)=>{RS(o,e,t)}},VS=[zS],qS={name:"BIAS",shortName:"BIAS",precision:2,calcParams:[6],shouldOhlc:!1,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,figures:[{key:"bias",title:"BIAS: ",type:"line"}],styles:{lines:[{color:"#2196F3",size:1,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{const t=e.calcParams[0]||6,n=[];if(o.length<t)return o.map(()=>({}));for(let s=0;s<o.length;s++){if(s<t-1){n.push({});continue}let r=0;for(let d=s-t+1;d<=s;d++)r+=o[d].close;const a=r/t,c=(o[s].close-a)/a*100;n.push({bias:c})}return n}},WS={name:"CCI",shortName:"CCI",precision:2,calcParams:[20],shouldOhlc:!1,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,figures:[{key:"cci",title:"CCI: ",type:"line"}],minValue:void 0,maxValue:void 0,styles:{lines:[{color:"#2563eb",size:2,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{const{calcParams:t}=e,[n]=t;return o.map((s,r)=>({cci:GS(o,r,n)}))}};function GS(o,e,t){if(e<t-1)return null;const n=[];for(let u=e-t+1;u<=e;u++){const p=o[u],h=(p.high+p.low+p.close)/3;n.push(h)}const s=n.reduce((u,p)=>u+p,0)/t,r=n.reduce((u,p)=>u+Math.abs(p-s),0)/t;if(r===0)return 0;const a=o[e];return((a.high+a.low+a.close)/3-s)/(.015*r)}const HS={name:"ICHIMOKU",shortName:"ICHIMOKU",precision:4,calcParams:[9,26,52],shouldOhlc:!0,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,figures:[{key:"tenkan",title:"Tenkan: ",type:"line"},{key:"kijun",title:"Kijun: ",type:"line"},{key:"senkouA",title:"Senkou A: ",type:"line"},{key:"senkouB",title:"Senkou B: ",type:"line"},{key:"chikou",title:"Chikou: ",type:"line"}],styles:{lines:[{color:"#FF6B6B",size:1,style:de.Solid,smooth:!1,dashedValue:[2,2]},{color:"#4ECDC4",size:1,style:de.Solid,smooth:!1,dashedValue:[2,2]},{color:"#45B7D1",size:1,style:de.Solid,smooth:!1,dashedValue:[2,2]},{color:"#FFA07A",size:1,style:de.Solid,smooth:!1,dashedValue:[2,2]},{color:"#9B59B6",size:1,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{const t=e.calcParams[0]||9,n=e.calcParams[1]||26,s=e.calcParams[2]||52,r=n,a=[],c=(u,p)=>{let h=-1/0,x=1/0;for(let w=u;w<u+p&&w<o.length;w++)o[w].high>h&&(h=o[w].high),o[w].low<x&&(x=o[w].low);return{high:h,low:x}};for(let u=0;u<o.length;u++){const p={};if(u>=t-1){const{high:h,low:x}=c(u-t+1,t);p.tenkan=(h+x)/2}if(u>=n-1){const{high:h,low:x}=c(u-n+1,n);p.kijun=(h+x)/2}if(u>=n-1){const h=u,x=u;if(h>=t-1&&x>=n-1){const{high:w,low:k}=c(h-t+1,t),{high:S,low:M}=c(x-n+1,n),T=(w+k)/2,D=(S+M)/2;p.senkouA=(T+D)/2}}if(u>=s-1){const{high:h,low:x}=c(u-s+1,s);p.senkouB=(h+x)/2}p.chikou=o[u].close,a.push(p)}return a.map((u,p)=>{var x,w,k;const h={...u};return p>=r?(h.senkouA=(x=a[p-r])==null?void 0:x.senkouA,h.senkouB=(w=a[p-r])==null?void 0:w.senkouB):(h.senkouA=void 0,h.senkouB=void 0),p+r<a.length?h.chikou=(k=o[p+r])==null?void 0:k.close:h.chikou=void 0,h})},draw:({ctx:o,chart:e,indicator:t,bounding:n,xAxis:s,yAxis:r})=>{if(!t.result||t.result.length===0)return!1;const a=e.getVisibleRange(),{from:c,to:d}=a,u=t.result;o.save();const p=[];for(let h=c;h<d;h++){const x=u[h];if(x&&x.senkouA!==void 0&&x.senkouB!==void 0){const w=s.convertToPixel(h),k=r.convertToPixel(x.senkouA),S=r.convertToPixel(x.senkouB);p.push({x:w,yA:k,yB:S})}}if(p.length>1){o.globalAlpha=.2;const h=p[0].yA<p[0].yB;o.fillStyle=h?"#4CAF50":"#F44336",o.beginPath(),o.moveTo(p[0].x,Math.min(p[0].yA,p[0].yB));for(let x=1;x<p.length;x++)o.lineTo(p[x].x,Math.min(p[x].yA,p[x].yB));for(let x=p.length-1;x>=0;x--)o.lineTo(p[x].x,Math.max(p[x].yA,p[x].yB));o.closePath(),o.fill()}return o.restore(),!1}},US={name:"PVT",shortName:"PVT",precision:2,calcParams:[],shouldOhlc:!1,shouldFormatBigNumber:!0,visible:!0,zLevel:0,extendData:void 0,figures:[{key:"pvt",title:"PVT: ",type:"line"}],styles:{lines:[{color:"#FF6B35",size:2,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{const t=[];if(o.length<2)return o.map(()=>({}));t.push({pvt:0});let n=0;for(let s=1;s<o.length;s++){const r=o[s],a=o[s-1];if(r.close==null||a.close==null||r.volume==null||r.close<=0||a.close<=0){t.push({});continue}const c=(r.close-a.close)/a.close,d=n+r.volume*c;t.push({pvt:d}),n=d}return t}},lc=new Map,Bg=o=>({id:o,period:14,lineColor:"#8B5CF6",lineThickness:2,lineStyle:"solid",overboughtLevel:70,oversoldLevel:30,middleLevel:50,overboughtColor:"#EF4444",overboughtThickness:1,overboughtLineStyle:"dashed",oversoldColor:"#22C55E",oversoldThickness:1,oversoldLineStyle:"dashed",overboughtFillColor:"#EF4444",oversoldFillColor:"#22C55E",middleLineColor:"#6B7280",middleLineThickness:1,middleLineStyle:"dashed",fillOpacity:.15,showLevels:!0,showFill:!0,levels:[{id:"overbought",value:70,color:"#EF4444",lineStyle:"dashed",thickness:1,label:"70",visible:!0},{id:"middle",value:50,color:"#6B7280",lineStyle:"dashed",thickness:1,label:"50",visible:!0},{id:"oversold",value:30,color:"#22C55E",lineStyle:"dashed",thickness:1,label:"30",visible:!0}]}),YS=(o,e)=>{const t=[];if(o.length<e+1)return o.map(()=>NaN);let n=[],s=[];for(let u=1;u<=e;u++){const p=o[u].close-o[u-1].close;n.push(p>0?p:0),s.push(p<0?Math.abs(p):0)}let r=n.reduce((u,p)=>u+p,0)/e,a=s.reduce((u,p)=>u+p,0)/e;for(let u=0;u<e;u++)t.push(NaN);let c=r/(a||1e-4),d=100-100/(1+c);t.push(d);for(let u=e+1;u<o.length;u++){const p=o[u].close-o[u-1].close,h=p>0?p:0,x=p<0?Math.abs(p):0;r=(r*(e-1)+h)/e,a=(a*(e-1)+x)/e,c=r/(a||1e-4),d=100-100/(1+c),t.push(d)}return t};function KS(o){if(!o)return null;const e=o.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i);if(e)return{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)};const t=o.match(/^#?([a-f\d])([a-f\d])([a-f\d])$/i);if(t)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16)};const n=o.match(/rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*[\d.]+\s*)?\)/i);return n?{r:parseInt(n[1],10),g:parseInt(n[2],10),b:parseInt(n[3],10)}:null}function bg(o,e,t,n,s){if(e<=s&&n>=s||e>=s&&n<=s){if(e===n)return null;const r=(s-e)/(n-e);return{x:o+r*(t-o),y:s}}return null}const cb={name:"RSI",shortName:"RSI",precision:2,calcParams:[14],shouldOhlc:!1,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,minValue:0,maxValue:100,figures:[{key:"rsi",title:"RSI: ",type:"line"}],styles:{lines:[{color:"#8B5CF6",size:2,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{const t=e.calcParams[0]||14;return YS(o,t).map(s=>({rsi:isNaN(s)?null:s}))},draw:({ctx:o,chart:e,indicator:t,bounding:n,xAxis:s,yAxis:r})=>{const a=t.paneId||"default";let c=lc.get(a);c||(c=Bg(a),lc.set(a,c));const{left:d,width:u}=n,p=e.getVisibleRange(),h=t.result;if(!h||h.length===0)return!1;o.save();const x=r.convertToPixel(c.overboughtLevel),w=r.convertToPixel(c.oversoldLevel);if(c.showFill){const k=[],S=[];let M=!1,T=!1;for(let D=p.from;D<=p.to&&D<h.length;D++){const A=h[D];if(!A||A.rsi===null||A.rsi===void 0)continue;const j=s.convertToPixel(D),F=r.convertToPixel(A.rsi);if(j===null||F===null)continue;const q=D>0?h[D-1]:null,B=q==null?void 0:q.rsi,O=D>0?s.convertToPixel(D-1):null,z=B!=null?r.convertToPixel(B):null;if(A.rsi>c.overboughtLevel){if(!M&&(M=!0,O!==null&&z!==null&&B!==null&&B!==void 0&&B<=c.overboughtLevel)){const Y=bg(O,z,j,F,x);Y&&(k.push({x:Y.x,y:x}),Y.x)}k.push({x:j,y:F})}else if(M){if(O!==null&&z!==null&&B!==null&&B!==void 0){const Y=bg(O,z,j,F,x);Y&&k.push({x:Y.x,y:x})}k.length>=2&&xg(o,k,x,c.overboughtFillColor,c.fillOpacity,"above"),k.length=0,M=!1}if(A.rsi<c.oversoldLevel){if(!T&&(T=!0,O!==null&&z!==null&&B!==null&&B!==void 0&&B>=c.oversoldLevel)){const Y=bg(O,z,j,F,w);Y&&(S.push({x:Y.x,y:w}),Y.x)}S.push({x:j,y:F})}else if(T){if(O!==null&&z!==null&&B!==null&&B!==void 0){const Y=bg(O,z,j,F,w);Y&&S.push({x:Y.x,y:w})}S.length>=2&&xg(o,S,w,c.oversoldFillColor,c.fillOpacity,"below"),S.length=0,T=!1}}M&&k.length>=2&&xg(o,k,x,c.overboughtFillColor,c.fillOpacity,"above"),T&&S.length>=2&&xg(o,S,w,c.oversoldFillColor,c.fillOpacity,"below")}c.showLevels&&c.levels.forEach(k=>{if(!k.visible)return;const S=r.convertToPixel(k.value);if(S===null)return;o.save(),o.strokeStyle=k.color;let M=1,T="dashed";k.id==="overbought"?(M=c.overboughtThickness??1,T=c.overboughtLineStyle??"dashed"):k.id==="oversold"?(M=c.oversoldThickness??1,T=c.oversoldLineStyle??"dashed"):k.id==="middle"&&(M=c.middleLineThickness??1,T=c.middleLineStyle??"dashed"),M=Math.max(1,Math.round(M)),o.lineWidth=M;const D=M%2===1?Math.floor(S)+.5:Math.round(S);T==="dashed"?o.setLineDash([6*M,4*M]):T==="dotted"?o.setLineDash([M,M*2]):o.setLineDash([]),o.beginPath(),o.moveTo(Math.floor(d),D),o.lineTo(Math.floor(d+u),D),o.stroke(),o.restore()}),o.lineCap="round",o.lineJoin="round";for(let k=p.from;k<p.to&&k<h.length-1;k++){const S=h[k],M=h[k+1];if(!S||!M||S.rsi===null||S.rsi===void 0||M.rsi===null||M.rsi===void 0)continue;const T=s.convertToPixel(k),D=s.convertToPixel(k+1),A=r.convertToPixel(S.rsi),j=r.convertToPixel(M.rsi);if(T===null||D===null||A===null||j===null)continue;let F=c.lineColor;S.rsi>c.overboughtLevel?F=c.overboughtColor:S.rsi<c.oversoldLevel&&(F=c.oversoldColor),o.strokeStyle=F,o.lineWidth=c.lineThickness,c.lineStyle==="dashed"?o.setLineDash([6,4]):c.lineStyle==="dotted"?o.setLineDash([2,2]):o.setLineDash([]),o.beginPath(),o.moveTo(T,A),o.lineTo(D,j),o.stroke()}return o.restore(),!0}};function xg(o,e,t,n,s,r){if(e.length<2)return;o.save();let a=KS(n);a||(a=r==="above"?{r:239,g:68,b:68}:{r:34,g:197,b:94});const c=Math.min(...e.map(p=>p.y)),d=Math.max(...e.map(p=>p.y));let u;r==="above"?(u=o.createLinearGradient(0,t,0,c),u.addColorStop(0,`rgba(${a.r}, ${a.g}, ${a.b}, 0.02)`),u.addColorStop(.5,`rgba(${a.r}, ${a.g}, ${a.b}, ${s*.5})`),u.addColorStop(1,`rgba(${a.r}, ${a.g}, ${a.b}, ${s})`)):(u=o.createLinearGradient(0,t,0,d),u.addColorStop(0,`rgba(${a.r}, ${a.g}, ${a.b}, 0.02)`),u.addColorStop(.5,`rgba(${a.r}, ${a.g}, ${a.b}, ${s*.5})`),u.addColorStop(1,`rgba(${a.r}, ${a.g}, ${a.b}, ${s})`)),o.fillStyle=u,o.beginPath(),o.moveTo(e[0].x,e[0].y);for(let p=1;p<e.length;p++)o.lineTo(e[p].x,e[p].y);o.lineTo(e[e.length-1].x,t),o.lineTo(e[0].x,t),o.closePath(),o.fill(),o.restore()}const Vd={createInstance:(o,e)=>{const t=Bg(o);return e&&(e.levels&&(t.levels=e.levels),Object.keys(e).forEach(n=>{n!=="levels"&&e[n]!==void 0&&(t[n]=e[n])})),lc.set(o,t),t},getInstance:o=>lc.get(o),getInstanceConfig:o=>lc.get(o)||null,updateInstance:(o,e)=>{const t=lc.get(o);if(!t){const n=Bg(o);return Object.assign(n,e),lc.set(o,n),!0}return e.levels&&(t.levels=e.levels),Object.keys(e).forEach(n=>{n!=="levels"&&e[n]!==void 0&&(t[n]=e[n])}),lc.set(o,t),!0},deleteInstance:o=>lc.delete(o),getAllInstances:()=>new Map(lc),clearAllInstances:()=>{lc.clear()},resetInstance:o=>{const e=Bg(o);lc.set(o,e)},exportInstanceConfig:o=>lc.get(o)||null,importInstanceConfig:o=>{try{if(!o||!o.id)return!1;const e={id:o.id,period:o.period??14,lineColor:o.lineColor??"#8B5CF6",lineThickness:o.lineThickness??2,lineStyle:o.lineStyle??"solid",overboughtLevel:o.overboughtLevel??70,oversoldLevel:o.oversoldLevel??30,middleLevel:o.middleLevel??50,overboughtColor:o.overboughtColor??"#EF4444",overboughtThickness:o.overboughtThickness??1,overboughtLineStyle:o.overboughtLineStyle??"dashed",oversoldColor:o.oversoldColor??"#22C55E",oversoldThickness:o.oversoldThickness??1,oversoldLineStyle:o.oversoldLineStyle??"dashed",overboughtFillColor:o.overboughtFillColor??o.overboughtColor??"#EF4444",oversoldFillColor:o.oversoldFillColor??o.oversoldColor??"#22C55E",middleLineColor:o.middleLineColor??"#6B7280",middleLineThickness:o.middleLineThickness??1,middleLineStyle:o.middleLineStyle??"dashed",fillOpacity:o.fillOpacity??.15,showLevels:o.showLevels??!0,showFill:o.showFill??!0,levels:o.levels??[{id:"overbought",value:o.overboughtLevel??70,color:o.overboughtColor??"#EF4444",lineStyle:o.overboughtLineStyle??"dashed",thickness:o.overboughtThickness??1,label:"70",visible:!0},{id:"middle",value:o.middleLevel??50,color:o.middleLineColor??"#6B7280",lineStyle:o.middleLineStyle??"dashed",thickness:o.middleLineThickness??1,label:"50",visible:!0},{id:"oversold",value:o.oversoldLevel??30,color:o.oversoldColor??"#22C55E",lineStyle:o.oversoldLineStyle??"dashed",thickness:o.oversoldThickness??1,label:"30",visible:!0}]};return lc.set(o.id,e),!0}catch(e){return console.error("Failed to import RSI instance config:",e),!1}},updateLevel:(o,e,t)=>{const n=lc.get(o);if(!n)return!1;const s=n.levels.find(r=>r.id===e);return s?(Object.assign(s,t),e==="overbought"&&t.value!==void 0?n.overboughtLevel=t.value:e==="oversold"&&t.value!==void 0?n.oversoldLevel=t.value:e==="middle"&&t.value!==void 0&&(n.middleLevel=t.value),!0):!1},addLevel:(o,e)=>{const t=lc.get(o);if(!t)throw new Error(`RSI instance ${o} not found`);const n=`level_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s={...e,id:n,value:Math.max(0,Math.min(100,e.value))};return t.levels.push(s),n},removeLevel:(o,e)=>{const t=lc.get(o);if(!t)return!1;const n=t.levels.findIndex(s=>s.id===e);return n===-1?!1:(t.levels.splice(n,1),!0)}},O1=Object.freeze(Object.defineProperty({__proto__:null,RSIManager:Vd,rsi:cb},Symbol.toStringTag,{value:"Module"})),ZS={name:"SAR",shortName:"SAR",precision:4,calcParams:[.02,.02,.2],shouldOhlc:!0,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,figures:[{key:"sar",title:"SAR: ",type:"line"}],styles:{lines:[{color:"#2563eb",size:1,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{const t=e.calcParams[0]||.02,n=e.calcParams[1]||.02,s=e.calcParams[2]||.2,r=[];if(o.length<2)return o.map(()=>({}));let a=!0,c=t,d=o[0].high,u=o[0].low;r.push({sar:u});for(let p=1;p<o.length;p++){const h=o[p],x=o[p-1];a?(u=u+c*(d-u),u=Math.min(u,h.low,x.low),h.low<=u?(a=!1,u=d,d=h.low,c=t):h.high>d&&(d=h.high,c=Math.min(c+n,s))):(u=u-c*(u-d),u=Math.max(u,h.high,x.high),h.high>=u?(a=!0,u=d,d=h.high,c=t):h.low<d&&(d=h.low,c=Math.min(c+n,s))),r.push({sar:u})}return r},draw:({ctx:o,chart:e,indicator:t,bounding:n,xAxis:s,yAxis:r})=>{var x,w;if(!t.result||t.result.length===0)return!1;const a=e.getVisibleRange(),{from:c,to:d}=a,u=t.result;o.save();const p=((w=(x=t.styles)==null?void 0:x.lines)==null?void 0:w[0])||{color:"#2563eb",size:1},h=p.size||1;for(let k=c;k<d;k++){const S=u[k];if(!S||typeof S.sar!="number")continue;const M=s.convertToPixel(k),T=r.convertToPixel(S.sar);M>=n.left&&M<=n.left+n.width&&T>=n.top&&T<=n.top+n.height&&(o.beginPath(),o.arc(M,T,h,0,2*Math.PI),o.fillStyle=p.color,o.fill(),o.strokeStyle=p.color,o.lineWidth=1,o.stroke())}return o.restore(),!0}},Wl=new Map,hh=o=>({id:o,period:14,lineColor:"#2563eb",lineThickness:1,lineStyle:"solid",showLevels:!0,showZones:!0,yAxisSync:!0,enableDynamicColoring:!0,overboughtColor:"#EF4444",oversoldColor:"#10B981",overboughtThreshold:-20,oversoldThreshold:-80,levels:[{id:"overbought",value:-20,color:"#EF4444",lineStyle:"solid",thickness:1,label:"Overbought",visible:!0},{id:"middle",value:-50,color:"#6B7280",lineStyle:"dashed",thickness:1,label:"Middle",visible:!0},{id:"oversold",value:-80,color:"#10B981",lineStyle:"solid",thickness:1,label:"Oversold",visible:!0}],zones:[{id:"overbought_zone",topLevel:0,bottomLevel:-20,fillColor:"#EF4444",fillOpacity:.1,visible:!0,type:"overbought"},{id:"oversold_zone",topLevel:-80,bottomLevel:-100,fillColor:"#10B981",fillOpacity:.1,visible:!0,type:"oversold"}]}),XS=(o,e)=>{const t=[];if(o.length<e)return o.map(()=>NaN);for(let n=0;n<o.length;n++){if(n<e-1){t.push(NaN);continue}let s=o[n-e+1].high,r=o[n-e+1].low;for(let d=n-e+2;d<=n;d++)o[d].high>s&&(s=o[d].high),o[d].low<r&&(r=o[d].low);const a=o[n].close,c=(s-a)/(s-r)*-100;t.push(isNaN(c)?0:c)}return t},JS={name:"WR",shortName:"WR",precision:2,calcParams:[14],shouldOhlc:!1,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,minValue:-100,maxValue:0,figures:[{key:"wr",title:"WR: ",type:"line"}],styles:{lines:[{color:"#2563eb",size:1,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{const t=e.calcParams[0]||14;return XS(o,t).map(s=>({wr:isNaN(s)?null:s}))},draw:({ctx:o,chart:e,indicator:t,bounding:n,xAxis:s,yAxis:r})=>{var w;const a=t.paneId||"default";let c=Wl.get(a);c||(c=hh(a),Wl.set(a,c));const{left:d,top:u,width:p,height:h}=n,x=e.getVisibleRange();if(o.save(),c.showZones&&c.zones.forEach(k=>{if(!k.visible)return;const S=r.convertToPixel(k.topLevel),M=r.convertToPixel(k.bottomLevel);if(S!==null&&M!==null){o.save();const T=Math.abs(S-M),D=Math.min(S,M),A=o.createLinearGradient(d,D,d,D+T),F=k.fillColor.match(/\w\w/g);if(F){const q=parseInt(F[0],16),B=parseInt(F[1],16),O=parseInt(F[2],16);A.addColorStop(0,`rgba(${q}, ${B}, ${O}, ${k.fillOpacity*.8})`),A.addColorStop(.3,`rgba(${q}, ${B}, ${O}, ${k.fillOpacity*.6})`),A.addColorStop(.7,`rgba(${q}, ${B}, ${O}, ${k.fillOpacity*.3})`),A.addColorStop(1,`rgba(${q}, ${B}, ${O}, ${k.fillOpacity*.1})`)}else A.addColorStop(0,k.fillColor+Math.floor(k.fillOpacity*255).toString(16).padStart(2,"0")),A.addColorStop(.5,k.fillColor+Math.floor(k.fillOpacity*128).toString(16).padStart(2,"0")),A.addColorStop(1,k.fillColor+Math.floor(k.fillOpacity*32).toString(16).padStart(2,"0"));o.fillStyle=A,o.fillRect(d,D,p,T),o.strokeStyle=k.fillColor+"40",o.lineWidth=.5,o.strokeRect(d,D,p,T),o.restore()}}),c.showLevels&&c.levels.forEach(k=>{if(!k.visible)return;const S=r.convertToPixel(k.value);S!==null&&(o.save(),o.strokeStyle=k.color,o.lineWidth=k.thickness,k.lineStyle==="dashed"?o.setLineDash([4,4]):k.lineStyle==="dotted"?o.setLineDash([2,2]):o.setLineDash([]),o.beginPath(),o.moveTo(d,S),o.lineTo(d+p,S),o.stroke(),c.yAxisSync&&(o.font="11px Arial",o.textAlign="left",o.fillStyle=k.color,o.fillText(`WR ${k.value}`,d+p+5,S+4)),o.restore())}),c.enableDynamicColoring&&t.result){const{from:k,to:S}=x;for(let M=k;M<S;M++){const T=M;if(T>=0&&T<t.result.length){const D=(w=t.result[T])==null?void 0:w.wr;if(D!=null){const A=s.convertToPixel(M),j=r.convertToPixel(D);if(A!==null&&j!==null){o.save();let F=c.lineColor;D>c.overboughtThreshold?F=c.overboughtColor:D<c.oversoldThreshold&&(F=c.oversoldColor),o.fillStyle=F,o.beginPath(),o.arc(A,j,1,0,2*Math.PI),o.fill(),o.restore()}}}}}return o.restore(),!1}},$m={createInstance:(o,e)=>{const t=hh(o);return e&&Object.assign(t,e),Wl.set(o,t),t},getInstance:o=>Wl.get(o),updateInstance:(o,e)=>{const t=Wl.get(o);return t?(Object.assign(t,e),Wl.set(o,t),!0):!1},deleteInstance:o=>Wl.delete(o),addLevel:(o,e)=>{const t=Wl.get(o);if(!t)throw new Error(`WR instance ${o} not found`);const n=`level_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s={...e,id:n,value:Math.max(-100,Math.min(0,e.value))};return t.levels.push(s),n},removeLevel:(o,e)=>{const t=Wl.get(o);if(!t)return!1;const n=t.levels.findIndex(s=>s.id===e);return n===-1?!1:(t.levels.splice(n,1),!0)},updateLevel:(o,e,t)=>{const n=Wl.get(o);if(!n)return!1;const s=n.levels.find(r=>r.id===e);return s?(t.value!==void 0&&(t.value=Math.max(-100,Math.min(0,t.value))),t.thickness!==void 0&&(t.thickness=Math.max(1,Math.min(5,t.thickness))),Object.assign(s,t),!0):!1},addZone:(o,e)=>{const t=Wl.get(o);if(!t)throw new Error(`WR instance ${o} not found`);const n=Math.max(-100,Math.min(0,Math.max(e.topLevel,e.bottomLevel))),s=Math.max(-100,Math.min(0,Math.min(e.topLevel,e.bottomLevel))),r=`zone_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,a={...e,id:r,topLevel:n,bottomLevel:s,fillOpacity:Math.max(0,Math.min(1,e.fillOpacity||.15))};return t.zones.push(a),r},removeZone:(o,e)=>{const t=Wl.get(o);if(!t)return!1;const n=t.zones.findIndex(s=>s.id===e);return n===-1?!1:(t.zones.splice(n,1),!0)},updateZone:(o,e,t)=>{const n=Wl.get(o);if(!n)return!1;const s=n.zones.find(r=>r.id===e);if(!s)return!1;if(t.topLevel!==void 0&&(t.topLevel=Math.max(-100,Math.min(0,t.topLevel))),t.bottomLevel!==void 0&&(t.bottomLevel=Math.max(-100,Math.min(0,t.bottomLevel))),t.fillOpacity!==void 0&&(t.fillOpacity=Math.max(0,Math.min(1,t.fillOpacity))),Object.assign(s,t),s.topLevel<s.bottomLevel){const r=s.topLevel;s.topLevel=s.bottomLevel,s.bottomLevel=r}return!0},getInstanceConfig:o=>Wl.get(o)||null,resetInstance:o=>{const e=hh(o);Wl.set(o,e)},exportInstanceConfig:o=>{const e=Wl.get(o);return e?{id:o,period:e.period,lineColor:e.lineColor,lineThickness:e.lineThickness,lineStyle:e.lineStyle,showLevels:e.showLevels,showZones:e.showZones,yAxisSync:e.yAxisSync,levels:e.levels.map(t=>({...t})),zones:e.zones.map(t=>({...t}))}:null},importInstanceConfig:o=>{try{const e={id:o.id,period:o.period||14,lineColor:o.lineColor||"#FF6B35",lineThickness:o.lineThickness||2,lineStyle:o.lineStyle||"solid",showLevels:o.showLevels??!0,showZones:o.showZones??!0,yAxisSync:o.yAxisSync??!0,enableDynamicColoring:o.enableDynamicColoring??!0,overboughtColor:o.overboughtColor||"#EF4444",oversoldColor:o.oversoldColor||"#10B981",overboughtThreshold:o.overboughtThreshold||-20,oversoldThreshold:o.oversoldThreshold||-80,levels:o.levels||[],zones:o.zones||[]};return Wl.set(o.id,e),!0}catch(e){return console.error("Failed to import WR instance config:",e),!1}},getAllInstances:()=>new Map(Wl),clearAllInstances:()=>{Wl.clear()}},QS={name:"VR",shortName:"VR",precision:2,calcParams:[26,6,12],shouldOhlc:!1,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,figures:[{key:"vr",title:"VR: ",type:"line"},{key:"vrShort",title:"VR Short: ",type:"line"},{key:"vrLong",title:"VR Long: ",type:"line"}],styles:{lines:[{color:"#FF6B35",size:2,style:de.Solid,smooth:!1,dashedValue:[2,2]},{color:"#2196F3",size:1,style:de.Solid,smooth:!1,dashedValue:[2,2]},{color:"#4CAF50",size:1,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{const t=e.calcParams[0]||26,n=e.calcParams[1]||6,s=e.calcParams[2]||12,r=[];if(o.length<Math.max(t,n,s)+1)return o.map(()=>({}));const a=(c,d)=>{if(c<d)return 100;let u=0,p=0,h=0;for(let k=c-d+1;k<=c;k++){if(k===0)continue;const S=o[k],M=o[k-1];S.close>M.close?u+=S.volume||0:S.close<M.close?p+=S.volume||0:h+=S.volume||0}const x=u+h/2,w=p+h/2;return w===0?100:x/w*100};for(let c=0;c<o.length;c++){const d=a(c,t),u=a(c,n),p=a(c,s);r.push({vr:d,vrShort:u,vrLong:p})}return r},draw:({ctx:o,chart:e,indicator:t,bounding:n,xAxis:s,yAxis:r})=>{if(e.getVisibleRange(),!t.result||t.result.length===0)return!1;o.save(),o.lineWidth=1,o.setLineDash([2,2]),o.strokeStyle="rgba(107, 114, 128, 0.6)",o.beginPath();const a=r.convertToPixel(100);o.moveTo(n.left,a),o.lineTo(n.left+n.width,a),o.stroke(),o.strokeStyle="rgba(239, 68, 68, 0.6)",o.beginPath();const c=r.convertToPixel(150);o.moveTo(n.left,c),o.lineTo(n.left+n.width,c),o.stroke(),o.strokeStyle="rgba(34, 197, 94, 0.6)",o.beginPath();const d=r.convertToPixel(70);return o.moveTo(n.left,d),o.lineTo(n.left+n.width,d),o.stroke(),o.restore(),!1}},eC={name:"ROC",shortName:"ROC",precision:2,calcParams:[14],shouldOhlc:!1,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,figures:[{key:"roc",title:"ROC: ",type:"line"}],minValue:void 0,maxValue:void 0,styles:{lines:[{color:"#FF6B6B",size:2,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{const{calcParams:t}=e,[n]=t;return o.map((s,r)=>({roc:tC(o,r,n)}))}};function tC(o,e,t){if(e<t)return null;const n=o[e].close,s=o[e-t].close;return s===0?null:(n-s)/s*100}const oC={name:"PSY",shortName:"PSY",precision:2,calcParams:[12,6],shouldOhlc:!1,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"mapsy",title:"MAPSY: ",type:"line"}],minValue:0,maxValue:100,styles:{lines:[{color:"#2563eb",size:2,style:de.Solid,smooth:!1,dashedValue:[2,2]},{color:"#dc2626",size:2,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{const{calcParams:t}=e,[n,s]=t;return o.map((r,a)=>{const c=db(o,a,n),d=nC(o,a,n,s);return{psy:c,mapsy:d}})}};function db(o,e,t){if(e<t)return null;let n=0;for(let s=e-t+1;s<=e;s++)s>0&&o[s].close>o[s-1].close&&n++;return n/t*100}function nC(o,e,t,n){if(e<t+n-1)return null;let s=0,r=0;for(let a=e-n+1;a<=e;a++){const c=db(o,a,t);c!==null&&(s+=c,r++)}return r>0?s/r:null}const sC={name:"OBV",shortName:"OBV",precision:0,calcParams:[30,10],shouldOhlc:!1,shouldFormatBigNumber:!0,visible:!0,zLevel:0,extendData:void 0,figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maobv",title:"MAOBV: ",type:"line"}],styles:{lines:[{color:"#FF6B35",size:2,style:de.Solid,smooth:!1,dashedValue:[2,2]},{color:"#2196F3",size:1,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{e.calcParams[0];const t=e.calcParams[1]||10,n=[];if(o.length===0)return n;let s=0;const r=[];for(let a=0;a<o.length;a++){const c=o[a];if(a===0)s=0;else{const u=o[a-1],p=c.volume||0;c.close>u.close?s+=p:c.close<u.close&&(s-=p)}r.push(s);let d;if(a>=t-1){let u=0;for(let p=a-t+1;p<=a;p++)u+=r[p];d=u/t}n.push({obv:s,maobv:d})}return n}},iC={name:"ZIGZAG",shortName:"ZIGZAG",precision:2,calcParams:[5,5],shouldOhlc:!0,shouldFormatBigNumber:!1,visible:!0,zLevel:1,extendData:void 0,figures:[],styles:{lines:[{color:"#2962FF",size:2,style:de.Solid,smooth:!1,dashedValue:[2,2]}],circles:[{upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#888888"}]},calc:(o,e)=>{const t=(e.calcParams[0]||5)/100,n=e.calcParams[1]||5,s=[];if(o.length<n*2)return o.map(()=>({}));let r=0,a=o[0].high,c="high",d=!1;for(let u=0;u<o.length;u++)s.push({});s[0]={zigzag:o[0].close};for(let u=n;u<o.length;u++){const p=o[u].high,h=o[u].low,x=Math.abs(p-a)/a,w=Math.abs(h-a)/a;if(x>=t){r=u,a=p,c="high",d=!1,s[u]={zigzag:p,isHigh:!0};break}else if(w>=t){r=u,a=h,c="low",d=!0,s[u]={zigzag:h,isLow:!0};break}}for(let u=r+n;u<o.length;u++){const p=o[u].high,h=o[u].low;d?(p-a)/a>=t?(r=u,a=p,c="high",d=!1,s[u]={zigzag:p,isHigh:!0}):c==="low"&&h<a&&(s[r]={},r=u,a=h,s[u]={zigzag:h,isLow:!0}):(a-h)/a>=t?(r=u,a=h,c="low",d=!0,s[u]={zigzag:h,isLow:!0}):c==="high"&&p>a&&(s[r]={},r=u,a=p,s[u]={zigzag:p,isHigh:!0})}return s},draw:({ctx:o,chart:e,indicator:t,bounding:n,xAxis:s,yAxis:r})=>{var w,k,S,M;if(!t.result||t.result.length===0)return!1;const a=e.getVisibleRange(),{from:c,to:d}=a,u=t.result;o.save();const p=((k=(w=t.styles)==null?void 0:w.lines)==null?void 0:k[0])||{color:"#2962FF",size:2,style:de.Solid,dashedValue:[2,2]},h=((M=(S=t.styles)==null?void 0:S.circles)==null?void 0:M[0])||{upColor:"#26A69A",downColor:"#EF5350"},x=[];for(let T=Math.max(0,c-50);T<Math.min(d+1,u.length);T++){const D=u[T];D&&typeof D.zigzag=="number"&&x.push({index:T,price:D.zigzag,isHigh:D.isHigh||!1,isLow:D.isLow||!1})}if(o.strokeStyle=p.color||"#2962FF",o.lineWidth=p.size||2,p.style===de.Dashed){const T=Array.isArray(p.dashedValue)?p.dashedValue:[4,4];o.setLineDash(T)}else o.setLineDash([]);for(let T=0;T<x.length-1;T++){const D=x[T],A=x[T+1],j=s.convertToPixel(D.index),F=r.convertToPixel(D.price),q=s.convertToPixel(A.index),B=r.convertToPixel(A.price);o.beginPath(),o.moveTo(j,F),o.lineTo(q,B),o.stroke()}return x.forEach(T=>{if(T.index<c||T.index>=d)return;const D=s.convertToPixel(T.index),A=r.convertToPixel(T.price);D>=n.left&&D<=n.left+n.width&&A>=n.top&&A<=n.top+n.height&&(o.beginPath(),o.arc(D,A,4,0,2*Math.PI),T.isHigh?o.fillStyle=h.downColor:T.isLow?o.fillStyle=h.upColor:o.fillStyle=p.color,o.fill(),o.strokeStyle="#FFFFFF",o.lineWidth=1.5,o.stroke())}),o.restore(),!0}},rC={name:"Custom Momentum",shortName:"CM",calcParams:[12,26],shouldOhlc:!1,shouldFormatBigNumber:!1,precision:5,styles:{lines:[{color:"#26a69a",size:2,style:"solid"}],bars:[{upColor:"#26a69a",downColor:"#ef5350",noChangeColor:"#757575",size:3,borderColor:"#26a69a",borderSize:0,borderStyle:"solid"}]},figures:[{key:"momentum",title:"Momentum: ",type:"line",baseValue:0},{key:"histogram",title:"Histogram: ",type:"bar",baseValue:0,styles:{upColor:"#26a69a",downColor:"#ef5350",noChangeColor:"#757575"}}],calc:(o,e)=>{const t=e.calcParams[0]||12,n=e.calcParams[1]||26,s=[];for(let r=0;r<o.length;r++){const c=o[r].close;if(r>=n-1){let d=0;if(r===n-1){let x=0;for(let w=r-t+1;w<=r;w++)x+=o[w].close;d=x/t}else{const x=2/(t+1);d=c*x+(s[r-1].momentum||0)*(1-x)}let u=0;if(r===n-1){let x=0;for(let w=r-n+1;w<=r;w++)x+=o[w].close;u=x/n}else{const x=2/(n+1);u=c*x+(s[r-1].momentum||0)*(1-x)}const p=d-u,h=p;s.push({momentum:p,histogram:h})}else s.push({})}return s}},aC={name:"Custom AO",shortName:"CAO",calcParams:[5,34],shouldOhlc:!1,shouldFormatBigNumber:!1,precision:5,styles:{bars:[{upColor:"#26a69a",downColor:"#ef5350",noChangeColor:"#757575",size:3,borderColor:"#26a69a",borderSize:0,borderStyle:"solid",fillColor:"#26a69a",strokeColor:"#26a69a"}]},figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:{upColor:"#26a69a",downColor:"#ef5350",noChangeColor:"#757575"}}],calc:(o,e)=>{const t=e.calcParams[0]||5,n=e.calcParams[1]||34,s=[];for(let r=0;r<o.length;r++)if(r>=n-1){const a=[],c=[];for(let h=r-t+1;h<=r;h++){const x=(o[h].high+o[h].low)/2;a.push(x)}for(let h=r-n+1;h<=r;h++){const x=(o[h].high+o[h].low)/2;c.push(x)}const d=a.reduce((h,x)=>h+x,0)/t,u=c.reduce((h,x)=>h+x,0)/n,p=d-u;s.push({ao:p})}else s.push({});return s},draw:(o,e,t,n,s)=>{t.calcParams[0];const r=t.calcParams[1]||34;o.save();for(let a=r-1;a<e.length;a++){const d=e[a].ao;if(d!==void 0){const u=n.convertToPixel(a),p=s.convertToPixel(0),h=s.convertToPixel(d);let x="#757575";d>0?x="#26a69a":d<0&&(x="#ef5350"),o.fillStyle=x,o.strokeStyle=x,o.lineWidth=1;const w=Math.max(2,n.getPixelDistance(1)*.8),k=Math.abs(p-h),S=u-w/2,M=Math.min(p,h);o.fillRect(S,M,w,k),o.strokeRect(S,M,w,k)}}o.restore()}},lC={name:"BOLL",shortName:"BOLL",precision:2,calcParams:[20,2],shouldOhlc:!1,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,figures:[{key:"upper",title:"Upper: ",type:"line"},{key:"middle",title:"Middle: ",type:"line"},{key:"lower",title:"Lower: ",type:"line"}],styles:{lines:[{color:"#f23645",size:1,style:de.Solid,smooth:!1,dashedValue:[0,0]},{color:"#2962ff",size:1,style:de.Solid,smooth:!1,dashedValue:[0,0]},{color:"#089981",size:1,style:de.Solid,smooth:!1,dashedValue:[0,0]}],fill:{color:"#2196F3",opacity:.05}},calc:(o,e)=>{const t=e.calcParams[0]||20,n=e.calcParams[1]||2,s=[];if(o.length<t)return o.map(()=>({}));for(let r=0;r<o.length;r++){if(r<t-1){s.push({});continue}let a=0;for(let x=r-t+1;x<=r;x++)a+=o[x].close;const c=a/t;let d=0;for(let x=r-t+1;x<=r;x++)d+=Math.pow(o[x].close-c,2);const u=Math.sqrt(d/t),p=c+n*u,h=c-n*u;s.push({upper:p,middle:c,lower:h})}return s},draw:({ctx:o,chart:e,indicator:t,bounding:n,xAxis:s,yAxis:r})=>{var S,M,T,D,A,j,F,q,B,O,z,Y,G,oe,re,se,ie,te,K,J,U,ae,me,ke,Ae,Le,He,it,Ne,we,je;if(!t.result||t.result.length===0)return!1;const a=e.getVisibleRange(),{from:c,to:d}=a,u=t.result.slice(c,d+1);if(u.length<2)return!1;o.save();const p={color:((T=(M=(S=t.styles)==null?void 0:S.lines)==null?void 0:M[0])==null?void 0:T.color)||"#2196F3",size:((j=(A=(D=t.styles)==null?void 0:D.lines)==null?void 0:A[0])==null?void 0:j.size)||1,style:((B=(q=(F=t.styles)==null?void 0:F.lines)==null?void 0:q[0])==null?void 0:B.style)||de.Solid},h={color:((Y=(z=(O=t.styles)==null?void 0:O.lines)==null?void 0:z[1])==null?void 0:Y.color)||"#FF9800",size:((re=(oe=(G=t.styles)==null?void 0:G.lines)==null?void 0:oe[1])==null?void 0:re.size)||1,style:((te=(ie=(se=t.styles)==null?void 0:se.lines)==null?void 0:ie[1])==null?void 0:te.style)||de.Solid},x={color:((U=(J=(K=t.styles)==null?void 0:K.lines)==null?void 0:J[2])==null?void 0:U.color)||"#2196F3",size:((ke=(me=(ae=t.styles)==null?void 0:ae.lines)==null?void 0:me[2])==null?void 0:ke.size)||1,style:((He=(Le=(Ae=t.styles)==null?void 0:Ae.lines)==null?void 0:Le[2])==null?void 0:He.style)||de.Solid},w={color:((Ne=(it=t.styles)==null?void 0:it.fill)==null?void 0:Ne.color)||"rgba(33, 150, 243, 0.1)",opacity:((je=(we=t.styles)==null?void 0:we.fill)==null?void 0:je.opacity)||.1};o.beginPath();let k=!0;for(let Te=0;Te<u.length;Te++){const Se=u[Te];if(Se.upper!==void 0){const Ue=s.convertToPixel(c+Te),Be=r.convertToPixel(Se.upper);k?(o.moveTo(Ue,Be),k=!1):o.lineTo(Ue,Be)}}for(let Te=u.length-1;Te>=0;Te--){const Se=u[Te];if(Se.lower!==void 0){const Ue=s.convertToPixel(c+Te),Be=r.convertToPixel(Se.lower);o.lineTo(Ue,Be)}}o.closePath(),o.globalAlpha=w.opacity,o.fillStyle=w.color,o.fill(),o.globalAlpha=1,o.beginPath(),k=!0;for(let Te=0;Te<u.length;Te++){const Se=u[Te];if(Se.upper!==void 0){const Ue=s.convertToPixel(c+Te),Be=r.convertToPixel(Se.upper);k?(o.moveTo(Ue,Be),k=!1):o.lineTo(Ue,Be)}}o.strokeStyle=p.color,o.lineWidth=p.size,o.setLineDash(p.style===de.Dashed?[4,4]:[]),o.stroke(),o.beginPath(),k=!0;for(let Te=0;Te<u.length;Te++){const Se=u[Te];if(Se.lower!==void 0){const Ue=s.convertToPixel(c+Te),Be=r.convertToPixel(Se.lower);k?(o.moveTo(Ue,Be),k=!1):o.lineTo(Ue,Be)}}o.strokeStyle=x.color,o.lineWidth=x.size,o.setLineDash(x.style===de.Dashed?[4,4]:[]),o.stroke(),o.beginPath(),k=!0;for(let Te=0;Te<u.length;Te++){const Se=u[Te];if(Se.middle!==void 0){const Ue=s.convertToPixel(c+Te),Be=r.convertToPixel(Se.middle);k?(o.moveTo(Ue,Be),k=!1):o.lineTo(Ue,Be)}}return o.strokeStyle=h.color,o.lineWidth=h.size,o.setLineDash(h.style===de.Dashed?[4,4]:[]),o.stroke(),o.restore(),!0}};function cC(o,e){const t=e.calcParams||[26,10,20,40,60],[n,s,r,a,c]=t,d=[];if(o.length<n+1)return d.concat(new Array(o.length).fill({}));const u=[];for(let p=1;p<o.length;p++){o[p];const h=o[p-1];(h.high+h.low+h.close)/3;let x=0,w=0;const k=Math.max(0,p-n+1);for(let j=k;j<=p;j++){const F=o[j],q=j>0?o[j-1]:F,B=(q.high+q.low+q.close)/3,O=F.high-B,z=B-F.low;O>0&&(x+=O),z>0&&(w+=z)}const S=w!==0?x/w*100:100;u.push(S);const M=wg(u,s),T=wg(u,r),D=wg(u,a),A=wg(u,c);d.push({cr:S,ma1:M!==null?M:void 0,ma2:T!==null?T:void 0,ma3:D!==null?D:void 0,ma4:A!==null?A:void 0})}return new Array(o.length-d.length).fill({}).concat(d)}function wg(o,e){return o.length<e?null:o.slice(-e).reduce((n,s)=>n+s,0)/e}const dC={name:"CR",shortName:"CR",precision:2,calcParams:[26,10,20,40,60],shouldOhlc:!1,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:cC,regenerateFigures:o=>{const[,e,t,n,s]=o;return[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:`MA${e}: `,type:"line"},{key:"ma2",title:`MA${t}: `,type:"line"},{key:"ma3",title:`MA${n}: `,type:"line"},{key:"ma4",title:`MA${s}: `,type:"line"}]},styles:{lines:[{color:"#FF6B35",size:2,style:de.Solid},{color:"#2196F3",size:1,style:de.Solid},{color:"#4CAF50",size:1,style:de.Solid},{color:"#FF9800",size:1,style:de.Solid},{color:"#9C27B0",size:1,style:de.Solid}]}},uC={name:"EMV",shortName:"EMV",precision:4,calcParams:[14,9],shouldOhlc:!1,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"emvSma",title:"EMV SMA: ",type:"line"}],styles:{lines:[{color:"#FF6B35",size:2,style:de.Solid,smooth:!1,dashedValue:[2,2]},{color:"#2196F3",size:1,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{e.calcParams[0];const t=e.calcParams[1]||9,n=[];if(o.length<2)return o.map(()=>({}));const s=[];for(let r=0;r<o.length;r++){if(r===0){n.push({});continue}const a=o[r],c=o[r-1],d=(a.high+a.low)/2,u=(c.high+c.low)/2,p=d-u,h=a.high-a.low,x=a.volume||0;let w=0;if(h>0&&x>0){const S=x/h;w=p/S}s.push(w);let k;if(s.length>=t){let S=0;for(let M=s.length-t;M<s.length;M++)S+=s[M];k=S/t}n.push({emv:w,emvSma:k})}return n},draw:({ctx:o,chart:e,indicator:t,bounding:n,xAxis:s,yAxis:r})=>{if(e.getVisibleRange(),!t.result||t.result.length===0)return!1;o.save(),o.lineWidth=1,o.setLineDash([2,2]),o.strokeStyle="rgba(107, 114, 128, 0.6)",o.beginPath();const a=r.convertToPixel(0);return o.moveTo(n.left,a),o.lineTo(n.left+n.width,a),o.stroke(),o.restore(),!1}},vC={name:"MTM",shortName:"MTM",precision:4,calcParams:[12],shouldOhlc:!1,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,figures:[{key:"mtm",title:"MTM: ",type:"line"}],styles:{lines:[{color:"#FF6B35",size:2,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{const t=e.calcParams[0]||12,n=[];if(o.length<t)return o.map(()=>({}));for(let s=0;s<o.length;s++){if(s<t){n.push({});continue}const r=o[s].close,a=o[s-t].close,c=r-a;n.push({mtm:c})}return n}},pC={name:"TRIX",shortName:"TRIX",precision:4,calcParams:[14,9],shouldOhlc:!1,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"signal",title:"Signal: ",type:"line"}],minValue:void 0,maxValue:void 0,styles:{lines:[{color:"#2563eb",size:2,style:de.Solid,smooth:!1,dashedValue:[2,2]},{color:"#dc2626",size:2,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{const{calcParams:t}=e,[n,s]=t,r=fC(o,n),a=Og(r,s);return o.map((c,d)=>({trix:r[d],signal:a[d]}))}};function fC(o,e){const t=o.map(c=>c.close),n=Og(t,e),s=Og(n,e),r=Og(s,e),a=[];for(let c=0;c<r.length;c++)if(c===0||r[c]===null||r[c-1]===null||r[c-1]===0)a.push(null);else{const d=(r[c]-r[c-1])/r[c-1]*1e4;a.push(d)}return a}function Og(o,e){const t=[],n=2/(e+1);let s=null;for(let r=0;r<o.length;r++){if(o[r]===null){t.push(null);continue}if(s===null){if(r>=e-1){let a=0,c=0;for(let d=r-e+1;d<=r;d++)o[d]!==null&&(a+=o[d],c++);s=c>0?a/c:null}}else s=o[r]*n+s*(1-n);t.push(s)}return t}const gC={name:"VOL",shortName:"VOL",precision:0,calcParams:[20],shouldOhlc:!1,shouldFormatBigNumber:!0,visible:!0,zLevel:-1,extendData:void 0,figures:[],styles:{bars:[{upColor:"#26a69a",downColor:"#ef5350",noChangeColor:"#26a69a",opacity:.7}],lines:[{color:"#8B5CF6",size:1,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{var r;const n=e.calcParams[0]||20,s=[];for(let a=0;a<o.length;a++){const d=o[a].volume||0;let u=0;if(a===0)u=d;else{const p=2/(n+1),h=((r=s[a-1])==null?void 0:r.ema)||d;u=d*p+h*(1-p)}s.push({volume:d,ema:u})}return s},draw:({ctx:o,chart:e,indicator:t,bounding:n,xAxis:s,yAxis:r})=>{var F,q,B,O,z,Y,G,oe,re,se,ie,te,K,J,U,ae,me,ke,Ae,Le,He,it,Ne,we,je,Te,Se;if(!t.result||t.result.length===0)return!1;const a=e.getVisibleRange();if(!a)return!1;const{from:c,to:d}=a,u=e.getDataList();if(!u||u.length===0)return!1;const p=((B=(q=(F=t.styles)==null?void 0:F.bars)==null?void 0:q[0])==null?void 0:B.upColor)||"#26a69a",h=((Y=(z=(O=t.styles)==null?void 0:O.bars)==null?void 0:z[0])==null?void 0:Y.downColor)||"#ef5350",x=((re=(oe=(G=t.styles)==null?void 0:G.bars)==null?void 0:oe[0])==null?void 0:re.noChangeColor)||"#26a69a",w=((te=(ie=(se=t.styles)==null?void 0:se.lines)==null?void 0:ie[0])==null?void 0:te.color)||"#8B5CF6";o.save();let k=0;for(let Ue=c;Ue<=d&&Ue<t.result.length;Ue++){const Be=t.result[Ue];Be&&(Be.volume!=null&&Be.volume>k&&(k=Be.volume),Be.ema!=null&&Be.ema>k&&(k=Math.max(k,Be.ema)))}if(k<=0)return o.restore(),!0;const M=Math.max(10,Math.floor(n.height*.22)),T=n.top+n.height-1,A=Math.max(1,Math.floor(M*.56));for(let Ue=c;Ue<=d&&Ue<t.result.length&&Ue<u.length;Ue++){const Be=t.result[Ue];if(!Be||Be.volume==null)continue;const le=u[Ue],ye=Ue>0&&Ue-1<u.length?u[Ue-1]:null;let Ee=x;ye&&le&&typeof le.close=="number"&&typeof ye.close=="number"&&(le.close>ye.close?Ee=p:le.close<ye.close&&(Ee=h));const Je=s.convertToPixel(Ue),be=Math.min(1,Be.volume/k),X=Math.max(1,Math.floor(be*A)),H=T-X,Ce=Math.max(1,(s.convertToPixel(1)-s.convertToPixel(0))*.8),Qe=(U=(J=(K=t==null?void 0:t.styles)==null?void 0:K.bars)==null?void 0:J[0])==null?void 0:U.opacity;let mt=typeof Qe=="number"?Qe:void 0;if(mt==null){const bt=(Ee||"").toString().match(/^rgba?\(\s*\d+\s*,\s*\d+\s*,\s*\d+(?:\s*,\s*([0-9]*\.?[0-9]+))?\s*\)$/i);if(bt){const ct=bt[1]!=null?parseFloat(bt[1]):1;mt=isNaN(ct)?.7:ct}else mt=.7}o.globalAlpha=Math.max(0,Math.min(1,mt)),o.fillStyle=Ee,o.fillRect(Je-Ce/2,H,Ce,X)}if(o.globalAlpha=1,((ke=(me=(ae=t==null?void 0:t.styles)==null?void 0:ae.lines)==null?void 0:me[0])==null?void 0:ke.visible)===!0){const Ue=((He=(Le=(Ae=t.styles)==null?void 0:Ae.lines)==null?void 0:Le[0])==null?void 0:He.style)||de.Solid,Be=((we=(Ne=(it=t.styles)==null?void 0:it.lines)==null?void 0:Ne[0])==null?void 0:we.size)||1,le=((Se=(Te=(je=t.styles)==null?void 0:je.lines)==null?void 0:Te[0])==null?void 0:Se.dashedValue)||[2,2];o.lineWidth=Be,o.strokeStyle=w,Ue===de.Dashed?o.setLineDash(le):o.setLineDash([]);const ye=[];for(let Ee=c;Ee<=d&&Ee<t.result.length;Ee++){const Je=t.result[Ee];if(!Je||Je.ema==null)continue;const be=s.convertToPixel(Ee),X=Math.min(1,Je.ema/k),H=T-Math.floor(X*A);ye.push({x:be,y:H})}if(ye.length>1){o.save(),o.beginPath(),o.moveTo(ye[0].x,T);for(const Ee of ye)o.lineTo(Ee.x,Ee.y);o.lineTo(ye[ye.length-1].x,T),o.closePath(),o.globalAlpha=.25,o.fillStyle=w,o.fill(),o.globalAlpha=1,o.restore(),o.beginPath(),o.moveTo(ye[0].x,ye[0].y);for(let Ee=1;Ee<ye.length;Ee++)o.lineTo(ye[Ee].x,ye[Ee].y);o.stroke()}}return o.restore(),!0}},_C={name:"SMA",shortName:"SMA",precision:2,calcParams:[20],shouldOhlc:!0,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,figures:[{key:"sma",title:"SMA: ",type:"line"}],styles:{lines:[{color:"#FF6C37",size:2,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{const t=e.calcParams[0]||20,n=[];if(o.length<t)return o.map(()=>({}));for(let s=0;s<o.length;s++){if(s<t-1){n.push({});continue}let r=0;for(let c=s-t+1;c<=s;c++)r+=o[c].close;const a=r/t;n.push({sma:a})}return n},draw:({ctx:o,chart:e,indicator:t,bounding:n,xAxis:s,yAxis:r})=>{var x,w;if(!t.result||t.result.length===0)return!1;const a=e.getVisibleRange(),{from:c,to:d}=a,u=t.result.slice(c,d+1);if(u.length<2)return!1;o.save();const p=((w=(x=t.styles)==null?void 0:x.lines)==null?void 0:w[0])||{color:"#FF6C37",size:2,style:de.Solid};o.beginPath();let h=!0;for(let k=0;k<u.length;k++){const S=u[k];if(S.sma!==void 0){const M=s.convertToPixel(c+k),T=r.convertToPixel(S.sma);h?(o.moveTo(M,T),h=!1):o.lineTo(M,T)}}return o.strokeStyle=p.color,o.lineWidth=p.size,p.style===de.Dashed?o.setLineDash([8,4]):p.style===de.Dotted?o.setLineDash([2,2]):o.setLineDash([]),o.stroke(),o.restore(),!0}},tc=new Map,_0=o=>({id:o,kPeriod:14,dPeriod:3,kLineColor:"#1E90FF",kLineThickness:2,kLineStyle:"solid",dLineColor:"#FF1493",dLineThickness:2,dLineStyle:"dashed",showLevels:!0,showZones:!0,overboughtLevel:80,oversoldLevel:20,midlineLevel:50,showOverbought:!0,showOversold:!0,showMidline:!1,levels:[{id:"overbought",value:80,color:"#EF4444",lineStyle:"dashed",thickness:1,label:"Overbought",visible:!0},{id:"oversold",value:20,color:"#10B981",lineStyle:"dashed",thickness:1,label:"Oversold",visible:!0},{id:"midline",value:50,color:"#6B7280",lineStyle:"dotted",thickness:1,label:"Midline",visible:!1}],zones:[{id:"overbought_zone",topLevel:100,bottomLevel:80,fillColor:"#EF4444",fillOpacity:.1,visible:!0,type:"overbought"},{id:"oversold_zone",topLevel:20,bottomLevel:0,fillColor:"#10B981",fillOpacity:.1,visible:!0,type:"oversold"}]}),mC=(o,e,t)=>{const n=[],s=[];if(o.length<e)return{k:o.map(()=>NaN),d:o.map(()=>NaN)};for(let r=0;r<o.length;r++){if(r<e-1){n.push(NaN);continue}let a=o[r-e+1].high,c=o[r-e+1].low;for(let p=r-e+2;p<=r;p++)o[p].high>a&&(a=o[p].high),o[p].low<c&&(c=o[p].low);const d=o[r].close,u=a-c;if(u===0)n.push(50);else{const p=100*((d-c)/u);n.push(p)}}for(let r=0;r<n.length;r++){if(r<e-1+t-1){s.push(NaN);continue}let a=0,c=0;for(let d=r-t+1;d<=r;d++)isNaN(n[d])||(a+=n[d],c++);c===0?s.push(NaN):s.push(a/c)}return{k:n,d:s}},hC={name:"STOCH",shortName:"Stoch",precision:2,calcParams:[14,3],shouldOhlc:!1,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:void 0,minValue:0,maxValue:100,figures:[{key:"k",title:"%K: ",type:"line"},{key:"d",title:"%D: ",type:"line"}],styles:{lines:[{color:"#1E90FF",size:2,style:de.Solid,smooth:!1,dashedValue:[0,0]},{color:"#FF1493",size:2,style:de.Dashed,smooth:!1,dashedValue:[4,4]}]},calc:(o,e)=>{const t=e.calcParams[0]||14,n=e.calcParams[1]||3,{k:s,d:r}=mC(o,t,n);return s.map((a,c)=>({k:isNaN(a)?null:a,d:isNaN(r[c])?null:r[c]}))},draw:({ctx:o,chart:e,indicator:t,bounding:n,xAxis:s,yAxis:r})=>{const a=t.paneId||"default";let c=tc.get(a);c||(c=_0(a),tc.set(a,c));const{left:d,top:u,width:p,height:h}=n;return e.getVisibleRange(),o.save(),c.showZones&&c.zones.forEach(x=>{if(!x.visible)return;const w=r.convertToPixel(x.topLevel),k=r.convertToPixel(x.bottomLevel);if(w!==null&&k!==null&&isFinite(w)&&isFinite(k)&&isFinite(d)&&isFinite(p)){o.save();const S=Math.abs(w-k),M=Math.min(w,k);if(!isFinite(S)||!isFinite(M)||S===0){o.restore();return}const T=o.createLinearGradient(d,M,d,M+S),A=x.fillColor.match(/\w\w/g);if(A){const j=parseInt(A[0],16),F=parseInt(A[1],16),q=parseInt(A[2],16);T.addColorStop(0,`rgba(${j}, ${F}, ${q}, ${x.fillOpacity*.8})`),T.addColorStop(.3,`rgba(${j}, ${F}, ${q}, ${x.fillOpacity*.6})`),T.addColorStop(.7,`rgba(${j}, ${F}, ${q}, ${x.fillOpacity*.3})`),T.addColorStop(1,`rgba(${j}, ${F}, ${q}, ${x.fillOpacity*.1})`)}else T.addColorStop(0,x.fillColor+Math.floor(x.fillOpacity*255).toString(16).padStart(2,"0")),T.addColorStop(.5,x.fillColor+Math.floor(x.fillOpacity*128).toString(16).padStart(2,"0")),T.addColorStop(1,x.fillColor+Math.floor(x.fillOpacity*32).toString(16).padStart(2,"0"));o.fillStyle=T,o.fillRect(d,M,p,S),o.strokeStyle=x.fillColor+"40",o.lineWidth=.5,o.strokeRect(d,M,p,S),o.restore()}}),c.showLevels&&c.levels.forEach(x=>{if(!x.visible)return;const w=r.convertToPixel(x.value);w!==null&&isFinite(w)&&w>=u&&w<=u+h&&isFinite(d)&&isFinite(p)&&(o.save(),o.strokeStyle=x.color,o.lineWidth=x.thickness,x.lineStyle==="dashed"?o.setLineDash([4,4]):x.lineStyle==="dotted"?o.setLineDash([2,6]):o.setLineDash([]),o.beginPath(),o.moveTo(d,w),o.lineTo(d+p,w),o.stroke(),o.fillStyle=x.color,o.font="10px Arial",o.textAlign="left",o.fillText(`${x.value}`,d+5,w-3),o.restore())}),o.restore(),!1}},kg={createInstance:(o,e)=>{const t={..._0(o),...e};return tc.set(o,t),t},getInstance:o=>tc.get(o),updateInstance:(o,e)=>{const t=tc.get(o);return t?(Object.assign(t,e),!0):!1},deleteInstance:o=>tc.delete(o),addLevel:(o,e)=>{const t=tc.get(o);if(t){const n=`level_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s={id:n,...e};return t.levels.push(s),n}throw new Error(`Stochastic instance ${o} not found`)},removeLevel:(o,e)=>{const t=tc.get(o);if(t){const n=t.levels.findIndex(s=>s.id===e);if(n!==-1)return t.levels.splice(n,1),!0}return!1},updateLevel:(o,e,t)=>{const n=tc.get(o);if(n){const s=n.levels.find(r=>r.id===e);if(s)return Object.assign(s,t),e==="overbought"?n.overboughtLevel=s.value:e==="oversold"?n.oversoldLevel=s.value:e==="midline"&&(n.midlineLevel=s.value),!0}return!1},addZone:(o,e)=>{const t=tc.get(o);if(t){const n=`zone_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s={id:n,...e};return t.zones.push(s),n}throw new Error(`Stochastic instance ${o} not found`)},removeZone:(o,e)=>{const t=tc.get(o);if(t){const n=t.zones.findIndex(s=>s.id===e);if(n!==-1)return t.zones.splice(n,1),!0}return!1},updateZone:(o,e,t)=>{const n=tc.get(o);if(n){const s=n.zones.find(r=>r.id===e);if(s)return Object.assign(s,t),!0}return!1},getInstanceConfig:o=>tc.get(o)||null,resetInstance:o=>{const e=_0(o);tc.set(o,e)},exportInstanceConfig:o=>{const e=tc.get(o);return e?{id:e.id,kPeriod:e.kPeriod,dPeriod:e.dPeriod,kLineColor:e.kLineColor,kLineThickness:e.kLineThickness,kLineStyle:e.kLineStyle,dLineColor:e.dLineColor,dLineThickness:e.dLineThickness,dLineStyle:e.dLineStyle,showLevels:e.showLevels,showZones:e.showZones,overboughtLevel:e.overboughtLevel,oversoldLevel:e.oversoldLevel,midlineLevel:e.midlineLevel,showOverbought:e.showOverbought,showOversold:e.showOversold,showMidline:e.showMidline,levels:e.levels.map(t=>({...t})),zones:e.zones.map(t=>({...t}))}:null},importInstanceConfig:o=>{try{const e={id:o.id,kPeriod:o.kPeriod||14,dPeriod:o.dPeriod||3,kLineColor:o.kLineColor||"#1E90FF",kLineThickness:o.kLineThickness||2,kLineStyle:o.kLineStyle||"solid",dLineColor:o.dLineColor||"#FF1493",dLineThickness:o.dLineThickness||2,dLineStyle:o.dLineStyle||"dashed",showLevels:o.showLevels!==!1,showZones:o.showZones!==!1,overboughtLevel:o.overboughtLevel||80,oversoldLevel:o.oversoldLevel||20,midlineLevel:o.midlineLevel||50,showOverbought:o.showOverbought!==!1,showOversold:o.showOversold!==!1,showMidline:o.showMidline||!1,levels:o.levels||_0(o.id).levels,zones:o.zones||_0(o.id).zones};return tc.set(o.id,e),!0}catch(e){return console.error("Failed to import Stochastic instance config:",e),!1}},getAllInstances:()=>new Map(tc),clearAllInstances:()=>{tc.clear()}},yC={name:"SMARTTREND",shortName:"Smart Trend",precision:2,calcParams:[10,3],shouldOhlc:!0,shouldFormatBigNumber:!1,visible:!0,zLevel:0,extendData:{showLabels:!0},figures:[{key:"superTrend",title:"Smart Trend: ",type:"line"}],styles:{lines:[{color:"#00FF00",size:2,style:de.Solid,smooth:!1,dashedValue:[0,0]}]},calc:(o,e)=>{const t=e.calcParams[0]||10,n=e.calcParams[1]||3,s=[];if(o.length<t)return o.map(()=>({}));const r=(k,S)=>{if(!S)return k.high-k.low;const M=k.high-k.low,T=Math.abs(k.high-S.close),D=Math.abs(k.low-S.close);return Math.max(M,T,D)},a=k=>{if(k<t-1)return 0;let S=0;for(let M=k-t+1;M<=k;M++){const T=o[M],D=M>0?o[M-1]:void 0;S+=r(T,D)}return S/t};let c=1,d=0,u=0,p=-1,h,x=-1,w;for(let k=0;k<o.length;k++){if(k<t-1){s.push({});continue}const S=o[k],M=k>0?o[k-1]:S,T=a(k),D=(S.high+S.low)/2,A=D+n*T,j=D-n*T;if(k===t-1)d=A,u=j;else{s[k-1];const ie=M.close;(A<d||ie>d)&&(d=A),(j>u||ie<u)&&(u=j)}let F=c,q=0,B,O,z,Y,G,oe,re,se;if(k>t-1&&(s[k-1].superTrend,c===1&&S.close<=u?F=-1:c===-1&&S.close>=d&&(F=1),F!==c)){if(F===1){if(B=u,z=S.close,p=k,h=S.close,w!==void 0&&x>=0){oe=S.close,se=w-oe;const ie=s[x];ie.sellExit=oe,ie.sellProfit=se,w=void 0,x=-1}}else if(O=d,Y=S.close,x=k,w=S.close,h!==void 0&&p>=0){G=S.close,re=G-h;const ie=s[p];ie.buyExit=G,ie.buyProfit=re,h=void 0,p=-1}}F===1?q=u:q=d,s.push({superTrend:q,trend:F,buySignal:B,sellSignal:O,buyEntry:z,sellEntry:Y,buyExit:G,sellExit:oe,buyProfit:re,sellProfit:se}),c=F}return s},draw:({ctx:o,chart:e,indicator:t,bounding:n,xAxis:s,yAxis:r})=>{var O,z,Y;if(!t.result||t.result.length===0)return!1;const a=e.getVisibleRange(),{from:c,to:d}=a,u=t.result.slice(c,d+1);if(u.length<2)return!1;o.save();const p=(G,oe,re,se,ie,te)=>{const K=Math.min(te,se/2,ie/2);G.beginPath(),G.moveTo(oe+K,re),G.arcTo(oe+se,re,oe+se,re+ie,K),G.arcTo(oe+se,re+ie,oe,re+ie,K),G.arcTo(oe,re+ie,oe,re,K),G.arcTo(oe,re,oe+se,re,K),G.closePath()},h=(G,oe)=>{if(!G)return`rgba(0,0,0,${oe})`;if(G.startsWith("rgb"))return G.startsWith("rgba")?G.replace(/rgba\(([^)]+)\)/,(K,J)=>{const U=J.split(",").map(ae=>ae.trim());return`rgba(${U[0]}, ${U[1]}, ${U[2]}, ${oe})`}):G.replace(/rgb\(([^)]+)\)/,(K,J)=>`rgba(${J}, ${oe})`);const re=G.replace("#",""),se=parseInt(re.substring(0,2),16),ie=parseInt(re.substring(2,4),16),te=parseInt(re.substring(4,6),16);return`rgba(${se}, ${ie}, ${te}, ${oe})`},x=(G,oe,re,se)=>{const ie="bold 10px Arial";o.font=ie;const te=o.measureText(re),K=te.actualBoundingBoxAscent&&te.actualBoundingBoxDescent?te.actualBoundingBoxAscent+te.actualBoundingBoxDescent:10,J=6,U=4,ae=Math.ceil(te.width)+J*2,me=Math.ceil(K)+U*2,ke=Math.round(G-ae/2),Ae=Math.round(oe-me/2),Le=typeof performance<"u"?performance.now():Date.now(),He=.35+.25*Math.sin(Le/450);o.save(),o.shadowColor=h(se,Math.max(0,He)),o.shadowBlur=12,o.fillStyle=h(se,.14),p(o,ke,Ae,ae,me,6),o.fill(),o.restore(),o.lineWidth=1,o.strokeStyle=h(se,.9),p(o,ke,Ae,ae,me,6),o.stroke(),o.fillStyle=h(se,.95),o.textAlign="center",o.textBaseline="middle",o.font=ie,o.fillText(re,G,oe+.5)},w=t.extendData,k=(w==null?void 0:w.showLabels)!==!1,S=(w==null?void 0:w.uptrendColor)||"#00FF00",M=(w==null?void 0:w.downtrendColor)||"#FF0000",T=(w==null?void 0:w.uptrendThickness)??2,D=(w==null?void 0:w.downtrendThickness)??2,A=(w==null?void 0:w.uptrendLineStyle)||"solid",j=(w==null?void 0:w.downtrendLineStyle)||"solid";let F=[],q=0,B=((O=u[0])==null?void 0:O.trend)||1;for(let G=1;G<u.length;G++){const oe=u[G];(oe.trend!==B||G===u.length-1)&&(F.push({start:q,end:G===u.length-1&&oe.trend===B?G:G-1,trend:B}),q=G,B=oe.trend||1)}if(F.forEach(G=>{const oe=G.trend===1,re=oe?S:M,se=oe?T:D,ie=oe?A:j;o.strokeStyle=re,o.lineWidth=Number(se)||2,o.lineCap="round",o.lineJoin="round",ie==="dashed"?o.setLineDash([4,4]):ie==="dotted"?o.setLineDash([2,6]):o.setLineDash([]),o.beginPath();let te=!0;for(let K=G.start;K<=G.end;K++){const J=u[K];if(J.superTrend!==void 0){const U=s.convertToPixel(c+K),ae=r.convertToPixel(J.superTrend);te?(o.moveTo(U,ae),te=!1):o.lineTo(U,ae)}}if(o.stroke(),k){const K=u[G.end];if(K&&K.superTrend!==void 0){const U=G===F[F.length-1]?"HOLD":"EXIT",ae=s.convertToPixel(c+G.end),me=r.convertToPixel(K.superTrend);x(ae,me+(oe?22:-22),U,re)}}}),k){let G=0;try{const re=(z=e==null?void 0:e.getDataList)==null?void 0:z.call(e);if(re&&re.length>0)G=((Y=re[re.length-1])==null?void 0:Y.close)??0;else{const se=u[u.length-1];G=(se==null?void 0:se.superTrend)??0}}catch{}const oe=(t==null?void 0:t.precision)??2;for(let re=0;re<u.length;re++){const se=u[re],ie=s.convertToPixel(c+re);if(se.buySignal!==void 0){const te=r.convertToPixel(se.buySignal);o.fillStyle="#00FF00",o.beginPath(),o.arc(ie,te-10,4,0,2*Math.PI),o.fill();const K=se.buyEntry??se.buySignal,J=se.buyExit!==void 0?se.buyExit-K:G?G-K:0,U=`${J>=0?"+":""}${Number(J).toFixed(oe)}`;x(ie,te+22,`BUY ${U}`,"#10B981")}if(se.sellSignal!==void 0){const te=r.convertToPixel(se.sellSignal);o.fillStyle="#FF0000",o.beginPath(),o.arc(ie,te+10,4,0,2*Math.PI),o.fill();const K=se.sellEntry??se.sellSignal,J=se.sellExit!==void 0?K-se.sellExit:G?K-G:0,U=`${J>=0?"+":""}${Number(J).toFixed(oe)}`;x(ie,te-22,`SELL ${U}`,"#EF4444")}}}return o.restore(),!0}},bC={name:"MACD",shortName:"MACD",calcParams:[12,26,9],shouldOhlc:!1,shouldFormatBigNumber:!1,precision:4,styles:{lines:[{color:"#2563eb",size:1,style:0,dashedValue:[2,2]},{color:"#dc2626",size:1,style:0,dashedValue:[2,2]}],bars:[{upColor:"#2563eb",downColor:"#ef4444",noChangeColor:"#2563eb",borderSize:0,borderColor:"#2563eb"}]},figures:[{key:"macd",title:"MACD: ",type:"line",baseValue:0},{key:"signal",title:"Signal: ",type:"line",baseValue:0},{key:"hist",title:"Hist: ",type:"bar",baseValue:0}],calc:(o,e)=>{var x,w,k;const t=((x=e.calcParams)==null?void 0:x[0])||12,n=((w=e.calcParams)==null?void 0:w[1])||26,s=((k=e.calcParams)==null?void 0:k[2])||9,r=(S,M)=>{const T=2/(S+1),D=[];let A;for(let j=0;j<M.length;j++){const F=M[j];A===void 0?A=F:A=F*T+A*(1-T),D.push(A)}return D},a=o.map(S=>S.close),c=r(t,a),d=r(n,a),u=a.map((S,M)=>(c[M]??NaN)-(d[M]??NaN)),p=r(s,u.map(S=>Number.isFinite(S)?S:0)),h=[];for(let S=0;S<o.length;S++){if(!Number.isFinite(u[S])||!Number.isFinite(p[S])){h.push({});continue}const M=u[S],T=p[S],D=M-T;h.push({macd:M,signal:T,hist:D})}return h},draw:({ctx:o,chart:e,indicator:t,xAxis:n,yAxis:s})=>{var k,S,M,T,D,A;if(!t.result||t.result.length===0)return!1;const r=t.styles||{},a=((S=(k=r==null?void 0:r.bars)==null?void 0:k[0])==null?void 0:S.upColor)||"#2563eb",c=((T=(M=r==null?void 0:r.bars)==null?void 0:M[0])==null?void 0:T.downColor)||"#ef4444",d=((A=(D=r==null?void 0:r.bars)==null?void 0:D[0])==null?void 0:A.noChangeColor)||a,u=(r==null?void 0:r.lines)||[],p=e.getVisibleRange(),h=Math.max(p.from,0),x=Math.min(p.to,t.result.length-1);o.save();for(let j=h;j<=x;j++){const F=t.result[j];if(!F||typeof F.hist!="number")continue;const q=n.convertToPixel(j),B=s.convertToPixel(0),O=s.convertToPixel(F.hist),z=n.convertToPixel(1)-n.convertToPixel(0),Y=Math.max(1,Math.floor(z*.8)),G=Math.min(B,O),oe=Math.abs(B-O);let re=d;F.hist>0?re=a:F.hist<0&&(re=c),o.fillStyle=re;const se=Math.round(q-Y/2),ie=Math.round(G),te=Math.max(1,Math.round(oe));o.fillRect(se,ie,Y,te)}o.restore();const w=(j,F)=>{o.save(),o.beginPath(),o.lineWidth=(F==null?void 0:F.size)??1,(F==null?void 0:F.style)===1?o.setLineDash((F==null?void 0:F.dashedValue)??[4,4]):o.setLineDash([]),o.strokeStyle=(F==null?void 0:F.color)||"#ffffff";const B=o.lineWidth%2?.5:0;o.lineCap="butt",o.lineJoin="miter";let O=!0;for(let z=h;z<=x;z++){const Y=t.result[z];if(!Y||typeof Y[j]!="number")continue;const G=Math.round(n.convertToPixel(z))+B,oe=Math.round(s.convertToPixel(Y[j]))+B;O?(o.moveTo(G,oe),O=!1):o.lineTo(G,oe)}o.stroke(),o.restore()};return w("macd",u[0]),w("signal",u[1]),!0}};function Nd(o,e,t){return Math.max(e,Math.min(t,o))}function xC(o,e){const t=new Array(o.length).fill(0);if(e<=1){for(let s=0;s<o.length;s++)t[s]=o[s]??0;return t}let n=0;for(let s=0;s<o.length;s++)n+=o[s]??0,s>=e&&(n-=o[s-e]??0),t[s]=s>=e-1?n/e:0;return t}function wC(o,e,t){const n=Math.max(0,e-t);let s=-1/0;for(let r=n;r<e;r++)o[r]&&o[r].high>s&&(s=o[r].high);return s===-1/0?0:s}function kC(o,e,t){const n=Math.max(0,e-t);let s=1/0;for(let r=n;r<e;r++)o[r]&&o[r].low<s&&(s=o[r].low);return s===1/0?0:s}function Sg(o){const e=Math.max(0,(o.high??0)-(o.low??0)),t=Math.abs((o.close??0)-(o.open??0)),n=Math.max(0,(o.high??0)-Math.max(o.open??0,o.close??0)),s=Math.max(0,Math.min(o.open??0,o.close??0)-(o.low??0)),r=e>0?n/e:0,a=e>0?s/e:0;return{range:e,body:t,upperWick:n,lowerWick:s,upperWickRatio:r,lowerWickRatio:a}}const SC={name:"TRAP_HUNTER",shortName:"TRAP",precision:2,shouldOhlc:!0,shouldFormatBigNumber:!1,visible:!0,zLevel:0,figures:[],styles:{texts:[{color:"#ffffff",size:10}]},calc:(o,e)=>{var F,q;const t=e.calcParams||[],n=t[0]??20,s=t[1]??20,r=Math.max(1,t[2]??3),a=Math.max(1,t[3]??5),c=Math.max(1,t[4]??20),d=t[5]??1.3,u=t[6]??7e-4,p=t[7]??.35,h=t[8]??.5,x=(t[9]??1)>0?1:0,w=Math.max(1,t[10]??5),k=o.map(B=>(B==null?void 0:B.volume)??0),S=xC(k,c),M=new Array(o.length).fill(null).map(()=>({}));let T=-1e3,D=-1e3,A=-1e3,j=-1e3;for(let B=0;B<o.length;B++){const O=o[B];if(!O||B===0)continue;const z=wC(o,B,n),Y=kC(o,B,s);if(z===0||Y===0)continue;const G=S[B]||0,oe=G>0?(O.volume??0)/G:0,{range:re,upperWickRatio:se,lowerWickRatio:ie}=Sg(O),te=re>0?(O.high-O.close)/re<.4:!1,K=re>0?(O.close-O.low)/re<.4:!1,J=(O.high??0)>=z*(1+u),U=(O.close??0)>(O.open??0)||te,ae=oe>=d;if(J&&U&&ae){let it=-1;(O.close??0)<z&&(it=B);const Ne=Math.min(o.length-1,B+r);if(it===-1){for(let we=B+1;we<=Ne;we++)if((((F=o[we])==null?void 0:F.close)??0)<z){it=we;break}}if(it!==-1){const we=Math.min(it,B+a);let je=se,Te=!1;for(let Je=B;Je<=we;Je++){const be=Sg(o[Je]);be.upperWickRatio>je&&(je=be.upperWickRatio),(o[Je].close??0)<(o[Je].open??0)&&(be.range>0&&be.body/be.range>=.45)&&(Te=!0)}const Se=Nd((O.high-z)/Math.max(1e-8,z)/(u*3),0,1),Ue=Nd(oe/(d*2),0,1),Be=Nd(je,0,1),le=Nd((O.high-(o[it].close??0))/Math.max(1e-8,O.high),0,1),ye=Nd(.3*Se+.3*Ue+.2*Be+.2*le,0,1);(je>=p||Te)&&ye>=h&&it-T>=2&&(T=it,A=it,M[it]={...M[it],bullTrap:!0,type:"bull",score:ye,breakoutLevel:z,reversalClose:o[it].close,time:o[it].timestamp})}}const me=u*.85,ke=d*.9,Ae=(O.low??0)<=Y*(1-me),Le=(O.close??0)<(O.open??0)||K||ie>=p,He=oe>=ke;if(Ae&&Le&&He){const it=Math.min(o.length-1,B+r);let Ne=-1;if((O.close??0)>Y&&(Ne=B),Ne===-1){for(let we=B+1;we<=it;we++)if((((q=o[we])==null?void 0:q.close)??0)>Y){Ne=we;break}}if(Ne!==-1){const we=Math.min(Ne,B+a);let je=ie,Te=!1;for(let Je=B;Je<=we;Je++){const be=Sg(o[Je]);be.lowerWickRatio>je&&(je=be.lowerWickRatio),(o[Je].close??0)>(o[Je].open??0)&&(be.range>0&&be.body/be.range>=.45)&&(Te=!0)}const Se=Nd((Y-O.low)/Math.max(1e-8,Y)/(me*3),0,1),Ue=Nd(oe/(ke*2),0,1),Be=Nd(je,0,1),le=Nd(((o[Ne].close??0)-O.low)/Math.max(1e-8,o[Ne].close??0),0,1),ye=Nd(.3*Se+.3*Ue+.2*Be+.2*le,0,1);(je>=p||Te)&&ye>=h&&Ne-D>=2&&(D=Ne,A=Ne,M[Ne]={...M[Ne],bearTrap:!0,type:"bear",score:ye,breakoutLevel:Y,reversalClose:o[Ne].close,time:o[Ne].timestamp})}}if(x){const it=S[B]>0?(O.volume??0)/S[B]:0,{upperWickRatio:Ne,lowerWickRatio:we}=Sg(O),je=Math.max(.1,p*.8),Te=Math.max(1,d*.85),Se=(O.close??0)<=z*(1+u*.5)&&(O.close??0)>=Y*(1-u*.5),Ue=it<=Te&&Ne<=je&&we<=je&&Se,Be=B-A,le=B-j,ye=Math.max(8,w);Ue&&Be>=w&&le>=ye&&(j=B,M[B]={...M[B],normal:!0,time:o[B].timestamp})}}return M},draw:({ctx:o,chart:e,indicator:t,xAxis:n,yAxis:s})=>{const r=t.result;if(!r||r.length===0)return!1;const a=e.getDataList(),c=e.getVisibleRange(),d=Math.max(0,c.from),u=Math.min(r.length-1,c.to);function p(w,k,S,M){o.save(),o.fillStyle=S,o.strokeStyle=S,o.lineWidth=1,M==="normal"?(o.beginPath(),o.arc(w,k,3.5,0,2*Math.PI),o.fill()):(o.beginPath(),M==="bull"?(o.moveTo(w,k-6),o.lineTo(w-5,k+4),o.lineTo(w+5,k+4)):(o.moveTo(w,k+6),o.lineTo(w-5,k-4),o.lineTo(w+5,k-4)),o.closePath(),o.fill()),o.restore()}function h(w,k,S,M){o.save(),o.font="11px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif",o.textAlign="center",o.textBaseline="middle",o.fillStyle=M,o.strokeStyle="rgba(0,0,0,0.2)";const T=6,D=o.measureText(S),A=Math.ceil(D.width)+T*2,j=16,F=4,q=w-A/2,B=k-j/2;o.beginPath(),o.moveTo(q+F,B),o.lineTo(q+A-F,B),o.quadraticCurveTo(q+A,B,q+A,B+F),o.lineTo(q+A,B+j-F),o.quadraticCurveTo(q+A,B+j,q+A-F,B+j),o.lineTo(q+F,B+j),o.quadraticCurveTo(q,B+j,q,B+j-F),o.lineTo(q,B+F),o.quadraticCurveTo(q,B,q+F,B),o.closePath(),o.fillStyle="rgba(0,0,0,0.6)",o.fill(),o.fillStyle=M,o.fillText(S,w,k+.5),o.restore()}function x(w,k,S){o.save(),o.strokeStyle=S,o.lineWidth=1,o.setLineDash([4,3]),o.beginPath(),o.moveTo(w-10,k),o.lineTo(w+10,k),o.stroke(),o.setLineDash([]),o.restore()}for(let w=d;w<=u;w++){const k=r[w];if(!k||!k.bullTrap&&!k.bearTrap&&!k.normal)continue;const S=n.convertToPixel(w),M=a[w];if(M){if(k.bullTrap){const T=s.convertToPixel(M.high)-12;p(S,T,"#EF4444","bull");const A=T-16,j=`Bull Trap ${((k.score??0)*100).toFixed(0)}%`;if(h(S,A,j,"#F59E0B"),k.breakoutLevel){const F=s.convertToPixel(k.breakoutLevel);x(S,F,"#F59E0B")}}if(k.bearTrap){const T=s.convertToPixel(M.low)+12;p(S,T,"#10B981","bear");const A=T+16,j=`Bear Trap ${((k.score??0)*100).toFixed(0)}%`;if(h(S,A,j,"#34D399"),k.breakoutLevel){const F=s.convertToPixel(k.breakoutLevel);x(S,F,"#34D399")}}if(k.normal){const T=(M.high+M.low)/2,D=s.convertToPixel(T);p(S,D,"#3B82F6","normal"),h(S,D-16,"Stable","#60A5FA")}}}return!0},createTooltipDataSource:({dataIndex:o,indicator:e,defaultStyles:t})=>{var d;const n=(d=e.result)==null?void 0:d[o];if(!n||!n.bullTrap&&!n.bearTrap&&!n.normal)return{values:[]};const s=n.normal?"Stable":n.bullTrap?"Bull Trap":"Bear Trap",r=n.score!==void 0?Number(n.score).toFixed(2):"â€”",a=n.breakoutLevel!==void 0?Number(n.breakoutLevel).toFixed(e.precision??2):"â€”",c=n.reversalClose!==void 0?Number(n.reversalClose).toFixed(e.precision??2):"â€”";return{styles:t,values:[{title:"Trap",value:s},...n.normal?[]:[{title:"Score",value:r},{title:"Level",value:a},{title:"Reversal",value:c}]]}}};function _u(o,e,t){return Math.max(e,Math.min(t,o))}function ub(o,e){const t=o.length,n=new Array(t).fill(0);if(e<=1){for(let r=0;r<t;r++)n[r]=o[r]??0;return n}let s=0;for(let r=0;r<t;r++)s+=o[r]??0,r>=e&&(s-=o[r-e]??0),n[r]=r>=e-1?s/e:0;return n}function CC(o,e){var s,r,a;const t=o.length,n=new Array(t).fill(0);for(let c=0;c<t;c++){const d=((s=o[c])==null?void 0:s.high)??0,u=((r=o[c])==null?void 0:r.low)??0;if(c===0)n[c]=Math.max(0,d-u);else{const p=((a=o[c-1])==null?void 0:a.close)??0;n[c]=Math.max(d-u,Math.abs(d-p),Math.abs(u-p))}}return ub(n,Math.max(1,e))}function IC(o){var s,r,a;const e=o.length,t=new Array(e).fill(0);let n=0;for(let c=0;c<e;c++){if(c===0)n=0;else{const d=((s=o[c])==null?void 0:s.close)??0,u=((r=o[c-1])==null?void 0:r.close)??0,p=((a=o[c])==null?void 0:a.volume)??0;d>u?n+=p:d<u&&(n-=p)}t[c]=n}return t}function Bm(o,e,t){let n=0,s=0;for(let r=e;r<=t;r++)n+=o[r]??0,s++;return s>0?n/s:0}function PC(o,e,t,n){if(t<=e)return 0;const s=(o[t]-o[e])/(t-e),r=n>0?s/(n*5):0;return _u(r,-1,1)}function MC(o,e,t){var c,d;const n=Math.max(0,e-t),s=Math.max(0,e-1),r=((c=o[n])==null?void 0:c.close)??0,a=((d=o[s])==null?void 0:d.close)??0;return r<=0?0:(a-r)/r}function R1(o,e,t,n,s,r,a){var ke,Ae,Le,He,it,Ne,we,je,Te;const c=[],d=[],u=[];for(let Se=s;Se<=r;Se++)c.push(((ke=o[Se])==null?void 0:ke.high)??0),d.push(((Ae=o[Se])==null?void 0:Ae.low)??0),u.push(((Le=o[Se])==null?void 0:Le.close)??0);const p=Math.max(...c),h=Math.min(...d),x=(p+h)/2,w=p-h;if(x<=0)return null;const k=w/x;if(!isFinite(k)||k<=0||k>a.maxZoneWidthPct)return null;const S=Bm(n,s,r);if(!(S>=a.minVolumeFactor))return null;const M=[];for(let Se=s;Se<=r;Se++)M.push((((He=o[Se])==null?void 0:He.high)??0)-(((it=o[Se])==null?void 0:it.low)??0));const T=M.length?M.reduce((Se,Ue)=>Se+Ue,0)/M.length:0,D=Bm(t,s,r);if(D>0&&T/D>1.8)return null;let A=0;for(let Se=s;Se<=r;Se++){const Ue=((Ne=o[Se])==null?void 0:Ne.close)??0;(we=o[Se])==null||we.open;const Be=w>0?_u((Ue-h)/w,0,1):.5;A+=Be}const j=A/Math.max(1,r-s+1)||.5,F=MC(o,s,a.priorTrendLookback),q=F<=-.05,B=F>=.05,O=q?_u(Math.abs(F)/.15,0,1):0,z=B?_u(Math.abs(F)/.15,0,1):0,Y=Bm(o.map(Se=>(Se==null?void 0:Se.volume)??0),s,r),G=PC(e,s,r,Y),oe=_u((j-.5)/.3+.5,0,1),re=_u((S-a.minVolumeFactor)/Math.max(1e-6,a.minVolumeFactor),0,1),se=.3,ie=.3,te=.2,K=.2,J=se*O+ie*_u((G-a.minOBVTrendStrength)/(1-a.minOBVTrendStrength),0,1)+te*oe+K*re,U=se*z+ie*_u((-G-a.minOBVTrendStrength)/(1-a.minOBVTrendStrength),0,1)+te*(1-oe)+K*re,ae=_u(Math.max(J,U),0,1);if(ae<a.minZoneScore)return null;const me=J>U?"accumulation":"distribution";return{startIndex:s,endIndex:r,startTime:((je=o[s])==null?void 0:je.timestamp)??0,endTime:((Te=o[r])==null?void 0:Te.timestamp)??0,low:h,high:p,type:me,score:ae,priorReturn:F,avgVolumeFactor:S,obvTrendScore:G}}function N1(o,e){if(!e.mergeNearbyZones||o.length<=1)return o.slice(0,e.maxZonesDisplayed);const t=o.slice().sort((c,d)=>c.startIndex-d.startIndex),n=[],s=Math.max(2,Math.floor(e.minZoneBars/2)),r=Math.max(.01,e.maxZoneWidthPct*1.5);function a(c,d){const u=(c.low+c.high)/2,p=(d.low+d.high)/2;return u<=0||p<=0?!1:Math.abs(u-p)/((u+p)/2)<=r}for(const c of t){if(n.length===0){n.push(c);continue}const d=n[n.length-1];if(c.startIndex<=d.endIndex+s&&c.type===d.type&&a(d,c)){const p=Math.min(d.low,c.low),h=Math.max(d.high,c.high);n[n.length-1]={startIndex:Math.min(d.startIndex,c.startIndex),endIndex:Math.max(d.endIndex,c.endIndex),startTime:Math.min(d.startTime,c.startTime),endTime:Math.max(d.endTime,c.endTime),low:p,high:h,type:d.type,score:Math.max(d.score,c.score),priorReturn:Math.abs(c.score)>=Math.abs(d.score)?c.priorReturn:d.priorReturn,avgVolumeFactor:(d.avgVolumeFactor+c.avgVolumeFactor)/2,obvTrendScore:(d.obvTrendScore+c.obvTrendScore)/2}}else n.push(c)}return n.sort((c,d)=>d.score-c.score).slice(0,e.maxZonesDisplayed).sort((c,d)=>c.startIndex-d.startIndex)}const TC={name:"SMART_MONEY",shortName:"SMF",precision:2,shouldOhlc:!0,shouldFormatBigNumber:!1,visible:!0,zLevel:0,figures:[],styles:{},calc:(o,e)=>{const t=e.calcParams||[],n={zoneLookbackBars:Math.max(10,t[0]??40),minZoneBars:Math.max(3,t[1]??5),maxZoneBars:Math.max(5,t[2]??25),atrPeriod:Math.max(1,t[3]??14),volumeMAPeriod:Math.max(1,t[4]??20),minVolumeFactor:t[5]??1.2,maxZoneWidthPct:t[6]??.03,priorTrendLookback:Math.max(1,t[7]??20),minOBVTrendStrength:t[8]??.2,minZoneScore:t[9]??.6,mergeNearbyZones:(t[10]??1)>0,maxZonesDisplayed:Math.max(1,t[11]??20),showLabels:(t[12]??1)>0},s=o.length,r=new Array(s).fill({});if(s===0)return e.zones=[],e.cfg=n,r;const a=CC(o,n.atrPeriod),c=o.map(w=>(w==null?void 0:w.volume)??0),d=ub(c,n.volumeMAPeriod),u=c.map((w,k)=>{const S=d[k]||0;return S>0?w/S:0}),p=IC(o);let h=[];for(let w=0;w<s;w++){const k=w,S=Math.min(n.zoneLookbackBars,k+1),M=[],T=n.minZoneBars,D=Math.min(n.maxZoneBars,S);if(D>=T){const A=Math.floor((T+D)/2);M.push(T),A!==T&&A!==D&&M.push(A),D!==T&&M.push(D)}for(const A of M){const j=k-A+1;if(j<0)continue;const F=R1(o,p,a,u,j,k,n);F&&h.push(F)}}let x=N1(h,n);if(x.length===0&&s>=Math.max(60,n.minZoneBars*4)){const w={...n,maxZoneWidthPct:n.maxZoneWidthPct*2,minVolumeFactor:Math.min(n.minVolumeFactor,.9),minOBVTrendStrength:Math.max(.05,n.minOBVTrendStrength*.5),minZoneScore:Math.max(.4,n.minZoneScore-.15)};h=[];for(let k=0;k<s;k++){const S=k,M=Math.min(w.zoneLookbackBars,S+1),T=[],D=w.minZoneBars,A=Math.min(w.maxZoneBars,M);if(A>=D){const j=Math.floor((D+A)/2);T.push(D),j!==D&&j!==A&&T.push(j),A!==D&&T.push(A)}for(const j of T){const F=S-j+1;if(F<0)continue;const q=R1(o,p,a,u,F,S,w);q&&h.push(q)}}x=N1(h,w)}return e.zones=x,e.cfg=n,r},draw:({ctx:o,chart:e,indicator:t,xAxis:n,yAxis:s})=>{const r=t.zones||[];if(!r.length)return!1;const a=t.cfg||{},c=e.getVisibleRange(),d=Math.max(0,c.from),u=c.to,p="rgba(16, 185, 129, 0.28)",h="rgba(16, 185, 129, 0.7)",x="rgba(239, 68, 68, 0.28)",w="rgba(239, 68, 68, 0.7)";o.save();for(const k of r){if(k.endIndex<d||k.startIndex>u)continue;const S=n.convertToPixel(k.startIndex),M=n.convertToPixel(k.endIndex),T=s.convertToPixel(k.high),D=s.convertToPixel(k.low);if(!isFinite(S)||!isFinite(M)||T==null||D==null)continue;const A=Math.min(S,M),j=Math.max(1,Math.abs(M-S)),F=Math.min(T,D),q=Math.abs(T-D);o.fillStyle=k.type==="accumulation"?p:x;const B=o.roundRect??o.rect;o.beginPath();try{B.call(o,A,F,j,q,4)}catch{o.rect(A,F,j,q)}if(o.closePath(),o.fill(),o.strokeStyle=k.type==="accumulation"?h:w,o.lineWidth=1.5,o.setLineDash([]),o.stroke(),a.showLabels){const O=`${k.type==="accumulation"?"Accumulation":"Distribution"} (${k.score.toFixed(2)})`,z=A+j+6,Y=F+q/2;o.save(),o.font="11px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif",o.textAlign="left",o.textBaseline="middle";const G=k.type==="accumulation"?"#10B981":"#EF4444",oe="rgba(0,0,0,0.55)",re=6,se=o.measureText(O),ie=Math.ceil(se.width)+re*2,te=16,K=4,J=z,U=Y-te/2;o.beginPath(),o.moveTo(J+K,U),o.lineTo(J+ie-K,U),o.quadraticCurveTo(J+ie,U,J+ie,U+K),o.lineTo(J+ie,U+te-K),o.quadraticCurveTo(J+ie,U+te,J+ie-K,U+te),o.lineTo(J+K,U+te),o.quadraticCurveTo(J,U+te,J,U+te-K),o.lineTo(J,U+K),o.quadraticCurveTo(J,U,J+K,U),o.closePath(),o.fillStyle=oe,o.fill(),o.fillStyle=G,o.fillText(O,J+re,Y+.5),o.restore()}}return o.restore(),!0},createTooltipDataSource:({dataIndex:o,indicator:e,defaultStyles:t})=>{const s=(e.zones||[]).find(c=>o>=c.startIndex&&o<=c.endIndex);if(!s)return{values:[]};const r=s.type==="accumulation"?"Accumulation":"Distribution",a=s.endIndex-s.startIndex+1;return{styles:t,values:[{title:"Footprint",value:r},{title:"Score",value:s.score.toFixed(2)},{title:"Price",value:`${s.low.toFixed(e.precision??2)}â€“${s.high.toFixed(e.precision??2)}`},{title:"Duration",value:`${a} bars`},{title:"Prior Trend",value:`${(s.priorReturn*100).toFixed(1)}%`},{title:"Avg Volume x",value:s.avgVolumeFactor.toFixed(2)},{title:"OBV Trend",value:s.obvTrendScore>.05?"Up":s.obvTrendScore<-.05?"Down":"Flat"}]}}},mr={bbPeriod:16,bbStdDev:2,atrPeriod:14,volMAPeriod:20,lookbackForNorm:60,pressureSMA:2,minPressureForAlert:.55,eruptionConfirmBars:1,minVolExpansion:1,minRangeExpansion:1,minBreakoutBodyPct:.5,breakoutLookback:10,w1:.5,w2:.3,w3:.2,minBarsBetweenEruptions:1,trendEMAPeriod:30,requireTrendAlign:0,breakoutBufferPct:7e-4,requireBBBandBreak:0,retestWindow:1};function Rg(o,e,t){return Math.max(e,Math.min(t,o))}function Om(o,e){const t=new Array(o.length).fill(0);if(e<=1){for(let s=0;s<o.length;s++)t[s]=o[s]??0;return t}let n=0;for(let s=0;s<o.length;s++)n+=o[s]??0,s>=e&&(n-=o[s-e]??0),t[s]=s>=e-1?n/e:NaN;return t}function AC(o,e){const t=new Array(o.length).fill(NaN);if(e<=1)return o.map(()=>0);for(let n=0;n<o.length;n++){if(n<e-1)continue;let s=0;for(let c=n-e+1;c<=n;c++)s+=o[c]??0;const r=s/e;let a=0;for(let c=n-e+1;c<=n;c++){const d=(o[c]??0)-r;a+=d*d}t[n]=Math.sqrt(a/e)}return t}function DC(o,e){const t=new Array(o.length).fill(NaN);if(e<=1)return o.slice();const n=2/(e+1);let s=NaN;for(let r=0;r<o.length;r++){const a=o[r]??0;if(Number.isFinite(s))s=a*n+s*(1-n),t[r]=s;else if(r>=e-1){let c=0;for(let d=r-e+1;d<=r;d++)c+=o[d]??0;s=c/e,t[r]=s}}return t}function vb(o,e){if(!o)return 0;const t=o.high??0,n=o.low??0,s=(e==null?void 0:e.close)??o.close??0;return Math.max(t-n,Math.abs(t-s),Math.abs(n-s))}function LC(o,e){const t=o.map((r,a)=>vb(r,a>0?o[a-1]:void 0)),n=new Array(o.length).fill(NaN);if(e<=1)return t;let s=0;for(let r=0;r<t.length;r++)s+=t[r]??0,r===e-1?n[r]=s/e:r>=e&&(n[r]=((n[r-1]??0)*(e-1)+(t[r]??0))/e);return n}function z1(o,e){const t=new Array(o.length).fill(NaN);for(let n=0;n<o.length;n++){const s=Math.max(0,n-e+1);let r=1/0;for(let a=s;a<=n;a++)Number.isFinite(o[a])&&o[a]<r&&(r=o[a]);t[n]=r===1/0?NaN:r}return t}function V1(o,e){const t=new Array(o.length).fill(NaN);for(let n=0;n<o.length;n++){const s=Math.max(0,n-e+1);let r=-1/0;for(let a=s;a<=n;a++)Number.isFinite(o[a])&&o[a]>r&&(r=o[a]);t[n]=r===-1/0?NaN:r}return t}function q1(o,e,t){return!Number.isFinite(e)||!Number.isFinite(t)||t===e?.5:Rg((o-e)/(t-e),0,1)}function EC(o,e,t){const n=Math.max(0,e-t);let s=-1/0;for(let r=n;r<e;r++)o[r]&&(o[r].high??-1/0)>s&&(s=o[r].high);return s===-1/0?NaN:s}function FC(o,e,t){const n=Math.max(0,e-t);let s=1/0;for(let r=n;r<e;r++)o[r]&&(o[r].low??1/0)<s&&(s=o[r].low);return s===1/0?NaN:s}function pb(o,e){const t={...mr,...e},n=o.length,s=o.map(U=>(U==null?void 0:U.close)??0),r=o.map(U=>(U==null?void 0:U.volume)??0);if(n===0)return{pressure:[],pressureSmoothed:[],eruptions:[]};const a=Om(s,t.bbPeriod),c=AC(s,t.bbPeriod),d=new Array(n).fill(NaN),u=new Array(n).fill(NaN),p=new Array(n).fill(NaN);for(let U=0;U<n;U++)if(Number.isFinite(a[U])&&Number.isFinite(c[U])){d[U]=a[U]+t.bbStdDev*c[U],u[U]=a[U]-t.bbStdDev*c[U];const ae=d[U]-u[U],me=s[U]||1;p[U]=me!==0?ae/Math.abs(me):0}const h=Math.max(2,t.trendEMAPeriod??50),x=DC(s,h),w=LC(o,t.atrPeriod),k=w.map((U,ae)=>{const me=s[ae]||1;return me!==0?(U??0)/Math.abs(me):0}),S=Om(r,t.volMAPeriod),M=r.map((U,ae)=>{const me=S[ae]??0;return me>0?U/me:0}),T=Math.max(10,t.lookbackForNorm),D=z1(p,T),A=V1(p,T),j=z1(k,T),F=V1(k,T),q=new Array(n).fill(0),B=new Array(n).fill(0),O=new Array(n).fill(0);for(let U=0;U<n;U++){const ae=q1(p[U]??0,D[U],A[U]),me=q1(k[U]??0,j[U],F[U]);q[U]=1-ae,B[U]=1-me;const ke=Math.max(M[U]??0,1e-8),Ae=Rg(1/ke,0,2);O[U]=Rg(Ae/2,0,1)}const z=t.w1??.5,Y=t.w2??.3,G=t.w3??.2,oe=new Array(n).fill(0);for(let U=0;U<n;U++){const ae=z*q[U]+Y*B[U]+G*O[U];oe[U]=Rg(ae,0,1)}const re=Om(oe,Math.max(1,t.pressureSMA)).map(U=>Number.isFinite(U)?U:0),se=[],ie=Math.max(1,t.minBarsBetweenEruptions??8);let te=-1e4,K=!1,J=-1;for(let U=0;U<n;U++){const ae=re[U]??0;if(ae>=t.minPressureForAlert?K||(K=!0,J=U):K=!1,!(K||J>=0&&U-J<=t.eruptionConfirmBars+2)||U-te<ie)continue;const ke=vb(o[U],U>0?o[U-1]:void 0),Ae=w[U]??ke,Le=Ae>0?ke/Ae:0;if(Le<t.minRangeExpansion)continue;const He=M[U]??0;if(He<t.minVolExpansion)continue;const it=o[U],Ne=Math.max(0,(it.high??0)-(it.low??0)),we=Math.abs((it.close??0)-(it.open??0));if((Ne>0?we/Ne:0)<t.minBreakoutBodyPct)continue;const Te=EC(o,U,t.breakoutLookback),Se=FC(o,U,t.breakoutLookback),Ue=Math.max(0,t.breakoutBufferPct??.001),Be=(t.requireBBBandBreak??1)>0,le=(t.requireTrendAlign??1)>0,ye=x[U],Ee=U>0?x[U-1]:ye,Je=Number.isFinite(ye)&&Number.isFinite(Ee)&&(it.close??0)>ye&&ye>=Ee,be=Number.isFinite(ye)&&Number.isFinite(Ee)&&(it.close??0)<ye&&ye<=Ee,X=d[U],H=u[U];let Ce=Number.isFinite(Te)&&(it.close??0)>Te*(1+Ue),Qe=Number.isFinite(Se)&&(it.close??0)<Se*(1-Ue);if(Be&&(Ce=Ce&&Number.isFinite(X)&&(it.close??0)>X,Qe=Qe&&Number.isFinite(H)&&(it.close??0)<H),le&&(Ce=Ce&&Je,Qe=Qe&&be),!Ce&&!Qe)continue;const mt=U,bt=Math.min(n-1,mt+Math.max(1,t.eruptionConfirmBars));let ct=0,yo=!0;const Kt=Math.max(1,t.retestWindow??2);if(Ce)for(let io=mt;io<=bt;io++){const ro=o[io];(ro.close??0)>=(it.high??0)&&ct++,io<=mt+Kt&&Number.isFinite(Te)&&(ro.close??0)<Te&&(yo=!1)}else if(Qe)for(let io=mt;io<=bt;io++){const ro=o[io];(ro.close??0)<=(it.low??0)&&ct++,io<=mt+Kt&&Number.isFinite(Se)&&(ro.close??0)>Se&&(yo=!1)}const to=Math.ceil((bt-mt+1)/2);if(yo&&ct>=to){const io=Ce?"bullish":"bearish",ro=Ce?Te:Se;se.push({index:mt,time:it.timestamp??0,direction:io,pressureAtSignal:ae,rangeExpansion:Le,volumeFactor:He,breakoutLevel:ro}),te=mt}}return{pressure:oe,pressureSmoothed:re,eruptions:se}}const jC={name:"VOLCANIC",shortName:"VOLC",precision:2,shouldOhlc:!1,shouldFormatBigNumber:!1,visible:!0,zLevel:0,minValue:0,maxValue:1,figures:[{key:"pressure",title:"Pressure: ",type:"line"}],styles:{lines:[{color:"#60A5FA",size:2,style:de.Solid,smooth:!1,dashedValue:[2,2]}]},calc:(o,e)=>{const t=e.calcParams,n={bbPeriod:(t==null?void 0:t[0])??mr.bbPeriod,bbStdDev:(t==null?void 0:t[1])??mr.bbStdDev,atrPeriod:(t==null?void 0:t[2])??mr.atrPeriod,volMAPeriod:(t==null?void 0:t[3])??mr.volMAPeriod,lookbackForNorm:(t==null?void 0:t[4])??mr.lookbackForNorm,pressureSMA:(t==null?void 0:t[5])??mr.pressureSMA,minPressureForAlert:(t==null?void 0:t[6])??mr.minPressureForAlert,eruptionConfirmBars:(t==null?void 0:t[7])??mr.eruptionConfirmBars,minVolExpansion:(t==null?void 0:t[8])??mr.minVolExpansion,minRangeExpansion:(t==null?void 0:t[9])??mr.minRangeExpansion,minBreakoutBodyPct:(t==null?void 0:t[10])??mr.minBreakoutBodyPct,breakoutLookback:(t==null?void 0:t[11])??mr.breakoutLookback,minBarsBetweenEruptions:(t==null?void 0:t[12])??mr.minBarsBetweenEruptions,trendEMAPeriod:(t==null?void 0:t[13])??mr.trendEMAPeriod??30,requireTrendAlign:(t==null?void 0:t[14])??mr.requireTrendAlign??0,breakoutBufferPct:(t==null?void 0:t[15])??mr.breakoutBufferPct??7e-4,requireBBBandBreak:(t==null?void 0:t[16])??mr.requireBBBandBreak??0,retestWindow:(t==null?void 0:t[17])??mr.retestWindow??1},{pressureSmoothed:s}=pb(o,n);return s.map(r=>({pressure:Number.isFinite(r)?r:null}))},draw:({ctx:o,chart:e,indicator:t,bounding:n,xAxis:s,yAxis:r})=>{var A,j,F,q,B,O,z;const a=t.result;if(!a||a.length===0)return!1;const c=e.getVisibleRange(),d=Math.max(0,c.from),u=Math.min(a.length-1,c.to),p=t.calcParams,h=(p==null?void 0:p[6])??mr.minPressureForAlert,x=((F=(j=(A=t.styles)==null?void 0:A.lines)==null?void 0:j[0])==null?void 0:F.color)||"#60A5FA",w="#F59E0B",k=((O=(B=(q=t.styles)==null?void 0:q.lines)==null?void 0:B[0])==null?void 0:O.size)||2;o.save(),o.lineCap="round",o.lineJoin="round";const S=r.convertToPixel(h);S!==null&&(o.strokeStyle="#9CA3AF",o.lineWidth=1,o.setLineDash([4,4]),o.beginPath(),o.moveTo(n.left,S),o.lineTo(n.left+n.width,S),o.stroke(),o.setLineDash([]));let M=null,T=null,D=null;for(let Y=d;Y<=u;Y++){const G=((z=a[Y])==null?void 0:z.pressure)??null;if(G==null){M=T=D=null;continue}const oe=s.convertToPixel(Y),re=r.convertToPixel(G);if(oe===null||re===null){M=T=D=null;continue}if(M!==null&&T!==null&&D!==null){const se=(D+G)/2;o.strokeStyle=se>=h?w:x,o.lineWidth=k,o.beginPath(),o.moveTo(M,T),o.lineTo(oe,re),o.stroke()}M=oe,T=re,D=G}return o.restore(),!0},createTooltipDataSource:({dataIndex:o,indicator:e,defaultStyles:t})=>{const n=e.result[o];if(!n)return{values:[]};const s=e.calcParams,r=(s==null?void 0:s[6])??mr.minPressureForAlert,a=n.pressure!==null&&n.pressure!==void 0?Number(n.pressure).toFixed(2):"â€”";return{styles:t,values:[{title:"Pressure",value:a},{title:"Alert â‰¥",value:Number(r).toFixed(2)}]}}},$C={name:"VOLCANIC_SIG",shortName:"VOLCSIG",precision:2,shouldOhlc:!0,shouldFormatBigNumber:!1,visible:!0,zLevel:0,figures:[],styles:{texts:[{color:"#ffffff",size:10}]},calc:(o,e)=>{const t=e.calcParams,n={bbPeriod:(t==null?void 0:t[0])??mr.bbPeriod,bbStdDev:(t==null?void 0:t[1])??mr.bbStdDev,atrPeriod:(t==null?void 0:t[2])??mr.atrPeriod,volMAPeriod:(t==null?void 0:t[3])??mr.volMAPeriod,lookbackForNorm:(t==null?void 0:t[4])??mr.lookbackForNorm,pressureSMA:(t==null?void 0:t[5])??mr.pressureSMA,minPressureForAlert:(t==null?void 0:t[6])??mr.minPressureForAlert,eruptionConfirmBars:(t==null?void 0:t[7])??mr.eruptionConfirmBars,minVolExpansion:(t==null?void 0:t[8])??mr.minVolExpansion,minRangeExpansion:(t==null?void 0:t[9])??mr.minRangeExpansion,minBreakoutBodyPct:(t==null?void 0:t[10])??mr.minBreakoutBodyPct,breakoutLookback:(t==null?void 0:t[11])??mr.breakoutLookback,minBarsBetweenEruptions:(t==null?void 0:t[12])??mr.minBarsBetweenEruptions,trendEMAPeriod:(t==null?void 0:t[13])??mr.trendEMAPeriod??30,requireTrendAlign:(t==null?void 0:t[14])??mr.requireTrendAlign??0,breakoutBufferPct:(t==null?void 0:t[15])??mr.breakoutBufferPct??7e-4,requireBBBandBreak:(t==null?void 0:t[16])??mr.requireBBBandBreak??0,retestWindow:(t==null?void 0:t[17])??mr.retestWindow??1},{eruptions:s}=pb(o,n),r=new Array(o.length).fill(null).map(()=>({}));return s.forEach(a=>{const c=r[a.index]||{};a.direction==="bullish"&&(c.bull=!0),a.direction==="bearish"&&(c.bear=!0),c.pressure=a.pressureAtSignal,c.rangeExpansion=a.rangeExpansion,c.volumeFactor=a.volumeFactor,c.breakoutLevel=a.breakoutLevel,r[a.index]=c}),r},draw:({ctx:o,chart:e,indicator:t,xAxis:n,yAxis:s})=>{const r=t.result;if(!r||r.length===0)return!1;const a=e.getDataList(),c=e.getVisibleRange(),d=Math.max(0,c.from),u=Math.min(r.length-1,c.to);function p(x,w,k,S){o.save(),o.fillStyle=k,o.beginPath(),S?(o.moveTo(x,w+6),o.lineTo(x-5,w-4),o.lineTo(x+5,w-4)):(o.moveTo(x,w-6),o.lineTo(x-5,w+4),o.lineTo(x+5,w+4)),o.closePath(),o.fill(),o.restore()}function h(x,w,k,S){o.save(),o.font="11px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif",o.textAlign="center",o.textBaseline="middle";const M=6,T=16,D=o.measureText(k),A=Math.ceil(D.width)+M*2,j=4,F=x-A/2,q=w-T/2;o.fillStyle="rgba(0,0,0,0.6)",o.beginPath(),o.moveTo(F+j,q),o.lineTo(F+A-j,q),o.quadraticCurveTo(F+A,q,F+A,q+j),o.lineTo(F+A,q+T-j),o.quadraticCurveTo(F+A,q+T,F+A-j,q+T),o.lineTo(F+j,q+T),o.quadraticCurveTo(F,q+T,F,q+T-j),o.lineTo(F,q+j),o.quadraticCurveTo(F,q,F+j,q),o.closePath(),o.fill(),o.fillStyle=S,o.fillText(k,x,w+.5),o.restore()}for(let x=d;x<=u;x++){const w=r[x];if(!w||!w.bull&&!w.bear)continue;const k=n.convertToPixel(x),S=a[x];if(S){if(w.bull){const M=s.convertToPixel(S.low)+12;p(k,M,"#F59E0B",!0),h(k,M+16,"Volcanic Move (Bullish)","#F59E0B")}if(w.bear){const M=s.convertToPixel(S.high)-12;p(k,M,"#EF4444",!1),h(k,M-16,"Volcanic Move (Bearish)","#EF4444")}}}return!0},createTooltipDataSource:({dataIndex:o,indicator:e,defaultStyles:t})=>{var d;const n=(d=e.result)==null?void 0:d[o];if(!n||!n.bull&&!n.bear)return{values:[]};const s=n.bull?"Bullish":"Bearish",r=n.pressure!==void 0?Number(n.pressure).toFixed(2):"â€”",a=n.rangeExpansion!==void 0?Number(n.rangeExpansion).toFixed(2):"â€”",c=n.volumeFactor!==void 0?Number(n.volumeFactor).toFixed(2):"â€”";return{styles:t,values:[{title:"Eruption",value:s},{title:"Pressure",value:r},{title:"Range x",value:a},{title:"Volume x",value:c}]}}};function BC(o,e,t,n,s,r,a){const c=n*.4,d=s*.4;o.save(),o.strokeStyle=r,o.lineWidth=a,o.lineCap="round",o.lineJoin="round",o.beginPath(),o.moveTo(e-c,t-d),o.lineTo(e+c,t+d),o.moveTo(e+c,t-d),o.lineTo(e-c,t+d),o.stroke(),o.restore()}function OC(o,e,t,n,s,r,a){const c=n*.4,d=s*.4;o.save(),o.strokeStyle=r,o.lineWidth=a,o.lineCap="round",o.beginPath(),o.ellipse(e,t,c,d,0,0,Math.PI*2),o.stroke(),o.restore()}const RC={name:"PNF",shortName:"P&F",calcParams:[],figures:[],calc:(o,e)=>o.map(t=>{const n=t==null?void 0:t._pnf;return n?{direction:n.direction,boxes:n.boxes,upColor:n.upColor,downColor:n.downColor,boxSize:n.boxSize}:{}}),draw:o=>{var T,D;const{ctx:e,visibleRange:t,indicator:n,xAxis:s,yAxis:r}=o,a=n.result||[];if(!(s!=null&&s.convertToPixel)||!(r!=null&&r.convertToPixel))return!1;const c=s.convertToPixel(0),d=s.convertToPixel(1),u=Math.max(1,Math.abs(d-c));let p=u;for(const A of a)if(A!=null&&A.boxes&&A.boxes.length>=2&&(r!=null&&r.convertToPixel)){const j=A.boxes[0],F=A.boxes[1],q=r.convertToPixel(j.price),B=r.convertToPixel(F.price);if(q!==void 0&&B!==void 0&&!isNaN(q)&&!isNaN(B)){const O=Math.abs(q-B);if(O>0){p=O;break}}}if(p===u){const A=a.find(j=>(j==null?void 0:j.boxSize)&&j.boxSize>0);if(A!=null&&A.boxSize){const j=((D=(T=A.boxes)==null?void 0:T[0])==null?void 0:D.price)||100,F=r.convertToPixel(j),q=r.convertToPixel(j+A.boxSize);if(F!==void 0&&q!==void 0&&!isNaN(F)&&!isNaN(q)){const B=Math.abs(F-q);B>0&&(p=B)}}}const h=u*.85,x=p*.85,w=(h+x)/2,k=Math.max(.8,w*.08),S=(t==null?void 0:t.from)||0,M=(t==null?void 0:t.to)||a.length;for(let A=S;A<M;A++){const j=a[A];if(!j||!j.boxes||!Array.isArray(j.boxes))continue;const{direction:F,boxes:q,upColor:B="#00E6D8",downColor:O="#FF4D4D"}=j,z=s.convertToPixel(A);if(!(z===void 0||isNaN(z)))for(const Y of q){const G=r.convertToPixel(Y.price);G===void 0||isNaN(G)||(F==="up"?BC(e,z,G,h,x,B,k):OC(e,z,G,h,x,O,k))}}return!1}},NC=[qS,WS,HS,US,cb,ZS,JS,QS,eC,oC,sC,iC,rC,aC,lC,dC,uC,vC,pC,gC,_C,hC,yC,bC,SC,TC,jC,$C,RC];var Ug={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ug.exports;(function(o,e){(function(){var t,n="4.17.21",s=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",u=500,p="__lodash_placeholder__",h=1,x=2,w=4,k=1,S=2,M=1,T=2,D=4,A=8,j=16,F=32,q=64,B=128,O=256,z=512,Y=30,G="...",oe=800,re=16,se=1,ie=2,te=3,K=1/0,J=9007199254740991,U=17976931348623157e292,ae=NaN,me=4294967295,ke=me-1,Ae=me>>>1,Le=[["ary",B],["bind",M],["bindKey",T],["curry",A],["curryRight",j],["flip",z],["partial",F],["partialRight",q],["rearg",O]],He="[object Arguments]",it="[object Array]",Ne="[object AsyncFunction]",we="[object Boolean]",je="[object Date]",Te="[object DOMException]",Se="[object Error]",Ue="[object Function]",Be="[object GeneratorFunction]",le="[object Map]",ye="[object Number]",Ee="[object Null]",Je="[object Object]",be="[object Promise]",X="[object Proxy]",H="[object RegExp]",Ce="[object Set]",Qe="[object String]",mt="[object Symbol]",bt="[object Undefined]",ct="[object WeakMap]",yo="[object WeakSet]",Kt="[object ArrayBuffer]",to="[object DataView]",io="[object Float32Array]",ro="[object Float64Array]",Uo="[object Int8Array]",an="[object Int16Array]",Mn="[object Int32Array]",uo="[object Uint8Array]",Do="[object Uint8ClampedArray]",Zt="[object Uint16Array]",Go="[object Uint32Array]",cn=/\b__p \+= '';/g,sn=/\b(__p \+=) '' \+/g,Tr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,zi=/&(?:amp|lt|gt|quot|#39);/g,Ki=/[&<>"']/g,wa=RegExp(zi.source),Ei=RegExp(Ki.source),Za=/<%-([\s\S]+?)%>/g,Xa=/<%([\s\S]+?)%>/g,sl=/<%=([\s\S]+?)%>/g,Ja=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pl=/^\w*$/,il=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qa=/[\\^$.*+?()[\]{}|]/g,Ma=RegExp(Qa.source),ka=/^\s+/,zr=/\s/,oa=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fl=/\{\n\/\* \[wrapped with (.+)\] \*/,bl=/,? & /,rl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ta=/[()=,{}\[\]\/\s]/,al=/\\(\\)?/g,xl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gr=/\w*$/,Kl=/^[-+]0x[0-9a-f]+$/i,gl=/^0b[01]+$/i,el=/^\[object .+?Constructor\]$/,_l=/^0o[0-7]+$/i,Ba=/^(?:0|[1-9]\d*)$/,ll=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kr=/($^)/,yr=/['\n\r\u2028\u2029\\]/g,Oa="\\ud800-\\udfff",wl="\\u0300-\\u036f",Vr="\\ufe20-\\ufe2f",tl="\\u20d0-\\u20ff",Ra=wl+Vr+tl,ol="\\u2700-\\u27bf",Na="a-z\\xdf-\\xf6\\xf8-\\xff",pt="\\xac\\xb1\\xd7\\xf7",At="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bt="\\u2000-\\u206f",dt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vt="A-Z\\xc0-\\xd6\\xd8-\\xde",Tt="\\ufe0e\\ufe0f",Co=pt+At+Bt+dt,Ro="['â€™]",Tn="["+Oa+"]",jo="["+Co+"]",En="["+Ra+"]",mo="\\d+",Es="["+ol+"]",zn="["+Na+"]",Vi="[^"+Oa+Co+mo+ol+Na+Vt+"]",Rn="\\ud83c[\\udffb-\\udfff]",Fs="(?:"+En+"|"+Rn+")",Fi="[^"+Oa+"]",vr="(?:\\ud83c[\\udde6-\\uddff]){2}",js="[\\ud800-\\udbff][\\udc00-\\udfff]",qi="["+Vt+"]",Ti="\\u200d",xi="(?:"+zn+"|"+Vi+")",oi="(?:"+qi+"|"+Vi+")",ir="(?:"+Ro+"(?:d|ll|m|re|s|t|ve))?",Ws="(?:"+Ro+"(?:D|LL|M|RE|S|T|VE))?",di=Fs+"?",Ps="["+Tt+"]?",ps="(?:"+Ti+"(?:"+[Fi,vr,js].join("|")+")"+Ps+di+")*",ni="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ui=Ps+di+ps,pr="(?:"+[Es,vr,js].join("|")+")"+ui,Hr="(?:"+[Fi+En+"?",En,vr,js,Tn].join("|")+")",ge=RegExp(Ro,"g"),We=RegExp(En,"g"),ft=RegExp(Rn+"(?="+Rn+")|"+Hr+ui,"g"),Ht=RegExp([qi+"?"+zn+"+"+ir+"(?="+[jo,qi,"$"].join("|")+")",oi+"+"+Ws+"(?="+[jo,qi+xi,"$"].join("|")+")",qi+"?"+xi+"+"+ir,qi+"+"+Ws,Zi,ni,mo,pr].join("|"),"g"),jt=RegExp("["+Ti+Oa+Ra+Tt+"]"),go=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],To=-1,Lo={};Lo[io]=Lo[ro]=Lo[Uo]=Lo[an]=Lo[Mn]=Lo[uo]=Lo[Do]=Lo[Zt]=Lo[Go]=!0,Lo[He]=Lo[it]=Lo[Kt]=Lo[we]=Lo[to]=Lo[je]=Lo[Se]=Lo[Ue]=Lo[le]=Lo[ye]=Lo[Je]=Lo[H]=Lo[Ce]=Lo[Qe]=Lo[ct]=!1;var Mo={};Mo[He]=Mo[it]=Mo[Kt]=Mo[to]=Mo[we]=Mo[je]=Mo[io]=Mo[ro]=Mo[Uo]=Mo[an]=Mo[Mn]=Mo[le]=Mo[ye]=Mo[Je]=Mo[H]=Mo[Ce]=Mo[Qe]=Mo[mt]=Mo[uo]=Mo[Do]=Mo[Zt]=Mo[Go]=!0,Mo[Se]=Mo[Ue]=Mo[ct]=!1;var Fn={Ã€:"A",Ã:"A",Ã‚:"A",Ãƒ:"A",Ã„:"A",Ã…:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã‡:"C",Ã§:"c",Ã:"D",Ã°:"d",Ãˆ:"E",Ã‰:"E",ÃŠ:"E",Ã‹:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",ÃŒ:"I",Ã:"I",ÃŽ:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã‘:"N",Ã±:"n",Ã’:"O",Ã“:"O",Ã”:"O",Ã•:"O",Ã–:"O",Ã˜:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã™:"U",Ãš:"U",Ã›:"U",Ãœ:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã†:"Ae",Ã¦:"ae",Ãž:"Th",Ã¾:"th",ÃŸ:"ss",Ä€:"A",Ä‚:"A",Ä„:"A",Ä:"a",Äƒ:"a",Ä…:"a",Ä†:"C",Äˆ:"C",ÄŠ:"C",ÄŒ:"C",Ä‡:"c",Ä‰:"c",Ä‹:"c",Ä:"c",ÄŽ:"D",Ä:"D",Ä:"d",Ä‘:"d",Ä’:"E",Ä”:"E",Ä–:"E",Ä˜:"E",Äš:"E",Ä“:"e",Ä•:"e",Ä—:"e",Ä™:"e",Ä›:"e",Äœ:"G",Äž:"G",Ä :"G",Ä¢:"G",Ä:"g",ÄŸ:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å€:"l",Å‚:"l",Åƒ:"N",Å…:"N",Å‡:"N",ÅŠ:"N",Å„:"n",Å†:"n",Åˆ:"n",Å‹:"n",ÅŒ:"O",ÅŽ:"O",Å:"O",Å:"o",Å:"o",Å‘:"o",Å”:"R",Å–:"R",Å˜:"R",Å•:"r",Å—:"r",Å™:"r",Åš:"S",Åœ:"S",Åž:"S",Å :"S",Å›:"s",Å:"s",ÅŸ:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å’:"Oe",Å“:"oe",Å‰:"'n",Å¿:"s"},fs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},si={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ji={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ai=parseFloat,$i=parseInt,_i=typeof yu=="object"&&yu&&yu.Object===Object&&yu,br=typeof self=="object"&&self&&self.Object===Object&&self,bs=_i||br||Function("return this")(),Xi=e&&!e.nodeType&&e,xr=Xi&&!0&&o&&!o.nodeType&&o,Ge=xr&&xr.exports===Xi,Xe=Ge&&_i.process,eo=function(){try{var Ke=xr&&xr.require&&xr.require("util").types;return Ke||Xe&&Xe.binding&&Xe.binding("util")}catch{}}(),Et=eo&&eo.isArrayBuffer,xo=eo&&eo.isDate,Eo=eo&&eo.isMap,Vo=eo&&eo.isRegExp,$o=eo&&eo.isSet,un=eo&&eo.isTypedArray;function Yo(Ke,It,Q){switch(Q.length){case 0:return Ke.call(It);case 1:return Ke.call(It,Q[0]);case 2:return Ke.call(It,Q[0],Q[1]);case 3:return Ke.call(It,Q[0],Q[1],Q[2])}return Ke.apply(It,Q)}function vn(Ke,It,Q,gt){for(var De=-1,Ie=Ke==null?0:Ke.length;++De<Ie;){var rt=Ke[De];It(gt,rt,Q(rt),Ke)}return gt}function ii(Ke,It){for(var Q=-1,gt=Ke==null?0:Ke.length;++Q<gt&&It(Ke[Q],Q,Ke)!==!1;);return Ke}function fr(Ke,It){for(var Q=Ke==null?0:Ke.length;Q--&&It(Ke[Q],Q,Ke)!==!1;);return Ke}function Ar(Ke,It){for(var Q=-1,gt=Ke==null?0:Ke.length;++Q<gt;)if(!It(Ke[Q],Q,Ke))return!1;return!0}function rr(Ke,It){for(var Q=-1,gt=Ke==null?0:Ke.length,De=0,Ie=[];++Q<gt;){var rt=Ke[Q];It(rt,Q,Ke)&&(Ie[De++]=rt)}return Ie}function Zr(Ke,It){var Q=Ke==null?0:Ke.length;return!!Q&&Cl(Ke,It,0)>-1}function qr(Ke,It,Q){for(var gt=-1,De=Ke==null?0:Ke.length;++gt<De;)if(Q(It,Ke[gt]))return!0;return!1}function Ii(Ke,It){for(var Q=-1,gt=Ke==null?0:Ke.length,De=Array(gt);++Q<gt;)De[Q]=It(Ke[Q],Q,Ke);return De}function Ur(Ke,It){for(var Q=-1,gt=It.length,De=Ke.length;++Q<gt;)Ke[De+Q]=It[Q];return Ke}function _a(Ke,It,Q,gt){var De=-1,Ie=Ke==null?0:Ke.length;for(gt&&Ie&&(Q=Ke[++De]);++De<Ie;)Q=It(Q,Ke[De],De,Ke);return Q}function Nc(Ke,It,Q,gt){var De=Ke==null?0:Ke.length;for(gt&&De&&(Q=Ke[--De]);De--;)Q=It(Q,Ke[De],De,Ke);return Q}function kl(Ke,It){for(var Q=-1,gt=Ke==null?0:Ke.length;++Q<gt;)if(It(Ke[Q],Q,Ke))return!0;return!1}var nl=jl("length");function Fl(Ke){return Ke.split("")}function Ad(Ke){return Ke.match(rl)||[]}function Vl(Ke,It,Q){var gt;return Q(Ke,function(De,Ie,rt){if(It(De,Ie,rt))return gt=Ie,!1}),gt}function Sl(Ke,It,Q,gt){for(var De=Ke.length,Ie=Q+(gt?1:-1);gt?Ie--:++Ie<De;)if(It(Ke[Ie],Ie,Ke))return Ie;return-1}function Cl(Ke,It,Q){return It===It?tr(Ke,It,Q):Sl(Ke,sc,Q)}function Il(Ke,It,Q,gt){for(var De=Q-1,Ie=Ke.length;++De<Ie;)if(gt(Ke[De],It))return De;return-1}function sc(Ke){return Ke!==Ke}function ic(Ke,It){var Q=Ke==null?0:Ke.length;return Q?ve(Ke,It)/Q:ae}function jl(Ke){return function(It){return It==null?t:It[Ke]}}function Sa(Ke){return function(It){return Ke==null?t:Ke[It]}}function sd(Ke,It,Q,gt,De){return De(Ke,function(Ie,rt,Ze){Q=gt?(gt=!1,Ie):It(Q,Ie,rt,Ze)}),Q}function W(Ke,It){var Q=Ke.length;for(Ke.sort(It);Q--;)Ke[Q]=Ke[Q].value;return Ke}function ve(Ke,It){for(var Q,gt=-1,De=Ke.length;++gt<De;){var Ie=It(Ke[gt]);Ie!==t&&(Q=Q===t?Ie:Q+Ie)}return Q}function he(Ke,It){for(var Q=-1,gt=Array(Ke);++Q<Ke;)gt[Q]=It(Q);return gt}function Me(Ke,It){return Ii(It,function(Q){return[Q,Ke[Q]]})}function Oe(Ke){return Ke&&Ke.slice(0,Pe(Ke)+1).replace(ka,"")}function $e(Ke){return function(It){return Ke(It)}}function Ve(Ke,It){return Ii(It,function(Q){return Ke[Q]})}function vt(Ke,It){return Ke.has(It)}function ot(Ke,It){for(var Q=-1,gt=Ke.length;++Q<gt&&Cl(It,Ke[Q],0)>-1;);return Q}function et(Ke,It){for(var Q=Ke.length;Q--&&Cl(It,Ke[Q],0)>-1;);return Q}function kt(Ke,It){for(var Q=Ke.length,gt=0;Q--;)Ke[Q]===It&&++gt;return gt}var vo=Sa(Fn),qe=Sa(fs);function $t(Ke){return"\\"+ji[Ke]}function oo(Ke,It){return Ke==null?t:Ke[It]}function Ko(Ke){return jt.test(Ke)}function Ut(Ke){return go.test(Ke)}function ht(Ke){for(var It,Q=[];!(It=Ke.next()).done;)Q.push(It.value);return Q}function bn(Ke){var It=-1,Q=Array(Ke.size);return Ke.forEach(function(gt,De){Q[++It]=[De,gt]}),Q}function rn(Ke,It){return function(Q){return Ke(It(Q))}}function Ms(Ke,It){for(var Q=-1,gt=Ke.length,De=0,Ie=[];++Q<gt;){var rt=Ke[Q];(rt===It||rt===p)&&(Ke[Q]=p,Ie[De++]=Q)}return Ie}function Zo(Ke){var It=-1,Q=Array(Ke.size);return Ke.forEach(function(gt){Q[++It]=gt}),Q}function Cs(Ke){var It=-1,Q=Array(Ke.size);return Ke.forEach(function(gt){Q[++It]=[gt,gt]}),Q}function tr(Ke,It,Q){for(var gt=Q-1,De=Ke.length;++gt<De;)if(Ke[gt]===It)return gt;return-1}function Us(Ke,It,Q){for(var gt=Q+1;gt--;)if(Ke[gt]===It)return gt;return gt}function pe(Ke){return Ko(Ke)?qo(Ke):nl(Ke)}function Ct(Ke){return Ko(Ke)?Bi(Ke):Fl(Ke)}function Pe(Ke){for(var It=Ke.length;It--&&zr.test(Ke.charAt(It)););return It}var pn=Sa(si);function qo(Ke){for(var It=ft.lastIndex=0;ft.test(Ke);)++It;return It}function Bi(Ke){return Ke.match(ft)||[]}function gr(Ke){return Ke.match(Ht)||[]}var gs=function Ke(It){It=It==null?bs:Ts.defaults(bs.Object(),It,Ts.pick(bs,Rt));var Q=It.Array,gt=It.Date,De=It.Error,Ie=It.Function,rt=It.Math,Ze=It.Object,Ft=It.RegExp,Pt=It.String,Yt=It.TypeError,po=Q.prototype,so=Ie.prototype,wo=Ze.prototype,dn=It["__core-js_shared__"],fn=so.toString,Dt=wo.hasOwnProperty,xt=0,lo=function(){var l=/[^.]+$/.exec(dn&&dn.keys&&dn.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Nt=wo.toString,co=fn.call(Ze),vi=bs._,An=Ft("^"+fn.call(Dt).replace(Qa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wi=Ge?It.Buffer:t,Xr=It.Symbol,Is=It.Uint8Array,wi=Wi?Wi.allocUnsafe:t,Gs=rn(Ze.getPrototypeOf,Ze),Ji=Ze.create,mi=wo.propertyIsEnumerable,ra=po.splice,ml=Xr?Xr.isConcatSpreadable:t,id=Xr?Xr.iterator:t,Aa=Xr?Xr.toStringTag:t,Dc=function(){try{var l=cu(Ze,"defineProperty");return l({},"",{}),l}catch{}}(),Jr=It.clearTimeout!==bs.clearTimeout&&It.clearTimeout,Or=gt&&gt.now!==bs.Date.now&&gt.now,cl=It.setTimeout!==bs.setTimeout&&It.setTimeout,za=rt.ceil,ar=rt.floor,Va=Ze.getOwnPropertySymbols,na=Wi?Wi.isBuffer:t,Rr=It.isFinite,yv=po.join,bv=rn(Ze.keys,Ze),Ys=rt.max,pi=rt.min,jr=gt.now,sa=It.parseInt,lp=rt.random,qa=po.reverse,xv=cu(It,"DataView"),Qi=cu(It,"Map"),wv=cu(It,"Promise"),Xd=cu(It,"Set"),Pu=cu(It,"WeakMap"),ua=cu(Ze,"create"),Wu=Pu&&new Pu,Jd={},j0=du(xv),n_=du(Qi),s_=du(wv),i_=du(Xd),$0=du(Pu),Dn=Xr?Xr.prototype:t,Gu=Dn?Dn.valueOf:t,kv=Dn?Dn.toString:t;function ce(l){if(Ao(l)&&!no(l)&&!(l instanceof wr)){if(l instanceof Lc)return l;if(Dt.call(l,"__wrapped__"))return Df(l)}return new Lc(l)}var Mu=function(){function l(){}return function(f){if(!zt(f))return{};if(Ji)return Ji(f);l.prototype=f;var C=new l;return l.prototype=t,C}}();function Hu(){}function Lc(l,f){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=t}ce.templateSettings={escape:Za,evaluate:Xa,interpolate:sl,variable:"",imports:{_:ce}},ce.prototype=Hu.prototype,ce.prototype.constructor=ce,Lc.prototype=Mu(Hu.prototype),Lc.prototype.constructor=Lc;function wr(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=me,this.__views__=[]}function Qd(){var l=new wr(this.__wrapped__);return l.__actions__=gc(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=gc(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=gc(this.__views__),l}function r_(){if(this.__filtered__){var l=new wr(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function a_(){var l=this.__wrapped__.value(),f=this.__dir__,C=no(l),R=f<0,ee=C?l.length:0,fe=yf(0,ee,this.__views__),Fe=fe.start,Ye=fe.end,at=Ye-Fe,Xt=R?Ye:Fe-1,Jt=this.__iteratees__,ao=Jt.length,yn=0,Ss=pi(at,this.__takeCount__);if(!C||!R&&ee==at&&Ss==at)return tf(l,this.__actions__);var yi=[];e:for(;at--&&yn<Ss;){Xt+=f;for(var dr=-1,bi=l[Xt];++dr<ao;){var Er=Jt[dr],Nr=Er.iteratee,Yc=Er.type,Pc=Nr(bi);if(Yc==ie)bi=Pc;else if(!Pc){if(Yc==se)continue e;break e}}yi[yn++]=bi}return yi}wr.prototype=Mu(Hu.prototype),wr.prototype.constructor=wr;function eu(l){var f=-1,C=l==null?0:l.length;for(this.clear();++f<C;){var R=l[f];this.set(R[0],R[1])}}function $l(){this.__data__=ua?ua(null):{},this.size=0}function Wr(l){var f=this.has(l)&&delete this.__data__[l];return this.size-=f?1:0,f}function l_(l){var f=this.__data__;if(ua){var C=f[l];return C===d?t:C}return Dt.call(f,l)?f[l]:t}function c_(l){var f=this.__data__;return ua?f[l]!==t:Dt.call(f,l)}function d_(l,f){var C=this.__data__;return this.size+=this.has(l)?0:1,C[l]=ua&&f===t?d:f,this}eu.prototype.clear=$l,eu.prototype.delete=Wr,eu.prototype.get=l_,eu.prototype.has=c_,eu.prototype.set=d_;function yd(l){var f=-1,C=l==null?0:l.length;for(this.clear();++f<C;){var R=l[f];this.set(R[0],R[1])}}function uc(){this.__data__=[],this.size=0}function u_(l){var f=this.__data__,C=Ec(f,l);if(C<0)return!1;var R=f.length-1;return C==R?f.pop():ra.call(f,C,1),--this.size,!0}function v_(l){var f=this.__data__,C=Ec(f,l);return C<0?t:f[C][1]}function p_(l){return Ec(this.__data__,l)>-1}function tu(l,f){var C=this.__data__,R=Ec(C,l);return R<0?(++this.size,C.push([l,f])):C[R][1]=f,this}yd.prototype.clear=uc,yd.prototype.delete=u_,yd.prototype.get=v_,yd.prototype.has=p_,yd.prototype.set=tu;function bd(l){var f=-1,C=l==null?0:l.length;for(this.clear();++f<C;){var R=l[f];this.set(R[0],R[1])}}function f_(){this.size=0,this.__data__={hash:new eu,map:new(Qi||yd),string:new eu}}function cp(l){var f=Nv(this,l).delete(l);return this.size-=f?1:0,f}function g_(l){return Nv(this,l).get(l)}function B0(l){return Nv(this,l).has(l)}function dp(l,f){var C=Nv(this,l),R=C.size;return C.set(l,f),this.size+=C.size==R?0:1,this}bd.prototype.clear=f_,bd.prototype.delete=cp,bd.prototype.get=g_,bd.prototype.has=B0,bd.prototype.set=dp;function ou(l){var f=-1,C=l==null?0:l.length;for(this.__data__=new bd;++f<C;)this.add(l[f])}function nu(l){return this.__data__.set(l,d),this}function __(l){return this.__data__.has(l)}ou.prototype.add=ou.prototype.push=nu,ou.prototype.has=__;function zc(l){var f=this.__data__=new yd(l);this.size=f.size}function m_(){this.__data__=new yd,this.size=0}function ql(l){var f=this.__data__,C=f.delete(l);return this.size=f.size,C}function O0(l){return this.__data__.get(l)}function h_(l){return this.__data__.has(l)}function y_(l,f){var C=this.__data__;if(C instanceof yd){var R=C.__data__;if(!Qi||R.length<s-1)return R.push([l,f]),this.size=++C.size,this;C=this.__data__=new bd(R)}return C.set(l,f),this.size=C.size,this}zc.prototype.clear=m_,zc.prototype.delete=ql,zc.prototype.get=O0,zc.prototype.has=h_,zc.prototype.set=y_;function R0(l,f){var C=no(l),R=!C&&vs(l),ee=!C&&!R&&_o(l),fe=!C&&!R&&!ee&&ks(l),Fe=C||R||ee||fe,Ye=Fe?he(l.length,Pt):[],at=Ye.length;for(var Xt in l)(f||Dt.call(l,Xt))&&!(Fe&&(Xt=="length"||ee&&(Xt=="offset"||Xt=="parent")||fe&&(Xt=="buffer"||Xt=="byteLength"||Xt=="byteOffset")||Sd(Xt,at)))&&Ye.push(Xt);return Ye}function N0(l){var f=l.length;return f?l[Mv(0,f-1)]:t}function Dd(l,f){return iv(gc(l),Ld(f,0,l.length))}function Tu(l){return iv(gc(l))}function rd(l,f,C){(C!==t&&!mn(l[f],C)||C===t&&!(f in l))&&xd(l,f,C)}function kc(l,f,C){var R=l[f];(!(Dt.call(l,f)&&mn(R,C))||C===t&&!(f in l))&&xd(l,f,C)}function Ec(l,f){for(var C=l.length;C--;)if(mn(l[C][0],f))return C;return-1}function b_(l,f,C,R){return wd(l,function(ee,fe,Fe){f(R,ee,C(ee),Fe)}),R}function Uu(l,f){return l&&ad(f,fa(f),l)}function x_(l,f){return l&&ad(f,$r(f),l)}function xd(l,f,C){f=="__proto__"&&Dc?Dc(l,f,{configurable:!0,enumerable:!0,value:C,writable:!0}):l[f]=C}function up(l,f){for(var C=-1,R=f.length,ee=Q(R),fe=l==null;++C<R;)ee[C]=fe?t:ac(l,f[C]);return ee}function Ld(l,f,C){return l===l&&(C!==t&&(l=l<=C?l:C),f!==t&&(l=l>=f?l:f)),l}function Fc(l,f,C,R,ee,fe){var Fe,Ye=f&h,at=f&x,Xt=f&w;if(C&&(Fe=ee?C(l,R,ee,fe):C(l)),Fe!==t)return Fe;if(!zt(l))return l;var Jt=no(l);if(Jt){if(Fe=G_(l),!Ye)return gc(l,Fe)}else{var ao=Xl(l),yn=ao==Ue||ao==Be;if(_o(l))return B_(l,Ye);if(ao==Je||ao==He||yn&&!ee){if(Fe=at||yn?{}:$p(l),!Ye)return at?R_(l,x_(Fe,l)):O_(l,Uu(Fe,l))}else{if(!Mo[ao])return ee?l:{};Fe=H_(l,ao,Ye)}}fe||(fe=new zc);var Ss=fe.get(l);if(Ss)return Ss;fe.set(l,Fe),Gi(l)?l.forEach(function(bi){Fe.add(Fc(bi,f,C,bi,l,fe))}):ss(l)&&l.forEach(function(bi,Er){Fe.set(Er,Fc(bi,f,C,Er,l,fe))});var yi=Xt?at?Rv:Ov:at?$r:fa,dr=Jt?t:yi(l);return ii(dr||l,function(bi,Er){dr&&(Er=bi,bi=l[Er]),kc(Fe,Er,Fc(bi,f,C,Er,l,fe))}),Fe}function w_(l){var f=fa(l);return function(C){return vp(C,l,f)}}function vp(l,f,C){var R=C.length;if(l==null)return!R;for(l=Ze(l);R--;){var ee=C[R],fe=f[ee],Fe=l[ee];if(Fe===t&&!(ee in l)||!fe(Fe))return!1}return!0}function z0(l,f,C){if(typeof l!="function")throw new Yt(a);return ju(function(){l.apply(t,C)},f)}function Yu(l,f,C,R){var ee=-1,fe=Zr,Fe=!0,Ye=l.length,at=[],Xt=f.length;if(!Ye)return at;C&&(f=Ii(f,$e(C))),R?(fe=qr,Fe=!1):f.length>=s&&(fe=vt,Fe=!1,f=new ou(f));e:for(;++ee<Ye;){var Jt=l[ee],ao=C==null?Jt:C(Jt);if(Jt=R||Jt!==0?Jt:0,Fe&&ao===ao){for(var yn=Xt;yn--;)if(f[yn]===ao)continue e;at.push(Jt)}else fe(f,ao,R)||at.push(Jt)}return at}var wd=lf(vc),Ed=lf(fp,!0);function k_(l,f){var C=!0;return wd(l,function(R,ee,fe){return C=!!f(R,ee,fe),C}),C}function Ku(l,f,C){for(var R=-1,ee=l.length;++R<ee;){var fe=l[R],Fe=f(fe);if(Fe!=null&&(Ye===t?Fe===Fe&&!Pi(Fe):C(Fe,Ye)))var Ye=Fe,at=fe}return at}function su(l,f,C,R){var ee=l.length;for(C=ts(C),C<0&&(C=-C>ee?0:ee+C),R=R===t||R>ee?ee:ts(R),R<0&&(R+=ee),R=C>R?0:Fa(R);C<R;)l[C++]=f;return l}function V0(l,f){var C=[];return wd(l,function(R,ee,fe){f(R,ee,fe)&&C.push(R)}),C}function Bl(l,f,C,R,ee){var fe=-1,Fe=l.length;for(C||(C=bf),ee||(ee=[]);++fe<Fe;){var Ye=l[fe];f>0&&C(Ye)?f>1?Bl(Ye,f-1,C,R,ee):Ur(ee,Ye):R||(ee[ee.length]=Ye)}return ee}var pp=cf(),q0=cf(!0);function vc(l,f){return l&&pp(l,f,fa)}function fp(l,f){return l&&q0(l,f,fa)}function Sv(l,f){return rr(f,function(C){return Pn(l[C])})}function Sc(l,f){f=au(f,l);for(var C=0,R=f.length;l!=null&&C<R;)l=l[Wc(f[C++])];return C&&C==R?l:t}function iu(l,f,C){var R=f(l);return no(l)?R:Ur(R,C(l))}function Zl(l){return l==null?l===t?bt:Ee:Aa&&Aa in Ze(l)?hf(l):Cf(l)}function Cv(l,f){return l>f}function jc(l,f){return l!=null&&Dt.call(l,f)}function S_(l,f){return l!=null&&f in Ze(l)}function Pl(l,f,C){return l>=pi(f,C)&&l<Ys(f,C)}function gp(l,f,C){for(var R=C?qr:Zr,ee=l[0].length,fe=l.length,Fe=fe,Ye=Q(fe),at=1/0,Xt=[];Fe--;){var Jt=l[Fe];Fe&&f&&(Jt=Ii(Jt,$e(f))),at=pi(Jt.length,at),Ye[Fe]=!C&&(f||ee>=120&&Jt.length>=120)?new ou(Fe&&Jt):t}Jt=l[0];var ao=-1,yn=Ye[0];e:for(;++ao<ee&&Xt.length<at;){var Ss=Jt[ao],yi=f?f(Ss):Ss;if(Ss=C||Ss!==0?Ss:0,!(yn?vt(yn,yi):R(Xt,yi,C))){for(Fe=fe;--Fe;){var dr=Ye[Fe];if(!(dr?vt(dr,yi):R(l[Fe],yi,C)))continue e}yn&&yn.push(yi),Xt.push(Ss)}}return Xt}function W0(l,f,C,R){return vc(l,function(ee,fe,Fe){f(R,C(ee),fe,Fe)}),R}function Zu(l,f,C){f=au(f,l),l=Np(l,f);var R=l==null?l:l[Wc(Cc(f))];return R==null?t:Yo(R,l,C)}function G0(l){return Ao(l)&&Zl(l)==He}function C_(l){return Ao(l)&&Zl(l)==Kt}function Iv(l){return Ao(l)&&Zl(l)==je}function Xu(l,f,C,R,ee){return l===f?!0:l==null||f==null||!Ao(l)&&!Ao(f)?l!==l&&f!==f:I_(l,f,C,R,Xu,ee)}function I_(l,f,C,R,ee,fe){var Fe=no(l),Ye=no(f),at=Fe?it:Xl(l),Xt=Ye?it:Xl(f);at=at==He?Je:at,Xt=Xt==He?Je:Xt;var Jt=at==Je,ao=Xt==Je,yn=at==Xt;if(yn&&_o(l)){if(!_o(f))return!1;Fe=!0,Jt=!1}if(yn&&!Jt)return fe||(fe=new zc),Fe||ks(l)?Dp(l,f,C,R,ee,fe):mf(l,f,at,C,R,ee,fe);if(!(C&k)){var Ss=Jt&&Dt.call(l,"__wrapped__"),yi=ao&&Dt.call(f,"__wrapped__");if(Ss||yi){var dr=Ss?l.value():l,bi=yi?f.value():f;return fe||(fe=new zc),ee(dr,bi,C,R,fe)}}return yn?(fe||(fe=new zc),q_(l,f,C,R,ee,fe)):!1}function P_(l){return Ao(l)&&Xl(l)==le}function Vc(l,f,C,R){var ee=C.length,fe=ee,Fe=!R;if(l==null)return!fe;for(l=Ze(l);ee--;){var Ye=C[ee];if(Fe&&Ye[2]?Ye[1]!==l[Ye[0]]:!(Ye[0]in l))return!1}for(;++ee<fe;){Ye=C[ee];var at=Ye[0],Xt=l[at],Jt=Ye[1];if(Fe&&Ye[2]){if(Xt===t&&!(at in l))return!1}else{var ao=new zc;if(R)var yn=R(Xt,Jt,at,l,f,ao);if(!(yn===t?Xu(Jt,Xt,k|S,R,ao):yn))return!1}}return!0}function _p(l){if(!zt(l)||wf(l))return!1;var f=Pn(l)?An:el;return f.test(du(l))}function M_(l){return Ao(l)&&Zl(l)==H}function T_(l){return Ao(l)&&Xl(l)==Ce}function kd(l){return Ao(l)&&Io(l.length)&&!!Lo[Zl(l)]}function H0(l){return typeof l=="function"?l:l==null?$c:typeof l=="object"?no(l)?Au(l[0],l[1]):Y0(l):Uh(l)}function mp(l){if(!Fu(l))return bv(l);var f=[];for(var C in Ze(l))Dt.call(l,C)&&C!="constructor"&&f.push(C);return f}function qc(l){if(!zt(l))return Z_(l);var f=Fu(l),C=[];for(var R in l)R=="constructor"&&(f||!Dt.call(l,R))||C.push(R);return C}function Da(l,f){return l<f}function U0(l,f){var C=-1,R=In(l)?Q(l.length):[];return wd(l,function(ee,fe,Fe){R[++C]=f(ee,fe,Fe)}),R}function Y0(l){var f=zv(l);return f.length==1&&f[0][2]?Rp(f[0][0],f[0][1]):function(C){return C===l||Vc(C,l,f)}}function Au(l,f){return Bp(l)&&kf(f)?Rp(Wc(l),f):function(C){var R=ac(C,l);return R===t&&R===f?dd(C,l):Xu(f,R,k|S)}}function Pv(l,f,C,R,ee){l!==f&&pp(f,function(fe,Fe){if(ee||(ee=new zc),zt(fe))A_(l,f,Fe,C,Pv,R,ee);else{var Ye=R?R(Vv(l,Fe),fe,Fe+"",l,f,ee):t;Ye===t&&(Ye=fe),rd(l,Fe,Ye)}},$r)}function A_(l,f,C,R,ee,fe,Fe){var Ye=Vv(l,C),at=Vv(f,C),Xt=Fe.get(at);if(Xt){rd(l,C,Xt);return}var Jt=fe?fe(Ye,at,C+"",l,f,Fe):t,ao=Jt===t;if(ao){var yn=no(at),Ss=!yn&&_o(at),yi=!yn&&!Ss&&ks(at);Jt=at,yn||Ss||yi?no(Ye)?Jt=Ye:Oo(Ye)?Jt=gc(Ye):Ss?(ao=!1,Jt=B_(at,!0)):yi?(ao=!1,Jt=tv(at,!0)):Jt=[]:gi(at)||vs(at)?(Jt=Ye,vs(Ye)?Jt=Ha(Ye):(!zt(Ye)||Pn(Ye))&&(Jt=$p(at))):ao=!1}ao&&(Fe.set(at,Jt),ee(Jt,at,R,fe,Fe),Fe.delete(at)),rd(l,C,Jt)}function K0(l,f){var C=l.length;if(C)return f+=f<0?C:0,Sd(f,C)?l[f]:t}function hp(l,f,C){f.length?f=Ii(f,function(fe){return no(fe)?function(Fe){return Sc(Fe,fe.length===1?fe[0]:fe)}:fe}):f=[$c];var R=-1;f=Ii(f,$e(Ks()));var ee=U0(l,function(fe,Fe,Ye){var at=Ii(f,function(Xt){return Xt(fe)});return{criteria:at,index:++R,value:fe}});return W(ee,function(fe,Fe){return Ev(fe,Fe,C)})}function Z0(l,f){return ru(l,f,function(C,R){return dd(l,R)})}function ru(l,f,C){for(var R=-1,ee=f.length,fe={};++R<ee;){var Fe=f[R],Ye=Sc(l,Fe);C(Ye,Fe)&&Qu(fe,au(Fe,l),Ye)}return fe}function D_(l){return function(f){return Sc(f,l)}}function yp(l,f,C,R){var ee=R?Il:Cl,fe=-1,Fe=f.length,Ye=l;for(l===f&&(f=gc(f)),C&&(Ye=Ii(l,$e(C)));++fe<Fe;)for(var at=0,Xt=f[fe],Jt=C?C(Xt):Xt;(at=ee(Ye,Jt,at,R))>-1;)Ye!==l&&ra.call(Ye,at,1),ra.call(l,at,1);return l}function Ju(l,f){for(var C=l?f.length:0,R=C-1;C--;){var ee=f[C];if(C==R||ee!==fe){var fe=ee;Sd(ee)?ra.call(l,ee,1):Sp(l,ee)}}return l}function Mv(l,f){return l+ar(lp()*(f-l+1))}function bp(l,f,C,R){for(var ee=-1,fe=Ys(za((f-l)/(C||1)),0),Fe=Q(fe);fe--;)Fe[R?fe:++ee]=l,l+=C;return Fe}function xp(l,f){var C="";if(!l||f<1||f>J)return C;do f%2&&(C+=l),f=ar(f/2),f&&(l+=l);while(f);return C}function Oi(l,f){return zp(If(l,f,$c),l+"")}function wp(l){return N0(Rd(l))}function kp(l,f){var C=Rd(l);return iv(C,Ld(f,0,C.length))}function Qu(l,f,C,R){if(!zt(l))return l;f=au(f,l);for(var ee=-1,fe=f.length,Fe=fe-1,Ye=l;Ye!=null&&++ee<fe;){var at=Wc(f[ee]),Xt=C;if(at==="__proto__"||at==="constructor"||at==="prototype")return l;if(ee!=Fe){var Jt=Ye[at];Xt=R?R(Jt,at,Ye):t,Xt===t&&(Xt=zt(Jt)?Jt:Sd(f[ee+1])?[]:{})}kc(Ye,at,Xt),Ye=Ye[at]}return l}var X0=Wu?function(l,f){return Wu.set(l,f),l}:$c,L_=Dc?function(l,f){return Dc(l,"toString",{configurable:!0,enumerable:!1,value:lv(f),writable:!0})}:$c;function E_(l){return iv(Rd(l))}function pc(l,f,C){var R=-1,ee=l.length;f<0&&(f=-f>ee?0:ee+f),C=C>ee?ee:C,C<0&&(C+=ee),ee=f>C?0:C-f>>>0,f>>>=0;for(var fe=Q(ee);++R<ee;)fe[R]=l[R+f];return fe}function F_(l,f){var C;return wd(l,function(R,ee,fe){return C=f(R,ee,fe),!C}),!!C}function ev(l,f,C){var R=0,ee=l==null?R:l.length;if(typeof f=="number"&&f===f&&ee<=Ae){for(;R<ee;){var fe=R+ee>>>1,Fe=l[fe];Fe!==null&&!Pi(Fe)&&(C?Fe<=f:Fe<f)?R=fe+1:ee=fe}return ee}return Tv(l,f,$c,C)}function Tv(l,f,C,R){var ee=0,fe=l==null?0:l.length;if(fe===0)return 0;f=C(f);for(var Fe=f!==f,Ye=f===null,at=Pi(f),Xt=f===t;ee<fe;){var Jt=ar((ee+fe)/2),ao=C(l[Jt]),yn=ao!==t,Ss=ao===null,yi=ao===ao,dr=Pi(ao);if(Fe)var bi=R||yi;else Xt?bi=yi&&(R||yn):Ye?bi=yi&&yn&&(R||!Ss):at?bi=yi&&yn&&!Ss&&(R||!dr):Ss||dr?bi=!1:bi=R?ao<=f:ao<f;bi?ee=Jt+1:fe=Jt}return pi(fe,ke)}function J0(l,f){for(var C=-1,R=l.length,ee=0,fe=[];++C<R;){var Fe=l[C],Ye=f?f(Fe):Fe;if(!C||!mn(Ye,at)){var at=Ye;fe[ee++]=Fe===0?0:Fe}}return fe}function Q0(l){return typeof l=="number"?l:Pi(l)?ae:+l}function fc(l){if(typeof l=="string")return l;if(no(l))return Ii(l,fc)+"";if(Pi(l))return kv?kv.call(l):"";var f=l+"";return f=="0"&&1/l==-K?"-0":f}function Fd(l,f,C){var R=-1,ee=Zr,fe=l.length,Fe=!0,Ye=[],at=Ye;if(C)Fe=!1,ee=qr;else if(fe>=s){var Xt=f?null:ff(l);if(Xt)return Zo(Xt);Fe=!1,ee=vt,at=new ou}else at=f?[]:Ye;e:for(;++R<fe;){var Jt=l[R],ao=f?f(Jt):Jt;if(Jt=C||Jt!==0?Jt:0,Fe&&ao===ao){for(var yn=at.length;yn--;)if(at[yn]===ao)continue e;f&&at.push(ao),Ye.push(Jt)}else ee(at,ao,C)||(at!==Ye&&at.push(ao),Ye.push(Jt))}return Ye}function Sp(l,f){return f=au(f,l),l=Np(l,f),l==null||delete l[Wc(Cc(f))]}function ef(l,f,C,R){return Qu(l,f,C(Sc(l,f)),R)}function Av(l,f,C,R){for(var ee=l.length,fe=R?ee:-1;(R?fe--:++fe<ee)&&f(l[fe],fe,l););return C?pc(l,R?0:fe,R?fe+1:ee):pc(l,R?fe+1:0,R?ee:fe)}function tf(l,f){var C=l;return C instanceof wr&&(C=C.value()),_a(f,function(R,ee){return ee.func.apply(ee.thisArg,Ur([R],ee.args))},C)}function Cp(l,f,C){var R=l.length;if(R<2)return R?Fd(l[0]):[];for(var ee=-1,fe=Q(R);++ee<R;)for(var Fe=l[ee],Ye=-1;++Ye<R;)Ye!=ee&&(fe[ee]=Yu(fe[ee]||Fe,l[Ye],f,C));return Fd(Bl(fe,1),f,C)}function j_(l,f,C){for(var R=-1,ee=l.length,fe=f.length,Fe={};++R<ee;){var Ye=R<fe?f[R]:t;C(Fe,l[R],Ye)}return Fe}function of(l){return Oo(l)?l:[]}function nf(l){return typeof l=="function"?l:$c}function au(l,f){return no(l)?l:Bp(l,f)?[l]:Tf(ri(l))}var Gh=Oi;function lu(l,f,C){var R=l.length;return C=C===t?R:C,!f&&C>=R?l:pc(l,f,C)}var $_=Jr||function(l){return bs.clearTimeout(l)};function B_(l,f){if(f)return l.slice();var C=l.length,R=wi?wi(C):new l.constructor(C);return l.copy(R),R}function sf(l){var f=new l.constructor(l.byteLength);return new Is(f).set(new Is(l)),f}function Hh(l,f){var C=f?sf(l.buffer):l.buffer;return new l.constructor(C,l.byteOffset,l.byteLength)}function Dv(l){var f=new l.constructor(l.source,Gr.exec(l));return f.lastIndex=l.lastIndex,f}function Lv(l){return Gu?Ze(Gu.call(l)):{}}function tv(l,f){var C=f?sf(l.buffer):l.buffer;return new l.constructor(C,l.byteOffset,l.length)}function ov(l,f){if(l!==f){var C=l!==t,R=l===null,ee=l===l,fe=Pi(l),Fe=f!==t,Ye=f===null,at=f===f,Xt=Pi(f);if(!Ye&&!Xt&&!fe&&l>f||fe&&Fe&&at&&!Ye&&!Xt||R&&Fe&&at||!C&&at||!ee)return 1;if(!R&&!fe&&!Xt&&l<f||Xt&&C&&ee&&!R&&!fe||Ye&&C&&ee||!Fe&&ee||!at)return-1}return 0}function Ev(l,f,C){for(var R=-1,ee=l.criteria,fe=f.criteria,Fe=ee.length,Ye=C.length;++R<Fe;){var at=ov(ee[R],fe[R]);if(at){if(R>=Ye)return at;var Xt=C[R];return at*(Xt=="desc"?-1:1)}}return l.index-f.index}function rf(l,f,C,R){for(var ee=-1,fe=l.length,Fe=C.length,Ye=-1,at=f.length,Xt=Ys(fe-Fe,0),Jt=Q(at+Xt),ao=!R;++Ye<at;)Jt[Ye]=f[Ye];for(;++ee<Fe;)(ao||ee<fe)&&(Jt[C[ee]]=l[ee]);for(;Xt--;)Jt[Ye++]=l[ee++];return Jt}function af(l,f,C,R){for(var ee=-1,fe=l.length,Fe=-1,Ye=C.length,at=-1,Xt=f.length,Jt=Ys(fe-Ye,0),ao=Q(Jt+Xt),yn=!R;++ee<Jt;)ao[ee]=l[ee];for(var Ss=ee;++at<Xt;)ao[Ss+at]=f[at];for(;++Fe<Ye;)(yn||ee<fe)&&(ao[Ss+C[Fe]]=l[ee++]);return ao}function gc(l,f){var C=-1,R=l.length;for(f||(f=Q(R));++C<R;)f[C]=l[C];return f}function ad(l,f,C,R){var ee=!C;C||(C={});for(var fe=-1,Fe=f.length;++fe<Fe;){var Ye=f[fe],at=R?R(C[Ye],l[Ye],Ye,C,l):t;at===t&&(at=l[Ye]),ee?xd(C,Ye,at):kc(C,Ye,at)}return C}function O_(l,f){return ad(l,Ep(l),f)}function R_(l,f){return ad(l,Fp(l),f)}function Fv(l,f){return function(C,R){var ee=no(C)?vn:b_,fe=f?f():{};return ee(C,l,Ks(R,2),fe)}}function Du(l){return Oi(function(f,C){var R=-1,ee=C.length,fe=ee>1?C[ee-1]:t,Fe=ee>2?C[2]:t;for(fe=l.length>3&&typeof fe=="function"?(ee--,fe):t,Fe&&Jl(C[0],C[1],Fe)&&(fe=ee<3?t:fe,ee=1),f=Ze(f);++R<ee;){var Ye=C[R];Ye&&l(f,Ye,R,fe)}return f})}function lf(l,f){return function(C,R){if(C==null)return C;if(!In(C))return l(C,R);for(var ee=C.length,fe=f?ee:-1,Fe=Ze(C);(f?fe--:++fe<ee)&&R(Fe[fe],fe,Fe)!==!1;);return C}}function cf(l){return function(f,C,R){for(var ee=-1,fe=Ze(f),Fe=R(f),Ye=Fe.length;Ye--;){var at=Fe[l?Ye:++ee];if(C(fe[at],at,fe)===!1)break}return f}}function N_(l,f,C){var R=f&M,ee=jd(l);function fe(){var Fe=this&&this!==bs&&this instanceof fe?ee:l;return Fe.apply(R?C:this,arguments)}return fe}function df(l){return function(f){f=ri(f);var C=Ko(f)?Ct(f):t,R=C?C[0]:f.charAt(0),ee=C?lu(C,1).join(""):f.slice(1);return R[l]()+ee}}function Lu(l){return function(f){return _a(Uv(Xp(f).replace(ge,"")),l,"")}}function jd(l){return function(){var f=arguments;switch(f.length){case 0:return new l;case 1:return new l(f[0]);case 2:return new l(f[0],f[1]);case 3:return new l(f[0],f[1],f[2]);case 4:return new l(f[0],f[1],f[2],f[3]);case 5:return new l(f[0],f[1],f[2],f[3],f[4]);case 6:return new l(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new l(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var C=Mu(l.prototype),R=l.apply(C,f);return zt(R)?R:C}}function $d(l,f,C){var R=jd(l);function ee(){for(var fe=arguments.length,Fe=Q(fe),Ye=fe,at=Eu(ee);Ye--;)Fe[Ye]=arguments[Ye];var Xt=fe<3&&Fe[0]!==at&&Fe[fe-1]!==at?[]:Ms(Fe,at);if(fe-=Xt.length,fe<C)return Mp(l,f,jv,ee.placeholder,t,Fe,Xt,t,t,C-fe);var Jt=this&&this!==bs&&this instanceof ee?R:l;return Yo(Jt,this,Fe)}return ee}function uf(l){return function(f,C,R){var ee=Ze(f);if(!In(f)){var fe=Ks(C,3);f=fa(f),C=function(Ye){return fe(ee[Ye],Ye,ee)}}var Fe=l(f,C,R);return Fe>-1?ee[fe?f[Fe]:Fe]:t}}function vf(l){return cd(function(f){var C=f.length,R=C,ee=Lc.prototype.thru;for(l&&f.reverse();R--;){var fe=f[R];if(typeof fe!="function")throw new Yt(a);if(ee&&!Fe&&sv(fe)=="wrapper")var Fe=new Lc([],!0)}for(R=Fe?R:C;++R<C;){fe=f[R];var Ye=sv(fe),at=Ye=="wrapper"?Lp(fe):t;at&&Op(at[0])&&at[1]==(B|A|F|O)&&!at[4].length&&at[9]==1?Fe=Fe[sv(at[0])].apply(Fe,at[3]):Fe=fe.length==1&&Op(fe)?Fe[Ye]():Fe.thru(fe)}return function(){var Xt=arguments,Jt=Xt[0];if(Fe&&Xt.length==1&&no(Jt))return Fe.plant(Jt).value();for(var ao=0,yn=C?f[ao].apply(this,Xt):Jt;++ao<C;)yn=f[ao].call(this,yn);return yn}})}function jv(l,f,C,R,ee,fe,Fe,Ye,at,Xt){var Jt=f&B,ao=f&M,yn=f&T,Ss=f&(A|j),yi=f&z,dr=yn?t:jd(l);function bi(){for(var Er=arguments.length,Nr=Q(Er),Yc=Er;Yc--;)Nr[Yc]=arguments[Yc];if(Ss)var Pc=Eu(bi),Kc=kt(Nr,Pc);if(R&&(Nr=rf(Nr,R,ee,Ss)),fe&&(Nr=af(Nr,fe,Fe,Ss)),Er-=Kc,Ss&&Er<Xt){var Ml=Ms(Nr,Pc);return Mp(l,f,jv,bi.placeholder,C,Nr,Ml,Ye,at,Xt-Er)}var Id=ao?C:this,fu=yn?Id[l]:l;return Er=Nr.length,Ye?Nr=X_(Nr,Ye):yi&&Er>1&&Nr.reverse(),Jt&&at<Er&&(Nr.length=at),this&&this!==bs&&this instanceof bi&&(fu=dr||jd(fu)),fu.apply(Id,Nr)}return bi}function pf(l,f){return function(C,R){return W0(C,l,f(R),{})}}function $v(l,f){return function(C,R){var ee;if(C===t&&R===t)return f;if(C!==t&&(ee=C),R!==t){if(ee===t)return R;typeof C=="string"||typeof R=="string"?(C=fc(C),R=fc(R)):(C=Q0(C),R=Q0(R)),ee=l(C,R)}return ee}}function Ip(l){return cd(function(f){return f=Ii(f,$e(Ks())),Oi(function(C){var R=this;return l(f,function(ee){return Yo(ee,R,C)})})})}function Bv(l,f){f=f===t?" ":fc(f);var C=f.length;if(C<2)return C?xp(f,l):f;var R=xp(f,za(l/pe(f)));return Ko(f)?lu(Ct(R),0,l).join(""):R.slice(0,l)}function z_(l,f,C,R){var ee=f&M,fe=jd(l);function Fe(){for(var Ye=-1,at=arguments.length,Xt=-1,Jt=R.length,ao=Q(Jt+at),yn=this&&this!==bs&&this instanceof Fe?fe:l;++Xt<Jt;)ao[Xt]=R[Xt];for(;at--;)ao[Xt++]=arguments[++Ye];return Yo(yn,ee?C:this,ao)}return Fe}function Pp(l){return function(f,C,R){return R&&typeof R!="number"&&Jl(f,C,R)&&(C=R=t),f=Sr(f),C===t?(C=f,f=0):C=Sr(C),R=R===t?f<C?1:-1:Sr(R),bp(f,C,R,l)}}function nv(l){return function(f,C){return typeof f=="string"&&typeof C=="string"||(f=Cr(f),C=Cr(C)),l(f,C)}}function Mp(l,f,C,R,ee,fe,Fe,Ye,at,Xt){var Jt=f&A,ao=Jt?Fe:t,yn=Jt?t:Fe,Ss=Jt?fe:t,yi=Jt?t:fe;f|=Jt?F:q,f&=~(Jt?q:F),f&D||(f&=~(M|T));var dr=[l,f,ee,Ss,ao,yi,yn,Ye,at,Xt],bi=C.apply(t,dr);return Op(l)&&Pf(bi,dr),bi.placeholder=R,Vp(bi,l,f)}function Tp(l){var f=rt[l];return function(C,R){if(C=Cr(C),R=R==null?0:pi(ts(R),292),R&&Rr(C)){var ee=(ri(C)+"e").split("e"),fe=f(ee[0]+"e"+(+ee[1]+R));return ee=(ri(fe)+"e").split("e"),+(ee[0]+"e"+(+ee[1]-R))}return f(C)}}var ff=Xd&&1/Zo(new Xd([,-0]))[1]==K?function(l){return new Xd(l)}:Sm;function gf(l){return function(f){var C=Xl(f);return C==le?bn(f):C==Ce?Cs(f):Me(f,l(f))}}function ld(l,f,C,R,ee,fe,Fe,Ye){var at=f&T;if(!at&&typeof l!="function")throw new Yt(a);var Xt=R?R.length:0;if(Xt||(f&=~(F|q),R=ee=t),Fe=Fe===t?Fe:Ys(ts(Fe),0),Ye=Ye===t?Ye:ts(Ye),Xt-=ee?ee.length:0,f&q){var Jt=R,ao=ee;R=ee=t}var yn=at?t:Lp(l),Ss=[l,f,C,R,ee,Jt,ao,fe,Fe,Ye];if(yn&&Sf(Ss,yn),l=Ss[0],f=Ss[1],C=Ss[2],R=Ss[3],ee=Ss[4],Ye=Ss[9]=Ss[9]===t?at?0:l.length:Ys(Ss[9]-Xt,0),!Ye&&f&(A|j)&&(f&=~(A|j)),!f||f==M)var yi=N_(l,f,C);else f==A||f==j?yi=$d(l,f,Ye):(f==F||f==(M|F))&&!ee.length?yi=z_(l,f,C,R):yi=jv.apply(t,Ss);var dr=yn?X0:Pf;return Vp(dr(yi,Ss),l,f)}function _f(l,f,C,R){return l===t||mn(l,wo[C])&&!Dt.call(R,C)?f:l}function Ap(l,f,C,R,ee,fe){return zt(l)&&zt(f)&&(fe.set(f,l),Pv(l,f,t,Ap,fe),fe.delete(f)),l}function V_(l){return gi(l)?t:l}function Dp(l,f,C,R,ee,fe){var Fe=C&k,Ye=l.length,at=f.length;if(Ye!=at&&!(Fe&&at>Ye))return!1;var Xt=fe.get(l),Jt=fe.get(f);if(Xt&&Jt)return Xt==f&&Jt==l;var ao=-1,yn=!0,Ss=C&S?new ou:t;for(fe.set(l,f),fe.set(f,l);++ao<Ye;){var yi=l[ao],dr=f[ao];if(R)var bi=Fe?R(dr,yi,ao,f,l,fe):R(yi,dr,ao,l,f,fe);if(bi!==t){if(bi)continue;yn=!1;break}if(Ss){if(!kl(f,function(Er,Nr){if(!vt(Ss,Nr)&&(yi===Er||ee(yi,Er,C,R,fe)))return Ss.push(Nr)})){yn=!1;break}}else if(!(yi===dr||ee(yi,dr,C,R,fe))){yn=!1;break}}return fe.delete(l),fe.delete(f),yn}function mf(l,f,C,R,ee,fe,Fe){switch(C){case to:if(l.byteLength!=f.byteLength||l.byteOffset!=f.byteOffset)return!1;l=l.buffer,f=f.buffer;case Kt:return!(l.byteLength!=f.byteLength||!fe(new Is(l),new Is(f)));case we:case je:case ye:return mn(+l,+f);case Se:return l.name==f.name&&l.message==f.message;case H:case Qe:return l==f+"";case le:var Ye=bn;case Ce:var at=R&k;if(Ye||(Ye=Zo),l.size!=f.size&&!at)return!1;var Xt=Fe.get(l);if(Xt)return Xt==f;R|=S,Fe.set(l,f);var Jt=Dp(Ye(l),Ye(f),R,ee,fe,Fe);return Fe.delete(l),Jt;case mt:if(Gu)return Gu.call(l)==Gu.call(f)}return!1}function q_(l,f,C,R,ee,fe){var Fe=C&k,Ye=Ov(l),at=Ye.length,Xt=Ov(f),Jt=Xt.length;if(at!=Jt&&!Fe)return!1;for(var ao=at;ao--;){var yn=Ye[ao];if(!(Fe?yn in f:Dt.call(f,yn)))return!1}var Ss=fe.get(l),yi=fe.get(f);if(Ss&&yi)return Ss==f&&yi==l;var dr=!0;fe.set(l,f),fe.set(f,l);for(var bi=Fe;++ao<at;){yn=Ye[ao];var Er=l[yn],Nr=f[yn];if(R)var Yc=Fe?R(Nr,Er,yn,f,l,fe):R(Er,Nr,yn,l,f,fe);if(!(Yc===t?Er===Nr||ee(Er,Nr,C,R,fe):Yc)){dr=!1;break}bi||(bi=yn=="constructor")}if(dr&&!bi){var Pc=l.constructor,Kc=f.constructor;Pc!=Kc&&"constructor"in l&&"constructor"in f&&!(typeof Pc=="function"&&Pc instanceof Pc&&typeof Kc=="function"&&Kc instanceof Kc)&&(dr=!1)}return fe.delete(l),fe.delete(f),dr}function cd(l){return zp(If(l,t,Wp),l+"")}function Ov(l){return iu(l,fa,Ep)}function Rv(l){return iu(l,$r,Fp)}var Lp=Wu?function(l){return Wu.get(l)}:Sm;function sv(l){for(var f=l.name+"",C=Jd[f],R=Dt.call(Jd,f)?C.length:0;R--;){var ee=C[R],fe=ee.func;if(fe==null||fe==l)return ee.name}return f}function Eu(l){var f=Dt.call(ce,"placeholder")?ce:l;return f.placeholder}function Ks(){var l=ce.iteratee||wm;return l=l===wm?H0:l,arguments.length?l(arguments[0],arguments[1]):l}function Nv(l,f){var C=l.__data__;return xf(f)?C[typeof f=="string"?"string":"hash"]:C.map}function zv(l){for(var f=fa(l),C=f.length;C--;){var R=f[C],ee=l[R];f[C]=[R,ee,kf(ee)]}return f}function cu(l,f){var C=oo(l,f);return _p(C)?C:t}function hf(l){var f=Dt.call(l,Aa),C=l[Aa];try{l[Aa]=t;var R=!0}catch{}var ee=Nt.call(l);return R&&(f?l[Aa]=C:delete l[Aa]),ee}var Ep=Va?function(l){return l==null?[]:(l=Ze(l),rr(Va(l),function(f){return mi.call(l,f)}))}:Cm,Fp=Va?function(l){for(var f=[];l;)Ur(f,Ep(l)),l=Gs(l);return f}:Cm,Xl=Zl;(xv&&Xl(new xv(new ArrayBuffer(1)))!=to||Qi&&Xl(new Qi)!=le||wv&&Xl(wv.resolve())!=be||Xd&&Xl(new Xd)!=Ce||Pu&&Xl(new Pu)!=ct)&&(Xl=function(l){var f=Zl(l),C=f==Je?l.constructor:t,R=C?du(C):"";if(R)switch(R){case j0:return to;case n_:return le;case s_:return be;case i_:return Ce;case $0:return ct}return f});function yf(l,f,C){for(var R=-1,ee=C.length;++R<ee;){var fe=C[R],Fe=fe.size;switch(fe.type){case"drop":l+=Fe;break;case"dropRight":f-=Fe;break;case"take":f=pi(f,l+Fe);break;case"takeRight":l=Ys(l,f-Fe);break}}return{start:l,end:f}}function W_(l){var f=l.match(fl);return f?f[1].split(bl):[]}function jp(l,f,C){f=au(f,l);for(var R=-1,ee=f.length,fe=!1;++R<ee;){var Fe=Wc(f[R]);if(!(fe=l!=null&&C(l,Fe)))break;l=l[Fe]}return fe||++R!=ee?fe:(ee=l==null?0:l.length,!!ee&&Io(ee)&&Sd(Fe,ee)&&(no(l)||vs(l)))}function G_(l){var f=l.length,C=new l.constructor(f);return f&&typeof l[0]=="string"&&Dt.call(l,"index")&&(C.index=l.index,C.input=l.input),C}function $p(l){return typeof l.constructor=="function"&&!Fu(l)?Mu(Gs(l)):{}}function H_(l,f,C){var R=l.constructor;switch(f){case Kt:return sf(l);case we:case je:return new R(+l);case to:return Hh(l,C);case io:case ro:case Uo:case an:case Mn:case uo:case Do:case Zt:case Go:return tv(l,C);case le:return new R;case ye:case Qe:return new R(l);case H:return Dv(l);case Ce:return new R;case mt:return Lv(l)}}function U_(l,f){var C=f.length;if(!C)return l;var R=C-1;return f[R]=(C>1?"& ":"")+f[R],f=f.join(C>2?", ":" "),l.replace(oa,`{
/* [wrapped with `+f+`] */
`)}function bf(l){return no(l)||vs(l)||!!(ml&&l&&l[ml])}function Sd(l,f){var C=typeof l;return f=f??J,!!f&&(C=="number"||C!="symbol"&&Ba.test(l))&&l>-1&&l%1==0&&l<f}function Jl(l,f,C){if(!zt(C))return!1;var R=typeof f;return(R=="number"?In(C)&&Sd(f,C.length):R=="string"&&f in C)?mn(C[f],l):!1}function Bp(l,f){if(no(l))return!1;var C=typeof l;return C=="number"||C=="symbol"||C=="boolean"||l==null||Pi(l)?!0:pl.test(l)||!Ja.test(l)||f!=null&&l in Ze(f)}function xf(l){var f=typeof l;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?l!=="__proto__":l===null}function Op(l){var f=sv(l),C=ce[f];if(typeof C!="function"||!(f in wr.prototype))return!1;if(l===C)return!0;var R=Lp(C);return!!R&&l===R[0]}function wf(l){return!!lo&&lo in l}var Y_=dn?Pn:Im;function Fu(l){var f=l&&l.constructor,C=typeof f=="function"&&f.prototype||wo;return l===C}function kf(l){return l===l&&!zt(l)}function Rp(l,f){return function(C){return C==null?!1:C[l]===f&&(f!==t||l in Ze(C))}}function K_(l){var f=Jn(l,function(R){return C.size===u&&C.clear(),R}),C=f.cache;return f}function Sf(l,f){var C=l[1],R=f[1],ee=C|R,fe=ee<(M|T|B),Fe=R==B&&C==A||R==B&&C==O&&l[7].length<=f[8]||R==(B|O)&&f[7].length<=f[8]&&C==A;if(!(fe||Fe))return l;R&M&&(l[2]=f[2],ee|=C&M?0:D);var Ye=f[3];if(Ye){var at=l[3];l[3]=at?rf(at,Ye,f[4]):Ye,l[4]=at?Ms(l[3],p):f[4]}return Ye=f[5],Ye&&(at=l[5],l[5]=at?af(at,Ye,f[6]):Ye,l[6]=at?Ms(l[5],p):f[6]),Ye=f[7],Ye&&(l[7]=Ye),R&B&&(l[8]=l[8]==null?f[8]:pi(l[8],f[8])),l[9]==null&&(l[9]=f[9]),l[0]=f[0],l[1]=ee,l}function Z_(l){var f=[];if(l!=null)for(var C in Ze(l))f.push(C);return f}function Cf(l){return Nt.call(l)}function If(l,f,C){return f=Ys(f===t?l.length-1:f,0),function(){for(var R=arguments,ee=-1,fe=Ys(R.length-f,0),Fe=Q(fe);++ee<fe;)Fe[ee]=R[f+ee];ee=-1;for(var Ye=Q(f+1);++ee<f;)Ye[ee]=R[ee];return Ye[f]=C(Fe),Yo(l,this,Ye)}}function Np(l,f){return f.length<2?l:Sc(l,pc(f,0,-1))}function X_(l,f){for(var C=l.length,R=pi(f.length,C),ee=gc(l);R--;){var fe=f[R];l[R]=Sd(fe,C)?ee[fe]:t}return l}function Vv(l,f){if(!(f==="constructor"&&typeof l[f]=="function")&&f!="__proto__")return l[f]}var Pf=Mf(X0),ju=cl||function(l,f){return bs.setTimeout(l,f)},zp=Mf(L_);function Vp(l,f,C){var R=f+"";return zp(l,U_(R,Af(W_(R),C)))}function Mf(l){var f=0,C=0;return function(){var R=jr(),ee=re-(R-C);if(C=R,ee>0){if(++f>=oe)return arguments[0]}else f=0;return l.apply(t,arguments)}}function iv(l,f){var C=-1,R=l.length,ee=R-1;for(f=f===t?R:f;++C<f;){var fe=Mv(C,ee),Fe=l[fe];l[fe]=l[C],l[C]=Fe}return l.length=f,l}var Tf=K_(function(l){var f=[];return l.charCodeAt(0)===46&&f.push(""),l.replace(il,function(C,R,ee,fe){f.push(ee?fe.replace(al,"$1"):R||C)}),f});function Wc(l){if(typeof l=="string"||Pi(l))return l;var f=l+"";return f=="0"&&1/l==-K?"-0":f}function du(l){if(l!=null){try{return fn.call(l)}catch{}try{return l+""}catch{}}return""}function Af(l,f){return ii(Le,function(C){var R="_."+C[0];f&C[1]&&!Zr(l,R)&&l.push(R)}),l.sort()}function Df(l){if(l instanceof wr)return l.clone();var f=new Lc(l.__wrapped__,l.__chain__);return f.__actions__=gc(l.__actions__),f.__index__=l.__index__,f.__values__=l.__values__,f}function Lf(l,f,C){(C?Jl(l,f,C):f===t)?f=1:f=Ys(ts(f),0);var R=l==null?0:l.length;if(!R||f<1)return[];for(var ee=0,fe=0,Fe=Q(za(R/f));ee<R;)Fe[fe++]=pc(l,ee,ee+=f);return Fe}function J_(l){for(var f=-1,C=l==null?0:l.length,R=0,ee=[];++f<C;){var fe=l[f];fe&&(ee[R++]=fe)}return ee}function Ef(){var l=arguments.length;if(!l)return[];for(var f=Q(l-1),C=arguments[0],R=l;R--;)f[R-1]=arguments[R];return Ur(no(C)?gc(C):[C],Bl(f,1))}var Q_=Oi(function(l,f){return Oo(l)?Yu(l,Bl(f,1,Oo,!0)):[]}),Ff=Oi(function(l,f){var C=Cc(f);return Oo(C)&&(C=t),Oo(l)?Yu(l,Bl(f,1,Oo,!0),Ks(C,2)):[]}),em=Oi(function(l,f){var C=Cc(f);return Oo(C)&&(C=t),Oo(l)?Yu(l,Bl(f,1,Oo,!0),t,C):[]});function jf(l,f,C){var R=l==null?0:l.length;return R?(f=C||f===t?1:ts(f),pc(l,f<0?0:f,R)):[]}function tm(l,f,C){var R=l==null?0:l.length;return R?(f=C||f===t?1:ts(f),f=R-f,pc(l,0,f<0?0:f)):[]}function $f(l,f){return l&&l.length?Av(l,Ks(f,3),!0,!0):[]}function om(l,f){return l&&l.length?Av(l,Ks(f,3),!0):[]}function Bf(l,f,C,R){var ee=l==null?0:l.length;return ee?(C&&typeof C!="number"&&Jl(l,f,C)&&(C=0,R=ee),su(l,f,C,R)):[]}function Of(l,f,C){var R=l==null?0:l.length;if(!R)return-1;var ee=C==null?0:ts(C);return ee<0&&(ee=Ys(R+ee,0)),Sl(l,Ks(f,3),ee)}function qp(l,f,C){var R=l==null?0:l.length;if(!R)return-1;var ee=R-1;return C!==t&&(ee=ts(C),ee=C<0?Ys(R+ee,0):pi(ee,R-1)),Sl(l,Ks(f,3),ee,!0)}function Wp(l){var f=l==null?0:l.length;return f?Bl(l,1):[]}function Rf(l){var f=l==null?0:l.length;return f?Bl(l,K):[]}function Nf(l,f){var C=l==null?0:l.length;return C?(f=f===t?1:ts(f),Bl(l,f)):[]}function zf(l){for(var f=-1,C=l==null?0:l.length,R={};++f<C;){var ee=l[f];R[ee[0]]=ee[1]}return R}function Vf(l){return l&&l.length?l[0]:t}function qf(l,f,C){var R=l==null?0:l.length;if(!R)return-1;var ee=C==null?0:ts(C);return ee<0&&(ee=Ys(R+ee,0)),Cl(l,f,ee)}function nm(l){var f=l==null?0:l.length;return f?pc(l,0,-1):[]}var Wf=Oi(function(l){var f=Ii(l,of);return f.length&&f[0]===l[0]?gp(f):[]}),sm=Oi(function(l){var f=Cc(l),C=Ii(l,of);return f===Cc(C)?f=t:C.pop(),C.length&&C[0]===l[0]?gp(C,Ks(f,2)):[]}),Gf=Oi(function(l){var f=Cc(l),C=Ii(l,of);return f=typeof f=="function"?f:t,f&&C.pop(),C.length&&C[0]===l[0]?gp(C,t,f):[]});function im(l,f){return l==null?"":yv.call(l,f)}function Cc(l){var f=l==null?0:l.length;return f?l[f-1]:t}function rm(l,f,C){var R=l==null?0:l.length;if(!R)return-1;var ee=R;return C!==t&&(ee=ts(C),ee=ee<0?Ys(R+ee,0):pi(ee,R-1)),f===f?Us(l,f,ee):Sl(l,sc,ee,!0)}function Hf(l,f){return l&&l.length?K0(l,ts(f)):t}var am=Oi(Gp);function Gp(l,f){return l&&l.length&&f&&f.length?yp(l,f):l}function lm(l,f,C){return l&&l.length&&f&&f.length?yp(l,f,Ks(C,2)):l}function Uf(l,f,C){return l&&l.length&&f&&f.length?yp(l,f,t,C):l}var cm=cd(function(l,f){var C=l==null?0:l.length,R=up(l,f);return Ju(l,Ii(f,function(ee){return Sd(ee,C)?+ee:ee}).sort(ov)),R});function Yf(l,f){var C=[];if(!(l&&l.length))return C;var R=-1,ee=[],fe=l.length;for(f=Ks(f,3);++R<fe;){var Fe=l[R];f(Fe,R,l)&&(C.push(Fe),ee.push(R))}return Ju(l,ee),C}function Hp(l){return l==null?l:qa.call(l)}function Kf(l,f,C){var R=l==null?0:l.length;return R?(C&&typeof C!="number"&&Jl(l,f,C)?(f=0,C=R):(f=f==null?0:ts(f),C=C===t?R:ts(C)),pc(l,f,C)):[]}function dm(l,f){return ev(l,f)}function Zf(l,f,C){return Tv(l,f,Ks(C,2))}function um(l,f){var C=l==null?0:l.length;if(C){var R=ev(l,f);if(R<C&&mn(l[R],f))return R}return-1}function Xf(l,f){return ev(l,f,!0)}function vm(l,f,C){return Tv(l,f,Ks(C,2),!0)}function Jf(l,f){var C=l==null?0:l.length;if(C){var R=ev(l,f,!0)-1;if(mn(l[R],f))return R}return-1}function pm(l){return l&&l.length?J0(l):[]}function Qf(l,f){return l&&l.length?J0(l,Ks(f,2)):[]}function fm(l){var f=l==null?0:l.length;return f?pc(l,1,f):[]}function gm(l,f,C){return l&&l.length?(f=C||f===t?1:ts(f),pc(l,0,f<0?0:f)):[]}function _m(l,f,C){var R=l==null?0:l.length;return R?(f=C||f===t?1:ts(f),f=R-f,pc(l,f<0?0:f,R)):[]}function g(l,f){return l&&l.length?Av(l,Ks(f,3),!1,!0):[]}function y(l,f){return l&&l.length?Av(l,Ks(f,3)):[]}var P=Oi(function(l){return Fd(Bl(l,1,Oo,!0))}),I=Oi(function(l){var f=Cc(l);return Oo(f)&&(f=t),Fd(Bl(l,1,Oo,!0),Ks(f,2))}),L=Oi(function(l){var f=Cc(l);return f=typeof f=="function"?f:t,Fd(Bl(l,1,Oo,!0),t,f)});function E(l){return l&&l.length?Fd(l):[]}function V(l,f){return l&&l.length?Fd(l,Ks(f,2)):[]}function ne(l,f){return f=typeof f=="function"?f:t,l&&l.length?Fd(l,t,f):[]}function _e(l){if(!(l&&l.length))return[];var f=0;return l=rr(l,function(C){if(Oo(C))return f=Ys(C.length,f),!0}),he(f,function(C){return Ii(l,jl(C))})}function ze(l,f){if(!(l&&l.length))return[];var C=_e(l);return f==null?C:Ii(C,function(R){return Yo(f,t,R)})}var Lt=Oi(function(l,f){return Oo(l)?Yu(l,f):[]}),St=Oi(function(l){return Cp(rr(l,Oo))}),st=Oi(function(l){var f=Cc(l);return Oo(f)&&(f=t),Cp(rr(l,Oo),Ks(f,2))}),ko=Oi(function(l){var f=Cc(l);return f=typeof f=="function"?f:t,Cp(rr(l,Oo),t,f)}),gn=Oi(_e);function er(l,f){return j_(l||[],f||[],kc)}function aa(l,f){return j_(l||[],f||[],Qu)}var dl=Oi(function(l){var f=l.length,C=f>1?l[f-1]:t;return C=typeof C=="function"?(l.pop(),C):t,ze(l,C)});function Wa(l){var f=ce(l);return f.__chain__=!0,f}function hl(l,f){return f(l),l}function Ca(l,f){return f(l)}var La=cd(function(l){var f=l.length,C=f?l[0]:0,R=this.__wrapped__,ee=function(fe){return up(fe,l)};return f>1||this.__actions__.length||!(R instanceof wr)||!Sd(C)?this.thru(ee):(R=R.slice(C,+C+(f?1:0)),R.__actions__.push({func:Ca,args:[ee],thisArg:t}),new Lc(R,this.__chain__).thru(function(fe){return f&&!fe.length&&fe.push(t),fe}))});function Ga(){return Wa(this)}function Ia(){return new Lc(this.value(),this.__chain__)}function ma(){this.__values__===t&&(this.__values__=ya(this.value()));var l=this.__index__>=this.__values__.length,f=l?t:this.__values__[this.__index__++];return{done:l,value:f}}function Ea(){return this}function cs(l){for(var f,C=this;C instanceof Hu;){var R=Df(C);R.__index__=0,R.__values__=t,f?ee.__wrapped__=R:f=R;var ee=R;C=C.__wrapped__}return ee.__wrapped__=l,f}function Di(){var l=this.__wrapped__;if(l instanceof wr){var f=l;return this.__actions__.length&&(f=new wr(this)),f=f.reverse(),f.__actions__.push({func:Ca,args:[Hp],thisArg:t}),new Lc(f,this.__chain__)}return this.thru(Hp)}function va(){return tf(this.__wrapped__,this.__actions__)}var Ns=Fv(function(l,f,C){Dt.call(l,C)?++l[C]:xd(l,C,1)});function ki(l,f,C){var R=no(l)?Ar:k_;return C&&Jl(l,f,C)&&(f=t),R(l,Ks(f,3))}function Qr(l,f){var C=no(l)?rr:V0;return C(l,Ks(f,3))}var zs=uf(Of),Dr=uf(qp);function kr(l,f){return Bl(Ri(l,f),1)}function Nn(l,f){return Bl(Ri(l,f),K)}function Vs(l,f,C){return C=C===t?1:ts(C),Bl(Ri(l,f),C)}function lr(l,f){var C=no(l)?ii:wd;return C(l,Ks(f,3))}function rs(l,f){var C=no(l)?fr:Ed;return C(l,Ks(f,3))}var ai=Fv(function(l,f,C){Dt.call(l,C)?l[C].push(f):xd(l,C,[f])});function Hi(l,f,C,R){l=In(l)?l:Rd(l),C=C&&!R?ts(C):0;var ee=l.length;return C<0&&(C=Ys(ee+C,0)),Li(l)?C<=ee&&l.indexOf(f,C)>-1:!!ee&&Cl(l,f,C)>-1}var Zn=Oi(function(l,f,C){var R=-1,ee=typeof f=="function",fe=In(l)?Q(l.length):[];return wd(l,function(Fe){fe[++R]=ee?Yo(f,Fe,C):Zu(Fe,f,C)}),fe}),li=Fv(function(l,f,C){xd(l,C,f)});function Ri(l,f){var C=no(l)?Ii:U0;return C(l,Ks(f,3))}function Xn(l,f,C,R){return l==null?[]:(no(f)||(f=f==null?[]:[f]),C=R?t:C,no(C)||(C=C==null?[]:[C]),hp(l,f,C))}var $s=Fv(function(l,f,C){l[C?0:1].push(f)},function(){return[[],[]]});function Si(l,f,C){var R=no(l)?_a:sd,ee=arguments.length<3;return R(l,Ks(f,4),C,ee,wd)}function as(l,f,C){var R=no(l)?Nc:sd,ee=arguments.length<3;return R(l,Ks(f,4),C,ee,Ed)}function jn(l,f){var C=no(l)?rr:V0;return C(l,Sn(Ks(f,3)))}function ci(l){var f=no(l)?N0:wp;return f(l)}function _s(l,f,C){(C?Jl(l,f,C):f===t)?f=1:f=ts(f);var R=no(l)?Dd:kp;return R(l,f)}function Bo(l){var f=no(l)?Tu:E_;return f(l)}function fi(l){if(l==null)return 0;if(In(l))return Li(l)?pe(l):l.length;var f=Xl(l);return f==le||f==Ce?l.size:mp(l).length}function Ho(l,f,C){var R=no(l)?kl:F_;return C&&Jl(l,f,C)&&(f=t),R(l,Ks(f,3))}var xs=Oi(function(l,f){if(l==null)return[];var C=f.length;return C>1&&Jl(l,f[0],f[1])?f=[]:C>2&&Jl(f[0],f[1],f[2])&&(f=[f[0]]),hp(l,Bl(f,1),[])}),qs=Or||function(){return bs.Date.now()};function ds(l,f){if(typeof f!="function")throw new Yt(a);return l=ts(l),function(){if(--l<1)return f.apply(this,arguments)}}function Wo(l,f,C){return f=C?t:f,f=l&&f==null?l.length:f,ld(l,B,t,t,t,t,f)}function ho(l,f){var C;if(typeof f!="function")throw new Yt(a);return l=ts(l),function(){return--l>0&&(C=f.apply(this,arguments)),l<=1&&(f=t),C}}var Gn=Oi(function(l,f,C){var R=M;if(C.length){var ee=Ms(C,Eu(Gn));R|=F}return ld(l,R,f,C,ee)}),Zs=Oi(function(l,f,C){var R=M|T;if(C.length){var ee=Ms(C,Eu(Zs));R|=F}return ld(f,R,l,C,ee)});function en(l,f,C){f=C?t:f;var R=ld(l,A,t,t,t,t,t,f);return R.placeholder=en.placeholder,R}function Vn(l,f,C){f=C?t:f;var R=ld(l,j,t,t,t,t,t,f);return R.placeholder=Vn.placeholder,R}function us(l,f,C){var R,ee,fe,Fe,Ye,at,Xt=0,Jt=!1,ao=!1,yn=!0;if(typeof l!="function")throw new Yt(a);f=Cr(f)||0,zt(C)&&(Jt=!!C.leading,ao="maxWait"in C,fe=ao?Ys(Cr(C.maxWait)||0,f):fe,yn="trailing"in C?!!C.trailing:yn);function Ss(Ml){var Id=R,fu=ee;return R=ee=t,Xt=Ml,Fe=l.apply(fu,Id),Fe}function yi(Ml){return Xt=Ml,Ye=ju(Er,f),Jt?Ss(Ml):Fe}function dr(Ml){var Id=Ml-at,fu=Ml-Xt,Yh=f-Id;return ao?pi(Yh,fe-fu):Yh}function bi(Ml){var Id=Ml-at,fu=Ml-Xt;return at===t||Id>=f||Id<0||ao&&fu>=fe}function Er(){var Ml=qs();if(bi(Ml))return Nr(Ml);Ye=ju(Er,dr(Ml))}function Nr(Ml){return Ye=t,yn&&R?Ss(Ml):(R=ee=t,Fe)}function Yc(){Ye!==t&&$_(Ye),Xt=0,R=at=ee=Ye=t}function Pc(){return Ye===t?Fe:Nr(qs())}function Kc(){var Ml=qs(),Id=bi(Ml);if(R=arguments,ee=this,at=Ml,Id){if(Ye===t)return yi(at);if(ao)return $_(Ye),Ye=ju(Er,f),Ss(at)}return Ye===t&&(Ye=ju(Er,f)),Fe}return Kc.cancel=Yc,Kc.flush=Pc,Kc}var Xs=Oi(function(l,f){return z0(l,1,f)}),_n=Oi(function(l,f,C){return z0(l,Cr(f)||0,C)});function $n(l){return ld(l,z)}function Jn(l,f){if(typeof l!="function"||f!=null&&typeof f!="function")throw new Yt(a);var C=function(){var R=arguments,ee=f?f.apply(this,R):R[0],fe=C.cache;if(fe.has(ee))return fe.get(ee);var Fe=l.apply(this,R);return C.cache=fe.set(ee,Fe)||fe,Fe};return C.cache=new(Jn.Cache||bd),C}Jn.Cache=bd;function Sn(l){if(typeof l!="function")throw new Yt(a);return function(){var f=arguments;switch(f.length){case 0:return!l.call(this);case 1:return!l.call(this,f[0]);case 2:return!l.call(this,f[0],f[1]);case 3:return!l.call(this,f[0],f[1],f[2])}return!l.apply(this,f)}}function ls(l){return ho(2,l)}var ms=Gh(function(l,f){f=f.length==1&&no(f[0])?Ii(f[0],$e(Ks())):Ii(Bl(f,1),$e(Ks()));var C=f.length;return Oi(function(R){for(var ee=-1,fe=pi(R.length,C);++ee<fe;)R[ee]=f[ee].call(this,R[ee]);return Yo(l,this,R)})}),So=Oi(function(l,f){var C=Ms(f,Eu(So));return ld(l,F,t,f,C)}),tn=Oi(function(l,f){var C=Ms(f,Eu(tn));return ld(l,q,t,f,C)}),xn=cd(function(l,f){return ld(l,O,t,t,t,f)});function Cn(l,f){if(typeof l!="function")throw new Yt(a);return f=f===t?f:ts(f),Oi(l,f)}function Bn(l,f){if(typeof l!="function")throw new Yt(a);return f=f==null?0:Ys(ts(f),0),Oi(function(C){var R=C[f],ee=lu(C,0,f);return R&&Ur(ee,R),Yo(l,this,ee)})}function os(l,f,C){var R=!0,ee=!0;if(typeof l!="function")throw new Yt(a);return zt(C)&&(R="leading"in C?!!C.leading:R,ee="trailing"in C?!!C.trailing:ee),us(l,f,{leading:R,maxWait:f,trailing:ee})}function on(l){return Wo(l,1)}function wn(l,f){return So(nf(f),l)}function As(){if(!arguments.length)return[];var l=arguments[0];return no(l)?l:[l]}function qn(l){return Fc(l,w)}function Wn(l,f){return f=typeof f=="function"?f:t,Fc(l,w,f)}function No(l){return Fc(l,h|w)}function fo(l,f){return f=typeof f=="function"?f:t,Fc(l,h|w,f)}function On(l,f){return f==null||vp(l,f,fa(f))}function mn(l,f){return l===f||l!==l&&f!==f}var nn=nv(Cv),zo=nv(function(l,f){return l>=f}),vs=G0(function(){return arguments}())?G0:function(l){return Ao(l)&&Dt.call(l,"callee")&&!mi.call(l,"callee")},no=Q.isArray,ws=Et?$e(Et):C_;function In(l){return l!=null&&Io(l.length)&&!Pn(l)}function Oo(l){return Ao(l)&&In(l)}function Bs(l){return l===!0||l===!1||Ao(l)&&Zl(l)==we}var _o=na||Im,Fo=xo?$e(xo):Iv;function Hn(l){return Ao(l)&&l.nodeType===1&&!gi(l)}function ns(l){if(l==null)return!0;if(In(l)&&(no(l)||typeof l=="string"||typeof l.splice=="function"||_o(l)||ks(l)||vs(l)))return!l.length;var f=Xl(l);if(f==le||f==Ce)return!l.size;if(Fu(l))return!mp(l).length;for(var C in l)if(Dt.call(l,C))return!1;return!0}function hn(l,f){return Xu(l,f)}function Qn(l,f,C){C=typeof C=="function"?C:t;var R=C?C(l,f):t;return R===t?Xu(l,f,t,C):!!R}function Os(l){if(!Ao(l))return!1;var f=Zl(l);return f==Se||f==Te||typeof l.message=="string"&&typeof l.name=="string"&&!gi(l)}function kn(l){return typeof l=="number"&&Rr(l)}function Pn(l){if(!zt(l))return!1;var f=Zl(l);return f==Ue||f==Be||f==Ne||f==X}function Yn(l){return typeof l=="number"&&l==ts(l)}function Io(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=J}function zt(l){var f=typeof l;return l!=null&&(f=="object"||f=="function")}function Ao(l){return l!=null&&typeof l=="object"}var ss=Eo?$e(Eo):P_;function bo(l,f){return l===f||Vc(l,f,zv(f))}function es(l,f,C){return C=typeof C=="function"?C:t,Vc(l,f,zv(f),C)}function Xo(l){return Js(l)&&l!=+l}function hs(l){if(Y_(l))throw new De(r);return _p(l)}function Ci(l){return l===null}function Hs(l){return l==null}function Js(l){return typeof l=="number"||Ao(l)&&Zl(l)==ye}function gi(l){if(!Ao(l)||Zl(l)!=Je)return!1;var f=Gs(l);if(f===null)return!0;var C=Dt.call(f,"constructor")&&f.constructor;return typeof C=="function"&&C instanceof C&&fn.call(C)==co}var Ui=Vo?$e(Vo):M_;function Ni(l){return Yn(l)&&l>=-J&&l<=J}var Gi=$o?$e($o):T_;function Li(l){return typeof l=="string"||!no(l)&&Ao(l)&&Zl(l)==Qe}function Pi(l){return typeof l=="symbol"||Ao(l)&&Zl(l)==mt}var ks=un?$e(un):kd;function cr(l){return l===t}function ea(l){return Ao(l)&&Xl(l)==ct}function pa(l){return Ao(l)&&Zl(l)==yo}var Yi=nv(Da),ha=nv(function(l,f){return l<=f});function ya(l){if(!l)return[];if(In(l))return Li(l)?Ct(l):gc(l);if(id&&l[id])return ht(l[id]());var f=Xl(l),C=f==le?bn:f==Ce?Zo:Rd;return C(l)}function Sr(l){if(!l)return l===0?l:0;if(l=Cr(l),l===K||l===-K){var f=l<0?-1:1;return f*U}return l===l?l:0}function ts(l){var f=Sr(l),C=f%1;return f===f?C?f-C:f:0}function Fa(l){return l?Ld(ts(l),0,me):0}function Cr(l){if(typeof l=="number")return l;if(Pi(l))return ae;if(zt(l)){var f=typeof l.valueOf=="function"?l.valueOf():l;l=zt(f)?f+"":f}if(typeof l!="string")return l===0?l:+l;l=Oe(l);var C=gl.test(l);return C||_l.test(l)?$i(l.slice(2),C?2:8):Kl.test(l)?ae:+l}function Ha(l){return ad(l,$r(l))}function ba(l){return l?Ld(ts(l),-J,J):l===0?l:0}function ri(l){return l==null?"":fc(l)}var Ua=Du(function(l,f){if(Fu(f)||In(f)){ad(f,fa(f),l);return}for(var C in f)Dt.call(f,C)&&kc(l,C,f[C])}),la=Du(function(l,f){ad(f,$r(f),l)}),ia=Du(function(l,f,C,R){ad(f,$r(f),l,R)}),Lr=Du(function(l,f,C,R){ad(f,fa(f),l,R)}),ta=cd(up);function Ya(l,f){var C=Mu(l);return f==null?C:Uu(C,f)}var is=Oi(function(l,f){l=Ze(l);var C=-1,R=f.length,ee=R>2?f[2]:t;for(ee&&Jl(f[0],f[1],ee)&&(R=1);++C<R;)for(var fe=f[C],Fe=$r(fe),Ye=-1,at=Fe.length;++Ye<at;){var Xt=Fe[Ye],Jt=l[Xt];(Jt===t||mn(Jt,wo[Xt])&&!Dt.call(l,Xt))&&(l[Xt]=fe[Xt])}return l}),or=Oi(function(l){return l.push(t,Ap),Yo(nr,t,l)});function Ol(l,f){return Vl(l,Ks(f,3),vc)}function Rl(l,f){return Vl(l,Ks(f,3),fp)}function Ql(l,f){return l==null?l:pp(l,Ks(f,3),$r)}function ul(l,f){return l==null?l:q0(l,Ks(f,3),$r)}function rc(l,f){return l&&vc(l,Ks(f,3))}function hi(l,f){return l&&fp(l,Ks(f,3))}function xa(l){return l==null?[]:Sv(l,fa(l))}function Bd(l){return l==null?[]:Sv(l,$r(l))}function ac(l,f,C){var R=l==null?t:Sc(l,f);return R===t?C:R}function Gc(l,f){return l!=null&&jp(l,f,jc)}function dd(l,f){return l!=null&&jp(l,f,S_)}var Hc=pf(function(l,f,C){f!=null&&typeof f.toString!="function"&&(f=Nt.call(f)),l[f]=C},lv($c)),Uc=pf(function(l,f,C){f!=null&&typeof f.toString!="function"&&(f=Nt.call(f)),Dt.call(l,f)?l[f].push(C):l[f]=[C]},Ks),Od=Oi(Zu);function fa(l){return In(l)?R0(l):mp(l)}function $r(l){return In(l)?R0(l,!0):qc(l)}function Ic(l,f){var C={};return f=Ks(f,3),vc(l,function(R,ee,fe){xd(C,f(R,ee,fe),R)}),C}function uu(l,f){var C={};return f=Ks(f,3),vc(l,function(R,ee,fe){xd(C,ee,f(R,ee,fe))}),C}var Br=Du(function(l,f,C){Pv(l,f,C)}),nr=Du(function(l,f,C,R){Pv(l,f,C,R)}),rv=cd(function(l,f){var C={};if(l==null)return C;var R=!1;f=Ii(f,function(fe){return fe=au(fe,l),R||(R=fe.length>1),fe}),ad(l,Rv(l),C),R&&(C=Fc(C,h|x|w,V_));for(var ee=f.length;ee--;)Sp(C,f[ee]);return C});function $u(l,f){return vu(l,Sn(Ks(f)))}var ud=cd(function(l,f){return l==null?{}:Z0(l,f)});function vu(l,f){if(l==null)return{};var C=Ii(Rv(l),function(R){return[R]});return f=Ks(f),ru(l,C,function(R,ee){return f(R,ee[0])})}function pu(l,f,C){f=au(f,l);var R=-1,ee=f.length;for(ee||(ee=1,l=t);++R<ee;){var fe=l==null?t:l[Wc(f[R])];fe===t&&(R=ee,fe=C),l=Pn(fe)?fe.call(l):fe}return l}function vl(l,f,C){return l==null?l:Qu(l,f,C)}function eg(l,f,C,R){return R=typeof R=="function"?R:t,l==null?l:Qu(l,f,C,R)}var qv=gf(fa),Wv=gf($r);function Up(l,f,C){var R=no(l),ee=R||_o(l)||ks(l);if(f=Ks(f,4),C==null){var fe=l&&l.constructor;ee?C=R?new fe:[]:zt(l)?C=Pn(fe)?Mu(Gs(l)):{}:C={}}return(ee?ii:vc)(l,function(Fe,Ye,at){return f(C,Fe,Ye,at)}),C}function tg(l,f){return l==null?!0:Sp(l,f)}function Yp(l,f,C){return l==null?l:ef(l,f,nf(C))}function Kp(l,f,C,R){return R=typeof R=="function"?R:t,l==null?l:ef(l,f,nf(C),R)}function Rd(l){return l==null?[]:Ve(l,fa(l))}function og(l){return l==null?[]:Ve(l,$r(l))}function ng(l,f,C){return C===t&&(C=f,f=t),C!==t&&(C=Cr(C),C=C===C?C:0),f!==t&&(f=Cr(f),f=f===f?f:0),Ld(Cr(l),f,C)}function Zp(l,f,C){return f=Sr(f),C===t?(C=f,f=0):C=Sr(C),l=Cr(l),Pl(l,f,C)}function mm(l,f,C){if(C&&typeof C!="boolean"&&Jl(l,f,C)&&(f=C=t),C===t&&(typeof f=="boolean"?(C=f,f=t):typeof l=="boolean"&&(C=l,l=t)),l===t&&f===t?(l=0,f=1):(l=Sr(l),f===t?(f=l,l=0):f=Sr(f)),l>f){var R=l;l=f,f=R}if(C||l%1||f%1){var ee=lp();return pi(l+ee*(f-l+Ai("1e-"+((ee+"").length-1))),f)}return Mv(l,f)}var sg=Lu(function(l,f,C){return f=f.toLowerCase(),l+(C?Gv(f):f)});function Gv(l){return av(ri(l).toLowerCase())}function Xp(l){return l=ri(l),l&&l.replace(ll,vo).replace(We,"")}function hm(l,f,C){l=ri(l),f=fc(f);var R=l.length;C=C===t?R:Ld(ts(C),0,R);var ee=C;return C-=f.length,C>=0&&l.slice(C,ee)==f}function Jp(l){return l=ri(l),l&&Ei.test(l)?l.replace(Ki,qe):l}function Qp(l){return l=ri(l),l&&Ma.test(l)?l.replace(Qa,"\\$&"):l}var ig=Lu(function(l,f,C){return l+(C?"-":"")+f.toLowerCase()}),e0=Lu(function(l,f,C){return l+(C?" ":"")+f.toLowerCase()}),rg=df("toLowerCase");function ag(l,f,C){l=ri(l),f=ts(f);var R=f?pe(l):0;if(!f||R>=f)return l;var ee=(f-R)/2;return Bv(ar(ee),C)+l+Bv(za(ee),C)}function t0(l,f,C){l=ri(l),f=ts(f);var R=f?pe(l):0;return f&&R<f?l+Bv(f-R,C):l}function ym(l,f,C){l=ri(l),f=ts(f);var R=f?pe(l):0;return f&&R<f?Bv(f-R,C)+l:l}function o0(l,f,C){return C||f==null?f=0:f&&(f=+f),sa(ri(l).replace(ka,""),f||0)}function lg(l,f,C){return(C?Jl(l,f,C):f===t)?f=1:f=ts(f),xp(ri(l),f)}function cg(){var l=arguments,f=ri(l[0]);return l.length<3?f:f.replace(l[1],l[2])}var n0=Lu(function(l,f,C){return l+(C?"_":"")+f.toLowerCase()});function bm(l,f,C){return C&&typeof C!="number"&&Jl(l,f,C)&&(f=C=t),C=C===t?me:C>>>0,C?(l=ri(l),l&&(typeof f=="string"||f!=null&&!Ui(f))&&(f=fc(f),!f&&Ko(l))?lu(Ct(l),0,C):l.split(f,C)):[]}var dg=Lu(function(l,f,C){return l+(C?" ":"")+av(f)});function ug(l,f,C){return l=ri(l),C=C==null?0:Ld(ts(C),0,l.length),f=fc(f),l.slice(C,C+f.length)==f}function vg(l,f,C){var R=ce.templateSettings;C&&Jl(l,f,C)&&(f=t),l=ri(l),f=ia({},f,R,_f);var ee=ia({},f.imports,R.imports,_f),fe=fa(ee),Fe=Ve(ee,fe),Ye,at,Xt=0,Jt=f.interpolate||Kr,ao="__p += '",yn=Ft((f.escape||Kr).source+"|"+Jt.source+"|"+(Jt===sl?xl:Kr).source+"|"+(f.evaluate||Kr).source+"|$","g"),Ss="//# sourceURL="+(Dt.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++To+"]")+`
`;l.replace(yn,function(bi,Er,Nr,Yc,Pc,Kc){return Nr||(Nr=Yc),ao+=l.slice(Xt,Kc).replace(yr,$t),Er&&(Ye=!0,ao+=`' +
__e(`+Er+`) +
'`),Pc&&(at=!0,ao+=`';
`+Pc+`;
__p += '`),Nr&&(ao+=`' +
((__t = (`+Nr+`)) == null ? '' : __t) +
'`),Xt=Kc+bi.length,bi}),ao+=`';
`;var yi=Dt.call(f,"variable")&&f.variable;if(!yi)ao=`with (obj) {
`+ao+`
}
`;else if(Ta.test(yi))throw new De(c);ao=(at?ao.replace(cn,""):ao).replace(sn,"$1").replace(Tr,"$1;"),ao="function("+(yi||"obj")+`) {
`+(yi?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ye?", __e = _.escape":"")+(at?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ao+`return __p
}`;var dr=l0(function(){return Ie(fe,Ss+"return "+ao).apply(t,Fe)});if(dr.source=ao,Os(dr))throw dr;return dr}function s0(l){return ri(l).toLowerCase()}function xm(l){return ri(l).toUpperCase()}function pg(l,f,C){if(l=ri(l),l&&(C||f===t))return Oe(l);if(!l||!(f=fc(f)))return l;var R=Ct(l),ee=Ct(f),fe=ot(R,ee),Fe=et(R,ee)+1;return lu(R,fe,Fe).join("")}function fg(l,f,C){if(l=ri(l),l&&(C||f===t))return l.slice(0,Pe(l)+1);if(!l||!(f=fc(f)))return l;var R=Ct(l),ee=et(R,Ct(f))+1;return lu(R,0,ee).join("")}function i0(l,f,C){if(l=ri(l),l&&(C||f===t))return l.replace(ka,"");if(!l||!(f=fc(f)))return l;var R=Ct(l),ee=ot(R,Ct(f));return lu(R,ee).join("")}function Hv(l,f){var C=Y,R=G;if(zt(f)){var ee="separator"in f?f.separator:ee;C="length"in f?ts(f.length):C,R="omission"in f?fc(f.omission):R}l=ri(l);var fe=l.length;if(Ko(l)){var Fe=Ct(l);fe=Fe.length}if(C>=fe)return l;var Ye=C-pe(R);if(Ye<1)return R;var at=Fe?lu(Fe,0,Ye).join(""):l.slice(0,Ye);if(ee===t)return at+R;if(Fe&&(Ye+=at.length-Ye),Ui(ee)){if(l.slice(Ye).search(ee)){var Xt,Jt=at;for(ee.global||(ee=Ft(ee.source,ri(Gr.exec(ee))+"g")),ee.lastIndex=0;Xt=ee.exec(Jt);)var ao=Xt.index;at=at.slice(0,ao===t?Ye:ao)}}else if(l.indexOf(fc(ee),Ye)!=Ye){var yn=at.lastIndexOf(ee);yn>-1&&(at=at.slice(0,yn))}return at+R}function r0(l){return l=ri(l),l&&wa.test(l)?l.replace(zi,pn):l}var a0=Lu(function(l,f,C){return l+(C?" ":"")+f.toUpperCase()}),av=df("toUpperCase");function Uv(l,f,C){return l=ri(l),f=C?t:f,f===t?Ut(l)?gr(l):Ad(l):l.match(f)||[]}var l0=Oi(function(l,f){try{return Yo(l,t,f)}catch(C){return Os(C)?C:new De(C)}}),gg=cd(function(l,f){return ii(f,function(C){C=Wc(C),xd(l,C,Gn(l[C],l))}),l});function Yv(l){var f=l==null?0:l.length,C=Ks();return l=f?Ii(l,function(R){if(typeof R[1]!="function")throw new Yt(a);return[C(R[0]),R[1]]}):[],Oi(function(R){for(var ee=-1;++ee<f;){var fe=l[ee];if(Yo(fe[0],this,R))return Yo(fe[1],this,R)}})}function c0(l){return w_(Fc(l,h))}function lv(l){return function(){return l}}function _g(l,f){return l==null||l!==l?f:l}var Cd=vf(),zb=vf(!0);function $c(l){return l}function wm(l){return H0(typeof l=="function"?l:Fc(l,h))}function Vb(l){return Y0(Fc(l,h))}function qb(l,f){return Au(l,Fc(f,h))}var Wb=Oi(function(l,f){return function(C){return Zu(C,l,f)}}),Gb=Oi(function(l,f){return function(C){return Zu(l,C,f)}});function km(l,f,C){var R=fa(f),ee=Sv(f,R);C==null&&!(zt(f)&&(ee.length||!R.length))&&(C=f,f=l,l=this,ee=Sv(f,fa(f)));var fe=!(zt(C)&&"chain"in C)||!!C.chain,Fe=Pn(l);return ii(ee,function(Ye){var at=f[Ye];l[Ye]=at,Fe&&(l.prototype[Ye]=function(){var Xt=this.__chain__;if(fe||Xt){var Jt=l(this.__wrapped__),ao=Jt.__actions__=gc(this.__actions__);return ao.push({func:at,args:arguments,thisArg:l}),Jt.__chain__=Xt,Jt}return at.apply(l,Ur([this.value()],arguments))})}),l}function Hb(){return bs._===this&&(bs._=vi),this}function Sm(){}function Ub(l){return l=ts(l),Oi(function(f){return K0(f,l)})}var Yb=Ip(Ii),Kb=Ip(Ar),Zb=Ip(kl);function Uh(l){return Bp(l)?jl(Wc(l)):D_(l)}function Xb(l){return function(f){return l==null?t:Sc(l,f)}}var Jb=Pp(),Qb=Pp(!0);function Cm(){return[]}function Im(){return!1}function ex(){return{}}function tx(){return""}function ox(){return!0}function nx(l,f){if(l=ts(l),l<1||l>J)return[];var C=me,R=pi(l,me);f=Ks(f),l-=me;for(var ee=he(R,f);++C<l;)f(C);return ee}function sx(l){return no(l)?Ii(l,Wc):Pi(l)?[l]:gc(Tf(ri(l)))}function ix(l){var f=++xt;return ri(l)+f}var rx=$v(function(l,f){return l+f},0),ax=Tp("ceil"),lx=$v(function(l,f){return l/f},1),cx=Tp("floor");function dx(l){return l&&l.length?Ku(l,$c,Cv):t}function ux(l,f){return l&&l.length?Ku(l,Ks(f,2),Cv):t}function vx(l){return ic(l,$c)}function px(l,f){return ic(l,Ks(f,2))}function fx(l){return l&&l.length?Ku(l,$c,Da):t}function gx(l,f){return l&&l.length?Ku(l,Ks(f,2),Da):t}var _x=$v(function(l,f){return l*f},1),mx=Tp("round"),hx=$v(function(l,f){return l-f},0);function yx(l){return l&&l.length?ve(l,$c):0}function bx(l,f){return l&&l.length?ve(l,Ks(f,2)):0}return ce.after=ds,ce.ary=Wo,ce.assign=Ua,ce.assignIn=la,ce.assignInWith=ia,ce.assignWith=Lr,ce.at=ta,ce.before=ho,ce.bind=Gn,ce.bindAll=gg,ce.bindKey=Zs,ce.castArray=As,ce.chain=Wa,ce.chunk=Lf,ce.compact=J_,ce.concat=Ef,ce.cond=Yv,ce.conforms=c0,ce.constant=lv,ce.countBy=Ns,ce.create=Ya,ce.curry=en,ce.curryRight=Vn,ce.debounce=us,ce.defaults=is,ce.defaultsDeep=or,ce.defer=Xs,ce.delay=_n,ce.difference=Q_,ce.differenceBy=Ff,ce.differenceWith=em,ce.drop=jf,ce.dropRight=tm,ce.dropRightWhile=$f,ce.dropWhile=om,ce.fill=Bf,ce.filter=Qr,ce.flatMap=kr,ce.flatMapDeep=Nn,ce.flatMapDepth=Vs,ce.flatten=Wp,ce.flattenDeep=Rf,ce.flattenDepth=Nf,ce.flip=$n,ce.flow=Cd,ce.flowRight=zb,ce.fromPairs=zf,ce.functions=xa,ce.functionsIn=Bd,ce.groupBy=ai,ce.initial=nm,ce.intersection=Wf,ce.intersectionBy=sm,ce.intersectionWith=Gf,ce.invert=Hc,ce.invertBy=Uc,ce.invokeMap=Zn,ce.iteratee=wm,ce.keyBy=li,ce.keys=fa,ce.keysIn=$r,ce.map=Ri,ce.mapKeys=Ic,ce.mapValues=uu,ce.matches=Vb,ce.matchesProperty=qb,ce.memoize=Jn,ce.merge=Br,ce.mergeWith=nr,ce.method=Wb,ce.methodOf=Gb,ce.mixin=km,ce.negate=Sn,ce.nthArg=Ub,ce.omit=rv,ce.omitBy=$u,ce.once=ls,ce.orderBy=Xn,ce.over=Yb,ce.overArgs=ms,ce.overEvery=Kb,ce.overSome=Zb,ce.partial=So,ce.partialRight=tn,ce.partition=$s,ce.pick=ud,ce.pickBy=vu,ce.property=Uh,ce.propertyOf=Xb,ce.pull=am,ce.pullAll=Gp,ce.pullAllBy=lm,ce.pullAllWith=Uf,ce.pullAt=cm,ce.range=Jb,ce.rangeRight=Qb,ce.rearg=xn,ce.reject=jn,ce.remove=Yf,ce.rest=Cn,ce.reverse=Hp,ce.sampleSize=_s,ce.set=vl,ce.setWith=eg,ce.shuffle=Bo,ce.slice=Kf,ce.sortBy=xs,ce.sortedUniq=pm,ce.sortedUniqBy=Qf,ce.split=bm,ce.spread=Bn,ce.tail=fm,ce.take=gm,ce.takeRight=_m,ce.takeRightWhile=g,ce.takeWhile=y,ce.tap=hl,ce.throttle=os,ce.thru=Ca,ce.toArray=ya,ce.toPairs=qv,ce.toPairsIn=Wv,ce.toPath=sx,ce.toPlainObject=Ha,ce.transform=Up,ce.unary=on,ce.union=P,ce.unionBy=I,ce.unionWith=L,ce.uniq=E,ce.uniqBy=V,ce.uniqWith=ne,ce.unset=tg,ce.unzip=_e,ce.unzipWith=ze,ce.update=Yp,ce.updateWith=Kp,ce.values=Rd,ce.valuesIn=og,ce.without=Lt,ce.words=Uv,ce.wrap=wn,ce.xor=St,ce.xorBy=st,ce.xorWith=ko,ce.zip=gn,ce.zipObject=er,ce.zipObjectDeep=aa,ce.zipWith=dl,ce.entries=qv,ce.entriesIn=Wv,ce.extend=la,ce.extendWith=ia,km(ce,ce),ce.add=rx,ce.attempt=l0,ce.camelCase=sg,ce.capitalize=Gv,ce.ceil=ax,ce.clamp=ng,ce.clone=qn,ce.cloneDeep=No,ce.cloneDeepWith=fo,ce.cloneWith=Wn,ce.conformsTo=On,ce.deburr=Xp,ce.defaultTo=_g,ce.divide=lx,ce.endsWith=hm,ce.eq=mn,ce.escape=Jp,ce.escapeRegExp=Qp,ce.every=ki,ce.find=zs,ce.findIndex=Of,ce.findKey=Ol,ce.findLast=Dr,ce.findLastIndex=qp,ce.findLastKey=Rl,ce.floor=cx,ce.forEach=lr,ce.forEachRight=rs,ce.forIn=Ql,ce.forInRight=ul,ce.forOwn=rc,ce.forOwnRight=hi,ce.get=ac,ce.gt=nn,ce.gte=zo,ce.has=Gc,ce.hasIn=dd,ce.head=Vf,ce.identity=$c,ce.includes=Hi,ce.indexOf=qf,ce.inRange=Zp,ce.invoke=Od,ce.isArguments=vs,ce.isArray=no,ce.isArrayBuffer=ws,ce.isArrayLike=In,ce.isArrayLikeObject=Oo,ce.isBoolean=Bs,ce.isBuffer=_o,ce.isDate=Fo,ce.isElement=Hn,ce.isEmpty=ns,ce.isEqual=hn,ce.isEqualWith=Qn,ce.isError=Os,ce.isFinite=kn,ce.isFunction=Pn,ce.isInteger=Yn,ce.isLength=Io,ce.isMap=ss,ce.isMatch=bo,ce.isMatchWith=es,ce.isNaN=Xo,ce.isNative=hs,ce.isNil=Hs,ce.isNull=Ci,ce.isNumber=Js,ce.isObject=zt,ce.isObjectLike=Ao,ce.isPlainObject=gi,ce.isRegExp=Ui,ce.isSafeInteger=Ni,ce.isSet=Gi,ce.isString=Li,ce.isSymbol=Pi,ce.isTypedArray=ks,ce.isUndefined=cr,ce.isWeakMap=ea,ce.isWeakSet=pa,ce.join=im,ce.kebabCase=ig,ce.last=Cc,ce.lastIndexOf=rm,ce.lowerCase=e0,ce.lowerFirst=rg,ce.lt=Yi,ce.lte=ha,ce.max=dx,ce.maxBy=ux,ce.mean=vx,ce.meanBy=px,ce.min=fx,ce.minBy=gx,ce.stubArray=Cm,ce.stubFalse=Im,ce.stubObject=ex,ce.stubString=tx,ce.stubTrue=ox,ce.multiply=_x,ce.nth=Hf,ce.noConflict=Hb,ce.noop=Sm,ce.now=qs,ce.pad=ag,ce.padEnd=t0,ce.padStart=ym,ce.parseInt=o0,ce.random=mm,ce.reduce=Si,ce.reduceRight=as,ce.repeat=lg,ce.replace=cg,ce.result=pu,ce.round=mx,ce.runInContext=Ke,ce.sample=ci,ce.size=fi,ce.snakeCase=n0,ce.some=Ho,ce.sortedIndex=dm,ce.sortedIndexBy=Zf,ce.sortedIndexOf=um,ce.sortedLastIndex=Xf,ce.sortedLastIndexBy=vm,ce.sortedLastIndexOf=Jf,ce.startCase=dg,ce.startsWith=ug,ce.subtract=hx,ce.sum=yx,ce.sumBy=bx,ce.template=vg,ce.times=nx,ce.toFinite=Sr,ce.toInteger=ts,ce.toLength=Fa,ce.toLower=s0,ce.toNumber=Cr,ce.toSafeInteger=ba,ce.toString=ri,ce.toUpper=xm,ce.trim=pg,ce.trimEnd=fg,ce.trimStart=i0,ce.truncate=Hv,ce.unescape=r0,ce.uniqueId=ix,ce.upperCase=a0,ce.upperFirst=av,ce.each=lr,ce.eachRight=rs,ce.first=Vf,km(ce,function(){var l={};return vc(ce,function(f,C){Dt.call(ce.prototype,C)||(l[C]=f)}),l}(),{chain:!1}),ce.VERSION=n,ii(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){ce[l].placeholder=ce}),ii(["drop","take"],function(l,f){wr.prototype[l]=function(C){C=C===t?1:Ys(ts(C),0);var R=this.__filtered__&&!f?new wr(this):this.clone();return R.__filtered__?R.__takeCount__=pi(C,R.__takeCount__):R.__views__.push({size:pi(C,me),type:l+(R.__dir__<0?"Right":"")}),R},wr.prototype[l+"Right"]=function(C){return this.reverse()[l](C).reverse()}}),ii(["filter","map","takeWhile"],function(l,f){var C=f+1,R=C==se||C==te;wr.prototype[l]=function(ee){var fe=this.clone();return fe.__iteratees__.push({iteratee:Ks(ee,3),type:C}),fe.__filtered__=fe.__filtered__||R,fe}}),ii(["head","last"],function(l,f){var C="take"+(f?"Right":"");wr.prototype[l]=function(){return this[C](1).value()[0]}}),ii(["initial","tail"],function(l,f){var C="drop"+(f?"":"Right");wr.prototype[l]=function(){return this.__filtered__?new wr(this):this[C](1)}}),wr.prototype.compact=function(){return this.filter($c)},wr.prototype.find=function(l){return this.filter(l).head()},wr.prototype.findLast=function(l){return this.reverse().find(l)},wr.prototype.invokeMap=Oi(function(l,f){return typeof l=="function"?new wr(this):this.map(function(C){return Zu(C,l,f)})}),wr.prototype.reject=function(l){return this.filter(Sn(Ks(l)))},wr.prototype.slice=function(l,f){l=ts(l);var C=this;return C.__filtered__&&(l>0||f<0)?new wr(C):(l<0?C=C.takeRight(-l):l&&(C=C.drop(l)),f!==t&&(f=ts(f),C=f<0?C.dropRight(-f):C.take(f-l)),C)},wr.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},wr.prototype.toArray=function(){return this.take(me)},vc(wr.prototype,function(l,f){var C=/^(?:filter|find|map|reject)|While$/.test(f),R=/^(?:head|last)$/.test(f),ee=ce[R?"take"+(f=="last"?"Right":""):f],fe=R||/^find/.test(f);ee&&(ce.prototype[f]=function(){var Fe=this.__wrapped__,Ye=R?[1]:arguments,at=Fe instanceof wr,Xt=Ye[0],Jt=at||no(Fe),ao=function(Er){var Nr=ee.apply(ce,Ur([Er],Ye));return R&&yn?Nr[0]:Nr};Jt&&C&&typeof Xt=="function"&&Xt.length!=1&&(at=Jt=!1);var yn=this.__chain__,Ss=!!this.__actions__.length,yi=fe&&!yn,dr=at&&!Ss;if(!fe&&Jt){Fe=dr?Fe:new wr(this);var bi=l.apply(Fe,Ye);return bi.__actions__.push({func:Ca,args:[ao],thisArg:t}),new Lc(bi,yn)}return yi&&dr?l.apply(this,Ye):(bi=this.thru(ao),yi?R?bi.value()[0]:bi.value():bi)})}),ii(["pop","push","shift","sort","splice","unshift"],function(l){var f=po[l],C=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",R=/^(?:pop|shift)$/.test(l);ce.prototype[l]=function(){var ee=arguments;if(R&&!this.__chain__){var fe=this.value();return f.apply(no(fe)?fe:[],ee)}return this[C](function(Fe){return f.apply(no(Fe)?Fe:[],ee)})}}),vc(wr.prototype,function(l,f){var C=ce[f];if(C){var R=C.name+"";Dt.call(Jd,R)||(Jd[R]=[]),Jd[R].push({name:f,func:C})}}),Jd[jv(t,T).name]=[{name:"wrapper",func:t}],wr.prototype.clone=Qd,wr.prototype.reverse=r_,wr.prototype.value=a_,ce.prototype.at=La,ce.prototype.chain=Ga,ce.prototype.commit=Ia,ce.prototype.next=ma,ce.prototype.plant=cs,ce.prototype.reverse=Di,ce.prototype.toJSON=ce.prototype.valueOf=ce.prototype.value=va,ce.prototype.first=ce.prototype.head,id&&(ce.prototype[id]=Ea),ce},Ts=gs();xr?((xr.exports=Ts)._=Ts,Xi._=Ts):bs._=Ts}).call(yu)})(Ug,Ug.exports);var zC=Ug.exports;const _t=L0(zC),W1=o=>{console.log("transformApiDataToKLineData called with:",o),console.log("First few items:",o.slice(0,3));const[e,t,n,s,r,a]=o,c=Math.min((e==null?void 0:e.length)||0,(t==null?void 0:t.length)||0,(n==null?void 0:n.length)||0,(s==null?void 0:s.length)||0,(r==null?void 0:r.length)||0,(a==null?void 0:a.length)||0);console.log("length",c);const d=[];for(let u=0;u<c;u++){console.log(`Processing item ${u}:`,{open:e[u],high:t[u],low:n[u],close:s[u],volume:r[u],timestamp:a[u]});const p=a[u];let h=p*1e3;console.log(`Original timestamp: ${p}, converted: ${h}`),(!p||isNaN(p)||p<=0)&&(console.warn(`Invalid timestamp at index ${u}:`,p),h=Date.now()),(isNaN(h)||h<=0)&&(console.warn(`Invalid final timestamp at index ${u}:`,h),h=Date.now());const x={timestamp:h,open:e[u]||0,high:t[u]||0,low:n[u]||0,close:s[u]||0,volume:r[u]||0};d.push(x)}return d},fb=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VES","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW","ZWL"];class VC{constructor(){Wt(this,"_prevSymbol");Wt(this,"_ws");Wt(this,"listens",{});Wt(this,"polygonApiKey","k2hPDhLy8gIpP4lMCU0gwo92xNRxE2XI");Wt(this,"dataCache",new Map);Wt(this,"currentPriceCache",new Map);Wt(this,"loadedDataRanges",new Map);Wt(this,"isLoadingMore",new Map)}async getHistoryKLineData({symbol:e,period:t,from:n,to:s,strategy:r}){const a=`${e.ticker}_${(t==null?void 0:t.timeframe)||"1m"}`;if(this.dataCache.has(a)){const c=this.dataCache.get(a);if(c.data.length>0){const d=c.data[c.data.length-1].close;this.currentPriceCache.set(e.ticker,d)}return console.log(`ðŸ“¦ Using cached history for ${e.ticker} (${t==null?void 0:t.timeframe})`),c}try{const c=await this.getStockNowData(e.ticker,(t==null?void 0:t.timeframe)||"1m",n,s);if(c.data.length>0){this.dataCache.set(a,c);const d=c.data[c.data.length-1].close;this.currentPriceCache.set(e.ticker,d);const u=c.data[0].timestamp,p=c.data[c.data.length-1].timestamp;return this.loadedDataRanges.set(a,{earliest:u,latest:p}),console.log(`Successfully fetched ${c.data.length} data points for ${e.ticker} (${t==null?void 0:t.timeframe})`),c}else console.warn(`No data returned from API for ${e.ticker} with timeframe ${t==null?void 0:t.timeframe}`)}catch(c){console.error("Failed to fetch from stocknow.com.bd API:",c)}return{data:[],lays:[]}}async loadMoreHistoricalData(e,t,n,s=2){const r=`${e.ticker}_${t.timeframe}`;if(this.isLoadingMore.get(r))return console.log(`Already loading more data for ${e.ticker}, skipping...`),{data:[],lays:[]};this.isLoadingMore.set(r,!0);try{console.log(`ðŸ”„ Loading more historical data for ${e.ticker} (timeframe: ${t.timeframe})`);const a=this.convertResolutionForStockNow(t.timeframe),c=this.dataCache.get(r);let d=0;c&&c.data.length>0?(d=c.data.length,console.log(`ðŸ“Š Current data length: ${c.data.length}, using skip: ${d}`)):(d=200,console.log(`ðŸ“Š No existing data, using optimized skip: ${d}`));let h=`https://heart.dutyai.app/finance/get/chart/${encodeURIComponent(e.ticker)}/${a}?skip=${d}&limit=200`;console.log(`ðŸŒ Fetching historical data from: ${h}`);const x=await fetch(h);if(!x.ok){if(x.status===500&&s>0)return console.warn(`âš ï¸ API returned 500 error for ${e.ticker}, retrying (${s} attempts left)...`),await new Promise(T=>setTimeout(T,1e3)),this.loadMoreHistoricalData(e,t,n,s-1);if(x.status===500)return console.warn(`âš ï¸ API returned 500 error for ${e.ticker}, returning empty data`),{data:[],lays:[]};throw new Error(`HTTP error! status: ${x.status}`)}const w=await x.text();if(!w||w.trim()==="")return console.warn(`âš ï¸ Empty response from API for ${e.ticker} historical data`),{data:[],lays:[]};let k;try{k=JSON.parse(w)}catch{return console.error(`âŒ Invalid JSON response from API for ${e.ticker}:`,w.substring(0,200)+"..."),{data:[],lays:[]}}if(!k||typeof k!="object")return console.warn(`âš ï¸ Invalid API data structure for ${e.ticker}:`,k),{data:[],lays:[]};console.log(`API data for ${e}:`,k),console.log("API data type:",typeof k),console.log("API data length:",Array.isArray(k)?k.length:"Not an array");const S=W1(k);if(S.length===0)return console.log(`ðŸ“­ No new historical data available for ${e.ticker}`),{data:[],lays:[]};let M=S;if(c&&c.data.length>0){const T=new Set(c.data.map(D=>D.timestamp));M=S.filter(D=>!T.has(D.timestamp)),console.log(`ðŸ” Filtered ${S.length-M.length} duplicate entries`)}if(M.length>0){if(M.sort((T,D)=>T.timestamp-D.timestamp),c&&c.data.length>0){const T={data:[...M,...c.data].sort((A,j)=>A.timestamp-j.timestamp),lays:[...c.lays||[]]};this.dataCache.set(r,T);const D=this.loadedDataRanges.get(r);D&&M.length>0&&(D.earliest=Math.min(D.earliest,M[0].timestamp),this.loadedDataRanges.set(r,D))}else this.dataCache.set(r,{data:M,lays:[]}),this.loadedDataRanges.set(r,{earliest:M[0].timestamp,latest:M[M.length-1].timestamp});return console.log(`âœ… Successfully loaded ${M.length} more historical bars for ${e.ticker}`),{data:M,lays:[]}}else return console.log(`ðŸ“­ No new unique data found for ${e.ticker}`),{data:[],lays:[]}}catch(a){return console.error(`âŒ Error loading more historical data for ${e.ticker}:`,a),{data:[],lays:[]}}finally{this.isLoadingMore.set(r,!1)}}removeDuplicateData(e){const t=new Set;return e.filter(n=>t.has(n[0])?!1:(t.add(n[0]),!0))}getTimeframeInMs(e){return e.endsWith("m")?parseInt(e.slice(0,-1))*60*1e3:e.endsWith("h")?parseInt(e.slice(0,-1))*60*60*1e3:e.endsWith("d")?parseInt(e.slice(0,-1))*24*60*60*1e3:e.endsWith("w")?parseInt(e.slice(0,-1))*7*24*60*60*1e3:60*1e3}canLoadMoreData(e,t){const n=`${e.ticker}_${t.timeframe}`;return!this.isLoadingMore.get(n)&&this.loadedDataRanges.has(n)}convertResolutionForStockNow(e){return e==="1d"?"1D":e==="1w"?"1W":e==="1M"?"1M":e.endsWith("m")?e.slice(0,-1):e.endsWith("h")?(parseInt(e.slice(0,-1))*60).toString():e.endsWith("d")?(parseInt(e.slice(0,-1))*24*60).toString():e.endsWith("w")?(parseInt(e.slice(0,-1))*7*24*60).toString():e}async getStockNowData(e,t,n,s,r=2){try{const a=this.convertResolutionForStockNow(t);let d=`https://heart.dutyai.app/finance/get/chart/${encodeURIComponent(e)}/${a}`;console.log(`Fetching data from: ${d}`);const u=await fetch(d);if(!u.ok){if(u.status===500&&r>0)return console.warn(`âš ï¸ API returned 500 error for ${e}, retrying (${r} attempts left)...`),await new Promise(w=>setTimeout(w,1e3)),this.getStockNowData(e,t,n,s,r-1);if(u.status===500)return console.warn(`âš ï¸ API returned 500 error for ${e}, returning empty data`),{data:[],lays:[]};throw new Error(`HTTP error! status: ${u.status}`)}const p=await u.text();if(!p||p.trim()==="")return console.warn(`Empty response from API for ${e} with resolution ${t}`),{data:[],lays:[]};let h;try{h=JSON.parse(p)}catch(w){return console.error(`Invalid JSON response from API for ${e}:`,p),console.error("JSON parse error:",w),{data:[],lays:[]}}return!h||typeof h!="object"?(console.warn(`Invalid API data structure for ${e}:`,h),{data:[],lays:[]}):{data:W1(h),lays:[]}}catch(a){return console.error("Error fetching from stocknow.com.bd API:",a),{data:[],lays:[]}}}async getSymbols(){console.log("ðŸš€ getSymbols() method called");try{console.log("ðŸŒ Fetching symbols from API...");const e=await fetch("https://heart.dutyai.app/finance/get/stock/list");if(!e.ok)return console.warn(`âš ï¸ API request failed with status: ${e.status}`),[];let t=await e.json();if(!Array.isArray(t))return console.warn("âš ï¸ API response is not an array, using fallback symbols"),[];t.push({ticker:"DSEX",name:"Dhaka Stock Exchange",shortName:"DSEX",market:"stock",exchange:"DSEBD",priceCurrency:"BDT",type:"stock",logo:""}),console.log(`ðŸ“Š Received ${t.length} symbols from API`);const s=t.map(r=>({ticker:r.symbol||r.ticker||"",name:r.fullName||r.name||r.symbol||r.ticker||"",shortName:r.symbol||r.ticker||"",market:"stock",exchange:r.country==="BD"||r.exchange==="DSEBD"?"DSEBD":"UNKNOWN",priceCurrency:r.priceCurrency||"BDT",type:"stock",logo:r.logo||(r.symbol||r.ticker?`https://s3-api.bayah.app/cdn/symbol/logo/${r.symbol||r.ticker}.svg`:"")})).filter(r=>r.ticker&&r.ticker.trim()!=="");return console.log(`âœ… Successfully processed ${s.length} valid symbols`),console.log("ðŸ“‹ Sample symbols:",s.slice(0,5)),s.length>0?s:[]}catch(e){return console.error("âŒ Error fetching symbols from API:",e),console.log("ðŸ”„ Falling back to hardcoded symbols"),[]}}watch(e,t){var n;this._ws&&((n=this._ws)==null||n.send(JSON.stringify({action:"watch",key:e})),this.listens[e]=t)}subscribe(e,t){var s;if(((s=this._prevSymbol)==null?void 0:s.ticker)===e.ticker)return;this._prevSymbol=e,this.unsubscribe(),console.log(`Subscribing to real-time updates for ${e.ticker}`);const n=setInterval(()=>{const r=this.currentPriceCache.get(e.ticker)||Math.random()*100+10,a=(Math.random()-.5)*2,c=r+a;this.currentPriceCache.set(e.ticker,c);const u=[Date.now(),r,Math.max(r,c)+Math.random()*.5,Math.min(r,c)-Math.random()*.5,c,Math.random()*1e3];t({bars:[u],secs:1})},2e3);this.listens[e.ticker]=n}unsubscribe(){this._ws&&(this._ws.close(),this._ws=void 0),Object.values(this.listens).forEach(e=>{typeof e=="number"&&clearInterval(e)}),this.listens={}}getCurrentPrice(e){return this.currentPriceCache.get(e)||null}clearCache(){this.dataCache.clear(),this.currentPriceCache.clear(),this.loadedDataRanges.clear(),this.isLoadingMore.clear()}}var qC=Ln('<path d="M12.41465,11L18.5,11C18.7761,11,19,11.22386,19,11.5C19,11.77614,18.7761,12,18.5,12L12.41465,12C12.20873,12.5826,11.65311,13,11,13C10.34689,13,9.79127,12.5826,9.58535,12L3.5,12C3.223857,12,3,11.77614,3,11.5C3,11.22386,3.223857,11,3.5,11L9.58535,11C9.79127,10.417404,10.34689,10,11,10C11.65311,10,12.20873,10.417404,12.41465,11Z" stroke-opacity="0" stroke="none"></path>'),WC=Ln('<g transform="scale(0.7857142857)"><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M2 9.75a1.5 1.5 0 0 0-1.5 1.5v5.5a1.5 1.5 0 0 0 1.5 1.5h24a1.5 1.5 0 0 0 1.5-1.5v-5.5a1.5 1.5 0 0 0-1.5-1.5zm0 1h3v2.5h1v-2.5h3.25v3.9h1v-3.9h3.25v2.5h1v-2.5h3.25v3.9h1v-3.9H22v2.5h1v-2.5h3a.5.5 0 0 1 .5.5v5.5a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-5.5a.5.5 0 0 1 .5-.5z" transform="rotate(-45 14 14)"></path></g>'),GC=Ln('<path d="M21,5.5C21,6.32843,20.3284,7,19.5,7C19.4136,7,19.3289,6.99269,19.2465,6.97866L15.6257,15.5086C15.8587,15.7729,16,16.119999999999997,16,16.5C16,17.328400000000002,15.3284,18,14.5,18C13.8469,18,13.2913,17.5826,13.0854,17L3.91465,17C3.70873,17.5826,3.15311,18,2.5,18C1.671573,18,1,17.328400000000002,1,16.5C1,15.6716,1.671573,15,2.5,15C2.5840199999999998,15,2.66643,15.0069,2.74668,15.0202L6.36934,6.48574C6.13933,6.22213,6,5.87733,6,5.5C6,4.671573,6.67157,4,7.5,4C8.15311,4,8.70873,4.417404,8.91465,5L18.0854,5C18.2913,4.417404,18.8469,4,19.5,4C20.3284,4,21,4.671573,21,5.5ZM18.0854,6L8.91465,6C8.892579999999999,6.06243,8.8665,6.12296,8.83672,6.18128L13.9814,15.0921C14.143,15.0325,14.3177,15,14.5,15C14.584,15,14.6664,15.0069,14.7467,15.0202L18.3693,6.48574C18.2462,6.3446,18.149,6.1802,18.0854,6ZM13.2036,15.745L8.0861,6.8811800000000005C7.90605,6.95768,7.70797,7,7.5,7C7.41359,7,7.32888,6.99269,7.24647,6.97866L3.62571,15.5086C3.7512,15.651,3.8501,15.8174,3.91465,16L13.0854,16C13.1169,15.9108,13.1566,15.8255,13.2036,15.745Z" stroke-opacity="0" stroke="none"></path>'),HC=Ln('<path d="M9.474616630859375,7.494615087890625L8.844736630859375,7.494615087890625L8.844736630859375,4.149892087890625L8.000006630859374,4.634915087890625L8.004896630859374,4.005035087890625L9.020516630859376,3.414215087890625L9.474616630859375,3.414215087890625L9.474616630859375,7.494615087890625ZM18.529296630859378,4.8318550878906255Q18.307996630859375,5.028795087890625,18.122396630859377,5.385245087890625Q17.868496630859376,5.019035087890625,17.629196630859376,4.8269750878906255Q17.389996630859375,4.634915087890625,17.168596630859376,4.634915087890625Q16.794296630859375,4.634915087890625,16.522496630859376,4.976715087890625Q16.252296630859377,5.3168850878906255,16.252296630859377,5.7856350878906255Q16.252296630859377,6.218575087890625,16.502896630859375,6.521315087890625Q16.755196630859373,6.822415087890625,17.114896630859377,6.822415087890625Q17.368796630859375,6.822415087890625,17.588596630859374,6.625475087890624Q17.809896630859377,6.428535087890625,17.998696630859374,6.0688350878906245Q18.249396630859373,6.439935087890625,18.488596630859377,6.631985087890625Q18.727896630859377,6.822415087890625,18.952496630859375,6.822415087890625Q19.326796630859373,6.822415087890625,19.596996630859376,6.482245087890625Q19.868796630859375,6.140455087890626,19.868796630859375,5.671705087890626Q19.868796630859375,5.238755087890625,19.618196630859376,4.937655087890625Q19.367496630859375,4.634915087890625,19.006196630859375,4.634915087890625Q18.750696630859377,4.634915087890625,18.529296630859378,4.8318550878906255ZM18.337296630859377,5.674955087890625L18.278696630859375,5.596835087890625Q18.449596630859375,5.272935087890625,18.622096630859374,5.1101750878906245Q18.794596630859374,4.947415087890625,18.967096630859373,4.947415087890625Q19.194996630859375,4.947415087890625,19.346396630859374,5.1345950878906255Q19.497696630859377,5.320135087890625,19.497696630859377,5.598455087890625Q19.497696630859377,5.8914250878906245,19.360996630859376,6.096505087890625Q19.224296630859374,6.301585087890626,19.027396630859375,6.301585087890626Q18.915096630859374,6.301585087890626,18.742496630859375,6.146965087890624Q18.569996630859375,5.992335087890625,18.337296630859377,5.674955087890625ZM17.785496630859377,5.779125087890625L17.842496630859372,5.857245087890625Q17.668296630859373,6.186025087890625,17.495796630859374,6.348785087890625Q17.324896630859374,6.509915087890625,17.153996630859375,6.509915087890625Q16.926096630859377,6.509915087890625,16.774796630859377,6.324375087890624Q16.623396630859375,6.137195087890625,16.623396630859375,5.858875087890625Q16.623396630859375,5.565905087890625,16.761696630859376,5.360825087890625Q16.900096630859373,5.1557550878906255,17.095396630859376,5.1557550878906255Q17.228896630859374,5.1557550878906255,17.365596630859375,5.2778250878906245Q17.502296630859377,5.399895087890625,17.785496630859377,5.779125087890625ZM10.710296630859375,10.634915087890626C10.710296630859375,11.024655087890626,10.561656630859375,11.379685087890625,10.317976630859375,11.646395087890625L12.879196630859376,15.171615087890626C12.985696630859374,15.147615087890625,13.096496630859376,15.134915087890626,13.210296630859375,15.134915087890626C13.306796630859376,15.134915087890626,13.401096630859374,15.144015087890624,13.492596630859374,15.161415087890624L16.819096630859377,11.196955087890625C16.748996630859374,11.023375087890624,16.710296630859375,10.833655087890625,16.710296630859375,10.634915087890626C16.710296630859375,9.806495087890625,17.381896630859373,9.134915087890626,18.210296630859375,9.134915087890626C19.038696630859373,9.134915087890626,19.710296630859375,9.806495087890625,19.710296630859375,10.634915087890626C19.710296630859375,11.463345087890625,19.038696630859373,12.134915087890626,18.210296630859375,12.134915087890626C17.949796630859375,12.134915087890626,17.704796630859377,12.068505087890625,17.491296630859374,11.951675087890624L14.364996630859375,15.677415087890624C14.580596630859375,15.937215087890625,14.710296630859375,16.270915087890625,14.710296630859375,16.634915087890626C14.710296630859375,17.463315087890624,14.038696630859375,18.134915087890626,13.210296630859375,18.134915087890626C12.381866630859374,18.134915087890626,11.710296630859375,17.463315087890624,11.710296630859375,16.634915087890626C11.710296630859375,16.284415087890626,11.830486630859374,15.962015087890626,12.031896630859375,15.706715087890625L9.425686630859374,12.119565087890624C9.355346630859376,12.129685087890625,9.283436630859375,12.134915087890626,9.210296630859375,12.134915087890626C8.872396630859374,12.134915087890626,8.560596630859376,12.023195087890626,8.309816630859375,11.834665087890626L5.215876630859375,15.521915087890624C5.519506630859375,15.796415087890624,5.710296630859375,16.193415087890624,5.710296630859375,16.634915087890626C5.710296630859375,17.463315087890624,5.038726630859375,18.134915087890626,4.210296630859375,18.134915087890626C3.381869630859375,18.134915087890626,2.710296630859375,17.463315087890624,2.710296630859375,16.634915087890626C2.710296630859375,15.806515087890626,3.381869630859375,15.134915087890626,4.210296630859375,15.134915087890626C4.218546630859375,15.134915087890626,4.226776630859375,15.135015087890626,4.234996630859375,15.135115087890625L7.744116630859375,10.953115087890625C7.721966630859375,10.850565087890626,7.710296630859375,10.744105087890624,7.710296630859375,10.634915087890626C7.710296630859375,9.806495087890625,8.381866630859374,9.134915087890626,9.210296630859375,9.134915087890626C10.038726630859376,9.134915087890626,10.710296630859375,9.806495087890625,10.710296630859375,10.634915087890626Z" stroke-opacity="0" stroke="none"></path>'),UC=Ln('<path d="M17.0643,7.033864912109375L18,3.585784912109375L14.5078,4.509695912109375L15.3537,5.344934912109375L6.02026,14.560584912109375C5.87635,14.517484912109374,5.72366,14.494284912109375,5.5655,14.494284912109375C4.7009,14.494284912109375,4,15.186384912109375,4,16.040084912109375C4,16.893784912109375,4.7009,17.585784912109375,5.5655,17.585784912109375C6.43011,17.585784912109375,7.13101,16.893784912109375,7.13101,16.040084912109375C7.13101,15.722284912109375,7.03392,15.426984912109376,6.86744,15.181384912109374L16.0917,6.073604912109375L17.0643,7.033864912109375Z" stroke-opacity="0" stroke="none"></path>'),YC=Ln('<g transform="scale(0.7857142857)" fill="none"><path stroke="currentColor" d="M16 14a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"></path><path fill="currentColor" fill-rule="evenodd" d="M4.5 14a9.5 9.5 0 0 1 18.7-2.37 2.5 2.5 0 0 0 0 4.74A9.5 9.5 0 0 1 4.5 14Zm19.7 2.5a10.5 10.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5Z"></path><path fill="currentColor" d="M22.5 14a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></g>'),KC=Ln('<path d="M18.8532,7.020985087890625Q19.0257,6.734525087890625,19.0257,6.369945087890625Q19.0257,6.020005087890625,18.8499,5.754705087890625Q18.6758,5.489415087890626,18.3649,5.339675087890625Q18.5944,5.209465087890625,18.7214,4.994615087890625Q18.8499,4.779775087890625,18.8499,4.5193550878906255Q18.8499,4.2003480878906245,18.7002,3.951324087890625Q18.5505,3.700673087890625,18.277,3.557444087890625Q18.0052,3.414215087890625,17.6455,3.414215087890625Q17.285800000000002,3.414215087890625,17.0107,3.557444087890625Q16.7357,3.700673087890625,16.5843,3.951324087890625Q16.4346,4.2003480878906245,16.4346,4.5193550878906255Q16.4346,4.779775087890625,16.561500000000002,4.994615087890625Q16.6901,5.209465087890625,16.919600000000003,5.339675087890625Q16.6055,5.489415087890626,16.4297,5.757965087890625Q16.255499999999998,6.024895087890625,16.255499999999998,6.369945087890625Q16.255499999999998,6.734525087890625,16.4297,7.020985087890625Q16.6055,7.305815087890625,16.919600000000003,7.465325087890625Q17.2354,7.624825087890625,17.6455,7.624825087890625Q18.0557,7.624825087890625,18.3682,7.465325087890625Q18.6807,7.305815087890625,18.8532,7.020985087890625ZM8.76432,7.559725087890625L8.13444,7.559725087890625L8.13444,4.214996087890625L7.28971,4.700025087890625L7.2946,4.070139087890625L8.310220000000001,3.479319087890625L8.76432,3.479319087890625L8.76432,7.559725087890625ZM17.1816,4.955555087890625Q17.0042,4.784655087890625,17.0042,4.5095950878906255Q17.0042,4.229645087890625,17.18,4.057119087890625Q17.355800000000002,3.884592087890625,17.6455,3.884592087890625Q17.935200000000002,3.884592087890625,18.1077,4.057119087890625Q18.2803,4.229645087890625,18.2803,4.5095950878906255Q18.2803,4.784655087890625,18.1045,4.955555087890625Q17.930300000000003,5.124825087890625,17.6455,5.124825087890625Q17.3607,5.124825087890625,17.1816,4.955555087890625ZM18.2217,5.7953950878906255Q18.4398,6.005365087890625,18.4398,6.3552950878906245Q18.4398,6.705235087890625,18.2217,6.915195087890625Q18.0052,7.125155087890625,17.6455,7.125155087890625Q17.285800000000002,7.125155087890625,17.067700000000002,6.915195087890625Q16.849600000000002,6.705235087890625,16.849600000000002,6.3552950878906245Q16.849600000000002,6.005365087890625,17.064500000000002,5.7953950878906255Q17.2793,5.585435087890625,17.6455,5.585435087890625Q18.0052,5.585435087890625,18.2217,5.7953950878906255ZM9.60768,11.711495087890626C9.85136,11.444785087890626,10,11.089765087890626,10,10.700025087890625C10,9.871595087890626,9.32843,9.200025087890625,8.5,9.200025087890625C7.67157,9.200025087890625,7,9.871595087890626,7,10.700025087890625C7,10.809205087890625,7.01167,10.915665087890625,7.03382,11.018215087890624L3.5247,15.200215087890625C3.51648,15.200115087890625,3.5082500000000003,15.200015087890625,3.5,15.200015087890625C2.671573,15.200015087890625,2,15.871615087890625,2,16.700015087890627C2,17.528415087890625,2.671573,18.200015087890627,3.5,18.200015087890627C4.32843,18.200015087890627,5,17.528415087890625,5,16.700015087890627C5,16.258515087890625,4.80921,15.861515087890625,4.50558,15.587015087890626L7.59952,11.899765087890625C7.8503,12.088295087890625,8.162099999999999,12.200025087890625,8.5,12.200025087890625C8.57314,12.200025087890625,8.645050000000001,12.194785087890626,8.71539,12.184675087890625L11.3216,15.771815087890625C11.12019,16.027215087890625,11,16.349515087890623,11,16.700015087890627C11,17.528415087890625,11.67157,18.200015087890627,12.5,18.200015087890627C13.3284,18.200015087890627,14,17.528415087890625,14,16.700015087890627C14,16.336015087890623,13.8703,16.002315087890626,13.6547,15.742515087890625L16.781,12.016775087890625C16.994500000000002,12.133605087890626,17.2395,12.200025087890625,17.5,12.200025087890625C18.3284,12.200025087890625,19,11.528445087890624,19,10.700025087890625C19,9.871595087890626,18.3284,9.200025087890625,17.5,9.200025087890625C16.671599999999998,9.200025087890625,16,9.871595087890626,16,10.700025087890625C16,10.898765087890624,16.0387,11.088475087890625,16.108800000000002,11.262055087890625L12.7823,15.226515087890625C12.6908,15.209115087890625,12.5965,15.200015087890625,12.5,15.200015087890625C12.3862,15.200015087890625,12.2754,15.212715087890626,12.1689,15.236715087890625L9.60768,11.711495087890626Z" stroke-opacity="0" stroke="none"></path>'),ZC=Ln('<ellipse cx="10.5" cy="11.5" rx="1.5" ry="1.5" stroke-opacity="0" stroke="none"></ellipse><ellipse cx="17.5" cy="11.5" rx="1.5" ry="1.5" stroke-opacity="0" stroke="none"></ellipse><ellipse cx="10.5" cy="11.5" rx="7" ry="7" fill="none" stroke="currentColor" stroke-width="0.5"></ellipse><ellipse cx="10.5" cy="11.5" rx="5" ry="5" fill="none" stroke="currentColor" stroke-width="0.5"></ellipse><ellipse cx="10.5" cy="11.5" rx="3" ry="3" fill="none" stroke="currentColor" stroke-width="0.5"></ellipse>',1),XC=Ln('<path d="M17,4.5C17,5.32843,16.328400000000002,6,15.5,6C15.0931,6,14.7241,5.83802,14.4539,5.57503L5.98992,8.32515C5.99658,8.38251,6,8.440850000000001,6,8.5C6,9.15311,5.582599999999999,9.70873,5,9.91465L5,11.08535C5.42621,11.236,5.763999999999999,11.57379,5.91465,12L19.5,12C19.7761,12,20,12.22386,20,12.5C20,12.77614,19.7761,13,19.5,13L5.91465,13C5.70873,13.5826,5.15311,14,4.5,14C3.671573,14,3,13.3284,3,12.5C3,11.84689,3.417404,11.29127,4,11.08535L4,9.91465C3.417404,9.70873,3,9.15311,3,8.5C3,7.67157,3.671573,7,4.5,7C4.90411,7,5.2709,7.15981,5.5406200000000005,7.41967L14.0093,4.66802C14.0032,4.6128599999999995,14,4.5568,14,4.5C14,3.671573,14.6716,3,15.5,3C16.328400000000002,3,17,3.671573,17,4.5ZM4,15.5C4,15.2239,4.22386,15,4.5,15L19.5,15C19.7761,15,20,15.2239,20,15.5C20,15.7761,19.7761,16,19.5,16L4.5,16C4.22386,16,4,15.7761,4,15.5ZM4,18.5C4,18.2239,4.22386,18,4.5,18L19.5,18C19.7761,18,20,18.2239,20,18.5C20,18.7761,19.7761,19,19.5,19L4.5,19C4.22386,19,4,18.7761,4,18.5Z" stroke-opacity="0" stroke="none"></path>'),JC=Ln('<g transform="scale(0.9166666667)"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M21 15H3a1 1 0 0 1 0-2h18a1 1 0 0 1 0 2Zm-2-3a2.99 2.99 0 0 1-2.816-2H3a1 1 0 0 1 0-2h13.184A2.995 2.995 0 1 1 19 12Zm0-4a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm2-3H3a1 1 0 0 1 0-2h18a1 1 0 1 1 0 2ZM5 16a2.99 2.99 0 0 1 2.816 2H21a1 1 0 0 1 0 2H7.816A2.995 2.995 0 1 1 5 16Zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"></path></g>'),QC=Ln('<path d="M4,17.0854L4,3.5C4,3.223858,4.22386,3,4.5,3C4.77614,3,5,3.223858,5,3.5L5,10L7.57584,10L9.8127,4.46359C9.91614,4.20756,10.20756,4.08386,10.46359,4.1873000000000005C10.71963,4.29075,10.84333,4.58216,10.73988,4.8382000000000005L8.65438,10L11.08535,10C11.29127,9.4174,11.84689,9,12.5,9C12.65154,9,12.79784,9.02247,12.93573,9.06427L16.6464,5.35355C16.8417,5.15829,17.1583,5.15829,17.3536,5.35355C17.5488,5.54882,17.5488,5.8654,17.3536,6.06066L13.7475,9.66675C13.907,9.90508,14,10.19168,14,10.5C14,11.15311,13.5826,11.70873,13,11.91465L13,14.3638L18.3714,12.1936C18.6274,12.09015,18.918799999999997,12.21385,19.0222,12.46989C19.1257,12.72592,19.002,13.0173,18.746000000000002,13.1208L13,15.4423L13,18L19.5,18C19.7761,18,20,18.2239,20,18.5C20,18.7761,19.7761,19,19.5,19L5.91465,19C5.70873,19.5826,5.15311,20,4.5,20C3.671573,20,3,19.3284,3,18.5C3,17.846899999999998,3.417404,17.2913,4,17.0854ZM6.3729499999999994,17.0413L12,14.7678L12,11.91465C11.88136,11.87271,11.76956,11.81627,11.66675,11.74746L6.3729499999999994,17.0413ZM12,15.8463L6.6694700000000005,18L12,18L12,15.8463ZM6.38629,15.6137L8.250350000000001,11L11,11L6.38629,15.6137ZM5,11L7.17182,11L5,16.3754L5,11Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1"></path>'),eI=Ln('<path d="M3,7.32468C5.90649,3.3893050000000002,11.49833,2.81306,14.6674,6.31944C14.9056,6.1554199999999994,15.192,6.05979,15.5,6.05979C15.845,6.05979,16.1628,6.17974,16.4162,6.381349999999999L18.4509,4.23827L19,4.816615L16.8945,7.03429C16.962600000000002,7.21075,17,7.40319,17,7.60463C17,8.45782,16.328400000000002,9.14947,15.5,9.14947C14.6716,9.14947,14,8.45782,14,7.60463C14,7.36402,14.0534,7.13625,14.1487,6.93322C11.32695,3.748365,6.25159,4.253956,3.612785,7.82695L3,7.32468ZM14.09,15.4717C15.7427,13.78985,16.244500000000002,11.524740000000001,15.5633,9.30134L15.5618,9.30134L16.3012,9.0502C17.072400000000002,11.56646,16.497700000000002,14.158,14.6282,16.0599C12.28737,18.442,8.62386,18.6988,6.41348,16.4501C4.5526,14.5572,4.52076,11.19671,6.36766,9.3177C7.89069,7.76754,10.07544,7.706189999999999,11.56741,9.22363C11.95453,9.61742,12.24817,10.08363,12.43369,10.57677L14.1451,8.77421L14.6942,9.35256L12.64982,11.50582C12.65827,11.59712,12.66295,11.68839,12.66378,11.77936C12.87398,12.04523,13,12.38451,13,12.7541C13,13.60729,12.32843,14.2989,11.5,14.2989C10.67157,14.2989,10,13.60729,10,12.7541C10,11.90091,10.67157,11.20926,11.5,11.20926C11.60387,11.20926,11.70528,11.220130000000001,11.8032,11.240829999999999L11.81763,11.22564C11.69858,10.71874,11.42858,10.21929,11.0284,9.81179C9.844000000000001,8.60765,8.136890000000001,8.65592,6.90822,9.90586C5.37975,11.460930000000001,5.40693,14.288,6.95404,15.8619C8.84598,17.7867,12.03496,17.5626,14.09,15.4717Z" stroke-opacity="0" stroke="none"></path>'),tI=Ln('<path d="M8.13444,7.494615087890625L8.76432,7.494615087890625L8.76432,3.414215087890625L8.310220000000001,3.414215087890625L7.2946,4.005035087890625L7.28971,4.634915087890625L8.13444,4.149892087890625L8.13444,7.494615087890625ZM18.832,6.929835087890625Q19.0046,6.635245087890625,19.0046,6.2543850878906255Q19.0046,5.889805087890625,18.8451,5.5952050878906245Q18.6855,5.3006050878906255,18.3975,5.132965087890625Q18.1094,4.9653250878906245,17.7399,4.9653250878906245Q17.435499999999998,4.9653250878906245,17.1556,5.149245087890625L17.2793,3.939931087890625L18.8304,3.939931087890625L18.8304,3.414215087890625L16.7406,3.414215087890625L16.5094,5.665195087890625L17.0156,5.795405087890625Q17.095399999999998,5.655425087890626,17.2516,5.570795087890625Q17.4095,5.484525087890625,17.6357,5.484525087890625Q17.9694,5.484525087890625,18.1842,5.697745087890625Q18.4007,5.909335087890625,18.4007,6.2543850878906255Q18.4007,6.604315087890625,18.1842,6.822415087890625Q17.9694,7.0405150878906255,17.6292,7.0405150878906255Q17.3298,7.0405150878906255,17.119799999999998,6.890775087890625Q16.9098,6.739415087890626,16.825200000000002,6.474115087890625L16.3597,6.749175087890626Q16.470399999999998,7.110505087890624,16.807299999999998,7.335115087890625Q17.144199999999998,7.559725087890625,17.6292,7.559725087890625Q18.0296,7.559725087890625,18.3438,7.392075087890625Q18.6595,7.224435087890625,18.832,6.929835087890625ZM10,10.634915087890626C10,11.024655087890626,9.85136,11.379685087890625,9.60768,11.646395087890625L12.1689,15.171615087890626C12.2754,15.147615087890625,12.3862,15.134915087890626,12.5,15.134915087890626C12.5965,15.134915087890626,12.6908,15.144015087890624,12.7823,15.161415087890624L16.108800000000002,11.196955087890625C16.0387,11.023375087890624,16,10.833655087890625,16,10.634915087890626C16,9.806495087890625,16.671599999999998,9.134915087890626,17.5,9.134915087890626C18.3284,9.134915087890626,19,9.806495087890625,19,10.634915087890626C19,11.463345087890625,18.3284,12.134915087890626,17.5,12.134915087890626C17.2395,12.134915087890626,16.994500000000002,12.068505087890625,16.781,11.951675087890624L13.6547,15.677415087890624C13.8703,15.937215087890625,14,16.270915087890625,14,16.634915087890626C14,17.463315087890624,13.3284,18.134915087890626,12.5,18.134915087890626C11.67157,18.134915087890626,11,17.463315087890624,11,16.634915087890626C11,16.284415087890626,11.12019,15.962015087890626,11.3216,15.706715087890625L8.71539,12.119565087890624C8.645050000000001,12.129685087890625,8.57314,12.134915087890626,8.5,12.134915087890626C8.162099999999999,12.134915087890626,7.8503,12.023195087890626,7.59952,11.834665087890626L4.50558,15.521915087890624C4.80921,15.796415087890624,5,16.193415087890624,5,16.634915087890626C5,17.463315087890624,4.32843,18.134915087890626,3.5,18.134915087890626C2.671573,18.134915087890626,2,17.463315087890624,2,16.634915087890626C2,15.806515087890626,2.671573,15.134915087890626,3.5,15.134915087890626C3.5082500000000003,15.134915087890626,3.51648,15.135015087890626,3.5247,15.135115087890625L7.03382,10.953115087890625C7.01167,10.850565087890626,7,10.744105087890624,7,10.634915087890626C7,9.806495087890625,7.67157,9.134915087890626,8.5,9.134915087890626C9.32843,9.134915087890626,10,9.806495087890625,10,10.634915087890626Z" stroke-opacity="0" stroke="none"></path>'),oI=Ln('<path d="M20,3.5C20,4.15311,19.5826,4.70873,19,4.91465L19,18.5C19,18.7761,18.7761,19,18.5,19L4.91465,19C4.70873,19.5826,4.15311,20,3.5,20C2.671573,20,2,19.3284,2,18.5C2,17.846899999999998,2.417404,17.2913,3,17.0854L3,3.5C3,3.22386,3.22386,3,3.5,3L17.0854,3C17.2913,2.417404,17.846899999999998,2,18.5,2C19.3284,2,20,2.671573,20,3.5ZM17.0854,4C17.236,4.42621,17.5738,4.763999999999999,18,4.91465L18,8L14,8L14,4L17.0854,4ZM13,4L13,8L9,8L9,4L13,4ZM13,9L9,9L9,13L13,13L13,9ZM13,14L9,14L9,18L13,18L13,14ZM14,18L14,14L18,14L18,18L14,18ZM18,13L14,13L14,9L18,9L18,13ZM4.91465,18C4.763999999999999,17.5738,4.42621,17.236,4,17.0854L4,14L8,14L8,18L4.91465,18ZM4,8L4,4L8,4L8,8L4,8ZM8,9L8,13L4,13L4,9L8,9Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1"></path>'),nI=Ln('<path d="M6.91465,11L11.08535,11C11.29127,10.417404,11.84689,10,12.5,10C13.15311,10,13.70873,10.417404,13.91465,11L18.5,11C18.7761,11,19,11.22386,19,11.5C19,11.77614,18.7761,12,18.5,12L13.91465,12C13.70873,12.5826,13.15311,13,12.5,13C11.84689,13,11.29127,12.5826,11.08535,12L6.91465,12C6.70873,12.5826,6.15311,13,5.5,13C4.671573,13,4,12.32843,4,11.5C4,10.671573,4.671573,10,5.5,10C6.15311,10,6.70873,10.417404,6.91465,11Z" stroke-opacity="0" stroke="none"></path>'),sI=Ln('<path d="M6.91465,12.5C6.70873,13.0826,6.15311,13.5,5.5,13.5C4.671573,13.5,4,12.82843,4,12C4,11.171573,4.671573,10.5,5.5,10.5C6.15311,10.5,6.70873,10.917404,6.91465,11.5L16.0853,11.5C16.2913,10.917404,16.846899999999998,10.5,17.5,10.5C18.328400000000002,10.5,19,11.171573,19,12C19,12.82843,18.328400000000002,13.5,17.5,13.5C16.846899999999998,13.5,16.2913,13.0826,16.0853,12.5L6.91465,12.5Z" stroke-opacity="0" stroke="none"></path>'),iI=Ln('<path d="M5.80417,14.9887L4.62563,16.167299999999997C4.43037,16.3625,4.43037,16.6791,4.62563,16.8744C4.82089,17.0696,5.13748,17.0696,5.332739999999999,16.8744L6.62638,15.5807C7.75595,16.290100000000002,9.19328,16.7929,11,16.7929C16.165399999999998,16.7929,18.3323,12.64289,18.8866,11.36789C19.0378,10.99289,19.0378,10.59289,18.8866,10.21789C18.5549,9.45486,17.6456,7.66212,15.8617,6.34545L17.3536,4.853553C17.5488,4.658291,17.5488,4.341709,17.3536,4.146447C17.1583,3.9511845,16.8417,3.9511845,16.6464,4.146447L15.0014,5.7915399999999995C13.9314,5.1969,12.61166,4.792893,11,4.792893C5.80945,4.792893,3.667717,8.94289,3.113386,10.21789C2.9622049,10.59289,2.9622049,10.99289,3.113386,11.36789C3.424435,12.08333,4.2353000000000005,13.70399,5.80417,14.9887ZM7.36012,14.847C8.32327,15.4074,9.52286,15.7929,11,15.7929C15.5606,15.7929,17.4756,12.11789,17.9543,10.99289C18.0047,10.86789,18.0047,10.74289,17.9543,10.61789C17.659,9.90846,16.8171,8.23812,15.1447,7.06241L12.96929,9.23782C13.3134,9.66543,13.5197,10.20642,13.5197,10.79289C13.5197,12.16789,12.38583,13.29289,11,13.29289C10.41596,13.29289,9.87667,13.09308,9.44815,12.75896L7.36012,14.847ZM8.794609999999999,11.99829L6.520099999999999,14.2728C5.06905,13.12119,4.32057,11.628250000000001,4.04567,10.96789C3.995275,10.84289,3.995275,10.71789,4.04567,10.59289C4.52441,9.46789,6.43937,5.79289,11,5.79289C12.28868,5.79289,13.3661,6.086320000000001,14.2596,6.53329L12.19759,8.5953C11.84086,8.40257,11.43271,8.29289,11,8.29289C9.61417,8.29289,8.480319999999999,9.41789,8.480319999999999,10.79289C8.480319999999999,11.22918,8.594470000000001,11.64029,8.794609999999999,11.99829ZM10.16528,12.04183C10.404869999999999,12.20032,10.692070000000001,12.29289,11,12.29289C11.8315,12.29289,12.51181,11.61789,12.51181,10.79289C12.51181,10.48318,12.41593,10.194600000000001,12.25216,9.95494L10.16528,12.04183ZM11.43602,9.35687L9.55616,11.236740000000001C9.512,11.09633,9.48819,10.94724,9.48819,10.79289C9.48819,9.96789,10.1685,9.29289,11,9.29289C11.15142,9.29289,11.29782,9.31528,11.43602,9.35687Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1"></path>'),rI=Ln('<path d="M11,17C5.80945,17,3.667717,12.85,3.113386,11.575C2.9622047,11.2,2.9622047,10.8,3.113386,10.425C3.667717,9.15,5.80945,5,11,5C16.165399999999998,5,18.3323,9.15,18.8866,10.425C19.0378,10.8,19.0378,11.2,18.8866,11.575C18.3323,12.85,16.165399999999998,17,11,17ZM4.04567,10.8C3.995276,10.925,3.995276,11.05,4.04567,11.175C4.52441,12.325,6.43937,16,11,16C15.5606,16,17.4756,12.325,17.9543,11.2C18.0047,11.075,18.0047,10.95,17.9543,10.825C17.4756,9.675,15.5606,6,11,6C6.43937,6,4.52441,9.675,4.04567,10.8ZM11,13.5C9.61417,13.5,8.480319999999999,12.375,8.480319999999999,11C8.480319999999999,9.625,9.61417,8.5,11,8.5C12.38583,8.5,13.5197,9.625,13.5197,11C13.5197,12.375,12.38583,13.5,11,13.5ZM11,9.5C10.1685,9.5,9.48819,10.175,9.48819,11C9.48819,11.825,10.1685,12.5,11,12.5C11.8315,12.5,12.51181,11.825,12.51181,11C12.51181,10.175,11.8315,9.5,11,9.5Z" fill-opacity="1" stroke="currentColor" stroke-width="1"></path>'),aI=Ln('<defs><clipPath id="master_svg0_151_625"><rect x="0" y="0" width="22" height="22" rx="0"></rect></clipPath></defs><g clip-path="url(#master_svg0_151_625)"><path d="M14.5385,9.76923L15.6538,9.76923C16.6538,9.76923,17.4615,10.576920000000001,17.4615,11.576920000000001L17.4615,17.1923C17.4615,18.1923,16.6538,19,15.6538,19L5.80769,19C4.807692,19,4,18.1923,4,17.1923L4,11.576920000000001C4,10.576920000000001,4.807692,9.76923,5.80769,9.76923L7.23077,9.76923L7.23077,7.576919999999999C7.23077,5.61538,8.88462,4,10.88462,4C12.88462,4,14.5385,5.61538,14.5385,7.576919999999999L14.5385,9.76923ZM10.88461,5.15385C9.5,5.15385,8.38461,6.23077,8.38461,7.576919999999999L8.38461,9.76923L13.38462,9.76923L13.38462,7.576919999999999C13.38462,6.23077,12.26923,5.15385,10.88461,5.15385ZM15.6538,17.8462C16,17.8462,16.3077,17.5385,16.3077,17.1923L16.3077,11.576920000000001C16.3077,11.23077,16,10.923079999999999,15.6538,10.923079999999999L5.80769,10.923079999999999C5.46154,10.923079999999999,5.15385,11.23077,5.15385,11.576920000000001L5.15385,17.1923C5.15385,17.5385,5.46154,17.8462,5.80769,17.8462L15.6538,17.8462ZM10.153839999999999,12.65385C10.153839999999999,12.34615,10.42307,12.07692,10.73076,12.07692C11.038450000000001,12.07692,11.307680000000001,12.34615,11.307680000000001,12.65385L11.307680000000001,14.5769C11.307680000000001,14.8846,11.038450000000001,15.1538,10.73076,15.1538C10.42307,15.1538,10.153839999999999,14.8846,10.153839999999999,14.5769L10.153839999999999,12.65385Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1"></path></g>',1),lI=Ln('<path d="M19.6401,7.99355C20.4028,7.92291,21,7.2811900000000005,21,6.5C21,5.671573,20.3284,5,19.5,5C18.8469,5,18.2913,5.417404,18.0854,6L7.62067,6C7.34453,6,7.12067,6.22386,7.12067,6.5C7.12067,6.5479,7.12741,6.59423,7.13999,6.63809L3.2294099999999997,15.0243C2.530138,15.1517,2,15.764,2,16.5C2,17.328400000000002,2.671573,18,3.5,18C4.15311,18,4.70873,17.5826,4.91465,17L14.5963,17C14.6456,17.076,14.7162,17.1396,14.8044,17.1807C15.0546,17.2974,15.3521,17.1891,15.4688,16.9388L19.6401,7.99355ZM14.7896,16.0293L18.6551,7.739599999999999C18.3942,7.56144,18.1925,7.30307,18.0854,7L8.0746,7L4.25044,15.2009C4.55701,15.3784,4.79493,15.6613,4.91465,16L14.6207,16C14.68,16,14.7368,16.0103,14.7896,16.0293Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1"></path>'),cI=Ln('<path d="M3.3367688759765626,12.63173C3.5320318759765623,12.82699,3.8486138759765627,12.82699,4.043876875976562,12.63173L11.822052875976562,4.853553C12.017312875976563,4.658291,12.017312875976563,4.341708,11.822052875976562,4.146446C11.626792875976562,3.9511843,11.310202875976563,3.9511843,11.114942875976563,4.146446L3.3367688759765626,11.92462C3.1415071759765625,12.11988,3.1415071759765625,12.43647,3.3367688759765626,12.63173ZM5.001492875976562,17.0351C4.806232875976562,16.8399,4.806232875976562,16.5233,5.001492875976562,16.328L7.304532875976562,14.025C7.210822875976563,13.82916,7.158352875976563,13.60984,7.158352875976563,13.37827C7.158352875976563,12.54984,7.829922875976562,11.87827,8.658352875976561,11.87827C8.889922875976563,11.87827,9.109232875976563,11.93075,9.305052875976562,12.02446L11.304532875976562,10.02498C11.210822875976563,9.82916,11.158352875976561,9.60984,11.158352875976561,9.37827C11.158352875976561,8.54984,11.829922875976562,7.8782700000000006,12.658352875976563,7.8782700000000006C12.889922875976563,7.8782700000000006,13.109232875976563,7.93075,13.305022875976562,8.024460000000001L15.608122875976562,5.72142C15.803322875976562,5.5261499999999995,16.119922875976563,5.5261499999999995,16.315222875976563,5.72142C16.510422875976563,5.9166799999999995,16.510422875976563,6.23326,16.315222875976563,6.42852L14.012122875976562,8.73156C14.105822875976562,8.92738,14.158322875976562,9.1467,14.158322875976562,9.37827C14.158322875976562,10.2067,13.486822875976562,10.87827,12.658352875976563,10.87827C12.426772875976562,10.87827,12.207452875976562,10.82579,12.011642875976563,10.73209L10.012162875976562,12.73156C10.105872875976562,12.92738,10.158352875976561,13.1467,10.158352875976561,13.37827C10.158352875976561,14.2067,9.486772875976563,14.8783,8.658352875976561,14.8783C8.426772875976562,14.8783,8.207452875976562,14.8258,8.011642875976563,14.7321L5.708602875976562,17.0351C5.513342875976562,17.2304,5.196752875976562,17.2304,5.001492875976562,17.0351ZM10.415712875976563,18.328C10.220452875976562,18.5233,9.903862875976563,18.5233,9.708602875976563,18.328C9.513342875976562,18.1328,9.513342875976562,17.816200000000002,9.708602875976563,17.6209L12.304532875976562,15.025C12.210822875976563,14.8292,12.158352875976563,14.6098,12.158352875976563,14.3783C12.158352875976563,13.54984,12.829922875976562,12.87827,13.658322875976562,12.87827C13.889922875976563,12.87827,14.109222875976563,12.93075,14.305022875976562,13.02446L17.486822875976564,9.84274C17.682022875976564,9.64747,17.99862287597656,9.64747,18.19392287597656,9.84274C18.38912287597656,10.038,18.38912287597656,10.35458,18.19392287597656,10.54984L15.012122875976562,13.73156C15.105822875976562,13.92738,15.158322875976562,14.1467,15.158322875976562,14.3783C15.158322875976562,15.2067,14.486822875976562,15.8783,13.658322875976562,15.8783C13.426822875976562,15.8783,13.207422875976562,15.8258,13.011642875976563,15.7321L10.415712875976563,18.328Z" stroke-opacity="0" stroke="none"></path>'),dI=Ln('<path d="M3.146447,14.178126025390625C2.9511847,13.982826025390626,2.9511847,13.666226025390625,3.146447,13.470926025390625L7.39146,9.225966025390626C7.35417,9.095106025390624,7.33421,8.956946025390625,7.33421,8.814116025390625C7.33421,7.985696025390625,8.00578,7.314116025390625,8.834209999999999,7.314116025390625C8.97703,7.314116025390625,9.11519,7.334086025390625,9.24605,7.371366025390625L13.753,2.864373025390625C13.9483,2.669110325390625,14.2649,2.669110325390625,14.4602,2.864373025390625C14.6554,3.059635025390625,14.6554,3.376217025390625,14.4602,3.571479025390625L10.06916,7.962476025390625C10.23631,8.204386025390626,10.334209999999999,8.497826025390625,10.334209999999999,8.814116025390625C10.334209999999999,9.642546025390626,9.66264,10.314116025390625,8.834209999999999,10.314116025390625C8.51791,10.314116025390625,8.22448,10.216226025390625,7.98256,10.049076025390626L3.853554,14.178126025390625C3.658291,14.373326025390625,3.341709,14.373326025390625,3.146447,14.178126025390625ZM7.67736,19.188526025390626C7.4821,18.993226025390626,7.4821,18.676626025390625,7.67736,18.481426025390626L9.9804,16.178326025390625C9.88669,15.982526025390625,9.834209999999999,15.763226025390624,9.834209999999999,15.531626025390626C9.834209999999999,14.703226025390626,10.50578,14.031626025390626,11.33421,14.031626025390626C11.56579,14.031626025390626,11.78511,14.084126025390624,11.98093,14.177826025390624L13.9804,12.178356025390626C13.8867,11.982536025390624,13.8342,11.763216025390625,13.8342,11.531636025390625C13.8342,10.703206025390624,14.5058,10.031636025390625,15.3342,10.031636025390625C15.5658,10.031636025390625,15.7851,10.084116025390625,15.9809,10.177826025390626L18.284,7.874796025390625C18.4792,7.679536025390625,18.7958,7.679536025390625,18.9911,7.874796025390625C19.1863,8.070056025390624,19.1863,8.386636025390626,18.9911,8.581906025390625L16.688000000000002,10.884936025390624C16.7817,11.080756025390626,16.8342,11.300066025390626,16.8342,11.531636025390625C16.8342,12.360066025390624,16.162599999999998,13.031626025390626,15.3342,13.031626025390626C15.1026,13.031626025390626,14.8833,12.979126025390626,14.6875,12.885426025390625L12.68803,14.884926025390625C12.78174,15.080726025390625,12.83421,15.300026025390626,12.83421,15.531626025390626C12.83421,16.360026025390624,12.16264,17.031626025390626,11.33421,17.031626025390626C11.10264,17.031626025390626,10.88333,16.979126025390627,10.68751,16.885426025390625L8.38446,19.188526025390626C8.1892,19.383726025390626,7.87262,19.383726025390626,7.67736,19.188526025390626Z" stroke-opacity="0" stroke="none"></path>'),uI=Ln('<g transform="scale(0.9166666667)"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="m2.285 10.333 8.048-8.048a.977.977 0 1 1 1.381 1.381l-8.048 8.049a.977.977 0 0 1-1.381-1.382Zm10 10 8.048-8.048a.977.977 0 1 1 1.381 1.381l-8.048 8.049a.977.977 0 0 1-1.381-1.382ZM19 8a2.966 2.966 0 0 1-1.308-.312l-10 10c.202.408.307.857.308 1.312a3.03 3.03 0 1 1-1.693-2.689l10-10A2.993 2.993 0 1 1 19 8ZM5 18a1 1 0 1 0 0 2 1 1 0 0 0 0-2ZM19 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"></path></g>'),vI=Ln('<path d="M6.91465,13.00505L18.5,13.00505C18.7761,13.00505,19,13.228909999999999,19,13.50505C19,13.781189999999999,18.7761,14.00505,18.5,14.00505L6.91465,14.00505C6.70873,14.58765,6.15311,15.00505,5.5,15.00505C4.671573,15.00505,4,14.33348,4,13.50505C4,12.67662,4.671573,12.00505,5.5,12.00505C6.15311,12.00505,6.70873,12.422450000000001,6.91465,13.00505ZM7.81404,11.625L10.48591,11.625L10.48591,10.90625L9.65193,10.90625L9.65193,7.125L8.997630000000001,7.125C8.71443,7.306641,8.415600000000001,7.419922,7.96443,7.498047L7.96443,8.05078L8.77497,8.05078L8.77497,10.90625L7.81404,10.90625L7.81404,11.625ZM11.081620000000001,11.625L14.0562,11.625L14.0562,10.88281L13.09724,10.88281C12.8863,10.88281,12.59333,10.90625,12.36482,10.93555C13.17537,10.11328,13.84724,9.2207,13.84724,8.39062C13.84724,7.541016,13.28865,7,12.4488,7C11.84333,7,11.446850000000001,7.234375,11.03279,7.679688L11.52497,8.16797C11.747630000000001,7.914062,12.0113,7.697266,12.33552,7.697266C12.7613,7.697266,13.00154,7.982422,13.00154,8.43359C13.00154,9.14648,12.29255,10.00781,11.081620000000001,11.11523L11.081620000000001,11.625ZM15.9605,11.75C16.8121,11.75,17.526899999999998,11.2832,17.526899999999998,10.4375C17.526899999999998,9.82031,17.142200000000003,9.43945,16.6441,9.30078L16.6441,9.27148C17.1129,9.08594,17.3824,8.7207,17.3824,8.21289C17.3824,7.421875,16.8004,7,15.9429,7C15.4215,7,14.9957,7.210938,14.6109,7.541016L15.066,8.11133C15.3258,7.849609,15.5836,7.697266,15.9019,7.697266C16.2789,7.697266,16.4957,7.914062,16.4957,8.28125C16.4957,8.70898,16.2301,9,15.4215,9L15.4215,9.63672C16.3804,9.63672,16.6383,9.91992,16.6383,10.38086C16.6383,10.79688,16.3336,11.03125,15.8824,11.03125C15.4742,11.03125,15.1578,10.82227,14.8922,10.55078L14.4781,11.13281C14.7906,11.486329999999999,15.2652,11.75,15.9605,11.75Z" stroke-opacity="0" stroke="none"></path>'),pI=Ln('<g transform="scale(0.7857142857)" fill="currentColor" fill-rule="nonzero"><path d="M8.354 20.354l5-5-.707-.707-5 5z"></path><path d="M16.354 12.354l8-8-.707-.707-8 8z"></path><path d="M14.5 15c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM6.5 23c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"></path></g>'),fI=Ln('<g transform="scale(0.9166666667)"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M3 6C3 7.30622 3.83481 8.41746 5 8.82929V15.1707C3.83481 15.5825 3 16.6938 3 18C3 19.6569 4.34315 21 6 21C7.30622 21 8.41746 20.1652 8.82929 19H15.1707C15.5825 20.1652 16.6938 21 18 21C19.6569 21 21 19.6569 21 18C21 16.6938 20.1652 15.5825 19 15.1707V8.82929C20.1652 8.41746 21 7.30622 21 6C21 4.34315 19.6569 3 18 3C16.6938 3 15.5825 3.83481 15.1707 5H8.82929C8.41746 3.83481 7.30622 3 6 3C4.34315 3 3 4.34315 3 6ZM6 7C6.55228 7 7 6.55228 7 6C7 5.44772 6.55228 5 6 5C5.44772 5 5 5.44772 5 6C5 6.55228 5.44772 7 6 7ZM17 15.1707V8.82929C16.1476 8.52801 15.472 7.85242 15.1707 7H8.82929C8.52801 7.85241 7.85241 8.52801 7 8.82929V15.1707C7.85241 15.472 8.52801 16.1476 8.82929 17H15.1707C15.472 16.1476 16.1476 15.472 17 15.1707ZM18 7C18.5523 7 19 6.55228 19 6C19 5.44772 18.5523 5 18 5C17.4477 5 17 5.44772 17 6C17 6.55228 17.4477 7 18 7ZM7 18C7 18.5523 6.55228 19 6 19C5.44772 19 5 18.5523 5 18C5 17.4477 5.44772 17 6 17C6.55228 17 7 17.4477 7 18ZM19 18C19 18.5523 18.5523 19 18 19C17.4477 19 17 18.5523 17 18C17 17.4477 17.4477 17 18 17C18.5523 17 19 17.4477 19 18Z"></path></g>'),gI=Ln('<path d="M16.966900000000003,8.67144C16.6669,8.67144,16.4247,8.91558,16.4247,9.21802L16.4247,16.631500000000003C16.4247,17.322,16.007199999999997,17.9068,15.5139,17.9068L13.93072,17.9068L13.93072,9.2162C13.93072,8.91741,13.68675,8.67144,13.38855,8.67144C13.09036,8.67144,12.84639,8.91741,12.84639,9.21802L12.84639,17.9068L10.151810000000001,17.9068L10.151810000000001,9.21802C10.151810000000001,8.91741,9.90783,8.67144,9.609639999999999,8.67144C9.31145,8.67144,9.06747,8.91741,9.06747,9.219850000000001L9.06747,17.9068L7.48614,17.9068C6.99277,17.9068,6.5753,17.322,6.5753,16.631500000000003L6.5753,9.21802C6.5753,8.91558,6.333130000000001,8.67144,6.03313,8.67144C5.73313,8.67144,5.49096,8.91558,5.49096,9.21802L5.49096,16.631500000000003C5.49096,17.9378,6.385540000000001,19,7.48614,19L15.512,19C16.6127,19,17.509,17.9378,17.509,16.631500000000003L17.509,9.21802C17.509,8.91558,17.2669,8.67144,16.966900000000003,8.67144ZM18.4578,6.21183L4.542169,6.21183C4.243976,6.21183,4,6.45779,4,6.75841C4,7.05903,4.243976,7.30499,4.542169,7.30499L18.4578,7.30499C18.756,7.30499,19,7.05903,19,6.75841C19,6.45779,18.756,6.21183,18.4578,6.21183ZM8.68072,5.10045L14.3193,5.10045C14.6175,5.10045,14.8614,4.852666,14.8614,4.550225C14.8614,4.247783,14.6175,4,14.3193,4L8.68072,4C8.38253,4,8.13855,4.247783,8.13855,4.550225C8.13855,4.852666,8.38253,5.10045,8.68072,5.10045Z" fill-opacity="1" stroke="currentColor" stroke-width="1"></path>'),_I=Ln('<circle cx="11" cy="11" r="8" fill="none" stroke="currentColor" stroke-width="1.5"></circle><circle cx="8.5" cy="8.5" r="1" fill="currentColor"></circle><circle cx="13.5" cy="8.5" r="1" fill="currentColor"></circle><path d="M7.5 13.5 Q11 16.5 14.5 13.5" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path>',1),mI=Ln('<g fill="currentColor"><path d="M5 5h12v2h-5v10h-2V7H5z"></path></g>'),hI=Ln('<g transform="scale(0.9166666667)"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M19.054 7.988a2.988 2.988 0 0 1-1.31-.312l-10 10a3.027 3.027 0 1 1-1.38-1.381l10-10a2.994 2.994 0 1 1 2.69 1.693Zm-14 10a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm14-14a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"></path></g>'),yI=Ln('<path d="M6,4L6,8L4,8L4,16L6,16L6,20L8,20L8,16L10,16L10,8L8,8L8,4L6,4ZM14,2L14,6L12,6L12,14L14,14L14,18L16,18L16,14L18,14L18,6L16,6L16,2L14,2Z" stroke-opacity="0" stroke="none"></path>'),bI=Ln('<path d="M3,18L4.5,16.5L8,13L12,17L16,13L19,16L21,14L19,12L16,15L12,11L8,15L4.5,18.5L3,20Z" stroke-opacity="0" stroke="none"></path>'),xI=Ln('<path d="M3,18L4.5,16.5L8,13L12,17L16,13L19,16L21,14L21,20L3,20Z" stroke-opacity="0" stroke="none"></path>'),wI=Ln('<path d="M6,4L6,8L4,8L4,16L6,16L6,20L8,20L8,16L10,16L10,8L8,8L8,4L6,4ZM14,2L14,6L12,6L12,14L14,14L14,18L16,18L16,14L18,14L18,6L16,6L16,2L14,2Z" stroke-opacity="0" stroke="none" fill="currentColor"></path>'),kI=Ln('<path d="M6,4L6,8M6,16L6,20M14,2L14,6M14,14L14,18" stroke="currentColor" stroke-width="0.5" fill="none"></path><rect x="4" y="8" width="4" height="8" stroke="currentColor" stroke-width="0.5" fill="none"></rect><rect x="12" y="6" width="4" height="8" stroke="currentColor" stroke-width="0.5" fill="none"></rect>',1),SI=Ln('<path d="M6,4L6,8M6,16L6,20M14,2L14,6M14,14L14,18" stroke="currentColor" stroke-width="0.5" fill="none"></path><rect x="4" y="8" width="4" height="8" stroke="currentColor" stroke-width="0.5" fill="none"></rect><rect x="12" y="6" width="4" height="8" stroke="currentColor" stroke-width="0.5" fill="currentColor" fill-opacity="0.3"></rect>',1),CI=Ln('<path d="M6,4L6,8M6,16L6,20M14,2L14,6M14,14L14,18" stroke="currentColor" stroke-width="0.5" fill="none"></path><rect x="4" y="8" width="4" height="8" stroke="currentColor" stroke-width="0.5" fill="currentColor" fill-opacity="0.3"></rect><rect x="12" y="6" width="4" height="8" stroke="currentColor" stroke-width="0.5" fill="none"></rect>',1),II=Ln('<path d="M6,4L6,20M12,2L12,22M18,3L18,21" stroke="currentColor" stroke-width="0.5"></path><path d="M4,8L6,8M6,16L8,16M10,6L12,6M12,16L14,16M16,7L18,7M18,13L20,13" stroke="currentColor" stroke-width="0.5"></path>',1),PI=Ln('<g stroke-width="1.2" fill="none"><g stroke="#00E6D8"><line x1="3" y1="13" x2="6" y2="16"></line><line x1="6" y1="13" x2="3" y2="16"></line><line x1="3" y1="9" x2="6" y2="12"></line><line x1="6" y1="9" x2="3" y2="12"></line><line x1="3" y1="5" x2="6" y2="8"></line><line x1="6" y1="5" x2="3" y2="8"></line></g><g stroke="#FF4D4D"><circle cx="10.5" cy="10.5" r="1.8"></circle><circle cx="10.5" cy="14.5" r="1.8"></circle><circle cx="10.5" cy="18.5" r="1.8"></circle></g><g stroke="#00E6D8"><line x1="15" y1="9" x2="18" y2="12"></line><line x1="18" y1="9" x2="15" y2="12"></line><line x1="15" y1="5" x2="18" y2="8"></line><line x1="18" y1="5" x2="15" y2="8"></line></g></g>'),MI=Ln('<path d="M5.146447,15.753C4.9511845,15.9483,4.9511845,16.2649,5.146447,16.4602C5.341709,16.6554,5.658291,16.6554,5.853554,16.4602L8.156600000000001,14.15711C8.352409999999999,14.25082,8.57173,14.3033,8.8033,14.3033C9.631730000000001,14.3033,10.3033,13.63172,10.3033,12.80329C10.3033,12.57172,10.250820000000001,12.352409999999999,10.157119999999999,12.15659L12.156600000000001,10.15711C12.352409999999999,10.250820000000001,12.571729999999999,10.30329,12.8033,10.30329C13.63173,10.30329,14.3033,9.63172,14.3033,8.80329C14.3033,8.57172,14.25082,8.352409999999999,14.15712,8.15659L16.4602,5.853553C16.6554,5.658291,16.6554,5.341709,16.4602,5.146447C16.2649,4.9511843,15.9483,4.9511843,15.753,5.146447L13.45001,7.449479999999999C13.25419,7.35577,13.03487,7.3032900000000005,12.8033,7.3032900000000005C11.97487,7.3032900000000005,11.3033,7.97487,11.3033,8.80329C11.3033,9.03487,11.35578,9.254190000000001,11.44949,9.450009999999999L9.450009999999999,11.449480000000001C9.254190000000001,11.35577,9.03487,11.30329,8.8033,11.30329C7.97487,11.30329,7.3033,11.97487,7.3033,12.80329C7.3033,13.03487,7.35578,13.25419,7.44949,13.45001L5.146447,15.753Z" stroke-opacity="0" stroke="none"></path>'),TI=Ln('<defs><clipPath id="master_svg0_151_615"><rect x="0" y="0" width="22" height="22" rx="0"></rect></clipPath></defs><g clip-path="url(#master_svg0_151_615)"><path d="M19.672,3.0673368C19.4417,2.9354008,19.1463,3.00292252,18.9994,3.2210900000000002L17.4588,5.50622L16.743299999999998,3.781253L13.9915,7.4662L13.9618,7.51108C13.8339,7.72862,13.8936,8.005659999999999,14.1004,8.15391L14.1462,8.183430000000001C14.3683,8.308720000000001,14.6511,8.25001,14.8022,8.047229999999999L16.4907,5.78571L17.246299999999998,7.60713L19.8374,3.7635389999999997L19.8651,3.717088C19.9871,3.484615,19.9023,3.199273,19.672,3.0673368ZM4.79974,8.462530000000001L10.117740000000001,3.252975C10.31381,3.0610145,10.63152,3.0610145,10.82759,3.252975L13.4115,5.78453C13.6076,5.976710000000001,13.6076,6.28833,13.4115,6.4805L8.093869999999999,11.69045C7.48847,12.28368,7.51659,13.3308,8.151309999999999,13.9528C8.786439999999999,14.5755,9.85421,14.6027,10.45961,14.0087L15.7768,8.79831C15.9729,8.60609,16.2909,8.60609,16.487099999999998,8.79831L19.0705,11.33026C19.2667,11.52244,19.2667,11.83406,19.0705,12.02623L13.7533,17.2366C11.32572,19.6158,7.30328,19.578,4.85679,17.1807C2.410298,14.7834,2.371331,10.84174,4.79974,8.462530000000001ZM12.3461,6.1325199999999995L10.47246,4.29654L5.51079,9.15889C3.477674,11.15076,3.510214,14.4688,5.56784,16.4847C7.62506,18.500999999999998,11.01117,18.5325,13.0439,16.540599999999998L15.6842,13.9529L14.2908,12.58718L15.0011,11.89161L16.394399999999997,13.2569L18.0056,11.67786L16.1323,9.84188L11.16985,14.7046C10.18764,15.6679,8.540980000000001,15.6494,7.51498,14.7184L7.44107,14.6487C6.4219,13.65,6.37771,11.98096,7.38362,10.994869999999999L10.02485,8.40693L8.624939999999999,7.03516L9.335180000000001,6.33919L10.73512,7.71099L12.3461,6.1325199999999995Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1"></path></g>',1),AI=Ln('<path d="M8.134443814697265,7.494615087890625L8.764323814697265,7.494615087890625L8.764323814697265,3.414215087890625L8.310223814697267,3.414215087890625L7.294603814697266,4.005035087890625L7.289713814697266,4.634915087890625L8.134443814697265,4.149892087890625L8.134443814697265,7.494615087890625ZM18.832003814697266,6.933095087890624Q19.004603814697266,6.635245087890625,19.004603814697266,6.2543850878906255Q19.004603814697266,5.884915087890625,18.845103814697264,5.593575087890625Q18.685503814697267,5.3006050878906255,18.399103814697266,5.136225087890625Q18.114303814697266,4.9702050878906245,17.754603814697266,4.9653250878906245L18.820603814697265,3.840647087890625L18.820603814697265,3.414215087890625L16.519203814697264,3.414215087890625L16.519203814697264,3.939931087890625L18.050803814697264,3.939931087890625L16.719403814697266,5.334785087890625L17.074203814697263,5.7205350878906245Q17.254903814697265,5.484525087890625,17.619503814697268,5.484525087890625Q17.980803814697268,5.484525087890625,18.187503814697266,5.689605087890625Q18.394203814697267,5.894685087890625,18.394203814697267,6.2543850878906255Q18.394203814697267,6.604315087890625,18.187503814697266,6.822415087890625Q17.980803814697268,7.0405150878906255,17.640603814697265,7.0405150878906255Q17.334603814697267,7.0405150878906255,17.124703814697266,6.890775087890625Q16.914703814697265,6.739415087890626,16.820303814697265,6.469225087890624L16.354803814697263,6.744295087890626Q16.480103814697266,7.125155087890625,16.821903814697265,7.341625087890625Q17.165403814697264,7.559725087890625,17.640603814697265,7.559725087890625Q18.039403814697266,7.559725087890625,18.348603814697267,7.393705087890625Q18.659503814697267,7.229315087890625,18.832003814697266,6.933095087890624ZM10.000003814697266,10.634915087890626C10.000003814697266,11.024655087890626,9.851363814697265,11.379685087890625,9.607683814697266,11.646395087890625L12.168903814697266,15.171615087890626C12.275403814697265,15.147615087890625,12.386203814697266,15.134915087890626,12.500003814697266,15.134915087890626C12.596503814697266,15.134915087890626,12.690803814697265,15.144015087890624,12.782303814697265,15.161415087890624L16.108803814697268,11.196955087890625C16.038703814697264,11.023375087890624,16.000003814697266,10.833655087890625,16.000003814697266,10.634915087890626C16.000003814697266,9.806495087890625,16.671603814697264,9.134915087890626,17.500003814697266,9.134915087890626C18.328403814697264,9.134915087890626,19.000003814697266,9.806495087890625,19.000003814697266,10.634915087890626C19.000003814697266,11.463345087890625,18.328403814697264,12.134915087890626,17.500003814697266,12.134915087890626C17.239503814697265,12.134915087890626,16.994503814697268,12.068495087890625,16.781003814697264,11.951675087890624L13.654703814697266,15.677415087890624C13.870303814697266,15.937215087890625,14.000003814697266,16.270915087890625,14.000003814697266,16.634915087890626C14.000003814697266,17.463315087890624,13.328403814697266,18.134915087890626,12.500003814697266,18.134915087890626C11.671573814697265,18.134915087890626,11.000003814697266,17.463315087890624,11.000003814697266,16.634915087890626C11.000003814697266,16.284415087890626,11.120193814697265,15.962015087890626,11.321603814697266,15.706715087890625L8.715393814697265,12.119565087890624C8.645053814697267,12.129685087890625,8.573143814697266,12.134915087890626,8.500003814697266,12.134915087890626C8.162103814697264,12.134915087890626,7.8503038146972655,12.023195087890626,7.599523814697266,11.834665087890626L4.505583814697266,15.521915087890624C4.809213814697266,15.796415087890624,5.000003814697266,16.193415087890624,5.000003814697266,16.634915087890626C5.000003814697266,17.463315087890624,4.328433814697266,18.134915087890626,3.5000038146972656,18.134915087890626C2.6715768146972656,18.134915087890626,2.0000038146972656,17.463315087890624,2.0000038146972656,16.634915087890626C2.0000038146972656,15.806515087890626,2.6715768146972656,15.134915087890626,3.5000038146972656,15.134915087890626C3.508253814697266,15.134915087890626,3.5164838146972657,15.135015087890626,3.524703814697266,15.135115087890625L7.033823814697266,10.953115087890625C7.011673814697265,10.850565087890626,7.000003814697266,10.744105087890624,7.000003814697266,10.634915087890626C7.000003814697266,9.806495087890625,7.671573814697266,9.134915087890626,8.500003814697266,9.134915087890626C9.328433814697267,9.134915087890626,10.000003814697266,9.806495087890625,10.000003814697266,10.634915087890626Z" stroke-opacity="0" stroke="none"></path>'),DI=Ln('<path d="M11.57625,6.9981C11.55099,6.999359999999999,11.52557,7,11.5,7C11.34,7,11.18584,6.97495,11.04125,6.9285499999999995L5.55401,16.4327C5.713760000000001,16.5905,5.83826,16.7839,5.91465,17L16.0854,17C16.2187,16.622700000000002,16.4987,16.314700000000002,16.8569,16.1445L11.57625,6.9981ZM12.50759,6.611219999999999C12.81005,6.336790000000001,13,5.94058,13,5.5C13,4.671573,12.32843,4,11.5,4C10.67157,4,10,4.671573,10,5.5C10,5.80059,10.08841,6.08052,10.24066,6.31522L4.64514,16.0069C4.59738,16.002299999999998,4.54896,16,4.5,16C3.671573,16,3,16.671599999999998,3,17.5C3,18.328400000000002,3.671573,19,4.5,19C5.15311,19,5.70873,18.5826,5.91465,18L16.0854,18C16.2913,18.5826,16.846899999999998,19,17.5,19C18.328400000000002,19,19,18.328400000000002,19,17.5C19,16.8365,18.5691,16.2735,17.971899999999998,16.075699999999998L12.50759,6.611219999999999Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1"></path>'),LI=Ln('<g transform="scale(0.7857142857)"><path fill="currentColor" stroke="currentColor" stroke-width="1" fill-rule="evenodd" d="M14 6a3 3 0 0 0-3 3v3h8.5a2.5 2.5 0 0 1 2.5 2.5v7a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 6 21.5v-7A2.5 2.5 0 0 1 8.5 12H10V9a4 4 0 0 1 8 0h-1a3 3 0 0 0-3-3zm-1 11a1 1 0 1 1 2 0v2a1 1 0 1 1-2 0v-2zm-6-2.5c0-.83.67-1.5 1.5-1.5h11c.83 0 1.5.67 1.5 1.5v7c0 .83-.67 1.5-1.5 1.5h-11A1.5 1.5 0 0 1 7 21.5v-7z"></path></g>'),EI=Ln('<path d="M11.66558837890625,19C10.83716137890625,19,10.16558837890625,18.328400000000002,10.16558837890625,17.5C10.16558837890625,16.846899999999998,10.58298437890625,16.2913,11.16557337890625,16.0854L11.16557337890625,11.91464C10.58298437890625,11.70872,10.16558837890625,11.1531,10.16558837890625,10.5C10.16558837890625,9.8469,10.58298437890625,9.29128,11.16557337890625,9.08536L11.16557337890625,4.5C11.16557337890625,4.223857,11.38942837890625,4,11.66556837890625,4C11.94171837890625,4,12.16556837890625,4.223857,12.16556837890625,4.5L12.16556837890625,9.08535C12.74817837890625,9.291260000000001,13.16558837890625,9.846879999999999,13.16558837890625,10.5C13.16558837890625,11.153120000000001,12.74817837890625,11.708739999999999,12.16556837890625,11.91465L12.16556837890625,16.0854C12.74817837890625,16.2913,13.16558837890625,16.846899999999998,13.16558837890625,17.5C13.16558837890625,18.328400000000002,12.49401837890625,19,11.66558837890625,19Z" stroke-opacity="0" stroke="none"></path>'),FI=Ln('<path d="M11.165603637695312,6.91465C11.748203637695312,6.70873,12.165603637695312,6.15311,12.165603637695312,5.5C12.165603637695312,4.671573,11.494033637695313,4,10.665603637695312,4C9.837176637695313,4,9.165603637695312,4.671573,9.165603637695312,5.5C9.165603637695312,6.15311,9.583007637695312,6.70873,10.165603637695312,6.91465L10.165603637695312,16.0854C9.583007637695312,16.2913,9.165603637695312,16.846899999999998,9.165603637695312,17.5C9.165603637695312,18.328400000000002,9.837176637695313,19,10.665603637695312,19C11.494033637695313,19,12.165603637695312,18.328400000000002,12.165603637695312,17.5C12.165603637695312,16.846899999999998,11.748203637695312,16.2913,11.165603637695312,16.0854L11.165603637695312,6.91465Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1"></path>'),jI=Ln('<path d="M11,12.41465L11,18.5C11,18.7761,11.22386,19,11.5,19C11.77614,19,12,18.7761,12,18.5L12,12.41465C12.5826,12.20873,13,11.65311,13,11C13,10.34689,12.5826,9.79127,12,9.58535L12,3.5C12,3.223857,11.77614,3,11.5,3C11.22386,3,11,3.223857,11,3.5L11,9.58535C10.417404,9.79127,10,10.34689,10,11C10,11.65311,10.417404,12.20873,11,12.41465Z" stroke-opacity="0" stroke="none"></path>'),$I=Ln('<path d="M11,17C5.80945,17,3.667717,12.85,3.113386,11.575C2.9622047,11.2,2.9622047,10.8,3.113386,10.425C3.667717,9.15,5.80945,5,11,5C16.165399999999998,5,18.3323,9.15,18.8866,10.425C19.0378,10.8,19.0378,11.2,18.8866,11.575C18.3323,12.85,16.165399999999998,17,11,17ZM4.04567,10.8C3.995276,10.925,3.995276,11.05,4.04567,11.175C4.52441,12.325,6.43937,16,11,16C15.5606,16,17.4756,12.325,17.9543,11.2C18.0047,11.075,18.0047,10.95,17.9543,10.825C17.4756,9.675,15.5606,6,11,6C6.43937,6,4.52441,9.675,4.04567,10.8ZM11,13.5C9.61417,13.5,8.480319999999999,12.375,8.480319999999999,11C8.480319999999999,9.625,9.61417,8.5,11,8.5C12.38583,8.5,13.5197,9.625,13.5197,11C13.5197,12.375,12.38583,13.5,11,13.5ZM11,9.5C10.1685,9.5,9.48819,10.175,9.48819,11C9.48819,11.825,10.1685,12.5,11,12.5C11.8315,12.5,12.51181,11.825,12.51181,11C12.51181,10.175,11.8315,9.5,11,9.5Z" stroke-opacity="0" fill-opacity="1"></path>'),BI=Ln('<path d="M4.727219638671875,8.007996215820313L9.973849638671876,2.7629472158203123C10.167279638671875,2.5696791158203123,10.480729638671875,2.5696791158203123,10.674169638671875,2.7629472158203123L13.223329638671874,5.311756215820313C13.416929638671874,5.505236215820313,13.416929638671874,5.8189862158203125,13.223329638671874,6.012466215820313L7.977129638671875,11.257906215820313C7.379859638671875,11.855176215820313,7.407609638671875,12.909396215820312,8.033809638671876,13.535596215820313C8.660409638671876,14.162596215820313,9.713849638671874,14.189996215820312,10.311129638671876,13.591896215820313L15.556929638671875,8.346066215820311C15.750429638671875,8.152526215820313,16.064229638671875,8.152526215820313,16.257629638671872,8.346066215820311L18.806529638671876,10.895266215820312C19.000029638671876,11.088746215820313,19.000029638671876,11.402496215820312,18.806529638671876,11.595976215820313L13.560629638671875,16.841796215820313C11.165619638671876,19.237196215820312,7.197149638671875,19.19919621582031,4.783499638671875,16.785496215820313C2.3698426386718747,14.371896215820312,2.331397638671875,10.403416215820313,4.727219638671875,8.007996215820313ZM12.172299638671875,5.662106215820312L10.323809638671875,3.8136162158203124L5.4287196386718755,8.709096215820313C3.422893638671875,10.714536215820312,3.4549956386718748,14.055196215820313,5.484999638671875,16.08479621582031C7.514609638671875,18.114796215820313,10.855289638671875,18.146496215820314,12.860719638671876,16.141096215820312L15.465629638671874,13.535796215820312L14.090929638671875,12.160756215820312L14.791629638671875,11.460436215820312L16.166229638671876,12.834996215820313L17.755829638671877,11.245226215820313L15.907729638671874,9.396736215820312L11.011839638671875,14.292596215820312C10.042809638671875,15.262396215820312,8.418249638671874,15.243796215820312,7.406019638671875,14.306496215820312L7.333099638671875,14.236296215820312C6.327599638671876,13.230796215820313,6.284009638671876,11.550396215820312,7.276419638671875,10.557586215820312L9.882199638671874,7.952026215820313L8.501079638671875,6.570906215820313L9.201789638671876,5.870186215820313L10.582939638671874,7.251336215820312L12.172299638671875,5.662106215820312Z" fill-rule="evenodd" fill-opacity="1" stroke="currentColor" stroke-width="0.5"></path>'),OI=Ln('<g transform="scale(0.7857142857)" fill="currentColor" fill-rule="nonzero" stroke="currentColor" stroke-width="1"><path d="M20.449 8.505l2.103 9.112.974-.225-2.103-9.112zM13.943 14.011l7.631 4.856.537-.844-7.631-4.856zM14.379 11.716l4.812-3.609-.6-.8-4.812 3.609zM10.96 13.828l-4.721 6.744.819.573 4.721-6.744zM6.331 20.67l2.31-13.088-.985-.174-2.31 13.088zM9.041 7.454l1.995 3.492.868-.496-1.995-3.492z"></path><path d="M8.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM5.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM12.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM20.5 8c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM23.5 21c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"></path></g>'),RI=Ln('<path d="m19.45,17.57l-3.78,-9.16a0.92,0.92 0 0 0 -1.71,0l-3.78,9.16a0.92,0.92 0 1 0 1.71,0.71l0.77,-1.86l4.31,0l0.77,1.86a0.92,0.92 0 0 0 0.85,0.57a0.92,0.92 0 0 0 0.85,-1.28l0,0zm-6.03,-3.01l1.39,-3.37l1.39,3.37l-2.79,0zm-2.81,-0.8a0.92,0.92 0 0 0 -0.21,-1.29c-0.01,-0.01 -0.63,-0.47 -1.53,-1.46c1.67,-2.25 2.61,-4.82 2.99,-6.03l1.36,0a0.92,0.92 0 0 0 0,-1.85l-4.87,0l0,-0.84a0.92,0.92 0 0 0 -1.85,0l0,0.84l-4.87,0a0.92,0.92 0 0 0 0,1.85l8.28,0c-0.4,1.13 -1.14,2.92 -2.26,4.55c-1.32,-1.75 -1.81,-2.88 -1.81,-2.89a0.92,0.92 0 0 0 -1.7,0.71c0.02,0.06 0.61,1.44 2.22,3.53c0.04,0.05 0.08,0.1 0.12,0.15c-1.65,1.86 -3.27,3.02 -3.94,3.39a0.92,0.92 0 1 0 0.88,1.62c0.09,-0.05 2.04,-1.13 4.27,-3.59c0.95,1.01 1.6,1.49 1.64,1.52a0.92,0.92 0 0 0 1.29,-0.21l0,0z" id="svg_1"></path>'),NI=Ln('<g id="svg_7"><path d="m10.02,1.07c-4.98,0 -9.28,4.05 -9.02,9.02c0.35,6.79 8.26,2.87 8.97,8.2a0.9,0.9 0 0 0 0.99,0.77a9.02,9.02 0 0 0 -0.94,-18zm1.77,16.4a0.51,0.51 0 0 1 -0.62,-0.35a4.51,4.51 0 0 0 -1.61,-2.3c-1.03,-0.78 -2.27,-1.08 -3.46,-1.38c-2.39,-0.59 -3.55,-0.99 -3.67,-3.43c-0.1,-1.87 0.58,-3.67 1.93,-5.08a7.84,7.84 0 0 1 5.66,-2.43a7.59,7.59 0 0 1 1.77,14.97z" id="svg_1"></path><path d="m13.04,14.42m-1.38,0a1.38,1.38 0 1 0 2.77,0a1.38,1.38 0 1 0 -2.77,0z" id="svg_2"></path><path d="m15.28,9.07m-1.13,0a1.13,1.13 0 1 0 2.26,0a1.13,1.13 0 1 0 -2.26,0z" id="svg_3"></path><path d="m14.23,6.93a1.13,1.13 0 1 0 -1.58,-0.19a1.13,1.13 0 0 0 1.58,0.19z" id="svg_4"></path><path d="m10.29,4.73m-0.97,0.58a1.13,1.13 0 1 0 1.93,-1.16a1.13,1.13 0 1 0 -1.93,1.16z" id="svg_5"></path><path d="m6.47,4.66a1.13,1.13 0 1 0 1.49,0.58a1.13,1.13 0 0 0 -1.49,-0.58z" id="svg_6"></path></g>'),zI=Ln('<path d="m15.1,6.75c0,-2.31 -1.89,-4.18 -4.21,-4.18c-2.33,0 -4.21,1.87 -4.21,4.18c0,2.31 1.89,4.18 4.21,4.18c2.33,0 4.21,-1.87 4.21,-4.18m5.9,13.26c0.03,0.09 0.05,0.18 0.05,0.28c0,0.54 -0.44,0.98 -0.99,0.98a0.99,0.99 0 0 1 -0.99,-0.98l0,0l-0.03,0c-0.26,-4.12 -3.69,-7.39 -7.9,-7.39c-4.21,0 -7.65,3.27 -7.91,7.39l-0.02,0l0,0c0,0.54 -0.44,0.98 -0.99,0.98a0.99,0.99 0 0 1 -0.99,-0.98c0,-0.09 0.02,-0.18 0.04,-0.27c0.29,-3.74 2.66,-6.9 5.98,-8.3c-1.54,-1.12 -2.55,-2.92 -2.55,-4.97c0,-3.4 2.77,-6.15 6.19,-6.15c3.42,0 6.19,2.75 6.19,6.15a6.12,6.12 0 0 1 -2.39,4.85c3.48,1.33 6,4.56 6.31,8.41" fill="#515151" id="svg_1"></path>'),VI=Ln('<g transform="scale(0.047 0.047)"><path d="M387.6 2.6C385.5 4.7 385 6.2 385 10C385 13.8 385.5 15.3 387.6 17.4L390.3 20H410.9H431.5L382.5 69L333.5 118L314.5 99C304.1 88.6 294.2 79.6 292.6 79C291 78.4 288.3 78.2 286.6 78.6C284.2 79 263.1 99.5 192.7 169.8C142.7 219.7 101.2 261.7 100.4 263.2C98.1 267.5 98.7 271.6 101.9 275.2C104.4 278 105.5 278.5 109.4 278.5H114L201.5 191L289 103.5L308.8 123.3L328.6 143H333.5H338.5L392.2 89.3L446 35.5V52.8C446 71.1 446.7 74.7 450.9 77C453.9 78.6 460.3 78.2 462.6 76.2C466.8 72.8 467 71.3 467 39C467 6.7 466.8 5.2 462.6 1.8C460.7 0.199996 457.1 -4.14997e-06 425.4 -4.14997e-06H390.3L387.6 2.6Z" fill="currentColor"></path><path d="M382.8 147.4C373.9 149.8 366 158.1 364.1 167.1C363.3 170.5 363 222 363 332V492H335.5H308L307.8 400.1L307.5 308.2L303.8 302.9C295.9 291.6 290.4 290.1 256.9 290C244 290 230.7 290.5 227.5 291.1C218.2 292.8 211 298.4 207.1 307C205.1 311.4 205 313.1 205 401.7V492H177.5H150V444.7C150 391.6 150 391.7 143 383.7C140.7 381.2 136.8 378.3 133.8 376.9C128.6 374.5 128 374.5 98 374.5H67.5L61.8 377.3C55.4 380.4 51.7 384.3 48.6 391C46.6 395.3 46.5 397.2 46.2 443.8L45.9 492H32.9C18.2 492 15.9 492.8 14 498.6C12.5 502.9 14.1 508.2 17.5 510.4C19.7 511.8 42.4 512 256 512C469.6 512 492.3 511.8 494.5 510.4C497.9 508.2 499.5 502.9 498 498.6C496.1 492.9 493.7 492 479.5 492H467V331.2C467 150.8 467.5 163.8 459.7 155.3C451.9 146.8 450.7 146.5 417 146.3C395.4 146.1 386.3 146.4 382.8 147.4ZM443.4 169.1L446 171.1V331.6V492H415H384V332V171.9L386.5 169.5L388.9 167H414.8C439.5 167 440.9 167.1 443.4 169.1ZM282.8 312.1C284.8 312.8 286.2 314.2 286.9 316.2C287.7 318.3 288 346.8 288 405.6V492H257H226V403.7C226 320.8 226.1 315.2 227.8 313.8C228.7 312.9 230.2 312 231 311.7C233.9 310.7 279.6 311 282.8 312.1ZM127.1 397.9C128.9 400.1 129 402.4 129 446.1V492H98H67L67.1 446.7C67.1 421.9 67.5 400.7 67.9 399.6C69.6 395.4 72.1 395 99.3 395.3C125.2 395.5 125.2 395.5 127.1 397.9Z" fill="currentColor"></path><path d="M69.2 295.5C65.3 298.7 64.4 302.7 66.4 307.4C69.3 314.4 78.6 315.6 83.5 309.8C91.5 300.3 78.6 287.5 69.2 295.5Z" fill="currentColor"></path><circle cx="2" cy="18" r="1" fill="currentColor"></circle></g>'),qI=Ln('<g id="svg_4" transform="translate(-0.1 -0.1) scale(1.00914 1.00914) translate(0.1 0.1) scale(1.09 1.09) matrix(0.995 0 0 0.995 0 0)"><path d="m18.54,9.09c-0.21,-2.47 -1.25,-4.77 -2.96,-6.45c-1.73,-1.69 -3.96,-2.64 -6.3,-2.64c-1.25,0 -2.46,0.27 -3.61,0.78c-0.01,0 -0.01,0.02 -0.02,0.02c-0.02,0 -0.02,0.01 -0.03,0.01c-1.09,0.5 -2.06,1.21 -2.91,2.12c-0.86,0.92 -1.52,1.98 -1.99,3.18c-0.47,1.23 -0.72,2.54 -0.72,3.89c0,0.87 0.11,1.72 0.31,2.54c0,0.02 0.01,0.05 0.02,0.07c0.41,1.62 1.18,3.11 2.3,4.35c1.44,1.59 3.3,2.6 5.3,2.91c0.03,0 0.04,0.02 0.06,0.02c0.33,0.05 0.67,0.08 1.01,0.08l0.21,0c0.4,0 1.17,-0.03 1.8,-0.27c0.16,-0.07 0.29,-0.19 0.36,-0.36c0.07,-0.16 0.09,-0.35 0.03,-0.53c-0.1,-0.27 -0.34,-0.46 -0.61,-0.46c-0.07,0 -0.16,0.01 -0.23,0.03c-0.47,0.18 -1.1,0.21 -1.36,0.21l-0.1,0c0.1,-0.32 0.14,-0.67 0.05,-1.04c-0.15,-0.66 -0.64,-1.21 -1.57,-1.75l-0.39,-0.23c-0.62,-0.36 -0.96,-0.54 -1.16,-0.84c-0.2,-0.29 -0.34,-0.74 -0.51,-1.75c-0.13,-0.68 -0.47,-1.21 -1.01,-1.52c-0.37,-0.2 -0.8,-0.31 -1.32,-0.31c-0.36,0 -0.76,0.05 -1.18,0.15c-0.21,0.05 -0.41,0.11 -0.59,0.16c-0.08,-0.48 -0.12,-0.98 -0.12,-1.49c0,-3.04 1.47,-5.7 3.69,-7.24c0.01,0.28 0.07,0.57 0.19,0.84c0.3,0.7 0.92,1.14 1.84,1.33c0.05,0.01 0.08,0.01 0.12,0.01l0.04,0c0.09,0 0.39,0.01 0.71,0.14c0.43,0.19 0.68,0.51 0.76,1c0.2,1.56 0.42,4.38 0.14,5.29c-0.02,0.07 -0.03,0.15 -0.03,0.23c0,0.37 0.29,0.69 0.64,0.69c0.18,0 0.34,-0.08 0.46,-0.2c0.12,-0.13 2.76,-3.01 3.46,-3.97c0.08,-0.11 0.17,-0.21 0.26,-0.32c0.34,-0.43 0.69,-0.86 0.82,-1.51c0.15,-0.69 0,-1.46 -0.46,-2.41c-0.32,-0.68 -0.38,-0.98 -0.4,-1.1c0.02,-0.01 0.04,-0.02 0.06,-0.04c2.02,1.39 3.42,3.73 3.65,6.48c0.04,0.37 0.31,0.63 0.65,0.63l0.06,0c0.35,-0.01 0.61,-0.34 0.58,-0.73zm-15.35,3.47c0.3,0 0.53,0.05 0.71,0.15c0.18,0.12 0.29,0.28 0.34,0.56c0.2,1.07 0.37,1.79 0.76,2.34c0.38,0.53 0.86,0.79 1.58,1.21l0.03,0.01c0.1,0.06 0.23,0.13 0.35,0.2c0.74,0.43 0.9,0.72 0.94,0.86c0.03,0.14 -0.05,0.34 -0.15,0.54c-2.83,-0.58 -5.1,-2.74 -6.01,-5.6c0.42,-0.13 0.97,-0.27 1.45,-0.27zm9.6,-8.04c0.64,1.31 0.36,1.67 -0.21,2.37c-0.09,0.12 -0.19,0.23 -0.28,0.36c-0.35,0.48 -1.28,1.53 -2.09,2.43c0,-0.44 -0.02,-0.94 -0.06,-1.49c-0.08,-1.23 -0.22,-2.28 -0.22,-2.32l0,-0.04c-0.18,-0.99 -0.73,-1.71 -1.61,-2.07c-0.49,-0.2 -0.95,-0.22 -1.13,-0.22c-0.45,-0.11 -0.73,-0.3 -0.85,-0.55c-0.14,-0.3 -0.05,-0.74 0.04,-1.02c0.91,-0.38 1.88,-0.59 2.9,-0.59c1.11,0 2.16,0.24 3.13,0.67c-0.07,0.13 -0.13,0.3 -0.16,0.5c-0.04,0.49 0.12,1.1 0.54,1.97z" id="svg_1"></path><path d="m15.22,9.72c-2.63,0 -4.77,2.3 -4.77,5.14c0,2.84 2.13,5.14 4.77,5.14c2.64,0 4.78,-2.3 4.78,-5.14c0,-2.84 -2.15,-5.14 -4.78,-5.14zm0,8.88c-1.91,0 -3.48,-1.68 -3.48,-3.75c0,-2.07 1.56,-3.75 3.48,-3.75c1.93,0 3.49,1.68 3.49,3.75c0,2.07 -1.57,3.75 -3.49,3.75z" id="svg_2"></path><path d="m15.69,15.05l0,-2.37c0,-0.38 -0.29,-0.7 -0.64,-0.7c-0.36,0 -0.65,0.32 -0.65,0.7l0,2.66c0,0.19 0.07,0.35 0.19,0.49l1.16,1.27c0.12,0.12 0.28,0.2 0.46,0.2c0.17,0 0.33,-0.08 0.46,-0.2c0.11,-0.13 0.18,-0.31 0.18,-0.5c0,-0.19 -0.07,-0.36 -0.18,-0.49l-0.98,-1.06z" id="svg_3"></path></g>'),WI=Ln('<path d="M8 5v14l11-7z" fill="currentColor"></path>'),GI=Ln('<rect x="6" y="6" width="10" height="10" fill="currentColor"></rect>'),HI=Ln('<path d="m21.62,13.73l-1.7,-1.37c0.08,-0.46 0.12,-0.94 0.12,-1.41c0,-0.47 -0.04,-0.94 -0.12,-1.41l1.7,-1.37c0.25,-0.21 0.35,-0.55 0.24,-0.85l-0.03,-0.07c-0.46,-1.24 -1.15,-2.38 -2.06,-3.37l-0.04,-0.05c-0.22,-0.24 -0.58,-0.34 -0.91,-0.23l-2.09,0.71c-0.78,-0.6 -1.64,-1.08 -2.57,-1.41l-0.41,-2.08c-0.07,-0.32 -0.33,-0.57 -0.67,-0.62l-0.08,-0.01c-1.34,-0.23 -2.76,-0.23 -4.1,0l-0.08,0.01c-0.34,0.05 -0.6,0.31 -0.67,0.62l-0.41,2.09c-0.93,0.33 -1.78,0.8 -2.55,1.4l-2.11,-0.71c-0.33,-0.11 -0.69,-0.02 -0.91,0.23l-0.04,0.05c-0.91,1.01 -1.6,2.14 -2.06,3.37l-0.03,0.07c-0.11,0.3 -0.01,0.65 0.24,0.85l1.72,1.38c-0.09,0.46 -0.12,0.93 -0.12,1.4c0,0.47 0.03,0.94 0.12,1.39l-1.72,1.39c-0.25,0.21 -0.35,0.55 -0.24,0.85l0.03,0.07c0.46,1.24 1.15,2.37 2.06,3.37l0.04,0.05c0.22,0.24 0.58,0.34 0.91,0.23l2.11,-0.71c0.77,0.6 1.62,1.07 2.55,1.4l0.41,2.09c0.07,0.32 0.33,0.57 0.67,0.62l0.08,0.01c0.67,0.12 1.36,0.18 2.05,0.18c0.69,0 1.38,-0.05 2.05,-0.18l0.08,-0.01c0.34,-0.05 0.6,-0.31 0.67,-0.62l0.41,-2.08c0.93,-0.33 1.8,-0.81 2.57,-1.41l2.09,0.71c0.33,0.11 0.69,0.01 0.91,-0.23l0.04,-0.05c0.91,-1.01 1.6,-2.14 2.06,-3.37l0.03,-0.07c0.11,-0.3 0.01,-0.64 -0.24,-0.85zm-3.53,-3.91c0.07,0.37 0.1,0.76 0.1,1.13c0,0.38 -0.03,0.77 -0.1,1.13l-0.18,0.99l1.93,1.55c-0.28,0.65 -0.66,1.25 -1.09,1.81l-2.4,-0.81l-0.81,0.64c-0.61,0.48 -1.3,0.85 -2.05,1.12l-0.99,0.35l-0.46,2.38c-0.72,0.08 -1.47,0.08 -2.19,0l-0.47,-2.38l-0.97,-0.36c-0.73,-0.26 -1.41,-0.64 -2.03,-1.12l-0.81,-0.64l-2.42,0.82c-0.44,-0.57 -0.8,-1.17 -1.09,-1.81l1.95,-1.58l-0.16,-0.97c-0.07,-0.36 -0.1,-0.74 -0.1,-1.12c0,-0.37 0.03,-0.74 0.1,-1.11l0.16,-0.97l-1.95,-1.58c0.3,-0.65 0.66,-1.25 1.09,-1.81l2.42,0.81l0.81,-0.62c0.61,-0.48 1.29,-0.85 2.03,-1.12l0.99,-0.35l0.46,-2.38c0.72,-0.09 1.47,-0.09 2.19,0l0.46,2.37l0.99,0.35c0.74,0.26 1.43,0.65 2.05,1.12l0.81,0.64l2.4,-0.81c0.44,0.57 0.81,1.17 1.11,1.81l-1.94,1.55l0.18,0.97zm-7.14,-3.42c-2.51,0 -4.54,1.93 -4.54,4.3c0,2.38 2.04,4.3 4.54,4.3c2.51,0 4.54,-1.93 4.54,-4.3c0,-2.38 -2.04,-4.3 -4.54,-4.3zm2.05,6.24c-0.55,0.51 -1.27,0.8 -2.05,0.8c-0.77,0 -1.5,-0.28 -2.05,-0.8c-0.54,-0.51 -0.84,-1.2 -0.84,-1.94c0,-0.73 0.31,-1.41 0.84,-1.94c0.55,-0.51 1.28,-0.8 2.05,-0.8c0.78,0 1.5,0.28 2.05,0.8c0.55,0.53 0.84,1.2 0.84,1.94c0,0.73 -0.3,1.42 -0.84,1.94z" id="svg_1"></path>'),UI=Ln('<path d="m7.13,1l7.64,0c0.16,0 0.31,0.12 0.34,0.28l0.25,1.38c0.12,0.67 0.68,1.15 1.35,1.15l2.45,0c1.51,0 2.74,1.26 2.74,2.81l0,11.27c0,1.55 -1.23,2.81 -2.74,2.81l-16.43,0c-1.51,0 -2.74,-1.26 -2.74,-2.81l0,-11.27c0,-1.55 1.23,-2.81 2.74,-2.81l2.45,0c0.67,0 1.23,-0.48 1.35,-1.15l0.25,-1.38c0.03,-0.16 0.18,-0.28 0.34,-0.28zm9.58,4.23c-1.32,0 -2.45,-0.96 -2.69,-2.3l-0.1,-0.51l-5.93,0l-0.1,0.51c-0.24,1.34 -1.37,2.3 -2.69,2.3l-2.45,0c-0.76,0 -1.37,0.62 -1.37,1.4l0,11.27c0,0.78 0.61,1.4 1.37,1.4l16.43,0c0.76,0 1.37,-0.62 1.37,-1.4l0,-11.27c0,-0.78 -0.61,-1.4 -1.37,-1.4l-2.45,0zm-11.91,2.11l-1.37,0c-0.38,0 -0.69,-0.32 -0.69,-0.71c0,-0.38 0.31,-0.7 0.69,-0.7l1.37,0c0.37,0 0.68,0.32 0.68,0.7c0,0.39 -0.31,0.71 -0.68,0.71zm6.15,-0.71c-3.21,0 -5.81,2.68 -5.81,5.99c0,3.3 2.61,5.98 5.81,5.98c3.21,0 5.81,-2.68 5.81,-5.98c0,-3.31 -2.61,-5.99 -5.81,-5.99zm0,1.41c1.19,0 2.31,0.47 3.14,1.34c0.84,0.87 1.3,2.01 1.3,3.24c0,1.22 -0.46,2.37 -1.3,3.23c-0.83,0.87 -1.95,1.35 -3.14,1.35c-1.19,0 -2.31,-0.48 -3.14,-1.35c-0.84,-0.87 -1.3,-2.01 -1.3,-3.23c0,-1.23 0.46,-2.38 1.3,-3.24c0.83,-0.87 1.95,-1.34 3.14,-1.34zm0,2.46c-1.14,0 -2.05,0.94 -2.05,2.11c0,1.16 0.91,2.11 2.05,2.11c1.14,0 2.06,-0.95 2.06,-2.11c0,-1.17 -0.92,-2.11 -2.06,-2.11zm0,1.4c0.37,0 0.69,0.32 0.69,0.71c0,0.38 -0.32,0.7 -0.69,0.7c-0.37,0 -0.68,-0.32 -0.68,-0.7c0,-0.39 0.31,-0.71 0.68,-0.71z" id="svg_1"></path>'),YI=Ln('<path d="m1.08,0l-1.08,1.08l4.19,4.2l-1.64,1.64l4.36,0l0,-4.36l-1.62,1.62l-4.21,-4.18zm14.73,5.28l4.19,-4.2l-1.08,-1.08l-4.21,4.18l-1.62,-1.62l0,4.36l4.36,0l-1.64,-1.64zm-11.64,9.42l-4.09,4.11l1.08,1.19l4.11,-4.2l1.64,1.64l0,-4.36l-4.36,0l1.62,1.62zm13.28,-1.62l-4.36,0l0,4.36l1.64,-1.64l4.11,4.2l1.08,-1.19l-4.09,-4.11l1.62,-1.62z" id="svg_1" transform="scale(1.09 1.09)"></path>'),KI=Ln('<path d="m2.93,1.77l4.65,4.64l-1.19,1.19l-4.62,-4.67l-1.77,1.77l0,-4.7l4.7,0l-1.77,1.77zm3.48,10.63l-4.64,4.64l-1.77,-1.76l0,4.7l4.7,0l-1.77,-1.77l4.65,-4.64l-1.17,-1.17zm8.87,-12.4l1.76,1.77l-4.64,4.64l1.19,1.19l4.64,-4.64l1.77,1.76l0,-4.72l-4.72,0zm-1.71,12.4l-1.19,1.19l4.64,4.64l-1.77,1.77l4.73,0l0,-4.72l-1.77,1.76l-4.64,-4.64z" id="svg_1" transform="scale(1.095 1.095)"></path>'),ZI=Ln('<path d="m12.24,4.81c2.72,0 4.93,2.2 4.93,4.92c0,0.01 0,0.03 0,0.05c-0.01,0.03 -0.01,0.07 -0.01,0.11l-0.02,0.75l0.75,0c1.81,0.01 3.27,1.48 3.27,3.28c0,1.8 -1.46,3.27 -3.26,3.28l-0.16,0l-13.36,0c-2.01,0 -3.65,-1.64 -3.65,-3.64c0,-1.56 0.99,-2.94 2.47,-3.45l0.41,-0.14l0.07,-0.42c0.18,-1.06 1.09,-1.83 2.16,-1.83c0.34,0 0.67,0.08 0.98,0.24l0.67,0.34l0.31,-0.68c0.82,-1.7 2.56,-2.81 4.44,-2.81l0,0.01zm0,-0.73c-2.24,0 -4.19,1.31 -5.1,3.22c-0.39,-0.2 -0.83,-0.31 -1.31,-0.31c-1.44,0 -2.64,1.05 -2.87,2.43c-1.72,0.59 -2.96,2.22 -2.96,4.14c0,2.42 1.96,4.37 4.37,4.37l13.52,0c2.2,-0.01 3.99,-1.8 3.99,-4.01c0,-2.21 -1.79,-4.01 -4,-4.01c0.01,-0.06 0.01,-0.12 0.01,-0.18c0,-3.12 -2.53,-5.65 -5.66,-5.65l0,0z" fill="#000000" id="svg_1"></path>'),XI=Ln('<path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z" fill="currentColor"></path>'),JI=Ln('<g transform="scale(-1,1) translate(-24,0)"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z" fill="currentColor"></path></g>'),QI=Ln('<g transform="scale(0.9166666667)"><path d="M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M20 13H15.874C15.5122 14.4056 14.4056 15.5122 13 15.874V20C13 20.2652 12.8946 20.5196 12.7071 20.7071C12.5196 20.8946 12.2652 21 12 21C11.7348 21 11.4804 20.8946 11.2929 20.7071C11.1054 20.5196 11 20.2652 11 20V15.874C9.59439 15.5122 8.4878 14.4056 8.12602 13H4C3.73478 13 3.48043 12.8946 3.29289 12.7071C3.10536 12.5196 3 12.2652 3 12C3 11.7348 3.10536 11.4804 3.29289 11.2929C3.48043 11.1054 3.73478 11 4 11H8.12602C8.4878 9.59439 9.59439 8.4878 11 8.12602V4C11 3.73478 11.1054 3.48043 11.2929 3.29289C11.4804 3.10536 11.7348 3 12 3C12.2652 3 12.5196 3.10536 12.7071 3.29289C12.8946 3.48043 13 3.73478 13 4V8.12602C14.4056 8.4878 15.5122 9.59439 15.874 11H20C20.2652 11 20.5196 11.1054 20.7071 11.2929C20.8946 11.4804 21 11.7348 21 12C21 12.2652 20.8946 12.5196 20.7071 12.7071C20.5196 12.8946 20.2652 13 20 13ZM12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10Z"></path></g>'),eP=Ln('<rect x="3" y="4" width="16" height="14" rx="1" fill="none" stroke="currentColor" stroke-width="0.5"></rect><rect x="13" y="4" width="6" height="14" rx="1" fill="currentColor" fill-opacity="0.3"></rect><line x1="13" y1="4" x2="13" y2="18" stroke="currentColor" stroke-width="0.5"></line>',1),tP=Ln('<div class="icon-fallback"> </div>'),oP=Ln('<svg class="icon-overlay fill-current svelte-19kzeyz" viewBox="0 0 22 22"><!></svg>');function Hd(o,e){let t=Po(e,"name",3,"none"),n=Po(e,"active",3,!1),s=Po(e,"size",3,32);var r=oP(),a=m(r);xe(a,()=>t()=="horizontalStraightLine",c=>{var d=qC();N(c,d)},c=>{var d=yt(),u=nt(d);xe(u,()=>t()=="ruler",p=>{var h=WC();N(p,h)},p=>{var h=yt(),x=nt(h);xe(x,()=>t()=="abcd",w=>{var k=GC();N(w,k)},w=>{var k=yt(),S=nt(k);xe(S,()=>t()=="anyWaves",M=>{var T=HC();N(M,T)},M=>{var T=yt(),D=nt(T);xe(D,()=>t()=="arrow",A=>{var j=UC();N(A,j)},A=>{var j=yt(),F=nt(j);xe(F,()=>t()=="circle",q=>{var B=YC();N(q,B)},q=>{var B=yt(),O=nt(B);xe(O,()=>t()=="eightWaves",z=>{var Y=KC();N(z,Y)},z=>{var Y=yt(),G=nt(Y);xe(G,()=>t()=="fibonacciCircle",oe=>{var re=ZC();ei(4),N(oe,re)},oe=>{var re=yt(),se=nt(re);xe(se,()=>t()=="fibonacciExtension",ie=>{var te=XC();N(ie,te)},ie=>{var te=yt(),K=nt(te);xe(K,()=>t()=="fibonacciSegment",J=>{var U=JC();N(J,U)},J=>{var U=yt(),ae=nt(U);xe(ae,()=>t()=="fibonacciSpeedResistanceFan",me=>{var ke=QC();N(me,ke)},me=>{var ke=yt(),Ae=nt(ke);xe(Ae,()=>t()=="fibonacciSpiral",Le=>{var He=eI();N(Le,He)},Le=>{var He=yt(),it=nt(He);xe(it,()=>t()=="fiveWaves",Ne=>{var we=tI();N(Ne,we)},Ne=>{var we=yt(),je=nt(we);xe(je,()=>t()=="gannBox",Te=>{var Se=oI();N(Te,Se)},Te=>{var Se=yt(),Ue=nt(Se);xe(Ue,()=>t()=="horizontalRayLine",Be=>{var le=nI();N(Be,le)},Be=>{var le=yt(),ye=nt(le);xe(ye,()=>t()=="horizontalSegment",Ee=>{var Je=sI();N(Ee,Je)},Ee=>{var Je=yt(),be=nt(Je);xe(be,()=>t()=="invisible",X=>{var H=iI();N(X,H)},X=>{var H=yt(),Ce=nt(H);xe(Ce,()=>t()=="visible",Qe=>{var mt=rI();N(Qe,mt)},Qe=>{var mt=yt(),bt=nt(mt);xe(bt,()=>t()=="lock",ct=>{var yo=aI();ei(),N(ct,yo)},ct=>{var yo=yt(),Kt=nt(yo);xe(Kt,()=>t()=="parallelogram",to=>{var io=lI();N(to,io)},to=>{var io=yt(),ro=nt(io);xe(ro,()=>t()=="parallelStraightLine",Uo=>{var an=cI();N(Uo,an)},Uo=>{var an=yt(),Mn=nt(an);xe(Mn,()=>t()=="priceChannelLine",uo=>{var Do=dI();N(uo,Do)},uo=>{var Do=yt(),Zt=nt(Do);xe(Zt,()=>t()=="priceChannelLineNew",Go=>{var cn=uI();N(Go,cn)},Go=>{var cn=yt(),sn=nt(cn);xe(sn,()=>t()=="priceLine",Tr=>{var zi=vI();N(Tr,zi)},Tr=>{var zi=yt(),Ki=nt(zi);xe(Ki,()=>t()=="rayLine",wa=>{var Ei=pI();N(wa,Ei)},wa=>{var Ei=yt(),Za=nt(Ei);xe(Za,()=>t()=="rect",Xa=>{var sl=fI();N(Xa,sl)},Xa=>{var sl=yt(),Ja=nt(sl);xe(Ja,()=>t()=="remove",pl=>{var il=gI();N(pl,il)},pl=>{var il=yt(),Qa=nt(il);xe(Qa,()=>t()=="emoji",Ma=>{var ka=_I();ei(3),N(Ma,ka)},Ma=>{var ka=yt(),zr=nt(ka);xe(zr,()=>t()=="text",oa=>{var fl=mI();N(oa,fl)},oa=>{var fl=yt(),bl=nt(fl);xe(bl,()=>t()=="segment",rl=>{var Ta=hI();N(rl,Ta)},rl=>{var Ta=yt(),al=nt(Ta);xe(al,()=>t()=="candle",xl=>{var Gr=yI();N(xl,Gr)},xl=>{var Gr=yt(),Kl=nt(Gr);xe(Kl,()=>t()=="line",gl=>{var el=bI();N(gl,el)},gl=>{var el=yt(),_l=nt(el);xe(_l,()=>t()=="area",Ba=>{var ll=xI();N(Ba,ll)},Ba=>{var ll=yt(),Kr=nt(ll);xe(Kr,()=>t()=="candle_solid",yr=>{var Oa=wI();N(yr,Oa)},yr=>{var Oa=yt(),wl=nt(Oa);xe(wl,()=>t()=="candle_stroke",Vr=>{var tl=kI();ei(2),N(Vr,tl)},Vr=>{var tl=yt(),Ra=nt(tl);xe(Ra,()=>t()=="candle_up_stroke",ol=>{var Na=SI();ei(2),N(ol,Na)},ol=>{var Na=yt(),pt=nt(Na);xe(pt,()=>t()=="candle_down_stroke",At=>{var Bt=CI();ei(2),N(At,Bt)},At=>{var Bt=yt(),dt=nt(Bt);xe(dt,()=>t()=="ohlc",Vt=>{var Tt=II();ei(),N(Vt,Tt)},Vt=>{var Tt=yt(),Co=nt(Tt);xe(Co,()=>t()=="point_and_figure",Ro=>{var Tn=PI();N(Ro,Tn)},Ro=>{var Tn=yt(),jo=nt(Tn);xe(jo,()=>t()=="straightLine",En=>{var mo=MI();N(En,mo)},En=>{var mo=yt(),Es=nt(mo);xe(Es,()=>t()=="strongMagnet",zn=>{var Vi=TI();ei(),N(zn,Vi)},zn=>{var Vi=yt(),Rn=nt(Vi);xe(Rn,()=>t()=="threeWaves",Fs=>{var Fi=AI();N(Fs,Fi)},Fs=>{var Fi=yt(),vr=nt(Fi);xe(vr,()=>t()=="triangle",js=>{var qi=DI();N(js,qi)},js=>{var qi=yt(),Ti=nt(qi);xe(Ti,()=>t()=="unlock",xi=>{var oi=LI();N(xi,oi)},xi=>{var oi=yt(),ir=nt(oi);xe(ir,()=>t()=="verticalRayLine",Ws=>{var di=EI();N(Ws,di)},Ws=>{var di=yt(),Ps=nt(di);xe(Ps,()=>t()=="verticalSegment",ps=>{var ni=FI();N(ps,ni)},ps=>{var ni=yt(),Zi=nt(ni);xe(Zi,()=>t()=="verticalStraightLine",ui=>{var pr=jI();N(ui,pr)},ui=>{var pr=yt(),Hr=nt(pr);xe(Hr,()=>t()=="visiable",ge=>{var We=$I();N(ge,We)},ge=>{var We=yt(),ft=nt(We);xe(ft,()=>t()=="weakMagnet",Ht=>{var jt=BI();N(Ht,jt)},Ht=>{var jt=yt(),go=nt(jt);xe(go,()=>t()=="xabcd",Rt=>{var To=OI();N(Rt,To)},Rt=>{var To=yt(),Lo=nt(To);xe(Lo,()=>t()=="lang",Mo=>{var Fn=RI();N(Mo,Fn)},Mo=>{var Fn=yt(),fs=nt(Fn);xe(fs,()=>t()=="theme",si=>{var ji=NI();N(si,ji)},si=>{var ji=yt(),Ai=nt(ji);xe(Ai,()=>t()=="user",$i=>{var _i=zI();N($i,_i)},$i=>{var _i=yt(),br=nt(_i);xe(br,()=>t()=="indicator",bs=>{var Xi=VI();N(bs,Xi)},bs=>{var Xi=yt(),xr=nt(Xi);xe(xr,()=>t()=="timezone",Ge=>{var Xe=qI();N(Ge,Xe)},Ge=>{var Xe=yt(),eo=nt(Xe);xe(eo,()=>t()=="play",Et=>{var xo=WI();N(Et,xo)},Et=>{var xo=yt(),Eo=nt(xo);xe(Eo,()=>t()=="stop",Vo=>{var $o=GI();N(Vo,$o)},Vo=>{var $o=yt(),un=nt($o);xe(un,()=>t()=="setting",Yo=>{var vn=HI();N(Yo,vn)},Yo=>{var vn=yt(),ii=nt(vn);xe(ii,()=>t()=="screenShot",fr=>{var Ar=UI();N(fr,Ar)},fr=>{var Ar=yt(),rr=nt(Ar);xe(rr,()=>t()=="exitFullScreen",Zr=>{var qr=YI();N(Zr,qr)},Zr=>{var qr=yt(),Ii=nt(qr);xe(Ii,()=>t()=="fullScreen",Ur=>{var _a=KI();N(Ur,_a)},Ur=>{var _a=yt(),Nc=nt(_a);xe(Nc,()=>t()=="cloud",kl=>{var nl=ZI();N(kl,nl)},kl=>{var nl=yt(),Fl=nt(nl);xe(Fl,()=>t()=="undo",Ad=>{var Vl=XI();N(Ad,Vl)},Ad=>{var Vl=yt(),Sl=nt(Vl);xe(Sl,()=>t()=="redo",Cl=>{var Il=JI();N(Cl,Il)},Cl=>{var Il=yt(),sc=nt(Il);xe(sc,()=>t()=="crosshair",ic=>{var jl=QI();N(ic,jl)},ic=>{var jl=yt(),Sa=nt(jl);xe(Sa,()=>t()=="sidebar",sd=>{var W=eP();ei(2),N(sd,W)},sd=>{var W=tP(),ve=m(W,!0);_(W),Re(()=>wt(ve,t())),N(sd,W)},!0),N(ic,jl)},!0),N(Cl,Il)},!0),N(Ad,Vl)},!0),N(kl,nl)},!0),N(Ur,_a)},!0),N(Zr,qr)},!0),N(fr,Ar)},!0),N(Yo,vn)},!0),N(Vo,$o)},!0),N(Et,xo)},!0),N(Ge,Xe)},!0),N(bs,Xi)},!0),N($i,_i)},!0),N(si,ji)},!0),N(Mo,Fn)},!0),N(Rt,To)},!0),N(Ht,jt)},!0),N(ge,We)},!0),N(ui,pr)},!0),N(ps,ni)},!0),N(Ws,di)},!0),N(xi,oi)},!0),N(js,qi)},!0),N(Fs,Fi)},!0),N(zn,Vi)},!0),N(En,mo)},!0),N(Ro,Tn)},!0),N(Vt,Tt)},!0),N(At,Bt)},!0),N(ol,Na)},!0),N(Vr,tl)},!0),N(yr,Oa)},!0),N(Ba,ll)},!0),N(gl,el)},!0),N(xl,Gr)},!0),N(rl,Ta)},!0),N(oa,fl)},!0),N(Ma,ka)},!0),N(pl,il)},!0),N(Xa,sl)},!0),N(wa,Ei)},!0),N(Tr,zi)},!0),N(Go,cn)},!0),N(uo,Do)},!0),N(Uo,an)},!0),N(to,io)},!0),N(ct,yo)},!0),N(Qe,mt)},!0),N(X,H)},!0),N(Ee,Je)},!0),N(Be,le)},!0),N(Te,Se)},!0),N(Ne,we)},!0),N(Le,He)},!0),N(me,ke)},!0),N(J,U)},!0),N(ie,te)},!0),N(oe,re)},!0),N(z,Y)},!0),N(q,B)},!0),N(A,j)},!0),N(M,T)},!0),N(w,k)},!0),N(p,h)},!0),N(c,d)}),_(r),Re(()=>{lt(r,"style",`width: ${s()??""}px; height: ${s()??""}px;`),Ls(r,"active",n())}),N(o,r)}function nP(o,e,t){const n=o.target;e(parseInt(n.value)),t("opacityChange",e())}function sP(o,e){o.stopPropagation(),b(e,!0)}function iP(o,e,t,n,s,r,a,c){if(/^#[0-9A-F]{6}$/i.test(i(e))){const d=t(i(e));b(n,d.h),b(s,d.s),b(r,d.l),a(i(e)),c("colorChange",i(e))}}function rP(o,e,t,n,s,r){i(e)&&/^#[0-9A-Fa-f]{6}$/.test(i(e))&&(t(i(e)),n("colorChange",i(e)),i(s).includes(i(e))||b(s,[...i(s),i(e)]),b(r,!1))}var aP=o=>o.stopPropagation(),lP=(o,e)=>e(!1),cP=(o,e,t)=>e(i(t)),dP=ue("<button></button>"),uP=ue('<div class="flex gap-0.5 mb-0.5"></div>'),vP=(o,e,t)=>e(i(t)),pP=ue("<button></button>"),fP=ue(`<div class="flex items-center justify-between mb-3"><span class="text-sm text-gray-900 dark:text-gray-300 font-medium">Color Picker</span> <button class="px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors">OK</button></div> <div class="mb-3"></div> <div class="mb-3"><div class="flex items-center gap-2 mb-2"><!> <button class="w-5 h-5 rounded border-2 border-dashed border-gray-400 dark:border-gray-500 hover:border-gray-500 dark:hover:border-gray-300 
                   flex items-center justify-center text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="0.5" d="M12 4v16m8-8H4"></path></svg></button></div></div> <div><div class="flex items-center justify-between mb-2"><span class="text-xs text-gray-900 dark:text-gray-300">Opacity</span> <span class="text-xs text-gray-900 dark:text-gray-300"> </span></div> <div class="relative"><div class="absolute inset-0 h-2 rounded opacity-30" style="background-image: repeating-conic-gradient(#808080 0% 25%, transparent 0% 50%) 50% / 6px 6px;"></div> <input type="range" min="0" max="100" class="relative w-full h-2 rounded appearance-none cursor-pointer opacity-slider svelte-16cejrx"> <div class="absolute top-1/2 w-4 h-4 bg-white border-2 border-gray-800 rounded-full transform -translate-y-1/2 pointer-events-none shadow-sm"></div></div></div>`,1),gP=(o,e)=>e(!1),_P=(o,e)=>b(e,!1),mP=ue('<div class="mb-3 flex items-center justify-between"><span class="text-sm text-gray-900 dark:text-gray-300 font-medium">Custom Color Picker</span> <div class="flex items-center gap-2"><button class="px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors">OK</button> <button class="text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg></button></div></div> <div class="mb-3"><label class="block text-xs text-gray-600 dark:text-gray-400 mb-2">Hex Color</label> <input type="text" class="w-full px-3 py-2 bg-white dark:bg-[#1A1A1A] border border-gray-300 dark:border-[#404040] rounded text-gray-900 dark:text-white text-sm focus:border-blue-500 focus:outline-none" placeholder="#000000"></div> <div class="mb-3"><div class="w-full h-6 rounded border border-gray-300 dark:border-[#404040]"></div></div> <div class="mb-3"><label class="block text-xs text-gray-600 dark:text-gray-400 mb-2">Color Picker</label> <div class="relative w-full h-24 rounded border border-gray-300 dark:border-[#404040] cursor-crosshair"><div class="absolute w-3 h-3 border-2 border-white rounded-full transform -translate-x-1/2 -translate-y-1/2 pointer-events-none"></div></div></div> <div class="mb-3"><label class="block text-xs text-gray-600 dark:text-gray-400 mb-2">Hue</label> <div class="relative"><input type="range" min="0" max="360" class="w-full h-4 rounded appearance-none cursor-pointer" style="background: linear-gradient(to right, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000);"> <div class="absolute top-1/2 w-4 h-4 bg-white border-2 border-gray-800 rounded-full transform -translate-y-1/2 pointer-events-none shadow-sm"></div></div></div> <button class="w-full py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded transition-colors">Add Color</button>',1),hP=ue(`<div class="color-picker-container fixed z-[80] bg-white dark:bg-[#2A2A2A] border border-gray-200 dark:border-[#404040] rounded-lg shadow-xl p-3 transition-all duration-200" style="
      left: 50%; 
      top: 50%; 
      transform: translate(-50%, -50%); 
      max-height: 90vh; 
      max-width: 90vw;
      overflow-y: auto;
    "><!></div>`);function Qc(o,e){Pr(e,!1);const t=nc();let n=Po(e,"selectedColor",12,"#1677FF"),s=Po(e,"show",12,!1),r=Po(e,"opacity",12,100),a=Yr(),c=Yr(),d=!1,u=Yr(["#FF4D4F","#1890FF","#52C41A","#FA8C16","#722ED1"]),p=Yr(!1),h=Yr("#000000"),x=Yr(0),w=Yr(100),k=Yr(50);const S=[["#000000","#1C1C1C","#383838","#545454","#707070","#8C8C8C","#A8A8A8","#C4C4C4","#E0E0E0","#FFFFFF"],["#FF0000","#FF4D4F","#FF7875","#FFA39E","#FFCCC7","#FFF1F0","#FFEDED","#FFF5F5","#FFFAFA","#FFFFFF"],["#FF8C00","#FA541C","#FF7A45","#FF9C6E","#FFBB96","#FFD8BF","#FFE7BA","#FFF2E8","#FFF7E6","#FFFBE6"],["#FFD700","#FADB14","#FFEC3D","#FFF566","#FFFF8F","#FFFFB8","#FFFBE6","#FFFBF0","#FFFBF0","#FFFBF0"],["#32CD32","#52C41A","#73D13D","#95DE64","#B7EB8F","#D9F7BE","#F6FFED","#F6FFED","#F6FFED","#F6FFED"],["#00CED1","#13C2C2","#36CFC9","#5CDBD3","#87E8DE","#B5F5EC","#E6FFFB","#E6FFFB","#E6FFFB","#E6FFFB"],["#1E90FF","#1890FF","#40A9FF","#69C0FF","#91D5FF","#BAE7FF","#E6F7FF","#E6F7FF","#E6F7FF","#E6F7FF"],["#9370DB","#722ED1","#9254DE","#B37FEB","#D3ADF7","#EFDBFF","#F9F0FF","#F9F0FF","#F9F0FF","#F9F0FF"]];function M(G){n(G),t("colorChange",G)}function T(G,oe,re){re/=100;const se=oe*Math.min(re,1-re)/100,ie=te=>{const K=(te+G/30)%12,J=re-se*Math.max(Math.min(K-3,9-K,1),-1);return Math.round(255*J).toString(16).padStart(2,"0")};return`#${ie(0)}${ie(8)}${ie(4)}`}function D(G){const oe=parseInt(G.slice(1,3),16)/255,re=parseInt(G.slice(3,5),16)/255,se=parseInt(G.slice(5,7),16)/255,ie=Math.max(oe,re,se),te=Math.min(oe,re,se);let K=0,J=0,U=(ie+te)/2;if(ie!==te){const ae=ie-te;switch(J=U>.5?ae/(2-ie-te):ae/(ie+te),ie){case oe:K=(re-se)/ae+(re<se?6:0);break;case re:K=(se-oe)/ae+2;break;case se:K=(oe-re)/ae+4;break}K/=6}return{h:K*360,s:J*100,l:U*100}}function A(){b(h,T(i(x),i(w),i(k))),n(i(h)),t("colorChange",i(h))}function j(G){d=!0,B(G),document.addEventListener("mousemove",F),document.addEventListener("mouseup",q),G.preventDefault()}function F(G){d&&i(c)&&B(G)}function q(){d=!1,document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",q)}function B(G){if(!i(c))return;const oe=i(c).getBoundingClientRect(),re=Math.max(0,Math.min(1,(G.clientX-oe.left)/oe.width)),se=Math.max(0,Math.min(1,(G.clientY-oe.top)/oe.height));b(w,re*100),b(k,(1-se)*100),A()}function O(G){const oe=G.target;i(a)&&!i(a).contains(oe)&&(s(!1),b(p,!1),t("close"))}Su(()=>{typeof document<"u"&&document.removeEventListener("click",O,!0)}),Ac(()=>mc(s()),()=>{s()&&typeof document<"u"&&setTimeout(()=>{document.addEventListener("click",O,!0)},0)}),Ac(()=>mc(s()),()=>{!s()&&typeof document<"u"&&document.removeEventListener("click",O,!0)}),hv(),wc();var z=yt(),Y=nt(z);xe(Y,s,G=>{var oe=hP();oe.__click=[aP];var re=m(oe);xe(re,()=>!i(p),se=>{var ie=fP(),te=nt(ie),K=v(m(te),2);K.__click=[lP,s],_(te);var J=v(te,2);Qo(J,5,()=>S,ln,(Te,Se)=>{var Ue=uP();Qo(Ue,5,()=>i(Se),ln,(Be,le)=>{var ye=dP();ye.__click=[cP,M,le],Re(()=>{Un(ye,`w-4 h-4 border hover:scale-110 transition-transform cursor-pointer
                       ${(n()===i(le)?"border-white dark:border-white border-2":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-400")??""}`),lt(ye,"style",`background-color: ${i(le)??""};`)}),N(Be,ye)}),_(Ue),N(Te,Ue)}),_(J);var U=v(J,2),ae=m(U),me=m(ae);Qo(me,1,()=>i(u),ln,(Te,Se)=>{var Ue=pP();Ue.__click=[vP,M,Se],Re(()=>{Un(Ue,`w-5 h-5 rounded border hover:scale-110 transition-transform cursor-pointer
                     ${(n()===i(Se)?"border-white dark:border-white border-2":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-400")??""}`),lt(Ue,"style",`background-color: ${i(Se)??""};`)}),N(Te,Ue)});var ke=v(me,2);ke.__click=[sP,p],_(ae),_(U);var Ae=v(U,2),Le=m(Ae),He=v(m(Le),2),it=m(He);_(He),_(Le);var Ne=v(Le,2),we=v(m(Ne),2);ut(we),we.__input=[nP,r,t];var je=v(we,2);_(Ne),_(Ae),Re(()=>{wt(it,`${r()??""}%`),lt(we,"style",`background: linear-gradient(to right, transparent, ${n()??""});`),lt(je,"style",`left: calc(${r()??""}% - 8px);`)}),Mt(we,r),N(se,ie)},se=>{var ie=mP(),te=nt(ie),K=v(m(te),2),J=m(K);J.__click=[gP,s];var U=v(J,2);U.__click=[_P,p],_(K),_(te);var ae=v(te,2),me=v(m(ae),2);ut(me),me.__input=[iP,h,D,x,w,k,n,t],_(ae);var ke=v(ae,2),Ae=m(ke);_(ke);var Le=v(ke,2),He=v(m(Le),2);He.__mousedown=j;var it=m(He);_(He),Al(He,Ue=>b(c,Ue),()=>i(c)),_(Le);var Ne=v(Le,2),we=v(m(Ne),2),je=m(we);ut(je),je.__input=A;var Te=v(je,2);_(we),_(Ne);var Se=v(Ne,2);Se.__click=[rP,h,n,t,u,p],Re(()=>{lt(Ae,"style",`background-color: ${i(h)??""};`),lt(He,"style",`background: linear-gradient(to bottom, transparent, black), linear-gradient(to right, white, hsl(${i(x)??""}, 100%, 50%));`),lt(it,"style",`left: ${i(w)??""}%; top: ${100-i(k)}%;`),lt(Te,"style",`left: calc(${i(x)/360*100}% - 8px);`)}),Mt(me,()=>i(h),Ue=>b(h,Ue)),Mt(je,()=>i(x),Ue=>b(x,Ue)),N(se,ie)}),_(oe),Al(oe,se=>b(a,se),()=>i(a)),Re(()=>{Ls(oe,"w-64",!i(p)),Ls(oe,"w-80",i(p))}),N(G,oe)}),N(o,z),Mr()}Pa(["click","input","mousedown"]);const yP={data:null,loading:!1,error:null},Iu=bc(yP);async function bP(o){const e=`https://noti.dutyai.app/auth/user/preference/${o}`,t=await fetch(e);if(!t.ok)throw t.status===404?new Error("User not found"):new Error(`Failed to fetch user preferences: ${t.statusText}`);return await t.json()}function xP(o){Iu.set({data:o,loading:!1,error:null})}function wP(o){Iu.update(e=>({...e,loading:o}))}function kP(o){Iu.set({data:null,loading:!1,error:o})}async function SP(o,e){const t="https://noti.dutyai.app/auth/user/preference";try{const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clerkId:o,theme:e})});if(!n.ok)throw new Error(`Failed to save theme preference: ${n.statusText}`);console.log("âœ… Theme preference saved successfully:",{clerkId:o,theme:e})}catch(n){console.error("âŒ Failed to save theme preference:",n)}}const G1=bc(null),H1=bc(null),CP=tp,Cg={},IP=[{tfsecs:604800,origin:345600,date:"1970-01-05"}];function PP(o){if(o=Math.abs(o),o>=1)return 0;let e=0;for(;o<1;)o=o*10,e+=1;return e}function Jc(o){if(Cg[o])return Cg[o];const e=o.length-1,t=o.substring(e),n=o.substring(0,e),s=parseInt(n);let r="minute";if(t=="w")r="week";else if(t=="d")r="day";else if(t=="h")r="hour";else if(t=="m")r="minute";else if(t=="s")r="second";else throw new Error(`unsupport period: ${o}`);const a=jg(o);return Cg[o]={multiplier:s,timespan:r,timeframe:o,secs:a},Cg[o]}Jc("1m"),Jc("5m"),Jc("15m"),Jc("30m"),Jc("1h"),Jc("2h"),Jc("4h"),Jc("8h"),Jc("12h"),Jc("1d"),Jc("3d"),Jc("1w");function Ig(o,e,t){return{id:o,position:CP.Middle,marginLeft:8,marginTop:2,marginRight:0,marginBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,icon:e,fontFamily:"icomoon",size:14,color:t,activeColor:t,backgroundColor:"transparent",activeBackgroundColor:"rgba(22, 119, 255, 0.15)"}}function ga(o){const e=o==="dark"?"#929AA5":"#76808F",t=o==="dark"?"#081115":"#F3F3F3",n=o==="dark"?"#070211":"#ffffff",s=typeof window<"u"&&window.innerWidth<=768,r=typeof window<"u"&&window.innerWidth<=480,a=r?10:s?11:12,c=r?10:s?11:12,d=r?2:s?3:4,u=r?2:s?3:4;return{pane:{backgroundColor:n},candle:{pane:{backgroundColor:n},type:td.CandleSolid,priceMark:{last:{show:!0},high:{show:!0},low:{show:!0}},tooltip:{showRule:Vu.Always,text:{style:{fontSize:32,fontWeight:"bold",color:"#FFFFFF"}},title:{show:!0,size:32,family:"Helvetica Neue",weight:"bold",color:"#FFFFFF"}}},indicator:{lastValueMark:{show:!0},tooltip:{showRule:Vu.Always,icons:[Ig("visible","î¤ƒ",e),Ig("invisible","î¤",e),Ig("setting","î¤‚",e),Ig("close","î¤€",e)]}},grid:{show:!0,horizontal:{show:!0,color:t,style:de.Solid,size:1},vertical:{show:!0,color:t,style:de.Solid,size:1}},xAxis:{show:!0,axisLine:{show:!1},tickLine:{show:!0},tickText:{show:!0,style:{fontSize:a,color:e,fontFamily:"Arial, sans-serif"},margin:d}},yAxis:{type:"normal",reverse:!1,show:!0,axisLine:{show:!1},tickLine:{show:!0},tickText:{show:!0,style:{fontSize:c,color:e,fontFamily:"Arial, sans-serif"},margin:u}},separator:{size:1,color:o==="dark"?"rgba(85, 85, 85, 0.3)":"rgba(221, 221, 221, 0.3)",fill:!0,activeBackgroundColor:o==="dark"?"rgba(85, 85, 85, 0.1)":"rgba(221, 221, 221, 0.1)"}}}const ca=xy(),yh={AO:[{title:"Short Period",precision:0,min:1,default:5},{title:"Long Period",precision:0,min:1,default:34},{title:"Increasing Color",type:"color",styleKey:"bars[0].upColor",default:"#26A69A"},{title:"Decreasing Color",type:"color",styleKey:"bars[0].downColor",default:"#EF5350"}],BIAS:[{title:fh(),precision:0,min:1,default:6}],BOLL:[{title:fh(),precision:0,min:1,default:20},{title:wy(),precision:2,min:1,default:2}],BBI:[{title:ca+"1",precision:0,min:1,default:3},{title:ca+"2",precision:0,min:1,default:6},{title:ca+"3",precision:0,min:1,default:12},{title:ca+"4",precision:0,min:1,default:24}],CCI:[{title:ca+"1",precision:0,min:1,default:20}],CR:[{title:ca+"1",precision:0,min:1,default:26},{title:ca+"2",precision:0,min:1,default:10},{title:ca+"3",precision:0,min:1,default:20},{title:ca+"4",precision:0,min:1,default:40},{title:ca+"5",precision:0,min:1,default:60}],DMI:[{title:"DI Period",precision:0,min:1,default:14},{title:"ADX Period",precision:0,min:1,default:6}],EMV:[{title:ca+"1",precision:0,min:1,default:14},{title:ca+"2",precision:0,min:1,default:9}],EMA:[{title:"Period",precision:0,min:1,default:20},{title:"Line Color",type:"color",styleKey:"lines[0].color",default:"#2563eb"},{title:"Line Thickness",precision:0,min:1,max:5,styleKey:"lines[0].size",default:2}],ICHIMOKU:[{title:"Tenkan Period",precision:0,min:1,default:9},{title:"Kijun Period",precision:0,min:1,default:26},{title:"Senkou B Period",precision:0,min:1,default:52}],MTM:[{title:ca+"1",precision:0,min:1,default:12},{title:ca+"2",precision:0,min:1,default:6}],MA:[{title:"MA1",precision:0,min:1,styleKey:"lines[0].color",default:5},{title:"MA2",precision:0,min:1,styleKey:"lines[1].color",default:10},{title:"MA3",precision:0,min:1,styleKey:"lines[2].color",default:30}],MACD:[{title:"Fast Period",precision:0,min:1,default:12},{title:"Slow Period",precision:0,min:1,default:26},{title:"Signal Period",precision:0,min:1,default:9}],OBV:[{title:ca+"1",precision:0,min:1,default:30},{title:ca+"2",precision:0,min:1,default:10}],PVT:[],PSY:[{title:ca+"1",precision:0,min:1,default:12},{title:ca+"2",precision:0,min:1,default:6}],ROC:[{title:ca+"1",precision:0,min:1,default:12},{title:ca+"2",precision:0,min:1,default:6}],RSI:[{title:"Period",precision:0,min:1,default:14},{title:"Overbought",precision:0,min:50,max:100,default:70},{title:"Middle",precision:0,min:30,max:70,default:50},{title:"Oversold",precision:0,min:0,max:50,default:30},{title:"Line Color",type:"color",styleKey:"lines[0].color",default:"#FF6B35"},{title:"Line Thickness",precision:0,min:1,max:5,styleKey:"lines[0].size",default:1}],SMA:[{title:ca+"1",precision:0,min:1,default:12},{title:ca+"2",precision:0,min:1,default:2}],SMARTTREND:[{title:"Period",precision:0,min:1,default:10},{title:"Multiplier",precision:1,min:.1,max:10,default:3},{title:"Uptrend Color",type:"color",styleKey:"lines[0].color",default:"#10B981"},{title:"Downtrend Color",type:"color",styleKey:"lines[1].color",default:"#EF4444"},{title:"Line Thickness",precision:0,min:1,max:5,styleKey:"lines[0].size",default:2}],KDJ:[{title:ca+"1",precision:0,min:1,default:9},{title:ca+"2",precision:0,min:1,default:3},{title:ca+"3",precision:0,min:1,default:3}],SAR:[{title:"Start",precision:3,min:.001,max:.1,default:.02},{title:"Increment",precision:3,min:.001,max:.1,default:.02},{title:"Max value",precision:2,min:.1,max:1,default:.2}],TRIX:[{title:ca+"1",precision:0,min:1,default:12},{title:ca+"2",precision:0,min:1,default:9}],VOL:[{title:"MA1",precision:0,min:1,default:5},{title:"MA2",precision:0,min:1,default:10},{title:"MA3",precision:0,min:1,default:20}],VR:[{title:ca+"1",precision:0,min:1,default:26},{title:ca+"2",precision:0,min:1,default:6},{title:ca+"3",precision:0,min:1,default:12}],WR:[{title:"Period",precision:0,min:1,default:14},{title:"Line Color",type:"color",styleKey:"lines[0].color",default:"#2563eb"},{title:"Line Thickness",precision:0,min:1,max:5,styleKey:"lines[0].size",default:1}],TRAP_HUNTER:[{title:"Resistance Lookback",precision:0,min:1,default:20},{title:"Support Lookback",precision:0,min:1,default:20},{title:"Confirmation Bars",precision:0,min:1,default:4},{title:"Max Trap Bars",precision:0,min:1,default:6},{title:"Volume MA Period",precision:0,min:1,default:20},{title:"Min Volume Spike",precision:2,min:.1,default:1.2},{title:"Min Breakout Factor",precision:4,min:0,default:5e-4},{title:"Min Wick Ratio",precision:2,min:0,max:1,default:.35},{title:"Min Trap Score",precision:2,min:0,max:1,default:.5},{title:"Enable Normal Signal (0/1)",precision:0,min:0,max:1,default:1},{title:"Normal Quiet Bars",precision:0,min:1,default:5}],SMART_MONEY:[{title:"Zone Lookback Bars",precision:0,min:10,default:40},{title:"Min Zone Bars",precision:0,min:3,default:5},{title:"Max Zone Bars",precision:0,min:5,default:25},{title:"ATR Period",precision:0,min:1,default:14},{title:"Volume MA Period",precision:0,min:1,default:20},{title:"Min Volume Factor",precision:2,min:.1,default:1.2},{title:"Max Zone Width %",precision:3,min:.001,default:.03},{title:"Prior Trend Lookback",precision:0,min:1,default:20},{title:"Min OBV Trend Strength",precision:2,min:0,default:.2},{title:"Min Zone Score",precision:2,min:0,max:1,default:.6},{title:"Merge Nearby Zones (0/1)",precision:0,min:0,max:1,default:1},{title:"Max Zones Displayed",precision:0,min:1,default:20},{title:"Show Labels (0/1)",precision:0,min:0,max:1,default:1}],VOLCANIC:[{title:"BB Period",precision:0,min:1,default:16},{title:"BB StdDev",precision:2,min:.1,default:2},{title:"ATR Period",precision:0,min:1,default:14},{title:"Volume MA Period",precision:0,min:1,default:20},{title:"Normalize Lookback",precision:0,min:10,default:60},{title:"Pressure SMA",precision:0,min:1,default:2},{title:"Min Pressure Alert",precision:2,min:0,max:1,default:.55},{title:"Confirm Bars",precision:0,min:1,default:1},{title:"Min Volume x",precision:2,min:.5,default:1},{title:"Min Range x",precision:2,min:.5,default:1},{title:"Min Body % of Range",precision:2,min:0,max:1,default:.5},{title:"Breakout Lookback",precision:0,min:5,default:10},{title:"Min Bars Between Signals",precision:0,min:1,default:1},{title:"Trend EMA Period",precision:0,min:2,default:30},{title:"Require Trend Align (0/1)",precision:0,min:0,max:1,default:0},{title:"Breakout Buffer %",precision:4,min:0,default:7e-4},{title:"Require BB Band Break (0/1)",precision:0,min:0,max:1,default:0},{title:"Retest Window (bars)",precision:0,min:1,default:1}],VOLCANIC_SIG:[{title:"BB Period",precision:0,min:1,default:16},{title:"BB StdDev",precision:2,min:.1,default:2},{title:"ATR Period",precision:0,min:1,default:14},{title:"Volume MA Period",precision:0,min:1,default:20},{title:"Normalize Lookback",precision:0,min:10,default:60},{title:"Pressure SMA",precision:0,min:1,default:2},{title:"Min Pressure Alert",precision:2,min:0,max:1,default:.55},{title:"Confirm Bars",precision:0,min:1,default:1},{title:"Min Volume x",precision:2,min:.5,default:1},{title:"Min Range x",precision:2,min:.5,default:1},{title:"Min Body % of Range",precision:2,min:0,max:1,default:.5},{title:"Breakout Lookback",precision:0,min:5,default:10},{title:"Min Bars Between Signals",precision:0,min:1,default:1},{title:"Trend EMA Period",precision:0,min:2,default:30},{title:"Require Trend Align (0/1)",precision:0,min:0,max:1,default:0},{title:"Breakout Buffer %",precision:4,min:0,default:7e-4},{title:"Require BB Band Break (0/1)",precision:0,min:0,max:1,default:0},{title:"Retest Window (bars)",precision:0,min:1,default:1}],ZIGZAG:[{title:"Deviation %",precision:1,min:1,max:50,default:5},{title:"Depth",precision:0,min:1,max:50,default:5}]};function MP(o,e){if(o>1e12)throw Error("10 digit timestamp is require for align_tfsecs");let t=0;for(const n of IP){if(e<n.tfsecs)break;if(e%n.tfsecs==0){t=n.origin;break}}return t?Math.floor((o-t)/e)*e+t:Math.floor(o/e)*e}function U1(o,e){if((!o||isNaN(o)||o<=0)&&(console.warn("Invalid timestamp in align_tfmsecs:",o),o=Date.now()),o<1e12&&(console.warn("13 digit timestamp is require for align_tfmsecs, got:",o),o<1e9?o=o*1e3:o=Date.now()),e<1e3)throw Error("milliseconds tf_msecs is require for align_tfmsecs");const t=Math.floor(o/1e3),n=Math.floor(e/1e3);return MP(t,n)*1e3}function TP(o,e,t,n=null){if(o=o.map((a,c)=>{const d=a[0];return(!d||isNaN(d)||d<=0)&&(console.warn(`Invalid timestamp in build_ohlcvs at index ${c}:`,d),a[0]=Date.now()),a}),n&&((!n[0]||isNaN(n[0])||n[0]<=0)&&(console.warn("Invalid timestamp in last_bar:",n[0]),n[0]=Date.now()),n[0]=U1(n[0],t)),e==t)return n&&o.length>0&&o[0][0]>n[0]&&o.splice(0,0,n),o;const s=n?[n]:[];let r=s.length-1;return o.forEach((a,c)=>{if((!a[0]||isNaN(a[0])||a[0]<=0)&&(console.warn(`Invalid timestamp in build_ohlcvs forEach at index ${c}:`,a[0]),a[0]=Date.now()),a[0]=U1(a[0],t),r<0||a[0]>s[r][0])s.push(a),r+=1;else{const d=s[r];d[2]=Math.max(d[2],a[2]),d[3]=Math.min(d[3],a[3]),d[4]=a[4],d[5]+=a[5]}}),s}function Fr(o){var n,s,r,a,c,d,u,p;const e=JSON.parse(JSON.stringify(o)),t=(n=e.candle)==null?void 0:n.type;if(t&&(e._originalChartType=t),e.candle&&e.candle.type==="area"&&!e.candle._isLineChart){e.candle.area||(e.candle.area={});const h=((s=e.candle.bar)==null?void 0:s.upColor)||((r=e.candle.bar)==null?void 0:r.downColor)||((d=(c=(a=e.candle.priceMark)==null?void 0:a.last)==null?void 0:c.text)==null?void 0:d.color)||((p=(u=e.candle.tooltip)==null?void 0:u.text)==null?void 0:p.color)||"#2196F3";e.candle.area={...e.candle.area,backgroundColor:[{offset:0,color:h+"60"},{offset:1,color:h+"10"}]}}if(o.yAxis&&(e.yAxis={...e.yAxis,...o.yAxis}),o.xAxis&&(e.xAxis={...e.xAxis,...o.xAxis}),o.grid&&(e.grid={...e.grid,...o.grid}),o.indicator&&(e.indicator={...e.indicator,...o.indicator}),e.candle&&e.candle.type==="heikin_ashi"&&(e.candle.type="candle_solid"),e.candle&&e.candle.type==="renko_atr"&&(e.candle.type="candle_solid"),e.candle&&e.candle.type==="point_and_figure"){e.candle.type="candle_solid";const h="rgba(0,0,0,0)";e.candle.bar={...e.candle.bar,upColor:h,downColor:h,noChangeColor:h,upBorderColor:h,downBorderColor:h,noChangeBorderColor:h,upWickColor:h,downWickColor:h,noChangeWickColor:h},e.candle.priceMark||(e.candle.priceMark={}),e.candle.priceMark.high={show:!1},e.candle.priceMark.low={show:!1}}else if(e.candle&&e.candle.bar){const h=e.candle.bar,x=M=>!M||M==="transparent"||M==="rgba(0,0,0,0)",w="#26A69A",k="#EF5350",S="#888888";x(h.upColor)&&(h.upColor=w),x(h.downColor)&&(h.downColor=k),x(h.noChangeColor)&&(h.noChangeColor=S),x(h.upBorderColor)&&(h.upBorderColor=w),x(h.downBorderColor)&&(h.downBorderColor=k),x(h.noChangeBorderColor)&&(h.noChangeBorderColor=S),x(h.upWickColor)&&(h.upWickColor=w),x(h.downWickColor)&&(h.downWickColor=k),x(h.noChangeWickColor)&&(h.noChangeWickColor=S),e.candle.bar=h}return e}function AP(o,e){var t,n;return(t=e==null?void 0:e.candle)!=null&&t.type?(console.log("âœ… Using chart type from $save.styles:",e.candle.type),e.candle.type):o!=null&&o._originalChartType?(console.log("âœ… Using original chart type from marker:",o._originalChartType),o._originalChartType):(n=o==null?void 0:o.candle)!=null&&n.type?(console.log("âš ï¸ Using chart type from chart.getStyles() (might be converted):",o.candle.type),o.candle.type):(console.log("âš ï¸ No chart type found, defaulting to candle_solid"),"candle_solid")}function Y1(o){if(!o||o.length===0)return o;const e=[];let t=0,n=0;for(let s=0;s<o.length;s++){const r=o[s],a=(r.open+r.high+r.low+r.close)/4;let c;s===0?c=(r.open+r.close)/2:c=(t+n)/2;const d=Math.max(r.high,c,a),u=Math.min(r.low,c,a),p={...r,open:c,high:d,low:u,close:a};e.push(p),t=c,n=a}return e}function K1(o,e){if(!Array.isArray(o)||o.length===0)return o;const t=(e==null?void 0:e.method)||"ATR",n=Math.max(1,((e==null?void 0:e.atrLength)??14)|0),s=(e==null?void 0:e.source)||"close",r=!!(e!=null&&e.wick),a=T=>{switch(s){case"open":return T.open;case"high":return T.high;case"low":return T.low;default:return T.close}},c=[];let d=null;for(let T=0;T<o.length;T++){const D=o[T],A=d==null?Math.max(0,D.high-D.low):Math.max(D.high-D.low,Math.abs(D.high-d),Math.abs(D.low-d));c.push(Math.max(0,A)),d=D.close}const u=new Array(c.length).fill(0);let p=0;for(let T=0;T<c.length;T++)p+=c[T],T===n-1?u[T]=p/n:T>=n?u[T]=(u[T-1]*(n-1)+c[T])/n:u[T]=c[T];const h=u[Math.min(u.length-1,Math.max(0,n-1))]||c.reduce((T,D)=>T+D,0)/Math.max(1,c.length),x=Math.max(1e-12,u[u.length-1]||h),w=[];let k=a(o[0]),S=o[0]&&typeof o[0].timestamp=="number"?o[0].timestamp:Date.now();const M=1e3;for(let T=1;T<o.length;T++){const D=o[T],A=a(D);let j=x;if(!j||j<=0)continue;const q=Math.max(1e-12,Math.abs(D.high-D.low))*1e-6;j<q&&(j=q);let B=Math.floor((A-(k+j))/j)+1;B>0&&(B=Math.min(B,M));for(let z=0;z<B;z++){const Y=k,G=k+j,oe=Math.max(Y,G),re=Math.min(Y,G),se=z===B-1,ie=r&&se?Math.max(oe,D.high):oe,te=re;S=Math.max(D.timestamp||S,S+1),w.push({timestamp:S,open:Y,high:ie,low:te,close:G,volume:D.volume??0}),k=G}let O=Math.floor((k-j-A)/j)+1;O>0&&(O=Math.min(O,M));for(let z=0;z<O;z++){const Y=k,G=k-j,oe=Math.max(Y,G),re=Math.min(Y,G),se=z===O-1,ie=oe,te=r&&se?Math.min(re,D.low):re;S=Math.max(D.timestamp||S,S+1),w.push({timestamp:S,open:Y,high:ie,low:te,close:G,volume:D.volume??0}),k=G}}if(w.length===0){const T=o[o.length-1],D=T.open,A=T.close,j=r?T.high:Math.max(D,A),F=r?T.low:Math.min(D,A);w.push({timestamp:T.timestamp||S||Date.now(),open:D,high:j,low:F,close:A,volume:T.volume??0})}return w}const DP={boxSizeMode:"ATR",boxSize:1,atrLength:14,reversalBoxes:3,upColor:"#00E6D8",downColor:"#FF4D4D"};function Z1(o,e){if(!Array.isArray(o)||o.length===0)return o;const t={...DP,...e};let n;if(t.boxSizeMode==="ATR"){const T=Math.max(1,t.atrLength||14),D=[];let A=null;for(let B=0;B<o.length;B++){const O=o[B],z=A==null?Math.max(0,O.high-O.low):Math.max(O.high-O.low,Math.abs(O.high-A),Math.abs(O.low-A));D.push(Math.max(0,z)),A=O.close}const j=new Array(D.length).fill(0);let F=0;for(let B=0;B<D.length;B++)F+=D[B],B===T-1?j[B]=F/T:B>=T?j[B]=(j[B-1]*(T-1)+D[B])/T:j[B]=D[B];const q=j[j.length-1]||D.reduce((B,O)=>B+O,0)/Math.max(1,D.length);n=Math.max(1e-4,q)}else if(t.boxSizeMode==="percent"){const T=o.reduce((D,A)=>D+A.close,0)/o.length;n=Math.max(1e-4,T*t.boxSize/100)}else n=Math.max(1e-4,t.boxSize);const s=n*t.reversalBoxes,r=o[0];let a=r.close>=r.open?"up":"down",c=Math.floor(r.high/n)*n,d=Math.ceil(r.low/n)*n;const u=[];let p=0,h={columnIndex:0,direction:a,boxes:[],highPrice:c,lowPrice:d,startTime:r.timestamp||Date.now(),endTime:r.timestamp||Date.now()};const x=Math.max(1,Math.round((c-d)/n));for(let T=0;T<=x;T++){const D=d+T*n;h.boxes.push({columnIndex:0,direction:a,boxIndex:T,price:D,startTime:h.startTime,endTime:h.endTime})}const w=500;for(let T=1;T<o.length;T++){const D=o[T],A=D.timestamp||Date.now();if(h.endTime=A,a==="up"){const j=Math.floor(D.high/n)*n;if(j>c){let F=Math.round((j-c)/n);F=Math.min(F,w-h.boxes.length);for(let q=1;q<=F;q++){const B=c+q*n;h.boxes.push({columnIndex:p,direction:"up",boxIndex:h.boxes.length,price:B,startTime:A,endTime:A})}c=j,h.highPrice=c}if(c-D.low>=s){const F=Math.ceil(D.low/n)*n;u.push(h),p++,a="down",d=F,h={columnIndex:p,direction:"down",boxes:[],highPrice:c-n,lowPrice:d,startTime:A,endTime:A};let q=Math.round((h.highPrice-d)/n);q=Math.min(q,w);for(let B=0;B<=q;B++){const O=h.highPrice-B*n;h.boxes.push({columnIndex:p,direction:"down",boxIndex:B,price:O,startTime:A,endTime:A})}c=h.highPrice}}else{const j=Math.ceil(D.low/n)*n;if(j<d){let F=Math.round((d-j)/n);F=Math.min(F,w-h.boxes.length);for(let q=1;q<=F;q++){const B=d-q*n;h.boxes.push({columnIndex:p,direction:"down",boxIndex:h.boxes.length,price:B,startTime:A,endTime:A})}d=j,h.lowPrice=d}if(D.high-d>=s){const F=Math.floor(D.high/n)*n;u.push(h),p++,a="up",c=F,h={columnIndex:p,direction:"up",boxes:[],highPrice:c,lowPrice:d+n,startTime:A,endTime:A};let q=Math.round((c-h.lowPrice)/n);q=Math.min(q,w);for(let B=0;B<=q;B++){const O=h.lowPrice+B*n;h.boxes.push({columnIndex:p,direction:"up",boxIndex:B,price:O,startTime:A,endTime:A})}d=h.lowPrice}}}if(h.boxes.length>0&&u.push(h),u.length===0)return o;const k=[],S=Date.now(),M=6e4;for(const T of u){const D=T.startTime||S+T.columnIndex*M;k.push({timestamp:D,open:T.direction==="up"?T.lowPrice:T.highPrice,high:T.highPrice,low:T.lowPrice,close:T.direction==="up"?T.highPrice:T.lowPrice,volume:T.boxes.length,_pnf:{columnIndex:T.columnIndex,direction:T.direction,boxes:T.boxes,boxCount:T.boxes.length,boxSize:n,upColor:t.upColor,downColor:t.downColor}})}return k}function ku(o){return o.exchange&&o.ticker?`${o.exchange.toUpperCase()}:${o.ticker.toUpperCase()}`:(o.ticker||o.name||"UNKNOWN").toUpperCase()}function LP(o,e){var r,a,c,d;const t=[];if(e)try{const u=((r=e.getChartStore)==null?void 0:r.call(e))||e;u&&typeof u.getPanes=="function"?u.getPanes().forEach((h,x)=>{t.push({id:h.id||`pane_${x}`,height:h.height,minHeight:h.minHeight,position:x,visible:h.visible!==!1})}):t.push({id:"candle_pane",height:400,position:0,visible:!0})}catch(u){console.warn("Error collecting pane configurations:",u),t.push({id:"candle_pane",height:400,position:0,visible:!0})}const n=[],s=new Map;if(Object.entries(o.saveInds).forEach(([u,p])=>{var S,M,T,D,A,j,F,q,B,O,z,Y;const h={};p.params&&Array.isArray(p.params)&&p.params.forEach((G,oe)=>{h[`param_${oe}`]=G});const x={};p.styles&&Array.isArray(p.styles)?p.styles.forEach((G,oe)=>{x[`style_${oe}`]=G}):p.styles&&typeof p.styles=="object"&&Object.assign(x,p.styles);const w={id:u,type:p.name,params:h,styles:x,paneId:p.pane_id,visible:!0,...Object.fromEntries(Object.entries(p).filter(([G])=>!["name","pane_id","params","styles"].includes(G)))};if(w.type==="RSI"){const G=w;if(!G.rsiGroups||G.rsiGroups.length===0){const oe=w.paneId||"pane_RSI",re=Vd.getInstance(oe)||Vd.getInstanceConfig(oe);if(re){const se=re.overboughtThreshold??((T=(M=(S=re.levels)==null?void 0:S.find)==null?void 0:M.call(S,K=>K.id==="overbought"))==null?void 0:T.value)??70,ie=((j=(A=(D=re.levels)==null?void 0:D.find)==null?void 0:A.call(D,K=>K.id==="middle"))==null?void 0:j.value)??50,te=re.oversoldThreshold??((B=(q=(F=re.levels)==null?void 0:F.find)==null?void 0:q.call(F,K=>K.id==="oversold"))==null?void 0:B.value)??30;G.rsiGroups=[{period:re.period??14,overboughtLevel:se,middleLevel:ie,oversoldLevel:te,styles:{rsi:{color:re.lineColor??"#8B5CF6",thickness:re.lineThickness??2,lineStyle:re.lineStyle??"solid"},overboughtColor:re.overboughtColor??"#EF4444",oversoldColor:re.oversoldColor??"#10B981",middleLineColor:((Y=(z=(O=re.levels)==null?void 0:O.find)==null?void 0:z.call(O,K=>K.id==="middle"))==null?void 0:Y.color)??"#6B7280"}}]}}}const k=`${p.name}_${p.pane_id||"candle_pane"}`;s.set(k,w)}),e)try{const u=((a=e.getIndicators)==null?void 0:a.call(e))??[];console.log("ðŸ“Š Collecting indicators from chart:",u.length,"found"),u.forEach(p=>{if(!p.name)return;const h=p.paneId||"candle_pane",x=`${p.name}_${h}`;if(s.has(x)){console.log(`âœ… Indicator ${p.name} (${h}) already in saveInds`);return}console.log(`âš ï¸ Indicator ${p.name} (${h}) on chart but not in saveInds`);let w=null,k=null;for(const[S,M]of Object.entries(o.saveInds))if(M.name===p.name&&(M.pane_id===h||!M.pane_id&&h==="candle_pane")){w=M,k=S;break}if(w&&k){console.log(`âœ… Found matching saveInd for ${p.name} with key: ${k}`);const S={};w.params&&Array.isArray(w.params)&&w.params.forEach((D,A)=>{S[`param_${A}`]=D});const M={};w.styles&&Array.isArray(w.styles)?w.styles.forEach((D,A)=>{M[`style_${A}`]=D}):w.styles&&typeof w.styles=="object"&&Object.assign(M,w.styles);const T={id:k,type:w.name,params:S,styles:M,paneId:w.pane_id||h,visible:!0,...Object.fromEntries(Object.entries(w).filter(([D])=>!["name","pane_id","params","styles"].includes(D)))};s.set(x,T)}else{if(p.name==="RSI"){console.log(`â™»ï¸ Skipping fallback SavedIndicator creation for RSI on pane ${h} (no matching saveInd)`);return}console.log(`âš ï¸ No matching saveInd found for ${p.name}, creating basic entry`);const M={id:`${h}_${p.name}`,type:p.name,params:{},styles:{},paneId:h,visible:!0};s.set(x,M)}})}catch(u){console.warn("âš ï¸ Failed to get indicators from chart, using saveInds only:",u)}return n.push(...Array.from(s.values())),console.log(`âœ… Collected ${n.length} indicators for saving (${Object.keys(o.saveInds).length} from saveInds, ${n.length-Object.keys(o.saveInds).length} from chart)`),{timezone:o.timezone,interval:o.period.timeframe,chartType:((d=(c=o.styles)==null?void 0:c.candle)==null?void 0:d.type)||"candle_solid",theme:o.theme,panes:t,indicators:n,styles:o.styles||{},options:o.options||{}}}async function EP(o,e,t){var n,s,r,a,c,d,u,p,h,x,w,k,S,M,T,D,A,j,F,q,B,O,z,Y,G,oe,re,se,ie,te,K,J,U,ae;try{if(console.log("ðŸ”„ Applying global state:",o),t){try{t.removeIndicator({}),console.log("ðŸ§¹ Removed all existing indicators before applying new layout")}catch(Ne){console.warn("Failed to clear existing indicators before applying layout:",Ne)}try{const{RSIManager:Ne}=await r1(async()=>{const{RSIManager:we}=await Promise.resolve().then(()=>O1);return{RSIManager:we}},void 0,import.meta.url);Ne.clearAllInstances()}catch{}}const me={},ke=["SMART_MONEY","TRAP_HUNTER","VOLCANIC","VOLCANIC_SIG"],Ae=(n=cc(Iu))==null?void 0:n.data,Le=Ae&&(Ae.isPremium===!0||Ae.isTrial===!0),He=[],it=new Set;if(o.indicators.forEach(Ne=>{if(Ne.type==="RSI"){const we=Ne.rsiGroups,je=Array.isArray(we)&&we.length>0&&(we[0].actualPaneId||we[0].paneId)||Ne.paneId;if(je){if(it.has(je)){console.log("â™»ï¸ Skipping duplicate RSI indicator for pane:",je);return}it.add(je),Ne.paneId=je,Ne.id=`${je}_RSI`,Array.isArray(we)&&we.length>0&&(we[0].paneId=je,we[0].actualPaneId=je)}}He.push(Ne)}),He.forEach(Ne=>{if(!Le&&Ne.type&&ke.includes(Ne.type)){console.log(`ðŸ”’ Skipping AI indicator ${Ne.type} - user does not have premium access`);return}const we=[];Ne.params&&typeof Ne.params=="object"&&Object.entries(Ne.params).forEach(([Se,Ue])=>{if(Se.startsWith("param_")){const Be=parseInt(Se.replace("param_",""));we[Be]=Ue}});const je=[];Ne.styles&&typeof Ne.styles=="object"&&Object.entries(Ne.styles).forEach(([Se,Ue])=>{if(Se.startsWith("style_")&&typeof Ue=="object"){const Be=parseInt(Se.replace("style_",""));je[Be]=Ue}});const Te={name:Ne.type,pane_id:Ne.paneId,params:we.length>0?we:void 0,styles:je.length>0?je:void 0,...Object.fromEntries(Object.entries(Ne).filter(([Se])=>!["id","type","paneId","params","styles","visible"].includes(Se)))};me[Ne.id]=Te}),e.update(Ne=>{Ne.timezone=o.timezone,Ne.period={...Ne.period,timeframe:o.interval};const we=o.styles&&typeof o.styles=="object"?{...o.styles}:{},je=Ne.theme||o.theme||"dark";if((o.theme||je)!==je)try{const Se=ga(je),Ue=_t.merge({},Se,we);delete Ue.backgroundColor,delete Ue.backgroundOpacity,delete Ue.backgroundType,delete Ue.backgroundGradient,delete Ue.gridColor,delete Ue.gridOpacity,delete Ue.gridType,delete Ue.gridGradient,Ne.styles=Ue}catch{Ne.styles=we}else Ne.styles=we;return Ne.styles.candle||(Ne.styles.candle={}),Ne.styles.candle.type=o.chartType,Ne.options=o.options&&typeof o.options=="object"?{...o.options}:{},Ne.saveInds=me,Ne}),t)try{const Ne=cc(e);t.setStyles&&Ne.styles&&(t.setStyles(Ne.styles),console.log("ðŸŽ¨ Applied saved styles to chart"))}catch(Ne){console.warn("Failed to apply saved styles to chart:",Ne)}if(t&&He.length>0){console.log("Creating indicators on chart:",He.length);for(const Ne of He)try{const we=[];Ne.params&&typeof Ne.params=="object"&&Object.entries(Ne.params).forEach(([Be,le])=>{if(Be.startsWith("param_")){const ye=parseInt(Be.replace("param_",""));we[ye]=le}});const je=[];Ne.styles&&typeof Ne.styles=="object"&&Object.entries(Ne.styles).forEach(([Be,le])=>{if(Be.startsWith("style_")&&typeof le=="object"){const ye=parseInt(Be.replace("style_",""));je[ye]=le}});const Te={name:Ne.type,calcParams:we.length>0?we:void 0,visible:Ne.visible!==!1};if(je.length>0&&(Te.styles={lines:je.map(Be=>{const le=Be.lineStyle==="dashed"||Be.lineStyle==="dotted",ye=Be.lineStyle==="dotted"?[2,2]:[4,4];return{color:Be.color,size:Be.thickness??1,style:le?de.Dashed:de.Solid,dashedValue:le?ye:[2,2]}})}),Ne.type==="SMARTTREND"){const Be=Ne.superTrendGroup,le=Be?{showLabels:!!Be.showLabels,uptrendColor:((r=(s=Be.styles)==null?void 0:s.uptrend)==null?void 0:r.color)??"#00FF00",downtrendColor:((c=(a=Be.styles)==null?void 0:a.downtrend)==null?void 0:c.color)??"#FF0000",uptrendThickness:((u=(d=Be.styles)==null?void 0:d.uptrend)==null?void 0:u.thickness)??1,downtrendThickness:((h=(p=Be.styles)==null?void 0:p.downtrend)==null?void 0:h.thickness)??1,uptrendLineStyle:((w=(x=Be.styles)==null?void 0:x.uptrend)==null?void 0:w.lineStyle)??"dashed",downtrendLineStyle:((S=(k=Be.styles)==null?void 0:k.downtrend)==null?void 0:S.lineStyle)??"dashed"}:{showLabels:!0,uptrendColor:"#00FF00",downtrendColor:"#FF0000",uptrendThickness:1,downtrendThickness:1,uptrendLineStyle:"dashed",downtrendLineStyle:"dashed"};if(Te.extendData=le,!Te.styles){const ye=le.uptrendLineStyle==="dotted"||le.uptrendLineStyle==="dashed";Te.styles={lines:[{color:le.uptrendColor,size:le.uptrendThickness,style:ye?de.Dashed:de.Solid,dashedValue:le.uptrendLineStyle==="dotted"?[2,2]:[4,4]}]}}}if(Ne.type==="RSI"){const Be=Ne.rsiGroups||[],le=Ne.paneId;if(Array.isArray(Be)&&Be.length>0){const ye=Be[0],Ee=((M=ye.styles)==null?void 0:M.overboughtColor)??"#EF4444",Je=((T=ye.styles)==null?void 0:T.oversoldColor)??"#22C55E",be=((D=ye.styles)==null?void 0:D.middleLineColor)??"#6B7280",X=ye.fillOpacity??.15,H=((A=ye.styles)==null?void 0:A.overboughtThickness)??1,Ce=((j=ye.styles)==null?void 0:j.oversoldThickness)??1,Qe=((F=ye.styles)==null?void 0:F.middleLineThickness)??1,mt=((q=ye.styles)==null?void 0:q.overboughtLineStyle)??"dashed",bt=((B=ye.styles)==null?void 0:B.oversoldLineStyle)??"dashed",ct=((O=ye.styles)==null?void 0:O.middleLineStyle)??"dashed",yo={id:le,period:ye.period??14,lineColor:((Y=(z=ye.styles)==null?void 0:z.rsi)==null?void 0:Y.color)??"#8B5CF6",lineThickness:((oe=(G=ye.styles)==null?void 0:G.rsi)==null?void 0:oe.thickness)??2,lineStyle:((se=(re=ye.styles)==null?void 0:re.rsi)==null?void 0:se.lineStyle)??"solid",overboughtLevel:ye.overboughtLevel??70,oversoldLevel:ye.oversoldLevel??30,middleLevel:ye.middleLevel??50,overboughtColor:Ee,overboughtThickness:H,overboughtLineStyle:mt,oversoldColor:Je,oversoldThickness:Ce,oversoldLineStyle:bt,overboughtFillColor:Ee,oversoldFillColor:Je,middleLineColor:be,middleLineThickness:Qe,middleLineStyle:ct,fillOpacity:X,showLevels:!0,showFill:!0,levels:[{id:"overbought",value:ye.overboughtLevel??70,color:Ee,lineStyle:mt,thickness:H,label:String(ye.overboughtLevel??70),visible:!0},{id:"middle",value:ye.middleLevel??50,color:be,lineStyle:ct,thickness:Qe,label:String(ye.middleLevel??50),visible:!0},{id:"oversold",value:ye.oversoldLevel??30,color:Je,lineStyle:bt,thickness:Ce,label:String(ye.oversoldLevel??30),visible:!0}]};try{const{RSIManager:io}=await r1(async()=>{const{RSIManager:ro}=await Promise.resolve().then(()=>O1);return{RSIManager:ro}},void 0,import.meta.url);io.importInstanceConfig(yo)}catch{}Te.calcParams=[ye.period??14];const Kt={color:((te=(ie=ye.styles)==null?void 0:ie.rsi)==null?void 0:te.color)??"#8B5CF6",size:((J=(K=ye.styles)==null?void 0:K.rsi)==null?void 0:J.thickness)??2,style:de.Solid,dashedValue:[2,2]},to=(ae=(U=ye.styles)==null?void 0:U.rsi)==null?void 0:ae.lineStyle;to==="dashed"?(Kt.style=de.Dashed,Kt.dashedValue=[6,4]):to==="dotted"&&(Kt.style=de.Dashed,Kt.dashedValue=[2,2]),Te.styles={lines:[Kt]}}}const Se=Ne.paneId==="candle_pane",Ue=t.createIndicator(Te,Se,{id:Ne.paneId});console.log(`Created indicator ${Ne.type} with ID:`,Ue)}catch(we){console.error(`Failed to create indicator ${Ne.type}:`,we)}}console.log("Applied global state:",{timezone:o.timezone,interval:o.interval,chartType:o.chartType,theme:o.theme,indicatorCount:He.length,indicatorsCreated:t?He.length:0})}catch(me){throw console.error("Error applying global state:",me),me}}function X1(o){return ku(o.symbol)}class FP{constructor(e){Wt(this,"chart");Wt(this,"persistenceKey");Wt(this,"currentSymbol",null);Wt(this,"ephemeralMode",!0);Wt(this,"drawingsBySymbol",new Map);Wt(this,"renderedDrawingIds",new Set);Wt(this,"onDrawingCreated");Wt(this,"onDrawingRemoved");Wt(this,"onSymbolChanged");Wt(this,"symbolChangeCallbacks",new Set);this.chart=e.chart,this.persistenceKey=e.persistenceKey,this.onDrawingCreated=e.onDrawingCreated,this.onDrawingRemoved=e.onDrawingRemoved,this.onSymbolChanged=e.onSymbolChanged,this.ephemeralMode||this.loadFromStorage(),console.log("âœ… DrawingManager initialized with key:",this.persistenceKey)}setCurrentSymbol(e){var s;const t=typeof e=="string"?e:ku(e);if(this.currentSymbol===t){console.log("ðŸ”„ Symbol unchanged, skipping reload:",t);return}const n=this.currentSymbol;this.currentSymbol=t,console.log(`ðŸ”„ Symbol changed: ${n} â†’ ${t}`),this.clearRenderedDrawings(),this.renderDrawingsForCurrentSymbol(),n&&((s=this.onSymbolChanged)==null||s.call(this,n,t),this.symbolChangeCallbacks.forEach(r=>r(t)))}getCurrentSymbol(){return this.currentSymbol}addDrawing(e){var s;if(!e.symbolKey)throw console.error("âŒ Cannot add drawing without symbolKey:",e),new Error("Drawing must have a symbolKey");let t=this.drawingsBySymbol.get(e.symbolKey);t||(t=[],this.drawingsBySymbol.set(e.symbolKey,t));const n=t.findIndex(r=>r.id===e.id);n>=0?(t[n]=e,console.log("ðŸ”„ Updated drawing:",e.id,"for symbol:",e.symbolKey)):(t.push(e),console.log("âž• Added drawing:",e.id,"for symbol:",e.symbolKey)),this.saveToStorage(),e.symbolKey===this.currentSymbol&&e.visible!==!1&&this.renderDrawing(e),(s=this.onDrawingCreated)==null||s.call(this,e)}removeDrawing(e){var s,r;let t=!1,n=null;for(const[a,c]of this.drawingsBySymbol.entries()){const d=c.findIndex(u=>u.id===e);if(d>=0){c.splice(d,1),t=!0,n=a,console.log("ðŸ—‘ï¸ Removed drawing:",e,"from symbol:",a);break}}return t&&(n&&((s=this.drawingsBySymbol.get(n))==null?void 0:s.length)===0&&this.drawingsBySymbol.delete(n),this.saveToStorage(),this.renderedDrawingIds.has(e)&&(this.chart.removeOverlay({id:e}),this.renderedDrawingIds.delete(e)),n&&((r=this.onDrawingRemoved)==null||r.call(this,e,n))),t}removeDrawingForSymbol(e,t){var r;const n=this.drawingsBySymbol.get(t);if(!n)return!1;const s=n.findIndex(a=>a.id===e);return s<0?!1:(n.splice(s,1),n.length===0&&this.drawingsBySymbol.delete(t),this.saveToStorage(),this.renderedDrawingIds.has(e)&&(this.chart.removeOverlay({id:e}),this.renderedDrawingIds.delete(e)),(r=this.onDrawingRemoved)==null||r.call(this,e,t),!0)}getDrawingsForSymbol(e){return this.drawingsBySymbol.get(e)||[]}getCurrentSymbolDrawings(){return this.currentSymbol?this.getDrawingsForSymbol(this.currentSymbol):[]}getAllDrawings(){return new Map(this.drawingsBySymbol)}clearDrawingsForSymbol(e){const t=this.drawingsBySymbol.get(e);t&&(e===this.currentSymbol&&t.forEach(n=>{this.renderedDrawingIds.has(n.id)&&(this.chart.removeOverlay({id:n.id}),this.renderedDrawingIds.delete(n.id))}),this.drawingsBySymbol.delete(e),this.saveToStorage(),console.log("ðŸ—‘ï¸ Cleared all drawings for symbol:",e))}clearCurrentSymbolDrawings(){this.currentSymbol&&this.clearDrawingsForSymbol(this.currentSymbol)}clearRenderedDrawings(){this.renderedDrawingIds.forEach(e=>{try{this.chart.removeOverlay({id:e})}catch(t){console.warn("Failed to remove overlay:",e,t)}}),this.renderedDrawingIds.clear(),console.log("ðŸ§¹ Cleared rendered drawings from chart")}hideRenderedDrawings(){this.clearRenderedDrawings()}renderDrawingsForCurrentSymbol(){if(!this.currentSymbol){console.log("âš ï¸ No current symbol, skipping render");return}const e=this.getDrawingsForSymbol(this.currentSymbol);console.log(`ðŸŽ¨ Rendering ${e.length} drawings for symbol:`,this.currentSymbol),e.forEach(t=>{t.visible!==!1&&this.renderDrawing(t)})}renderCurrentSymbolDrawings(){this.clearRenderedDrawings(),this.renderDrawingsForCurrentSymbol()}renderDrawing(e){if(e.symbolKey!==this.currentSymbol){console.warn("â›” Drawing symbolKey mismatch, skipping render:",{drawingSymbol:e.symbolKey,currentSymbol:this.currentSymbol});return}try{const t={id:e.id,groupId:"drawing_tools",name:e.type,points:e.points.map(s=>({timestamp:s.time,value:s.price,t:s.time,p:s.price})),styles:e.styles,lock:e.locked,visible:e.visible,onSelected:s=>{try{const r=typeof window<"u"?window.drawBarRef:null;r!=null&&r.externalSelectOverlay&&r.externalSelectOverlay(s.overlay)}catch{}return!0},onDeselected:s=>{try{const r=typeof window<"u"?window.drawBarRef:null;r!=null&&r.externalDeselectOverlay&&r.externalDeselectOverlay(s.overlay)}catch{}return!0},onPressedMoveEnd:s=>{try{const r=typeof window<"u"?window.drawBarRef:null;r!=null&&r.externalSyncOverlay&&r.externalSyncOverlay(s.overlay)}catch{}return!0},onRemoved:s=>{try{const r=typeof window<"u"?window.drawBarRef:null;r!=null&&r.externalRemoved&&r.externalRemoved(s.overlay.id)}catch{}return!0},...Object.fromEntries(Object.entries(e).filter(([s])=>!["id","symbolKey","type","points","styles","locked","visible","seriesId"].includes(s)))};this.chart.createOverlay(t)&&(this.renderedDrawingIds.add(e.id),console.log("âœ… Rendered drawing:",e.id,"for symbol:",e.symbolKey))}catch(t){console.error("âŒ Failed to render drawing:",e.id,t)}}updateDrawing(e,t){for(const[n,s]of this.drawingsBySymbol.entries()){const r=s.findIndex(a=>a.id===e);if(r>=0){const a=s[r];return s[r]={...a,...t,symbolKey:a.symbolKey},this.saveToStorage(),console.log("ðŸ”„ Updated drawing:",e),!0}}return!1}loadDrawingsForSymbol(e,t){const n=t.filter(s=>s.symbolKey!==e?(console.warn("âš ï¸ Drawing symbolKey mismatch during bulk load:",{expected:e,actual:s.symbolKey,drawingId:s.id}),!1):!0);this.drawingsBySymbol.set(e,n),this.saveToStorage(),e===this.currentSymbol&&(this.clearRenderedDrawings(),this.renderDrawingsForCurrentSymbol()),console.log(`ðŸ“¥ Loaded ${n.length} drawings for symbol:`,e)}loadAllDrawings(e){this.drawingsBySymbol.clear(),Object.entries(e).forEach(([t,n])=>{const s=n.filter(r=>(r.symbolKey||(console.warn("âš ï¸ Drawing missing symbolKey, assigning:",t),r.symbolKey=t),!0));this.drawingsBySymbol.set(t,s)}),this.saveToStorage(),this.currentSymbol&&(this.clearRenderedDrawings(),this.renderDrawingsForCurrentSymbol()),console.log("ðŸ“¥ Loaded drawings for",this.drawingsBySymbol.size,"symbols")}saveToStorage(){if(!this.ephemeralMode)try{const e={drawingsBySymbol:Object.fromEntries(this.drawingsBySymbol),version:1};localStorage.setItem(this.persistenceKey,JSON.stringify(e))}catch(e){console.error("âŒ Failed to save drawings to storage:",e)}}clearPersistedStorage(){try{localStorage.removeItem(this.persistenceKey),console.log("ðŸ§¹ Cleared persisted drawing storage for key:",this.persistenceKey)}catch(e){console.warn("Failed to clear persisted drawing storage:",e)}}loadFromStorage(){if(!this.ephemeralMode)try{const e=localStorage.getItem(this.persistenceKey);if(!e){console.log("ðŸ“­ No stored drawings found");return}const t=JSON.parse(e);if(!t.version){console.log("ðŸ”„ Migrating legacy drawing storage..."),this.migrateLegacyStorage(t);return}Object.entries(t.drawingsBySymbol||{}).forEach(([n,s])=>{const r=s.map(a=>(a.symbolKey||(a.symbolKey=n),a));this.drawingsBySymbol.set(n,r)}),console.log("ðŸ“‚ Loaded drawings from storage:",this.drawingsBySymbol.size,"symbols")}catch(e){console.error("âŒ Failed to load drawings from storage:",e),this.drawingsBySymbol.clear()}}migrateLegacyStorage(e){if(console.log("ðŸ”„ Starting migration of legacy overlay format..."),typeof e=="object"&&!e.drawingsBySymbol){const t={};Object.entries(e).forEach(([n,s])=>{try{const r=n.split("_");if(r.length<3){console.warn("âš ï¸ Invalid legacy key format:",n);return}const a=r[r.length-1],c=r[r.length-2],u=r.slice(0,-2).join("_").toUpperCase(),p=this.convertLegacyOverlayToDrawing(a,s,u);p&&(t[u]||(t[u]=[]),t[u].push(p))}catch(r){console.warn("âš ï¸ Failed to migrate legacy overlay:",n,r)}}),Object.entries(t).forEach(([n,s])=>{this.drawingsBySymbol.set(n,s)}),this.saveToStorage(),console.log("âœ… Migration complete:",this.drawingsBySymbol.size,"symbols migrated")}}convertLegacyOverlayToDrawing(e,t,n){try{const s=[];return t.points&&Array.isArray(t.points)&&t.points.forEach(r=>{r&&typeof r=="object"&&(r.timestamp&&r.value!==void 0?s.push({time:r.timestamp,price:r.value}):r.time&&r.price!==void 0?s.push({time:r.time,price:r.price}):r.t&&r.p!==void 0&&s.push({time:r.t,price:r.p}))}),s.length===0?(console.warn("Legacy overlay has no valid data coordinates:",e),null):{id:e,symbolKey:n,type:t.name||"unknown",points:s,styles:t.styles||{},locked:!!t.lock,visible:t.visible!==!1,...Object.fromEntries(Object.entries(t).filter(([r])=>!["name","points","styles","lock","visible"].includes(r)))}}catch(s){return console.warn("Error converting legacy overlay to drawing:",e,s),null}}onSymbolChange(e){this.symbolChangeCallbacks.add(e)}offSymbolChange(e){this.symbolChangeCallbacks.delete(e)}exportDrawings(){return Object.fromEntries(this.drawingsBySymbol)}getStats(){let e=0;return this.drawingsBySymbol.forEach(t=>{e+=t.length}),{totalSymbols:this.drawingsBySymbol.size,totalDrawings:e,currentSymbolDrawings:this.getCurrentSymbolDrawings().length,renderedDrawings:this.renderedDrawingIds.size}}destroy(){this.clearRenderedDrawings(),this.symbolChangeCallbacks.clear(),this.drawingsBySymbol.clear(),console.log("ðŸ—‘ï¸ DrawingManager destroyed")}}let m0=null;function jP(o){return m0&&(console.warn("âš ï¸ DrawingManager already initialized, destroying old instance"),m0.destroy()),m0=new FP(o),m0}function xu(){return m0}class $P{constructor(){Wt(this,"state",bc({undoStack:[],redoStack:[],maxHistorySize:50}));Wt(this,"chart",null);Wt(this,"saveStore",null);Wt(this,"overlaysStore",null)}init({chart:e,saveStore:t,overlaysStore:n}){this.chart=e,this.saveStore=t,this.overlaysStore=n}addAction(e){this.state.update(t=>(t.redoStack=[],t.undoStack.push(e),t.undoStack.length>t.maxHistorySize&&t.undoStack.shift(),t))}recordAddIndicator(e,t,n,s){const r={type:"ADD_INDICATOR",data:{name:e,paneId:t,params:n,saveKey:s},timestamp:Date.now(),id:`indicator_${e}_${t}_${Date.now()}`};this.addAction(r)}recordRemoveIndicator(e,t,n,s){const r={type:"REMOVE_INDICATOR",data:{name:e,paneId:t,params:n,saveKey:s},timestamp:Date.now(),id:`indicator_${e}_${t}_${Date.now()}`};this.addAction(r)}recordAddOverlay(e,t,n){const s={type:"ADD_OVERLAY",data:{overlayId:e,overlayData:t,overlayKey:n},timestamp:Date.now(),id:`overlay_${e}_${Date.now()}`};this.addAction(s)}recordRemoveOverlay(e,t,n){const s={type:"REMOVE_OVERLAY",data:{overlayId:e,overlayData:t,overlayKey:n},timestamp:Date.now(),id:`overlay_${e}_${Date.now()}`};this.addAction(s)}undo(){const e=cc(this.state);if(e.undoStack.length===0)return!1;const t=e.undoStack[e.undoStack.length-1],n=this.executeUndo(t);return n&&this.state.update(s=>{const r=s.undoStack.pop();return r&&s.redoStack.push(r),s}),n}redo(){const e=cc(this.state);if(e.redoStack.length===0)return!1;const t=e.redoStack[e.redoStack.length-1],n=this.executeRedo(t);return n&&this.state.update(s=>{const r=s.redoStack.pop();return r&&s.undoStack.push(r),s}),n}executeUndo(e){if(!this.chart)return!1;try{switch(e.type){case"ADD_INDICATOR":this.chart.removeIndicator({paneId:e.data.paneId,name:e.data.name}),this.saveStore&&this.saveStore.update(s=>(delete s.saveInds[e.data.saveKey],s));break;case"REMOVE_INDICATOR":const t=this.chart.createIndicator({name:e.data.name,calcParams:e.data.params},!1,{id:e.data.paneId});this.saveStore&&t&&this.saveStore.update(s=>(s.saveInds[e.data.saveKey]={name:e.data.name,pane_id:e.data.paneId,params:e.data.params},s));break;case"ADD_OVERLAY":this.chart.removeOverlay({id:e.data.overlayId}),this.overlaysStore&&this.overlaysStore.update(s=>(delete s[e.data.overlayKey],s));try{const s=xu();s&&s.removeDrawing(e.data.overlayId)}catch{}break;case"REMOVE_OVERLAY":const n=this.chart.createOverlay(e.data.overlayData);this.overlaysStore&&n&&this.overlaysStore.update(s=>(s[e.data.overlayKey]=e.data.overlayData,s));try{const s=xu();if(s){const r=cc(this.saveStore),a=ku(r.symbol),c=e.data.overlayData,d=Array.isArray(c==null?void 0:c.points)?c.points.map(u=>({time:(u==null?void 0:u.timestamp)??(u==null?void 0:u.t)??0,price:(u==null?void 0:u.value)??(u==null?void 0:u.p)??0})):[];if(d.length>0){const u={id:e.data.overlayId,symbolKey:a,type:(c==null?void 0:c.name)||"unknown",points:d,styles:(c==null?void 0:c.styles)||{},...c!=null&&c.extendData?{extendData:c.extendData}:{},locked:!!(c!=null&&c.lock),visible:(c==null?void 0:c.visible)!==!1};s.addDrawing(u)}}}catch{}break;default:return!1}return!0}catch(t){return console.error("Error executing undo:",t),!1}}executeRedo(e){if(!this.chart)return!1;try{switch(e.type){case"ADD_INDICATOR":const t=this.chart.createIndicator({name:e.data.name,calcParams:e.data.params},!1,{id:e.data.paneId});this.saveStore&&t&&this.saveStore.update(s=>(s.saveInds[e.data.saveKey]={name:e.data.name,pane_id:e.data.paneId,params:e.data.params},s));break;case"REMOVE_INDICATOR":this.chart.removeIndicator({paneId:e.data.paneId,name:e.data.name}),this.saveStore&&this.saveStore.update(s=>(delete s.saveInds[e.data.saveKey],s));break;case"ADD_OVERLAY":const n=this.chart.createOverlay(e.data.overlayData);this.overlaysStore&&n&&this.overlaysStore.update(s=>(s[e.data.overlayKey]=e.data.overlayData,s));try{const s=xu();if(s){const r=cc(this.saveStore),a=ku(r.symbol),c=e.data.overlayData,d=Array.isArray(c==null?void 0:c.points)?c.points.map(u=>({time:(u==null?void 0:u.timestamp)??(u==null?void 0:u.t)??0,price:(u==null?void 0:u.value)??(u==null?void 0:u.p)??0})):[];if(d.length>0){const u={id:e.data.overlayId,symbolKey:a,type:(c==null?void 0:c.name)||"unknown",points:d,styles:(c==null?void 0:c.styles)||{},...c!=null&&c.extendData?{extendData:c.extendData}:{},locked:!!(c!=null&&c.lock),visible:(c==null?void 0:c.visible)!==!1};s.addDrawing(u)}}}catch{}break;case"REMOVE_OVERLAY":this.chart.removeOverlay({id:e.data.overlayId}),this.overlaysStore&&this.overlaysStore.update(s=>(delete s[e.data.overlayKey],s));try{const s=xu();s&&s.removeDrawing(e.data.overlayId)}catch{}break;default:return!1}return!0}catch(t){return console.error("Error executing redo:",t),!1}}canUndo(){return cc(this.state).undoStack.length>0}canRedo(){return cc(this.state).redoStack.length>0}getState(){return this.state}clearHistory(){this.state.update(e=>({...e,undoStack:[],redoStack:[]}))}}const Gl=new $P,BP={"ðŸ˜€":{name:"grinning face",slug:"grinning_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ˜ƒ":{name:"grinning face with big eyes",slug:"grinning_face_with_big_eyes",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜„":{name:"grinning face with smiling eyes",slug:"grinning_face_with_smiling_eyes",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜":{name:"beaming face with smiling eyes",slug:"beaming_face_with_smiling_eyes",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜†":{name:"grinning squinting face",slug:"grinning_squinting_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜…":{name:"grinning face with sweat",slug:"grinning_face_with_sweat",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¤£":{name:"rolling on the floor laughing",slug:"rolling_on_the_floor_laughing",group:"Smileys & Emotion",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ˜‚":{name:"face with tears of joy",slug:"face_with_tears_of_joy",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ™‚":{name:"slightly smiling face",slug:"slightly_smiling_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ™ƒ":{name:"upside-down face",slug:"upside_down_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ« ":{name:"melting face",slug:"melting_face",group:"Smileys & Emotion",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸ˜‰":{name:"winking face",slug:"winking_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜Š":{name:"smiling face with smiling eyes",slug:"smiling_face_with_smiling_eyes",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜‡":{name:"smiling face with halo",slug:"smiling_face_with_halo",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¥°":{name:"smiling face with hearts",slug:"smiling_face_with_hearts",group:"Smileys & Emotion",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ˜":{name:"smiling face with heart-eyes",slug:"smiling_face_with_heart_eyes",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¤©":{name:"star-struck",slug:"star_struck",group:"Smileys & Emotion",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ˜˜":{name:"face blowing a kiss",slug:"face_blowing_a_kiss",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜—":{name:"kissing face",slug:"kissing_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"â˜ºï¸":{name:"smiling face",slug:"smiling_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜š":{name:"kissing face with closed eyes",slug:"kissing_face_with_closed_eyes",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜™":{name:"kissing face with smiling eyes",slug:"kissing_face_with_smiling_eyes",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¥²":{name:"smiling face with tear",slug:"smiling_face_with_tear",group:"Smileys & Emotion",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ˜‹":{name:"face savoring food",slug:"face_savoring_food",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜›":{name:"face with tongue",slug:"face_with_tongue",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ˜œ":{name:"winking face with tongue",slug:"winking_face_with_tongue",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¤ª":{name:"zany face",slug:"zany_face",group:"Smileys & Emotion",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ˜":{name:"squinting face with tongue",slug:"squinting_face_with_tongue",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¤‘":{name:"money-mouth face",slug:"money_mouth_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¤—":{name:"smiling face with open hands",slug:"smiling_face_with_open_hands",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¤­":{name:"face with hand over mouth",slug:"face_with_hand_over_mouth",group:"Smileys & Emotion",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ«¢":{name:"face with open eyes and hand over mouth",slug:"face_with_open_eyes_and_hand_over_mouth",group:"Smileys & Emotion",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸ«£":{name:"face with peeking eye",slug:"face_with_peeking_eye",group:"Smileys & Emotion",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸ¤«":{name:"shushing face",slug:"shushing_face",group:"Smileys & Emotion",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ¤”":{name:"thinking face",slug:"thinking_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ«¡":{name:"saluting face",slug:"saluting_face",group:"Smileys & Emotion",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸ¤":{name:"zipper-mouth face",slug:"zipper_mouth_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¤¨":{name:"face with raised eyebrow",slug:"face_with_raised_eyebrow",group:"Smileys & Emotion",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ˜":{name:"neutral face",slug:"neutral_face",group:"Smileys & Emotion",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ˜‘":{name:"expressionless face",slug:"expressionless_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ˜¶":{name:"face without mouth",slug:"face_without_mouth",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ«¥":{name:"dotted line face",slug:"dotted_line_face",group:"Smileys & Emotion",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸ˜¶â€ðŸŒ«ï¸":{name:"face in clouds",slug:"face_in_clouds",group:"Smileys & Emotion",emoji_version:"13.1",unicode_version:"13.1",skin_tone_support:!1},"ðŸ˜":{name:"smirking face",slug:"smirking_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜’":{name:"unamused face",slug:"unamused_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ™„":{name:"face with rolling eyes",slug:"face_with_rolling_eyes",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ˜¬":{name:"grimacing face",slug:"grimacing_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ˜®â€ðŸ’¨":{name:"face exhaling",slug:"face_exhaling",group:"Smileys & Emotion",emoji_version:"13.1",unicode_version:"13.1",skin_tone_support:!1},"ðŸ¤¥":{name:"lying face",slug:"lying_face",group:"Smileys & Emotion",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ«¨":{name:"shaking face",slug:"shaking_face",group:"Smileys & Emotion",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸ™‚â€â†”ï¸":{name:"head shaking horizontally",slug:"head_shaking_horizontally",group:"Smileys & Emotion",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!1},"ðŸ™‚â€â†•ï¸":{name:"head shaking vertically",slug:"head_shaking_vertically",group:"Smileys & Emotion",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!1},"ðŸ˜Œ":{name:"relieved face",slug:"relieved_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜”":{name:"pensive face",slug:"pensive_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜ª":{name:"sleepy face",slug:"sleepy_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¤¤":{name:"drooling face",slug:"drooling_face",group:"Smileys & Emotion",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ˜´":{name:"sleeping face",slug:"sleeping_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ«©":{name:"face with bags under eyes",slug:"face_with_bags_under_eyes",group:"Smileys & Emotion",emoji_version:"16.0",unicode_version:"16.0",skin_tone_support:!1},"ðŸ˜·":{name:"face with medical mask",slug:"face_with_medical_mask",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¤’":{name:"face with thermometer",slug:"face_with_thermometer",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¤•":{name:"face with head-bandage",slug:"face_with_head_bandage",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¤¢":{name:"nauseated face",slug:"nauseated_face",group:"Smileys & Emotion",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¤®":{name:"face vomiting",slug:"face_vomiting",group:"Smileys & Emotion",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ¤§":{name:"sneezing face",slug:"sneezing_face",group:"Smileys & Emotion",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¥µ":{name:"hot face",slug:"hot_face",group:"Smileys & Emotion",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¥¶":{name:"cold face",slug:"cold_face",group:"Smileys & Emotion",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¥´":{name:"woozy face",slug:"woozy_face",group:"Smileys & Emotion",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ˜µ":{name:"face with crossed-out eyes",slug:"face_with_crossed_out_eyes",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜µâ€ðŸ’«":{name:"face with spiral eyes",slug:"face_with_spiral_eyes",group:"Smileys & Emotion",emoji_version:"13.1",unicode_version:"13.1",skin_tone_support:!1},"ðŸ¤¯":{name:"exploding head",slug:"exploding_head",group:"Smileys & Emotion",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ¤ ":{name:"cowboy hat face",slug:"cowboy_hat_face",group:"Smileys & Emotion",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¥³":{name:"partying face",slug:"partying_face",group:"Smileys & Emotion",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¥¸":{name:"disguised face",slug:"disguised_face",group:"Smileys & Emotion",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ˜Ž":{name:"smiling face with sunglasses",slug:"smiling_face_with_sunglasses",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¤“":{name:"nerd face",slug:"nerd_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ§":{name:"face with monocle",slug:"face_with_monocle",group:"Smileys & Emotion",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ˜•":{name:"confused face",slug:"confused_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ«¤":{name:"face with diagonal mouth",slug:"face_with_diagonal_mouth",group:"Smileys & Emotion",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸ˜Ÿ":{name:"worried face",slug:"worried_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ™":{name:"slightly frowning face",slug:"slightly_frowning_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"â˜¹ï¸":{name:"frowning face",slug:"frowning_face",group:"Smileys & Emotion",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ˜®":{name:"face with open mouth",slug:"face_with_open_mouth",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ˜¯":{name:"hushed face",slug:"hushed_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ˜²":{name:"astonished face",slug:"astonished_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜³":{name:"flushed face",slug:"flushed_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥º":{name:"pleading face",slug:"pleading_face",group:"Smileys & Emotion",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¥¹":{name:"face holding back tears",slug:"face_holding_back_tears",group:"Smileys & Emotion",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸ˜¦":{name:"frowning face with open mouth",slug:"frowning_face_with_open_mouth",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ˜§":{name:"anguished face",slug:"anguished_face",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ˜¨":{name:"fearful face",slug:"fearful_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜°":{name:"anxious face with sweat",slug:"anxious_face_with_sweat",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜¥":{name:"sad but relieved face",slug:"sad_but_relieved_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜¢":{name:"crying face",slug:"crying_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜­":{name:"loudly crying face",slug:"loudly_crying_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜±":{name:"face screaming in fear",slug:"face_screaming_in_fear",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜–":{name:"confounded face",slug:"confounded_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜£":{name:"persevering face",slug:"persevering_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜ž":{name:"disappointed face",slug:"disappointed_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜“":{name:"downcast face with sweat",slug:"downcast_face_with_sweat",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜©":{name:"weary face",slug:"weary_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜«":{name:"tired face",slug:"tired_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥±":{name:"yawning face",slug:"yawning_face",group:"Smileys & Emotion",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ˜¤":{name:"face with steam from nose",slug:"face_with_steam_from_nose",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜¡":{name:"enraged face",slug:"enraged_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜ ":{name:"angry face",slug:"angry_face",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¤¬":{name:"face with symbols on mouth",slug:"face_with_symbols_on_mouth",group:"Smileys & Emotion",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ˜ˆ":{name:"smiling face with horns",slug:"smiling_face_with_horns",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ‘¿":{name:"angry face with horns",slug:"angry_face_with_horns",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’€":{name:"skull",slug:"skull",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â˜ ï¸":{name:"skull and crossbones",slug:"skull_and_crossbones",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ’©":{name:"pile of poo",slug:"pile_of_poo",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¤¡":{name:"clown face",slug:"clown_face",group:"Smileys & Emotion",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ‘¹":{name:"ogre",slug:"ogre",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘º":{name:"goblin",slug:"goblin",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘»":{name:"ghost",slug:"ghost",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘½":{name:"alien",slug:"alien",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘¾":{name:"alien monster",slug:"alien_monster",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¤–":{name:"robot",slug:"robot",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ˜º":{name:"grinning cat",slug:"grinning_cat",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜¸":{name:"grinning cat with smiling eyes",slug:"grinning_cat_with_smiling_eyes",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜¹":{name:"cat with tears of joy",slug:"cat_with_tears_of_joy",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜»":{name:"smiling cat with heart-eyes",slug:"smiling_cat_with_heart_eyes",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜¼":{name:"cat with wry smile",slug:"cat_with_wry_smile",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜½":{name:"kissing cat",slug:"kissing_cat",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ™€":{name:"weary cat",slug:"weary_cat",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜¿":{name:"crying cat",slug:"crying_cat",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜¾":{name:"pouting cat",slug:"pouting_cat",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ™ˆ":{name:"see-no-evil monkey",slug:"see_no_evil_monkey",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ™‰":{name:"hear-no-evil monkey",slug:"hear_no_evil_monkey",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ™Š":{name:"speak-no-evil monkey",slug:"speak_no_evil_monkey",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’Œ":{name:"love letter",slug:"love_letter",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’˜":{name:"heart with arrow",slug:"heart_with_arrow",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’":{name:"heart with ribbon",slug:"heart_with_ribbon",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’–":{name:"sparkling heart",slug:"sparkling_heart",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’—":{name:"growing heart",slug:"growing_heart",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’“":{name:"beating heart",slug:"beating_heart",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’ž":{name:"revolving hearts",slug:"revolving_hearts",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’•":{name:"two hearts",slug:"two_hearts",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’Ÿ":{name:"heart decoration",slug:"heart_decoration",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â£ï¸":{name:"heart exclamation",slug:"heart_exclamation",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ’”":{name:"broken heart",slug:"broken_heart",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â¤ï¸â€ðŸ”¥":{name:"heart on fire",slug:"heart_on_fire",group:"Smileys & Emotion",emoji_version:"13.1",unicode_version:"13.1",skin_tone_support:!1},"â¤ï¸â€ðŸ©¹":{name:"mending heart",slug:"mending_heart",group:"Smileys & Emotion",emoji_version:"13.1",unicode_version:"13.1",skin_tone_support:!1},"â¤ï¸":{name:"red heart",slug:"red_heart",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ©·":{name:"pink heart",slug:"pink_heart",group:"Smileys & Emotion",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸ§¡":{name:"orange heart",slug:"orange_heart",group:"Smileys & Emotion",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ’›":{name:"yellow heart",slug:"yellow_heart",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’š":{name:"green heart",slug:"green_heart",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’™":{name:"blue heart",slug:"blue_heart",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ©µ":{name:"light blue heart",slug:"light_blue_heart",group:"Smileys & Emotion",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸ’œ":{name:"purple heart",slug:"purple_heart",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¤Ž":{name:"brown heart",slug:"brown_heart",group:"Smileys & Emotion",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ–¤":{name:"black heart",slug:"black_heart",group:"Smileys & Emotion",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ©¶":{name:"grey heart",slug:"grey_heart",group:"Smileys & Emotion",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸ¤":{name:"white heart",slug:"white_heart",group:"Smileys & Emotion",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ’‹":{name:"kiss mark",slug:"kiss_mark",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’¯":{name:"hundred points",slug:"hundred_points",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’¢":{name:"anger symbol",slug:"anger_symbol",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’¥":{name:"collision",slug:"collision",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’«":{name:"dizzy",slug:"dizzy",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’¦":{name:"sweat droplets",slug:"sweat_droplets",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’¨":{name:"dashing away",slug:"dashing_away",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•³ï¸":{name:"hole",slug:"hole",group:"Smileys & Emotion",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ’¬":{name:"speech balloon",slug:"speech_balloon",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘ï¸â€ðŸ—¨ï¸":{name:"eye in speech bubble",slug:"eye_in_speech_bubble",group:"Smileys & Emotion",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ—¨ï¸":{name:"left speech bubble",slug:"left_speech_bubble",group:"Smileys & Emotion",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ—¯ï¸":{name:"right anger bubble",slug:"right_anger_bubble",group:"Smileys & Emotion",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ’­":{name:"thought balloon",slug:"thought_balloon",group:"Smileys & Emotion",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ’¤":{name:"ZZZ",slug:"zzz",group:"Smileys & Emotion",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘‹":{name:"waving hand",slug:"waving_hand",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ¤š":{name:"raised back of hand",slug:"raised_back_of_hand",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ–ï¸":{name:"hand with fingers splayed",slug:"hand_with_fingers_splayed",group:"People & Body",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"âœ‹":{name:"raised hand",slug:"raised_hand",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ––":{name:"vulcan salute",slug:"vulcan_salute",group:"People & Body",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ«±":{name:"rightwards hand",slug:"rightwards_hand",group:"People & Body",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!0,skin_tone_support_unicode_version:"14.0"},"ðŸ«²":{name:"leftwards hand",slug:"leftwards_hand",group:"People & Body",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!0,skin_tone_support_unicode_version:"14.0"},"ðŸ«³":{name:"palm down hand",slug:"palm_down_hand",group:"People & Body",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!0,skin_tone_support_unicode_version:"14.0"},"ðŸ«´":{name:"palm up hand",slug:"palm_up_hand",group:"People & Body",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!0,skin_tone_support_unicode_version:"14.0"},"ðŸ«·":{name:"leftwards pushing hand",slug:"leftwards_pushing_hand",group:"People & Body",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!0,skin_tone_support_unicode_version:"15.0"},"ðŸ«¸":{name:"rightwards pushing hand",slug:"rightwards_pushing_hand",group:"People & Body",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!0,skin_tone_support_unicode_version:"15.0"},"ðŸ‘Œ":{name:"OK hand",slug:"ok_hand",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ¤Œ":{name:"pinched fingers",slug:"pinched_fingers",group:"People & Body",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.0"},"ðŸ¤":{name:"pinching hand",slug:"pinching_hand",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"âœŒï¸":{name:"victory hand",slug:"victory_hand",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ¤ž":{name:"crossed fingers",slug:"crossed_fingers",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ«°":{name:"hand with index finger and thumb crossed",slug:"hand_with_index_finger_and_thumb_crossed",group:"People & Body",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!0,skin_tone_support_unicode_version:"14.0"},"ðŸ¤Ÿ":{name:"love-you gesture",slug:"love_you_gesture",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ¤˜":{name:"sign of the horns",slug:"sign_of_the_horns",group:"People & Body",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ¤™":{name:"call me hand",slug:"call_me_hand",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ‘ˆ":{name:"backhand index pointing left",slug:"backhand_index_pointing_left",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ‘‰":{name:"backhand index pointing right",slug:"backhand_index_pointing_right",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ‘†":{name:"backhand index pointing up",slug:"backhand_index_pointing_up",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ–•":{name:"middle finger",slug:"middle_finger",group:"People & Body",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ‘‡":{name:"backhand index pointing down",slug:"backhand_index_pointing_down",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"â˜ï¸":{name:"index pointing up",slug:"index_pointing_up",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ«µ":{name:"index pointing at the viewer",slug:"index_pointing_at_the_viewer",group:"People & Body",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!0,skin_tone_support_unicode_version:"14.0"},"ðŸ‘":{name:"thumbs up",slug:"thumbs_up",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ‘Ž":{name:"thumbs down",slug:"thumbs_down",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"âœŠ":{name:"raised fist",slug:"raised_fist",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ‘Š":{name:"oncoming fist",slug:"oncoming_fist",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ¤›":{name:"left-facing fist",slug:"left_facing_fist",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ¤œ":{name:"right-facing fist",slug:"right_facing_fist",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ‘":{name:"clapping hands",slug:"clapping_hands",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ™Œ":{name:"raising hands",slug:"raising_hands",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ«¶":{name:"heart hands",slug:"heart_hands",group:"People & Body",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!0,skin_tone_support_unicode_version:"14.0"},"ðŸ‘":{name:"open hands",slug:"open_hands",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ¤²":{name:"palms up together",slug:"palms_up_together",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ¤":{name:"handshake",slug:"handshake",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"14.0"},"ðŸ™":{name:"folded hands",slug:"folded_hands",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"âœï¸":{name:"writing hand",slug:"writing_hand",group:"People & Body",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ’…":{name:"nail polish",slug:"nail_polish",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ¤³":{name:"selfie",slug:"selfie",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ’ª":{name:"flexed biceps",slug:"flexed_biceps",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ¦¾":{name:"mechanical arm",slug:"mechanical_arm",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ¦¿":{name:"mechanical leg",slug:"mechanical_leg",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ¦µ":{name:"leg",slug:"leg",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ¦¶":{name:"foot",slug:"foot",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ‘‚":{name:"ear",slug:"ear",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ¦»":{name:"ear with hearing aid",slug:"ear_with_hearing_aid",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ‘ƒ":{name:"nose",slug:"nose",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ§ ":{name:"brain",slug:"brain",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ«€":{name:"anatomical heart",slug:"anatomical_heart",group:"People & Body",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ«":{name:"lungs",slug:"lungs",group:"People & Body",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ¦·":{name:"tooth",slug:"tooth",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¦´":{name:"bone",slug:"bone",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ‘€":{name:"eyes",slug:"eyes",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘ï¸":{name:"eye",slug:"eye",group:"People & Body",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ‘…":{name:"tongue",slug:"tongue",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘„":{name:"mouth",slug:"mouth",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ«¦":{name:"biting lip",slug:"biting_lip",group:"People & Body",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸ‘¶":{name:"baby",slug:"baby",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ§’":{name:"child",slug:"child",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ‘¦":{name:"boy",slug:"boy",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ‘§":{name:"girl",slug:"girl",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ§‘":{name:"person",slug:"person",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ‘±":{name:"person blond hair",slug:"person_blond_hair",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ‘¨":{name:"man",slug:"man",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ§”":{name:"person beard",slug:"person_beard",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§”â€â™‚ï¸":{name:"man beard",slug:"man_beard",group:"People & Body",emoji_version:"13.1",unicode_version:"13.1",skin_tone_support:!0,skin_tone_support_unicode_version:"13.1"},"ðŸ§”â€â™€ï¸":{name:"woman beard",slug:"woman_beard",group:"People & Body",emoji_version:"13.1",unicode_version:"13.1",skin_tone_support:!0,skin_tone_support_unicode_version:"13.1"},"ðŸ‘¨â€ðŸ¦°":{name:"man red hair",slug:"man_red_hair",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ‘¨â€ðŸ¦±":{name:"man curly hair",slug:"man_curly_hair",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ‘¨â€ðŸ¦³":{name:"man white hair",slug:"man_white_hair",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ‘¨â€ðŸ¦²":{name:"man bald",slug:"man_bald",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ‘©":{name:"woman",slug:"woman",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ‘©â€ðŸ¦°":{name:"woman red hair",slug:"woman_red_hair",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ§‘â€ðŸ¦°":{name:"person red hair",slug:"person_red_hair",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘©â€ðŸ¦±":{name:"woman curly hair",slug:"woman_curly_hair",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ§‘â€ðŸ¦±":{name:"person curly hair",slug:"person_curly_hair",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘©â€ðŸ¦³":{name:"woman white hair",slug:"woman_white_hair",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ§‘â€ðŸ¦³":{name:"person white hair",slug:"person_white_hair",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘©â€ðŸ¦²":{name:"woman bald",slug:"woman_bald",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ§‘â€ðŸ¦²":{name:"person bald",slug:"person_bald",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘±â€â™€ï¸":{name:"woman blond hair",slug:"woman_blond_hair",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘±â€â™‚ï¸":{name:"man blond hair",slug:"man_blond_hair",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§“":{name:"older person",slug:"older_person",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ‘´":{name:"old man",slug:"old_man",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ‘µ":{name:"old woman",slug:"old_woman",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ™":{name:"person frowning",slug:"person_frowning",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ™â€â™‚ï¸":{name:"man frowning",slug:"man_frowning",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ™â€â™€ï¸":{name:"woman frowning",slug:"woman_frowning",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ™Ž":{name:"person pouting",slug:"person_pouting",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ™Žâ€â™‚ï¸":{name:"man pouting",slug:"man_pouting",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ™Žâ€â™€ï¸":{name:"woman pouting",slug:"woman_pouting",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ™…":{name:"person gesturing NO",slug:"person_gesturing_no",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ™…â€â™‚ï¸":{name:"man gesturing NO",slug:"man_gesturing_no",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ™…â€â™€ï¸":{name:"woman gesturing NO",slug:"woman_gesturing_no",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ™†":{name:"person gesturing OK",slug:"person_gesturing_ok",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ™†â€â™‚ï¸":{name:"man gesturing OK",slug:"man_gesturing_ok",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ™†â€â™€ï¸":{name:"woman gesturing OK",slug:"woman_gesturing_ok",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ’":{name:"person tipping hand",slug:"person_tipping_hand",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ’â€â™‚ï¸":{name:"man tipping hand",slug:"man_tipping_hand",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ’â€â™€ï¸":{name:"woman tipping hand",slug:"woman_tipping_hand",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ™‹":{name:"person raising hand",slug:"person_raising_hand",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ™‹â€â™‚ï¸":{name:"man raising hand",slug:"man_raising_hand",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ™‹â€â™€ï¸":{name:"woman raising hand",slug:"woman_raising_hand",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§":{name:"deaf person",slug:"deaf_person",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ§â€â™‚ï¸":{name:"deaf man",slug:"deaf_man",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ§â€â™€ï¸":{name:"deaf woman",slug:"deaf_woman",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ™‡":{name:"person bowing",slug:"person_bowing",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ™‡â€â™‚ï¸":{name:"man bowing",slug:"man_bowing",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ™‡â€â™€ï¸":{name:"woman bowing",slug:"woman_bowing",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ¤¦":{name:"person facepalming",slug:"person_facepalming",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ¤¦â€â™‚ï¸":{name:"man facepalming",slug:"man_facepalming",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ¤¦â€â™€ï¸":{name:"woman facepalming",slug:"woman_facepalming",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ¤·":{name:"person shrugging",slug:"person_shrugging",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ¤·â€â™‚ï¸":{name:"man shrugging",slug:"man_shrugging",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ¤·â€â™€ï¸":{name:"woman shrugging",slug:"woman_shrugging",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€âš•ï¸":{name:"health worker",slug:"health_worker",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€âš•ï¸":{name:"man health worker",slug:"man_health_worker",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€âš•ï¸":{name:"woman health worker",slug:"woman_health_worker",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€ðŸŽ“":{name:"student",slug:"student",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€ðŸŽ“":{name:"man student",slug:"man_student",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€ðŸŽ“":{name:"woman student",slug:"woman_student",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€ðŸ«":{name:"teacher",slug:"teacher",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€ðŸ«":{name:"man teacher",slug:"man_teacher",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€ðŸ«":{name:"woman teacher",slug:"woman_teacher",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€âš–ï¸":{name:"judge",slug:"judge",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€âš–ï¸":{name:"man judge",slug:"man_judge",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€âš–ï¸":{name:"woman judge",slug:"woman_judge",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€ðŸŒ¾":{name:"farmer",slug:"farmer",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€ðŸŒ¾":{name:"man farmer",slug:"man_farmer",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€ðŸŒ¾":{name:"woman farmer",slug:"woman_farmer",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€ðŸ³":{name:"cook",slug:"cook",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€ðŸ³":{name:"man cook",slug:"man_cook",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€ðŸ³":{name:"woman cook",slug:"woman_cook",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€ðŸ”§":{name:"mechanic",slug:"mechanic",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€ðŸ”§":{name:"man mechanic",slug:"man_mechanic",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€ðŸ”§":{name:"woman mechanic",slug:"woman_mechanic",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€ðŸ­":{name:"factory worker",slug:"factory_worker",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€ðŸ­":{name:"man factory worker",slug:"man_factory_worker",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€ðŸ­":{name:"woman factory worker",slug:"woman_factory_worker",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€ðŸ’¼":{name:"office worker",slug:"office_worker",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€ðŸ’¼":{name:"man office worker",slug:"man_office_worker",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€ðŸ’¼":{name:"woman office worker",slug:"woman_office_worker",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€ðŸ”¬":{name:"scientist",slug:"scientist",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€ðŸ”¬":{name:"man scientist",slug:"man_scientist",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€ðŸ”¬":{name:"woman scientist",slug:"woman_scientist",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€ðŸ’»":{name:"technologist",slug:"technologist",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€ðŸ’»":{name:"man technologist",slug:"man_technologist",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€ðŸ’»":{name:"woman technologist",slug:"woman_technologist",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€ðŸŽ¤":{name:"singer",slug:"singer",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€ðŸŽ¤":{name:"man singer",slug:"man_singer",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€ðŸŽ¤":{name:"woman singer",slug:"woman_singer",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€ðŸŽ¨":{name:"artist",slug:"artist",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€ðŸŽ¨":{name:"man artist",slug:"man_artist",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€ðŸŽ¨":{name:"woman artist",slug:"woman_artist",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€âœˆï¸":{name:"pilot",slug:"pilot",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€âœˆï¸":{name:"man pilot",slug:"man_pilot",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€âœˆï¸":{name:"woman pilot",slug:"woman_pilot",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€ðŸš€":{name:"astronaut",slug:"astronaut",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€ðŸš€":{name:"man astronaut",slug:"man_astronaut",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€ðŸš€":{name:"woman astronaut",slug:"woman_astronaut",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€ðŸš’":{name:"firefighter",slug:"firefighter",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ‘¨â€ðŸš’":{name:"man firefighter",slug:"man_firefighter",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘©â€ðŸš’":{name:"woman firefighter",slug:"woman_firefighter",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘®":{name:"police officer",slug:"police_officer",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ‘®â€â™‚ï¸":{name:"man police officer",slug:"man_police_officer",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘®â€â™€ï¸":{name:"woman police officer",slug:"woman_police_officer",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ•µï¸":{name:"detective",slug:"detective",group:"People & Body",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!0,skin_tone_support_unicode_version:"2.0"},"ðŸ•µï¸â€â™‚ï¸":{name:"man detective",slug:"man_detective",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ•µï¸â€â™€ï¸":{name:"woman detective",slug:"woman_detective",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ’‚":{name:"guard",slug:"guard",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ’‚â€â™‚ï¸":{name:"man guard",slug:"man_guard",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ’‚â€â™€ï¸":{name:"woman guard",slug:"woman_guard",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ¥·":{name:"ninja",slug:"ninja",group:"People & Body",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.0"},"ðŸ‘·":{name:"construction worker",slug:"construction_worker",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ‘·â€â™‚ï¸":{name:"man construction worker",slug:"man_construction_worker",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘·â€â™€ï¸":{name:"woman construction worker",slug:"woman_construction_worker",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ«…":{name:"person with crown",slug:"person_with_crown",group:"People & Body",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!0,skin_tone_support_unicode_version:"14.0"},"ðŸ¤´":{name:"prince",slug:"prince",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ‘¸":{name:"princess",slug:"princess",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ‘³":{name:"person wearing turban",slug:"person_wearing_turban",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ‘³â€â™‚ï¸":{name:"man wearing turban",slug:"man_wearing_turban",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘³â€â™€ï¸":{name:"woman wearing turban",slug:"woman_wearing_turban",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘²":{name:"person with skullcap",slug:"person_with_skullcap",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ§•":{name:"woman with headscarf",slug:"woman_with_headscarf",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ¤µ":{name:"person in tuxedo",slug:"person_in_tuxedo",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ¤µâ€â™‚ï¸":{name:"man in tuxedo",slug:"man_in_tuxedo",group:"People & Body",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.0"},"ðŸ¤µâ€â™€ï¸":{name:"woman in tuxedo",slug:"woman_in_tuxedo",group:"People & Body",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.0"},"ðŸ‘°":{name:"person with veil",slug:"person_with_veil",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ‘°â€â™‚ï¸":{name:"man with veil",slug:"man_with_veil",group:"People & Body",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.0"},"ðŸ‘°â€â™€ï¸":{name:"woman with veil",slug:"woman_with_veil",group:"People & Body",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.0"},"ðŸ¤°":{name:"pregnant woman",slug:"pregnant_woman",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ«ƒ":{name:"pregnant man",slug:"pregnant_man",group:"People & Body",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!0,skin_tone_support_unicode_version:"14.0"},"ðŸ«„":{name:"pregnant person",slug:"pregnant_person",group:"People & Body",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!0,skin_tone_support_unicode_version:"14.0"},"ðŸ¤±":{name:"breast-feeding",slug:"breast_feeding",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ‘©â€ðŸ¼":{name:"woman feeding baby",slug:"woman_feeding_baby",group:"People & Body",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.0"},"ðŸ‘¨â€ðŸ¼":{name:"man feeding baby",slug:"man_feeding_baby",group:"People & Body",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.0"},"ðŸ§‘â€ðŸ¼":{name:"person feeding baby",slug:"person_feeding_baby",group:"People & Body",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.0"},"ðŸ‘¼":{name:"baby angel",slug:"baby_angel",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸŽ…":{name:"Santa Claus",slug:"santa_claus",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ¤¶":{name:"Mrs. Claus",slug:"mrs_claus",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ§‘â€ðŸŽ„":{name:"Mx Claus",slug:"mx_claus",group:"People & Body",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.0"},"ðŸ¦¸":{name:"superhero",slug:"superhero",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ¦¸â€â™‚ï¸":{name:"man superhero",slug:"man_superhero",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ¦¸â€â™€ï¸":{name:"woman superhero",slug:"woman_superhero",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ¦¹":{name:"supervillain",slug:"supervillain",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ¦¹â€â™‚ï¸":{name:"man supervillain",slug:"man_supervillain",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ¦¹â€â™€ï¸":{name:"woman supervillain",slug:"woman_supervillain",group:"People & Body",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!0,skin_tone_support_unicode_version:"11.0"},"ðŸ§™":{name:"mage",slug:"mage",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§™â€â™‚ï¸":{name:"man mage",slug:"man_mage",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§™â€â™€ï¸":{name:"woman mage",slug:"woman_mage",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§š":{name:"fairy",slug:"fairy",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§šâ€â™‚ï¸":{name:"man fairy",slug:"man_fairy",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§šâ€â™€ï¸":{name:"woman fairy",slug:"woman_fairy",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§›":{name:"vampire",slug:"vampire",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§›â€â™‚ï¸":{name:"man vampire",slug:"man_vampire",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§›â€â™€ï¸":{name:"woman vampire",slug:"woman_vampire",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§œ":{name:"merperson",slug:"merperson",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§œâ€â™‚ï¸":{name:"merman",slug:"merman",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§œâ€â™€ï¸":{name:"mermaid",slug:"mermaid",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§":{name:"elf",slug:"elf",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§â€â™‚ï¸":{name:"man elf",slug:"man_elf",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§â€â™€ï¸":{name:"woman elf",slug:"woman_elf",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§ž":{name:"genie",slug:"genie",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ§žâ€â™‚ï¸":{name:"man genie",slug:"man_genie",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ§žâ€â™€ï¸":{name:"woman genie",slug:"woman_genie",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ§Ÿ":{name:"zombie",slug:"zombie",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ§Ÿâ€â™‚ï¸":{name:"man zombie",slug:"man_zombie",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ§Ÿâ€â™€ï¸":{name:"woman zombie",slug:"woman_zombie",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ§Œ":{name:"troll",slug:"troll",group:"People & Body",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸ’†":{name:"person getting massage",slug:"person_getting_massage",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ’†â€â™‚ï¸":{name:"man getting massage",slug:"man_getting_massage",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ’†â€â™€ï¸":{name:"woman getting massage",slug:"woman_getting_massage",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ’‡":{name:"person getting haircut",slug:"person_getting_haircut",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ’‡â€â™‚ï¸":{name:"man getting haircut",slug:"man_getting_haircut",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ’‡â€â™€ï¸":{name:"woman getting haircut",slug:"woman_getting_haircut",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸš¶":{name:"person walking",slug:"person_walking",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸš¶â€â™‚ï¸":{name:"man walking",slug:"man_walking",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸš¶â€â™€ï¸":{name:"woman walking",slug:"woman_walking",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸš¶â€âž¡ï¸":{name:"person walking facing right",slug:"person_walking_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸš¶â€â™€ï¸â€âž¡ï¸":{name:"woman walking facing right",slug:"woman_walking_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸš¶â€â™‚ï¸â€âž¡ï¸":{name:"man walking facing right",slug:"man_walking_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸ§":{name:"person standing",slug:"person_standing",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ§â€â™‚ï¸":{name:"man standing",slug:"man_standing",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ§â€â™€ï¸":{name:"woman standing",slug:"woman_standing",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ§Ž":{name:"person kneeling",slug:"person_kneeling",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ§Žâ€â™‚ï¸":{name:"man kneeling",slug:"man_kneeling",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ§Žâ€â™€ï¸":{name:"woman kneeling",slug:"woman_kneeling",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ§Žâ€âž¡ï¸":{name:"person kneeling facing right",slug:"person_kneeling_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸ§Žâ€â™€ï¸â€âž¡ï¸":{name:"woman kneeling facing right",slug:"woman_kneeling_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸ§Žâ€â™‚ï¸â€âž¡ï¸":{name:"man kneeling facing right",slug:"man_kneeling_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸ§‘â€ðŸ¦¯":{name:"person with white cane",slug:"person_with_white_cane",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ§‘â€ðŸ¦¯â€âž¡ï¸":{name:"person with white cane facing right",slug:"person_with_white_cane_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸ‘¨â€ðŸ¦¯":{name:"man with white cane",slug:"man_with_white_cane",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ‘¨â€ðŸ¦¯â€âž¡ï¸":{name:"man with white cane facing right",slug:"man_with_white_cane_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸ‘©â€ðŸ¦¯":{name:"woman with white cane",slug:"woman_with_white_cane",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ‘©â€ðŸ¦¯â€âž¡ï¸":{name:"woman with white cane facing right",slug:"woman_with_white_cane_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸ§‘â€ðŸ¦¼":{name:"person in motorized wheelchair",slug:"person_in_motorized_wheelchair",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ§‘â€ðŸ¦¼â€âž¡ï¸":{name:"person in motorized wheelchair facing right",slug:"person_in_motorized_wheelchair_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸ‘¨â€ðŸ¦¼":{name:"man in motorized wheelchair",slug:"man_in_motorized_wheelchair",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ‘¨â€ðŸ¦¼â€âž¡ï¸":{name:"man in motorized wheelchair facing right",slug:"man_in_motorized_wheelchair_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸ‘©â€ðŸ¦¼":{name:"woman in motorized wheelchair",slug:"woman_in_motorized_wheelchair",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ‘©â€ðŸ¦¼â€âž¡ï¸":{name:"woman in motorized wheelchair facing right",slug:"woman_in_motorized_wheelchair_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸ§‘â€ðŸ¦½":{name:"person in manual wheelchair",slug:"person_in_manual_wheelchair",group:"People & Body",emoji_version:"12.1",unicode_version:"12.1",skin_tone_support:!0,skin_tone_support_unicode_version:"12.1"},"ðŸ§‘â€ðŸ¦½â€âž¡ï¸":{name:"person in manual wheelchair facing right",slug:"person_in_manual_wheelchair_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸ‘¨â€ðŸ¦½":{name:"man in manual wheelchair",slug:"man_in_manual_wheelchair",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ‘¨â€ðŸ¦½â€âž¡ï¸":{name:"man in manual wheelchair facing right",slug:"man_in_manual_wheelchair_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸ‘©â€ðŸ¦½":{name:"woman in manual wheelchair",slug:"woman_in_manual_wheelchair",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ‘©â€ðŸ¦½â€âž¡ï¸":{name:"woman in manual wheelchair facing right",slug:"woman_in_manual_wheelchair_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸƒ":{name:"person running",slug:"person_running",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸƒâ€â™‚ï¸":{name:"man running",slug:"man_running",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸƒâ€â™€ï¸":{name:"woman running",slug:"woman_running",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸƒâ€âž¡ï¸":{name:"person running facing right",slug:"person_running_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸƒâ€â™€ï¸â€âž¡ï¸":{name:"woman running facing right",slug:"woman_running_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸƒâ€â™‚ï¸â€âž¡ï¸":{name:"man running facing right",slug:"man_running_facing_right",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!0,skin_tone_support_unicode_version:"15.1"},"ðŸ’ƒ":{name:"woman dancing",slug:"woman_dancing",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ•º":{name:"man dancing",slug:"man_dancing",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ•´ï¸":{name:"person in suit levitating",slug:"person_in_suit_levitating",group:"People & Body",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‘¯":{name:"people with bunny ears",slug:"people_with_bunny_ears",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘¯â€â™‚ï¸":{name:"men with bunny ears",slug:"men_with_bunny_ears",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ‘¯â€â™€ï¸":{name:"women with bunny ears",slug:"women_with_bunny_ears",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ§–":{name:"person in steamy room",slug:"person_in_steamy_room",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§–â€â™‚ï¸":{name:"man in steamy room",slug:"man_in_steamy_room",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§–â€â™€ï¸":{name:"woman in steamy room",slug:"woman_in_steamy_room",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§—":{name:"person climbing",slug:"person_climbing",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§—â€â™‚ï¸":{name:"man climbing",slug:"man_climbing",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§—â€â™€ï¸":{name:"woman climbing",slug:"woman_climbing",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ¤º":{name:"person fencing",slug:"person_fencing",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ‡":{name:"horse racing",slug:"horse_racing",group:"People & Body",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"â›·ï¸":{name:"skier",slug:"skier",group:"People & Body",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ‚":{name:"snowboarder",slug:"snowboarder",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸŒï¸":{name:"person golfing",slug:"person_golfing",group:"People & Body",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸŒï¸â€â™‚ï¸":{name:"man golfing",slug:"man_golfing",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸŒï¸â€â™€ï¸":{name:"woman golfing",slug:"woman_golfing",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ„":{name:"person surfing",slug:"person_surfing",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ„â€â™‚ï¸":{name:"man surfing",slug:"man_surfing",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ„â€â™€ï¸":{name:"woman surfing",slug:"woman_surfing",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸš£":{name:"person rowing boat",slug:"person_rowing_boat",group:"People & Body",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸš£â€â™‚ï¸":{name:"man rowing boat",slug:"man_rowing_boat",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸš£â€â™€ï¸":{name:"woman rowing boat",slug:"woman_rowing_boat",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸŠ":{name:"person swimming",slug:"person_swimming",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸŠâ€â™‚ï¸":{name:"man swimming",slug:"man_swimming",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸŠâ€â™€ï¸":{name:"woman swimming",slug:"woman_swimming",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"â›¹ï¸":{name:"person bouncing ball",slug:"person_bouncing_ball",group:"People & Body",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!0,skin_tone_support_unicode_version:"2.0"},"â›¹ï¸â€â™‚ï¸":{name:"man bouncing ball",slug:"man_bouncing_ball",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"â›¹ï¸â€â™€ï¸":{name:"woman bouncing ball",slug:"woman_bouncing_ball",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‹ï¸":{name:"person lifting weights",slug:"person_lifting_weights",group:"People & Body",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!0,skin_tone_support_unicode_version:"2.0"},"ðŸ‹ï¸â€â™‚ï¸":{name:"man lifting weights",slug:"man_lifting_weights",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ‹ï¸â€â™€ï¸":{name:"woman lifting weights",slug:"woman_lifting_weights",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸš´":{name:"person biking",slug:"person_biking",group:"People & Body",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸš´â€â™‚ï¸":{name:"man biking",slug:"man_biking",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸš´â€â™€ï¸":{name:"woman biking",slug:"woman_biking",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸšµ":{name:"person mountain biking",slug:"person_mountain_biking",group:"People & Body",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸšµâ€â™‚ï¸":{name:"man mountain biking",slug:"man_mountain_biking",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸšµâ€â™€ï¸":{name:"woman mountain biking",slug:"woman_mountain_biking",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ¤¸":{name:"person cartwheeling",slug:"person_cartwheeling",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ¤¸â€â™‚ï¸":{name:"man cartwheeling",slug:"man_cartwheeling",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ¤¸â€â™€ï¸":{name:"woman cartwheeling",slug:"woman_cartwheeling",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ¤¼":{name:"people wrestling",slug:"people_wrestling",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¤¼â€â™‚ï¸":{name:"men wrestling",slug:"men_wrestling",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ¤¼â€â™€ï¸":{name:"women wrestling",slug:"women_wrestling",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ¤½":{name:"person playing water polo",slug:"person_playing_water_polo",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ¤½â€â™‚ï¸":{name:"man playing water polo",slug:"man_playing_water_polo",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ¤½â€â™€ï¸":{name:"woman playing water polo",slug:"woman_playing_water_polo",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ¤¾":{name:"person playing handball",slug:"person_playing_handball",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ¤¾â€â™‚ï¸":{name:"man playing handball",slug:"man_playing_handball",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ¤¾â€â™€ï¸":{name:"woman playing handball",slug:"woman_playing_handball",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ¤¹":{name:"person juggling",slug:"person_juggling",group:"People & Body",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!0,skin_tone_support_unicode_version:"3.0"},"ðŸ¤¹â€â™‚ï¸":{name:"man juggling",slug:"man_juggling",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ¤¹â€â™€ï¸":{name:"woman juggling",slug:"woman_juggling",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§˜":{name:"person in lotus position",slug:"person_in_lotus_position",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§˜â€â™‚ï¸":{name:"man in lotus position",slug:"man_in_lotus_position",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ§˜â€â™€ï¸":{name:"woman in lotus position",slug:"woman_in_lotus_position",group:"People & Body",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!0,skin_tone_support_unicode_version:"5.0"},"ðŸ›€":{name:"person taking bath",slug:"person_taking_bath",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"1.0"},"ðŸ›Œ":{name:"person in bed",slug:"person_in_bed",group:"People & Body",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!0,skin_tone_support_unicode_version:"4.0"},"ðŸ§‘â€ðŸ¤â€ðŸ§‘":{name:"people holding hands",slug:"people_holding_hands",group:"People & Body",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ‘­":{name:"women holding hands",slug:"women_holding_hands",group:"People & Body",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ‘«":{name:"woman and man holding hands",slug:"woman_and_man_holding_hands",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ‘¬":{name:"men holding hands",slug:"men_holding_hands",group:"People & Body",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!0,skin_tone_support_unicode_version:"12.0"},"ðŸ’":{name:"kiss",slug:"kiss",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"13.1"},"ðŸ‘©â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨":{name:"kiss woman, man",slug:"kiss_woman_man",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.1"},"ðŸ‘¨â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨":{name:"kiss man, man",slug:"kiss_man_man",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.1"},"ðŸ‘©â€â¤ï¸â€ðŸ’‹â€ðŸ‘©":{name:"kiss woman, woman",slug:"kiss_woman_woman",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.1"},"ðŸ’‘":{name:"couple with heart",slug:"couple_with_heart",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!0,skin_tone_support_unicode_version:"13.1"},"ðŸ‘©â€â¤ï¸â€ðŸ‘¨":{name:"couple with heart woman, man",slug:"couple_with_heart_woman_man",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.1"},"ðŸ‘¨â€â¤ï¸â€ðŸ‘¨":{name:"couple with heart man, man",slug:"couple_with_heart_man_man",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.1"},"ðŸ‘©â€â¤ï¸â€ðŸ‘©":{name:"couple with heart woman, woman",slug:"couple_with_heart_woman_woman",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!0,skin_tone_support_unicode_version:"13.1"},"ðŸ‘¨â€ðŸ‘©â€ðŸ‘¦":{name:"family man, woman, boy",slug:"family_man_woman_boy",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§":{name:"family man, woman, girl",slug:"family_man_woman_girl",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦":{name:"family man, woman, girl, boy",slug:"family_man_woman_girl_boy",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‘¨â€ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦":{name:"family man, woman, boy, boy",slug:"family_man_woman_boy_boy",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘§":{name:"family man, woman, girl, girl",slug:"family_man_woman_girl_girl",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‘¨â€ðŸ‘¨â€ðŸ‘¦":{name:"family man, man, boy",slug:"family_man_man_boy",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§":{name:"family man, man, girl",slug:"family_man_man_girl",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§â€ðŸ‘¦":{name:"family man, man, girl, boy",slug:"family_man_man_girl_boy",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‘¨â€ðŸ‘¨â€ðŸ‘¦â€ðŸ‘¦":{name:"family man, man, boy, boy",slug:"family_man_man_boy_boy",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§â€ðŸ‘§":{name:"family man, man, girl, girl",slug:"family_man_man_girl_girl",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‘©â€ðŸ‘©â€ðŸ‘¦":{name:"family woman, woman, boy",slug:"family_woman_woman_boy",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‘©â€ðŸ‘©â€ðŸ‘§":{name:"family woman, woman, girl",slug:"family_woman_woman_girl",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‘©â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦":{name:"family woman, woman, girl, boy",slug:"family_woman_woman_girl_boy",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‘©â€ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦":{name:"family woman, woman, boy, boy",slug:"family_woman_woman_boy_boy",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‘©â€ðŸ‘©â€ðŸ‘§â€ðŸ‘§":{name:"family woman, woman, girl, girl",slug:"family_woman_woman_girl_girl",group:"People & Body",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‘¨â€ðŸ‘¦":{name:"family man, boy",slug:"family_man_boy",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ‘¨â€ðŸ‘¦â€ðŸ‘¦":{name:"family man, boy, boy",slug:"family_man_boy_boy",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ‘¨â€ðŸ‘§":{name:"family man, girl",slug:"family_man_girl",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ‘¨â€ðŸ‘§â€ðŸ‘¦":{name:"family man, girl, boy",slug:"family_man_girl_boy",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ‘¨â€ðŸ‘§â€ðŸ‘§":{name:"family man, girl, girl",slug:"family_man_girl_girl",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ‘©â€ðŸ‘¦":{name:"family woman, boy",slug:"family_woman_boy",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦":{name:"family woman, boy, boy",slug:"family_woman_boy_boy",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ‘©â€ðŸ‘§":{name:"family woman, girl",slug:"family_woman_girl",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ‘©â€ðŸ‘§â€ðŸ‘¦":{name:"family woman, girl, boy",slug:"family_woman_girl_boy",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ‘©â€ðŸ‘§â€ðŸ‘§":{name:"family woman, girl, girl",slug:"family_woman_girl_girl",group:"People & Body",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ—£ï¸":{name:"speaking head",slug:"speaking_head",group:"People & Body",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ‘¤":{name:"bust in silhouette",slug:"bust_in_silhouette",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘¥":{name:"busts in silhouette",slug:"busts_in_silhouette",group:"People & Body",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ«‚":{name:"people hugging",slug:"people_hugging",group:"People & Body",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ‘ª":{name:"family",slug:"family",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ§‘â€ðŸ§‘â€ðŸ§’":{name:"family adult, adult, child",slug:"family_adult_adult_child",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!1},"ðŸ§‘â€ðŸ§‘â€ðŸ§’â€ðŸ§’":{name:"family adult, adult, child, child",slug:"family_adult_adult_child_child",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!1},"ðŸ§‘â€ðŸ§’":{name:"family adult, child",slug:"family_adult_child",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!1},"ðŸ§‘â€ðŸ§’â€ðŸ§’":{name:"family adult, child, child",slug:"family_adult_child_child",group:"People & Body",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!1},"ðŸ‘£":{name:"footprints",slug:"footprints",group:"People & Body",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ«†":{name:"fingerprint",slug:"fingerprint",group:"People & Body",emoji_version:"16.0",unicode_version:"16.0",skin_tone_support:!1},"ðŸµ":{name:"monkey face",slug:"monkey_face",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’":{name:"monkey",slug:"monkey",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¦":{name:"gorilla",slug:"gorilla",group:"Animals & Nature",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¦§":{name:"orangutan",slug:"orangutan",group:"Animals & Nature",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ¶":{name:"dog face",slug:"dog_face",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•":{name:"dog",slug:"dog",group:"Animals & Nature",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ¦®":{name:"guide dog",slug:"guide_dog",group:"Animals & Nature",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ•â€ðŸ¦º":{name:"service dog",slug:"service_dog",group:"Animals & Nature",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ©":{name:"poodle",slug:"poodle",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸº":{name:"wolf",slug:"wolf",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¦Š":{name:"fox",slug:"fox",group:"Animals & Nature",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¦":{name:"raccoon",slug:"raccoon",group:"Animals & Nature",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ±":{name:"cat face",slug:"cat_face",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸˆ":{name:"cat",slug:"cat",group:"Animals & Nature",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸˆâ€â¬›":{name:"black cat",slug:"black_cat",group:"Animals & Nature",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ¦":{name:"lion",slug:"lion",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¯":{name:"tiger face",slug:"tiger_face",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ…":{name:"tiger",slug:"tiger",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ†":{name:"leopard",slug:"leopard",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ´":{name:"horse face",slug:"horse_face",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ«Ž":{name:"moose",slug:"moose",group:"Animals & Nature",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸ«":{name:"donkey",slug:"donkey",group:"Animals & Nature",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸŽ":{name:"horse",slug:"horse",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¦„":{name:"unicorn",slug:"unicorn",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¦“":{name:"zebra",slug:"zebra",group:"Animals & Nature",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ¦Œ":{name:"deer",slug:"deer",group:"Animals & Nature",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¦¬":{name:"bison",slug:"bison",group:"Animals & Nature",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ®":{name:"cow face",slug:"cow_face",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‚":{name:"ox",slug:"ox",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸƒ":{name:"water buffalo",slug:"water_buffalo",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ„":{name:"cow",slug:"cow",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ·":{name:"pig face",slug:"pig_face",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ–":{name:"pig",slug:"pig",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ—":{name:"boar",slug:"boar",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ½":{name:"pig nose",slug:"pig_nose",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ":{name:"ram",slug:"ram",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ‘":{name:"ewe",slug:"ewe",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ":{name:"goat",slug:"goat",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸª":{name:"camel",slug:"camel",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ«":{name:"two-hump camel",slug:"two_hump_camel",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¦™":{name:"llama",slug:"llama",group:"Animals & Nature",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¦’":{name:"giraffe",slug:"giraffe",group:"Animals & Nature",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ˜":{name:"elephant",slug:"elephant",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¦£":{name:"mammoth",slug:"mammoth",group:"Animals & Nature",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ¦":{name:"rhinoceros",slug:"rhinoceros",group:"Animals & Nature",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¦›":{name:"hippopotamus",slug:"hippopotamus",group:"Animals & Nature",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ­":{name:"mouse face",slug:"mouse_face",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ":{name:"mouse",slug:"mouse",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ€":{name:"rat",slug:"rat",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¹":{name:"hamster",slug:"hamster",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ°":{name:"rabbit face",slug:"rabbit_face",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‡":{name:"rabbit",slug:"rabbit",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¿ï¸":{name:"chipmunk",slug:"chipmunk",group:"Animals & Nature",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ¦«":{name:"beaver",slug:"beaver",group:"Animals & Nature",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ¦”":{name:"hedgehog",slug:"hedgehog",group:"Animals & Nature",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ¦‡":{name:"bat",slug:"bat",group:"Animals & Nature",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ»":{name:"bear",slug:"bear",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ»â€â„ï¸":{name:"polar bear",slug:"polar_bear",group:"Animals & Nature",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ¨":{name:"koala",slug:"koala",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¼":{name:"panda",slug:"panda",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¦¥":{name:"sloth",slug:"sloth",group:"Animals & Nature",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ¦¦":{name:"otter",slug:"otter",group:"Animals & Nature",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ¦¨":{name:"skunk",slug:"skunk",group:"Animals & Nature",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ¦˜":{name:"kangaroo",slug:"kangaroo",group:"Animals & Nature",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¦¡":{name:"badger",slug:"badger",group:"Animals & Nature",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¾":{name:"paw prints",slug:"paw_prints",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¦ƒ":{name:"turkey",slug:"turkey",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ”":{name:"chicken",slug:"chicken",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“":{name:"rooster",slug:"rooster",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ£":{name:"hatching chick",slug:"hatching_chick",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¤":{name:"baby chick",slug:"baby_chick",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥":{name:"front-facing baby chick",slug:"front_facing_baby_chick",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¦":{name:"bird",slug:"bird",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ§":{name:"penguin",slug:"penguin",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•Šï¸":{name:"dove",slug:"dove",group:"Animals & Nature",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ¦…":{name:"eagle",slug:"eagle",group:"Animals & Nature",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¦†":{name:"duck",slug:"duck",group:"Animals & Nature",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¦¢":{name:"swan",slug:"swan",group:"Animals & Nature",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¦‰":{name:"owl",slug:"owl",group:"Animals & Nature",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¦¤":{name:"dodo",slug:"dodo",group:"Animals & Nature",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸª¶":{name:"feather",slug:"feather",group:"Animals & Nature",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ¦©":{name:"flamingo",slug:"flamingo",group:"Animals & Nature",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ¦š":{name:"peacock",slug:"peacock",group:"Animals & Nature",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¦œ":{name:"parrot",slug:"parrot",group:"Animals & Nature",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸª½":{name:"wing",slug:"wing",group:"Animals & Nature",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸ¦â€â¬›":{name:"black bird",slug:"black_bird",group:"Animals & Nature",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸª¿":{name:"goose",slug:"goose",group:"Animals & Nature",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸ¦â€ðŸ”¥":{name:"phoenix",slug:"phoenix",group:"Animals & Nature",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!1},"ðŸ¸":{name:"frog",slug:"frog",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŠ":{name:"crocodile",slug:"crocodile",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¢":{name:"turtle",slug:"turtle",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¦Ž":{name:"lizard",slug:"lizard",group:"Animals & Nature",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ":{name:"snake",slug:"snake",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ²":{name:"dragon face",slug:"dragon_face",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‰":{name:"dragon",slug:"dragon",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¦•":{name:"sauropod",slug:"sauropod",group:"Animals & Nature",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ¦–":{name:"T-Rex",slug:"t_rex",group:"Animals & Nature",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ³":{name:"spouting whale",slug:"spouting_whale",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‹":{name:"whale",slug:"whale",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¬":{name:"dolphin",slug:"dolphin",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¦­":{name:"seal",slug:"seal",group:"Animals & Nature",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸŸ":{name:"fish",slug:"fish",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ ":{name:"tropical fish",slug:"tropical_fish",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¡":{name:"blowfish",slug:"blowfish",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¦ˆ":{name:"shark",slug:"shark",group:"Animals & Nature",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ™":{name:"octopus",slug:"octopus",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš":{name:"spiral shell",slug:"spiral_shell",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª¸":{name:"coral",slug:"coral",group:"Animals & Nature",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸª¼":{name:"jellyfish",slug:"jellyfish",group:"Animals & Nature",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸ¦€":{name:"crab",slug:"crab",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¦ž":{name:"lobster",slug:"lobster",group:"Animals & Nature",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¦":{name:"shrimp",slug:"shrimp",group:"Animals & Nature",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¦‘":{name:"squid",slug:"squid",group:"Animals & Nature",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¦ª":{name:"oyster",slug:"oyster",group:"Animals & Nature",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸŒ":{name:"snail",slug:"snail",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¦‹":{name:"butterfly",slug:"butterfly",group:"Animals & Nature",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ›":{name:"bug",slug:"bug",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸœ":{name:"ant",slug:"ant",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ":{name:"honeybee",slug:"honeybee",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª²":{name:"beetle",slug:"beetle",group:"Animals & Nature",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸž":{name:"lady beetle",slug:"lady_beetle",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¦—":{name:"cricket",slug:"cricket",group:"Animals & Nature",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸª³":{name:"cockroach",slug:"cockroach",group:"Animals & Nature",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ•·ï¸":{name:"spider",slug:"spider",group:"Animals & Nature",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ•¸ï¸":{name:"spider web",slug:"spider_web",group:"Animals & Nature",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ¦‚":{name:"scorpion",slug:"scorpion",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¦Ÿ":{name:"mosquito",slug:"mosquito",group:"Animals & Nature",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸª°":{name:"fly",slug:"fly",group:"Animals & Nature",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸª±":{name:"worm",slug:"worm",group:"Animals & Nature",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ¦ ":{name:"microbe",slug:"microbe",group:"Animals & Nature",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ’":{name:"bouquet",slug:"bouquet",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ¸":{name:"cherry blossom",slug:"cherry_blossom",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’®":{name:"white flower",slug:"white_flower",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª·":{name:"lotus",slug:"lotus",group:"Animals & Nature",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸµï¸":{name:"rosette",slug:"rosette",group:"Animals & Nature",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒ¹":{name:"rose",slug:"rose",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥€":{name:"wilted flower",slug:"wilted_flower",group:"Animals & Nature",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸŒº":{name:"hibiscus",slug:"hibiscus",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ»":{name:"sunflower",slug:"sunflower",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ¼":{name:"blossom",slug:"blossom",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ·":{name:"tulip",slug:"tulip",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª»":{name:"hyacinth",slug:"hyacinth",group:"Animals & Nature",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸŒ±":{name:"seedling",slug:"seedling",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª´":{name:"potted plant",slug:"potted_plant",group:"Animals & Nature",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸŒ²":{name:"evergreen tree",slug:"evergreen_tree",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸŒ³":{name:"deciduous tree",slug:"deciduous_tree",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸŒ´":{name:"palm tree",slug:"palm_tree",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒµ":{name:"cactus",slug:"cactus",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ¾":{name:"sheaf of rice",slug:"sheaf_of_rice",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ¿":{name:"herb",slug:"herb",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â˜˜ï¸":{name:"shamrock",slug:"shamrock",group:"Animals & Nature",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ€":{name:"four leaf clover",slug:"four_leaf_clover",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ":{name:"maple leaf",slug:"maple_leaf",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‚":{name:"fallen leaf",slug:"fallen_leaf",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸƒ":{name:"leaf fluttering in wind",slug:"leaf_fluttering_in_wind",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª¹":{name:"empty nest",slug:"empty_nest",group:"Animals & Nature",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸªº":{name:"nest with eggs",slug:"nest_with_eggs",group:"Animals & Nature",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸ„":{name:"mushroom",slug:"mushroom",group:"Animals & Nature",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª¾":{name:"leafless tree",slug:"leafless_tree",group:"Animals & Nature",emoji_version:"16.0",unicode_version:"16.0",skin_tone_support:!1},"ðŸ‡":{name:"grapes",slug:"grapes",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸˆ":{name:"melon",slug:"melon",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‰":{name:"watermelon",slug:"watermelon",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŠ":{name:"tangerine",slug:"tangerine",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‹":{name:"lemon",slug:"lemon",group:"Food & Drink",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ‹â€ðŸŸ©":{name:"lime",slug:"lime",group:"Food & Drink",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!1},"ðŸŒ":{name:"banana",slug:"banana",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ":{name:"pineapple",slug:"pineapple",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥­":{name:"mango",slug:"mango",group:"Food & Drink",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸŽ":{name:"red apple",slug:"red_apple",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ":{name:"green apple",slug:"green_apple",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ":{name:"pear",slug:"pear",group:"Food & Drink",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ‘":{name:"peach",slug:"peach",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’":{name:"cherries",slug:"cherries",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“":{name:"strawberry",slug:"strawberry",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ«":{name:"blueberries",slug:"blueberries",group:"Food & Drink",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ¥":{name:"kiwi fruit",slug:"kiwi_fruit",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ…":{name:"tomato",slug:"tomato",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ«’":{name:"olive",slug:"olive",group:"Food & Drink",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ¥¥":{name:"coconut",slug:"coconut",group:"Food & Drink",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ¥‘":{name:"avocado",slug:"avocado",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ†":{name:"eggplant",slug:"eggplant",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥”":{name:"potato",slug:"potato",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¥•":{name:"carrot",slug:"carrot",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸŒ½":{name:"ear of corn",slug:"ear_of_corn",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ¶ï¸":{name:"hot pepper",slug:"hot_pepper",group:"Food & Drink",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ«‘":{name:"bell pepper",slug:"bell_pepper",group:"Food & Drink",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ¥’":{name:"cucumber",slug:"cucumber",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¥¬":{name:"leafy green",slug:"leafy_green",group:"Food & Drink",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¥¦":{name:"broccoli",slug:"broccoli",group:"Food & Drink",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ§„":{name:"garlic",slug:"garlic",group:"Food & Drink",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ§…":{name:"onion",slug:"onion",group:"Food & Drink",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ¥œ":{name:"peanuts",slug:"peanuts",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ«˜":{name:"beans",slug:"beans",group:"Food & Drink",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸŒ°":{name:"chestnut",slug:"chestnut",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ«š":{name:"ginger root",slug:"ginger_root",group:"Food & Drink",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸ«›":{name:"pea pod",slug:"pea_pod",group:"Food & Drink",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸ„â€ðŸŸ«":{name:"brown mushroom",slug:"brown_mushroom",group:"Food & Drink",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!1},"ðŸ«œ":{name:"root vegetable",slug:"root_vegetable",group:"Food & Drink",emoji_version:"16.0",unicode_version:"16.0",skin_tone_support:!1},"ðŸž":{name:"bread",slug:"bread",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥":{name:"croissant",slug:"croissant",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¥–":{name:"baguette bread",slug:"baguette_bread",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ«“":{name:"flatbread",slug:"flatbread",group:"Food & Drink",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ¥¨":{name:"pretzel",slug:"pretzel",group:"Food & Drink",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ¥¯":{name:"bagel",slug:"bagel",group:"Food & Drink",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¥ž":{name:"pancakes",slug:"pancakes",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ§‡":{name:"waffle",slug:"waffle",group:"Food & Drink",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ§€":{name:"cheese wedge",slug:"cheese_wedge",group:"Food & Drink",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ–":{name:"meat on bone",slug:"meat_on_bone",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ—":{name:"poultry leg",slug:"poultry_leg",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥©":{name:"cut of meat",slug:"cut_of_meat",group:"Food & Drink",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ¥“":{name:"bacon",slug:"bacon",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ”":{name:"hamburger",slug:"hamburger",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŸ":{name:"french fries",slug:"french_fries",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•":{name:"pizza",slug:"pizza",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ­":{name:"hot dog",slug:"hot_dog",group:"Food & Drink",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¥ª":{name:"sandwich",slug:"sandwich",group:"Food & Drink",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸŒ®":{name:"taco",slug:"taco",group:"Food & Drink",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸŒ¯":{name:"burrito",slug:"burrito",group:"Food & Drink",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ«”":{name:"tamale",slug:"tamale",group:"Food & Drink",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ¥™":{name:"stuffed flatbread",slug:"stuffed_flatbread",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ§†":{name:"falafel",slug:"falafel",group:"Food & Drink",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ¥š":{name:"egg",slug:"egg",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ³":{name:"cooking",slug:"cooking",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥˜":{name:"shallow pan of food",slug:"shallow_pan_of_food",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ²":{name:"pot of food",slug:"pot_of_food",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ«•":{name:"fondue",slug:"fondue",group:"Food & Drink",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ¥£":{name:"bowl with spoon",slug:"bowl_with_spoon",group:"Food & Drink",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ¥—":{name:"green salad",slug:"green_salad",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¿":{name:"popcorn",slug:"popcorn",group:"Food & Drink",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ§ˆ":{name:"butter",slug:"butter",group:"Food & Drink",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ§‚":{name:"salt",slug:"salt",group:"Food & Drink",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¥«":{name:"canned food",slug:"canned_food",group:"Food & Drink",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ±":{name:"bento box",slug:"bento_box",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ˜":{name:"rice cracker",slug:"rice_cracker",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ™":{name:"rice ball",slug:"rice_ball",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš":{name:"cooked rice",slug:"cooked_rice",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›":{name:"curry rice",slug:"curry_rice",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸœ":{name:"steaming bowl",slug:"steaming_bowl",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ":{name:"spaghetti",slug:"spaghetti",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ ":{name:"roasted sweet potato",slug:"roasted_sweet_potato",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¢":{name:"oden",slug:"oden",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ£":{name:"sushi",slug:"sushi",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¤":{name:"fried shrimp",slug:"fried_shrimp",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥":{name:"fish cake with swirl",slug:"fish_cake_with_swirl",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥®":{name:"moon cake",slug:"moon_cake",group:"Food & Drink",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¡":{name:"dango",slug:"dango",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥Ÿ":{name:"dumpling",slug:"dumpling",group:"Food & Drink",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ¥ ":{name:"fortune cookie",slug:"fortune_cookie",group:"Food & Drink",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ¥¡":{name:"takeout box",slug:"takeout_box",group:"Food & Drink",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ¦":{name:"soft ice cream",slug:"soft_ice_cream",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ§":{name:"shaved ice",slug:"shaved_ice",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¨":{name:"ice cream",slug:"ice_cream",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ©":{name:"doughnut",slug:"doughnut",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª":{name:"cookie",slug:"cookie",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ‚":{name:"birthday cake",slug:"birthday_cake",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ°":{name:"shortcake",slug:"shortcake",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ§":{name:"cupcake",slug:"cupcake",group:"Food & Drink",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¥§":{name:"pie",slug:"pie",group:"Food & Drink",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ«":{name:"chocolate bar",slug:"chocolate_bar",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¬":{name:"candy",slug:"candy",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ­":{name:"lollipop",slug:"lollipop",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ®":{name:"custard",slug:"custard",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¯":{name:"honey pot",slug:"honey_pot",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¼":{name:"baby bottle",slug:"baby_bottle",group:"Food & Drink",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¥›":{name:"glass of milk",slug:"glass_of_milk",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"â˜•":{name:"hot beverage",slug:"hot_beverage",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ«–":{name:"teapot",slug:"teapot",group:"Food & Drink",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸµ":{name:"teacup without handle",slug:"teacup_without_handle",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¶":{name:"sake",slug:"sake",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¾":{name:"bottle with popping cork",slug:"bottle_with_popping_cork",group:"Food & Drink",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ·":{name:"wine glass",slug:"wine_glass",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¸":{name:"cocktail glass",slug:"cocktail_glass",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¹":{name:"tropical drink",slug:"tropical_drink",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸº":{name:"beer mug",slug:"beer_mug",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ»":{name:"clinking beer mugs",slug:"clinking_beer_mugs",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥‚":{name:"clinking glasses",slug:"clinking_glasses",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¥ƒ":{name:"tumbler glass",slug:"tumbler_glass",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ«—":{name:"pouring liquid",slug:"pouring_liquid",group:"Food & Drink",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸ¥¤":{name:"cup with straw",slug:"cup_with_straw",group:"Food & Drink",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ§‹":{name:"bubble tea",slug:"bubble_tea",group:"Food & Drink",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ§ƒ":{name:"beverage box",slug:"beverage_box",group:"Food & Drink",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ§‰":{name:"mate",slug:"mate",group:"Food & Drink",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ§Š":{name:"ice",slug:"ice",group:"Food & Drink",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ¥¢":{name:"chopsticks",slug:"chopsticks",group:"Food & Drink",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ½ï¸":{name:"fork and knife with plate",slug:"fork_and_knife_with_plate",group:"Food & Drink",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ´":{name:"fork and knife",slug:"fork_and_knife",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥„":{name:"spoon",slug:"spoon",group:"Food & Drink",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ”ª":{name:"kitchen knife",slug:"kitchen_knife",group:"Food & Drink",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ«™":{name:"jar",slug:"jar",group:"Food & Drink",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸº":{name:"amphora",slug:"amphora",group:"Food & Drink",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸŒ":{name:"globe showing Europe-Africa",slug:"globe_showing_europe_africa",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒŽ":{name:"globe showing Americas",slug:"globe_showing_americas",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒ":{name:"globe showing Asia-Australia",slug:"globe_showing_asia_australia",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ":{name:"globe with meridians",slug:"globe_with_meridians",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ—ºï¸":{name:"world map",slug:"world_map",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ—¾":{name:"map of Japan",slug:"map_of_japan",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ§­":{name:"compass",slug:"compass",group:"Travel & Places",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ”ï¸":{name:"snow-capped mountain",slug:"snow_capped_mountain",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"â›°ï¸":{name:"mountain",slug:"mountain",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒ‹":{name:"volcano",slug:"volcano",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ—»":{name:"mount fuji",slug:"mount_fuji",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•ï¸":{name:"camping",slug:"camping",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ–ï¸":{name:"beach with umbrella",slug:"beach_with_umbrella",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸœï¸":{name:"desert",slug:"desert",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸï¸":{name:"desert island",slug:"desert_island",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸžï¸":{name:"national park",slug:"national_park",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŸï¸":{name:"stadium",slug:"stadium",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ›ï¸":{name:"classical building",slug:"classical_building",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ—ï¸":{name:"building construction",slug:"building_construction",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ§±":{name:"brick",slug:"brick",group:"Travel & Places",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸª¨":{name:"rock",slug:"rock",group:"Travel & Places",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸªµ":{name:"wood",slug:"wood",group:"Travel & Places",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ›–":{name:"hut",slug:"hut",group:"Travel & Places",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ˜ï¸":{name:"houses",slug:"houses",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸšï¸":{name:"derelict house",slug:"derelict_house",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ ":{name:"house",slug:"house",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¡":{name:"house with garden",slug:"house_with_garden",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¢":{name:"office building",slug:"office_building",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ£":{name:"Japanese post office",slug:"japanese_post_office",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¤":{name:"post office",slug:"post_office",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¥":{name:"hospital",slug:"hospital",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¦":{name:"bank",slug:"bank",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¨":{name:"hotel",slug:"hotel",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ©":{name:"love hotel",slug:"love_hotel",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª":{name:"convenience store",slug:"convenience_store",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ«":{name:"school",slug:"school",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¬":{name:"department store",slug:"department_store",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ­":{name:"factory",slug:"factory",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¯":{name:"Japanese castle",slug:"japanese_castle",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ°":{name:"castle",slug:"castle",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’’":{name:"wedding",slug:"wedding",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ—¼":{name:"Tokyo tower",slug:"tokyo_tower",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ—½":{name:"Statue of Liberty",slug:"statue_of_liberty",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â›ª":{name:"church",slug:"church",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•Œ":{name:"mosque",slug:"mosque",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ›•":{name:"hindu temple",slug:"hindu_temple",group:"Travel & Places",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ•":{name:"synagogue",slug:"synagogue",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"â›©ï¸":{name:"shinto shrine",slug:"shinto_shrine",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ•‹":{name:"kaaba",slug:"kaaba",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"â›²":{name:"fountain",slug:"fountain",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â›º":{name:"tent",slug:"tent",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ":{name:"foggy",slug:"foggy",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒƒ":{name:"night with stars",slug:"night_with_stars",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ™ï¸":{name:"cityscape",slug:"cityscape",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒ„":{name:"sunrise over mountains",slug:"sunrise_over_mountains",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ…":{name:"sunrise",slug:"sunrise",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ†":{name:"cityscape at dusk",slug:"cityscape_at_dusk",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ‡":{name:"sunset",slug:"sunset",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ‰":{name:"bridge at night",slug:"bridge_at_night",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™¨ï¸":{name:"hot springs",slug:"hot_springs",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ ":{name:"carousel horse",slug:"carousel_horse",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›":{name:"playground slide",slug:"playground_slide",group:"Travel & Places",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸŽ¡":{name:"ferris wheel",slug:"ferris_wheel",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ¢":{name:"roller coaster",slug:"roller_coaster",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’ˆ":{name:"barber pole",slug:"barber_pole",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽª":{name:"circus tent",slug:"circus_tent",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš‚":{name:"locomotive",slug:"locomotive",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸšƒ":{name:"railway car",slug:"railway_car",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš„":{name:"high-speed train",slug:"high_speed_train",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš…":{name:"bullet train",slug:"bullet_train",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš†":{name:"train",slug:"train",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸš‡":{name:"metro",slug:"metro",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸšˆ":{name:"light rail",slug:"light_rail",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸš‰":{name:"station",slug:"station",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸšŠ":{name:"tram",slug:"tram",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸš":{name:"monorail",slug:"monorail",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸšž":{name:"mountain railway",slug:"mountain_railway",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸš‹":{name:"tram car",slug:"tram_car",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸšŒ":{name:"bus",slug:"bus",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš":{name:"oncoming bus",slug:"oncoming_bus",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸšŽ":{name:"trolleybus",slug:"trolleybus",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸš":{name:"minibus",slug:"minibus",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸš‘":{name:"ambulance",slug:"ambulance",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš’":{name:"fire engine",slug:"fire_engine",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš“":{name:"police car",slug:"police_car",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš”":{name:"oncoming police car",slug:"oncoming_police_car",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸš•":{name:"taxi",slug:"taxi",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš–":{name:"oncoming taxi",slug:"oncoming_taxi",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸš—":{name:"automobile",slug:"automobile",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš˜":{name:"oncoming automobile",slug:"oncoming_automobile",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸš™":{name:"sport utility vehicle",slug:"sport_utility_vehicle",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›»":{name:"pickup truck",slug:"pickup_truck",group:"Travel & Places",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸšš":{name:"delivery truck",slug:"delivery_truck",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš›":{name:"articulated lorry",slug:"articulated_lorry",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸšœ":{name:"tractor",slug:"tractor",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸŽï¸":{name:"racing car",slug:"racing_car",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸï¸":{name:"motorcycle",slug:"motorcycle",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ›µ":{name:"motor scooter",slug:"motor_scooter",group:"Travel & Places",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¦½":{name:"manual wheelchair",slug:"manual_wheelchair",group:"Travel & Places",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ¦¼":{name:"motorized wheelchair",slug:"motorized_wheelchair",group:"Travel & Places",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ›º":{name:"auto rickshaw",slug:"auto_rickshaw",group:"Travel & Places",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸš²":{name:"bicycle",slug:"bicycle",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›´":{name:"kick scooter",slug:"kick_scooter",group:"Travel & Places",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ›¹":{name:"skateboard",slug:"skateboard",group:"Travel & Places",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ›¼":{name:"roller skate",slug:"roller_skate",group:"Travel & Places",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸš":{name:"bus stop",slug:"bus_stop",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›£ï¸":{name:"motorway",slug:"motorway",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ›¤ï¸":{name:"railway track",slug:"railway_track",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ›¢ï¸":{name:"oil drum",slug:"oil_drum",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"â›½":{name:"fuel pump",slug:"fuel_pump",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›ž":{name:"wheel",slug:"wheel",group:"Travel & Places",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸš¨":{name:"police car light",slug:"police_car_light",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš¥":{name:"horizontal traffic light",slug:"horizontal_traffic_light",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš¦":{name:"vertical traffic light",slug:"vertical_traffic_light",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ›‘":{name:"stop sign",slug:"stop_sign",group:"Travel & Places",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸš§":{name:"construction",slug:"construction",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âš“":{name:"anchor",slug:"anchor",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›Ÿ":{name:"ring buoy",slug:"ring_buoy",group:"Travel & Places",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"â›µ":{name:"sailboat",slug:"sailboat",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›¶":{name:"canoe",slug:"canoe",group:"Travel & Places",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸš¤":{name:"speedboat",slug:"speedboat",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›³ï¸":{name:"passenger ship",slug:"passenger_ship",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"â›´ï¸":{name:"ferry",slug:"ferry",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ›¥ï¸":{name:"motor boat",slug:"motor_boat",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸš¢":{name:"ship",slug:"ship",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âœˆï¸":{name:"airplane",slug:"airplane",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›©ï¸":{name:"small airplane",slug:"small_airplane",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ›«":{name:"airplane departure",slug:"airplane_departure",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ›¬":{name:"airplane arrival",slug:"airplane_arrival",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸª‚":{name:"parachute",slug:"parachute",group:"Travel & Places",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ’º":{name:"seat",slug:"seat",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš":{name:"helicopter",slug:"helicopter",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸšŸ":{name:"suspension railway",slug:"suspension_railway",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸš ":{name:"mountain cableway",slug:"mountain_cableway",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸš¡":{name:"aerial tramway",slug:"aerial_tramway",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ›°ï¸":{name:"satellite",slug:"satellite",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸš€":{name:"rocket",slug:"rocket",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›¸":{name:"flying saucer",slug:"flying_saucer",group:"Travel & Places",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ›Žï¸":{name:"bellhop bell",slug:"bellhop_bell",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ§³":{name:"luggage",slug:"luggage",group:"Travel & Places",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"âŒ›":{name:"hourglass done",slug:"hourglass_done",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â³":{name:"hourglass not done",slug:"hourglass_not_done",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âŒš":{name:"watch",slug:"watch",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â°":{name:"alarm clock",slug:"alarm_clock",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â±ï¸":{name:"stopwatch",slug:"stopwatch",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"â²ï¸":{name:"timer clock",slug:"timer_clock",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ•°ï¸":{name:"mantelpiece clock",slug:"mantelpiece_clock",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ•›":{name:"twelve oâ€™clock",slug:"twelve_o_clock",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•§":{name:"twelve-thirty",slug:"twelve_thirty",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ•":{name:"one oâ€™clock",slug:"one_o_clock",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•œ":{name:"one-thirty",slug:"one_thirty",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ•‘":{name:"two oâ€™clock",slug:"two_o_clock",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•":{name:"two-thirty",slug:"two_thirty",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ•’":{name:"three oâ€™clock",slug:"three_o_clock",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•ž":{name:"three-thirty",slug:"three_thirty",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ•“":{name:"four oâ€™clock",slug:"four_o_clock",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•Ÿ":{name:"four-thirty",slug:"four_thirty",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ•”":{name:"five oâ€™clock",slug:"five_o_clock",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ• ":{name:"five-thirty",slug:"five_thirty",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ••":{name:"six oâ€™clock",slug:"six_o_clock",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•¡":{name:"six-thirty",slug:"six_thirty",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ•–":{name:"seven oâ€™clock",slug:"seven_o_clock",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•¢":{name:"seven-thirty",slug:"seven_thirty",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ•—":{name:"eight oâ€™clock",slug:"eight_o_clock",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•£":{name:"eight-thirty",slug:"eight_thirty",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ•˜":{name:"nine oâ€™clock",slug:"nine_o_clock",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•¤":{name:"nine-thirty",slug:"nine_thirty",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ•™":{name:"ten oâ€™clock",slug:"ten_o_clock",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•¥":{name:"ten-thirty",slug:"ten_thirty",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ•š":{name:"eleven oâ€™clock",slug:"eleven_o_clock",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•¦":{name:"eleven-thirty",slug:"eleven_thirty",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒ‘":{name:"new moon",slug:"new_moon",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ’":{name:"waxing crescent moon",slug:"waxing_crescent_moon",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸŒ“":{name:"first quarter moon",slug:"first_quarter_moon",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ”":{name:"waxing gibbous moon",slug:"waxing_gibbous_moon",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ•":{name:"full moon",slug:"full_moon",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ–":{name:"waning gibbous moon",slug:"waning_gibbous_moon",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸŒ—":{name:"last quarter moon",slug:"last_quarter_moon",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸŒ˜":{name:"waning crescent moon",slug:"waning_crescent_moon",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸŒ™":{name:"crescent moon",slug:"crescent_moon",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒš":{name:"new moon face",slug:"new_moon_face",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸŒ›":{name:"first quarter moon face",slug:"first_quarter_moon_face",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒœ":{name:"last quarter moon face",slug:"last_quarter_moon_face",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒ¡ï¸":{name:"thermometer",slug:"thermometer",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"â˜€ï¸":{name:"sun",slug:"sun",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ":{name:"full moon face",slug:"full_moon_face",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸŒž":{name:"sun with face",slug:"sun_with_face",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸª":{name:"ringed planet",slug:"ringed_planet",group:"Travel & Places",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"â­":{name:"star",slug:"star",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒŸ":{name:"glowing star",slug:"glowing_star",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ ":{name:"shooting star",slug:"shooting_star",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒŒ":{name:"milky way",slug:"milky_way",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â˜ï¸":{name:"cloud",slug:"cloud",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â›…":{name:"sun behind cloud",slug:"sun_behind_cloud",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â›ˆï¸":{name:"cloud with lightning and rain",slug:"cloud_with_lightning_and_rain",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒ¤ï¸":{name:"sun behind small cloud",slug:"sun_behind_small_cloud",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒ¥ï¸":{name:"sun behind large cloud",slug:"sun_behind_large_cloud",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒ¦ï¸":{name:"sun behind rain cloud",slug:"sun_behind_rain_cloud",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒ§ï¸":{name:"cloud with rain",slug:"cloud_with_rain",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒ¨ï¸":{name:"cloud with snow",slug:"cloud_with_snow",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒ©ï¸":{name:"cloud with lightning",slug:"cloud_with_lightning",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒªï¸":{name:"tornado",slug:"tornado",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒ«ï¸":{name:"fog",slug:"fog",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒ¬ï¸":{name:"wind face",slug:"wind_face",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŒ€":{name:"cyclone",slug:"cyclone",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒˆ":{name:"rainbow",slug:"rainbow",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒ‚":{name:"closed umbrella",slug:"closed_umbrella",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â˜‚ï¸":{name:"umbrella",slug:"umbrella",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"â˜”":{name:"umbrella with rain drops",slug:"umbrella_with_rain_drops",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â›±ï¸":{name:"umbrella on ground",slug:"umbrella_on_ground",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"âš¡":{name:"high voltage",slug:"high_voltage",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â„ï¸":{name:"snowflake",slug:"snowflake",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â˜ƒï¸":{name:"snowman",slug:"snowman",group:"Travel & Places",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"â›„":{name:"snowman without snow",slug:"snowman_without_snow",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â˜„ï¸":{name:"comet",slug:"comet",group:"Travel & Places",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ”¥":{name:"fire",slug:"fire",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’§":{name:"droplet",slug:"droplet",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŒŠ":{name:"water wave",slug:"water_wave",group:"Travel & Places",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽƒ":{name:"jack-o-lantern",slug:"jack_o_lantern",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ„":{name:"Christmas tree",slug:"christmas_tree",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ†":{name:"fireworks",slug:"fireworks",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ‡":{name:"sparkler",slug:"sparkler",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ§¨":{name:"firecracker",slug:"firecracker",group:"Activities",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"âœ¨":{name:"sparkles",slug:"sparkles",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽˆ":{name:"balloon",slug:"balloon",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ‰":{name:"party popper",slug:"party_popper",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽŠ":{name:"confetti ball",slug:"confetti_ball",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ‹":{name:"tanabata tree",slug:"tanabata_tree",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ":{name:"pine decoration",slug:"pine_decoration",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽŽ":{name:"Japanese dolls",slug:"japanese_dolls",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ":{name:"carp streamer",slug:"carp_streamer",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ":{name:"wind chime",slug:"wind_chime",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ‘":{name:"moon viewing ceremony",slug:"moon_viewing_ceremony",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ§§":{name:"red envelope",slug:"red_envelope",group:"Activities",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸŽ€":{name:"ribbon",slug:"ribbon",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ":{name:"wrapped gift",slug:"wrapped_gift",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ—ï¸":{name:"reminder ribbon",slug:"reminder_ribbon",group:"Activities",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŽŸï¸":{name:"admission tickets",slug:"admission_tickets",group:"Activities",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŽ«":{name:"ticket",slug:"ticket",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ–ï¸":{name:"military medal",slug:"military_medal",group:"Activities",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ†":{name:"trophy",slug:"trophy",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ…":{name:"sports medal",slug:"sports_medal",group:"Activities",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¥‡":{name:"1st place medal",slug:"1st_place_medal",group:"Activities",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¥ˆ":{name:"2nd place medal",slug:"2nd_place_medal",group:"Activities",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¥‰":{name:"3rd place medal",slug:"3rd_place_medal",group:"Activities",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"âš½":{name:"soccer ball",slug:"soccer_ball",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âš¾":{name:"baseball",slug:"baseball",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥Ž":{name:"softball",slug:"softball",group:"Activities",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ€":{name:"basketball",slug:"basketball",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ":{name:"volleyball",slug:"volleyball",group:"Activities",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸˆ":{name:"american football",slug:"american_football",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‰":{name:"rugby football",slug:"rugby_football",group:"Activities",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸŽ¾":{name:"tennis",slug:"tennis",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥":{name:"flying disc",slug:"flying_disc",group:"Activities",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸŽ³":{name:"bowling",slug:"bowling",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ":{name:"cricket game",slug:"cricket_game",group:"Activities",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ‘":{name:"field hockey",slug:"field_hockey",group:"Activities",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ’":{name:"ice hockey",slug:"ice_hockey",group:"Activities",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¥":{name:"lacrosse",slug:"lacrosse",group:"Activities",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ“":{name:"ping pong",slug:"ping_pong",group:"Activities",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¸":{name:"badminton",slug:"badminton",group:"Activities",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¥Š":{name:"boxing glove",slug:"boxing_glove",group:"Activities",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¥‹":{name:"martial arts uniform",slug:"martial_arts_uniform",group:"Activities",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸ¥…":{name:"goal net",slug:"goal_net",group:"Activities",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"â›³":{name:"flag in hole",slug:"flag_in_hole",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â›¸ï¸":{name:"ice skate",slug:"ice_skate",group:"Activities",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŽ£":{name:"fishing pole",slug:"fishing_pole",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¤¿":{name:"diving mask",slug:"diving_mask",group:"Activities",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸŽ½":{name:"running shirt",slug:"running_shirt",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ¿":{name:"skis",slug:"skis",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›·":{name:"sled",slug:"sled",group:"Activities",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ¥Œ":{name:"curling stone",slug:"curling_stone",group:"Activities",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸŽ¯":{name:"bullseye",slug:"bullseye",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª€":{name:"yo-yo",slug:"yo_yo",group:"Activities",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸª":{name:"kite",slug:"kite",group:"Activities",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ”«":{name:"water pistol",slug:"water_pistol",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ±":{name:"pool 8 ball",slug:"pool_8_ball",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”®":{name:"crystal ball",slug:"crystal_ball",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª„":{name:"magic wand",slug:"magic_wand",group:"Activities",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸŽ®":{name:"video game",slug:"video_game",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•¹ï¸":{name:"joystick",slug:"joystick",group:"Activities",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŽ°":{name:"slot machine",slug:"slot_machine",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ²":{name:"game die",slug:"game_die",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ§©":{name:"puzzle piece",slug:"puzzle_piece",group:"Activities",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ§¸":{name:"teddy bear",slug:"teddy_bear",group:"Activities",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸª…":{name:"piÃ±ata",slug:"pinata",group:"Activities",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸª©":{name:"mirror ball",slug:"mirror_ball",group:"Activities",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸª†":{name:"nesting dolls",slug:"nesting_dolls",group:"Activities",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"â™ ï¸":{name:"spade suit",slug:"spade_suit",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™¥ï¸":{name:"heart suit",slug:"heart_suit",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™¦ï¸":{name:"diamond suit",slug:"diamond_suit",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™£ï¸":{name:"club suit",slug:"club_suit",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™Ÿï¸":{name:"chess pawn",slug:"chess_pawn",group:"Activities",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸƒ":{name:"joker",slug:"joker",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ€„":{name:"mahjong red dragon",slug:"mahjong_red_dragon",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ´":{name:"flower playing cards",slug:"flower_playing_cards",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ­":{name:"performing arts",slug:"performing_arts",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ–¼ï¸":{name:"framed picture",slug:"framed_picture",group:"Activities",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŽ¨":{name:"artist palette",slug:"artist_palette",group:"Activities",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ§µ":{name:"thread",slug:"thread",group:"Activities",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸª¡":{name:"sewing needle",slug:"sewing_needle",group:"Activities",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ§¶":{name:"yarn",slug:"yarn",group:"Activities",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸª¢":{name:"knot",slug:"knot",group:"Activities",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ‘“":{name:"glasses",slug:"glasses",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•¶ï¸":{name:"sunglasses",slug:"sunglasses",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ¥½":{name:"goggles",slug:"goggles",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¥¼":{name:"lab coat",slug:"lab_coat",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¦º":{name:"safety vest",slug:"safety_vest",group:"Objects",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ‘”":{name:"necktie",slug:"necktie",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘•":{name:"t-shirt",slug:"t_shirt",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘–":{name:"jeans",slug:"jeans",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ§£":{name:"scarf",slug:"scarf",group:"Objects",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ§¤":{name:"gloves",slug:"gloves",group:"Objects",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ§¥":{name:"coat",slug:"coat",group:"Objects",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ§¦":{name:"socks",slug:"socks",group:"Objects",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ‘—":{name:"dress",slug:"dress",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘˜":{name:"kimono",slug:"kimono",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥»":{name:"sari",slug:"sari",group:"Objects",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ©±":{name:"one-piece swimsuit",slug:"one_piece_swimsuit",group:"Objects",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ©²":{name:"briefs",slug:"briefs",group:"Objects",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ©³":{name:"shorts",slug:"shorts",group:"Objects",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ‘™":{name:"bikini",slug:"bikini",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘š":{name:"womanâ€™s clothes",slug:"woman_s_clothes",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª­":{name:"folding hand fan",slug:"folding_hand_fan",group:"Objects",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸ‘›":{name:"purse",slug:"purse",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘œ":{name:"handbag",slug:"handbag",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘":{name:"clutch bag",slug:"clutch_bag",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›ï¸":{name:"shopping bags",slug:"shopping_bags",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŽ’":{name:"backpack",slug:"backpack",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ©´":{name:"thong sandal",slug:"thong_sandal",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ‘ž":{name:"manâ€™s shoe",slug:"man_s_shoe",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘Ÿ":{name:"running shoe",slug:"running_shoe",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ¥¾":{name:"hiking boot",slug:"hiking_boot",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ¥¿":{name:"flat shoe",slug:"flat_shoe",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ‘ ":{name:"high-heeled shoe",slug:"high_heeled_shoe",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘¡":{name:"womanâ€™s sandal",slug:"woman_s_sandal",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ©°":{name:"ballet shoes",slug:"ballet_shoes",group:"Objects",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ‘¢":{name:"womanâ€™s boot",slug:"woman_s_boot",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª®":{name:"hair pick",slug:"hair_pick",group:"Objects",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸ‘‘":{name:"crown",slug:"crown",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‘’":{name:"womanâ€™s hat",slug:"woman_s_hat",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ©":{name:"top hat",slug:"top_hat",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ“":{name:"graduation cap",slug:"graduation_cap",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ§¢":{name:"billed cap",slug:"billed_cap",group:"Objects",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸª–":{name:"military helmet",slug:"military_helmet",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"â›‘ï¸":{name:"rescue workerâ€™s helmet",slug:"rescue_worker_s_helmet",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ“¿":{name:"prayer beads",slug:"prayer_beads",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ’„":{name:"lipstick",slug:"lipstick",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’":{name:"ring",slug:"ring",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’Ž":{name:"gem stone",slug:"gem_stone",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”‡":{name:"muted speaker",slug:"muted_speaker",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ”ˆ":{name:"speaker low volume",slug:"speaker_low_volume",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ”‰":{name:"speaker medium volume",slug:"speaker_medium_volume",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ”Š":{name:"speaker high volume",slug:"speaker_high_volume",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“¢":{name:"loudspeaker",slug:"loudspeaker",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“£":{name:"megaphone",slug:"megaphone",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“¯":{name:"postal horn",slug:"postal_horn",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ””":{name:"bell",slug:"bell",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”•":{name:"bell with slash",slug:"bell_with_slash",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸŽ¼":{name:"musical score",slug:"musical_score",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽµ":{name:"musical note",slug:"musical_note",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ¶":{name:"musical notes",slug:"musical_notes",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ™ï¸":{name:"studio microphone",slug:"studio_microphone",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŽšï¸":{name:"level slider",slug:"level_slider",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŽ›ï¸":{name:"control knobs",slug:"control_knobs",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŽ¤":{name:"microphone",slug:"microphone",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ§":{name:"headphone",slug:"headphone",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“»":{name:"radio",slug:"radio",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ·":{name:"saxophone",slug:"saxophone",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª—":{name:"accordion",slug:"accordion",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸŽ¸":{name:"guitar",slug:"guitar",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ¹":{name:"musical keyboard",slug:"musical_keyboard",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽº":{name:"trumpet",slug:"trumpet",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽ»":{name:"violin",slug:"violin",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª•":{name:"banjo",slug:"banjo",group:"Objects",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ¥":{name:"drum",slug:"drum",group:"Objects",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸª˜":{name:"long drum",slug:"long_drum",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸª‡":{name:"maracas",slug:"maracas",group:"Objects",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸªˆ":{name:"flute",slug:"flute",group:"Objects",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸª‰":{name:"harp",slug:"harp",group:"Objects",emoji_version:"16.0",unicode_version:"16.0",skin_tone_support:!1},"ðŸ“±":{name:"mobile phone",slug:"mobile_phone",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“²":{name:"mobile phone with arrow",slug:"mobile_phone_with_arrow",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â˜Žï¸":{name:"telephone",slug:"telephone",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“ž":{name:"telephone receiver",slug:"telephone_receiver",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“Ÿ":{name:"pager",slug:"pager",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“ ":{name:"fax machine",slug:"fax_machine",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”‹":{name:"battery",slug:"battery",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª«":{name:"low battery",slug:"low_battery",group:"Objects",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸ”Œ":{name:"electric plug",slug:"electric_plug",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’»":{name:"laptop",slug:"laptop",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ–¥ï¸":{name:"desktop computer",slug:"desktop_computer",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ–¨ï¸":{name:"printer",slug:"printer",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"âŒ¨ï¸":{name:"keyboard",slug:"keyboard",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ–±ï¸":{name:"computer mouse",slug:"computer_mouse",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ–²ï¸":{name:"trackball",slug:"trackball",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ’½":{name:"computer disk",slug:"computer_disk",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’¾":{name:"floppy disk",slug:"floppy_disk",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’¿":{name:"optical disk",slug:"optical_disk",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“€":{name:"dvd",slug:"dvd",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ§®":{name:"abacus",slug:"abacus",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸŽ¥":{name:"movie camera",slug:"movie_camera",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽžï¸":{name:"film frames",slug:"film_frames",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ“½ï¸":{name:"film projector",slug:"film_projector",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸŽ¬":{name:"clapper board",slug:"clapper_board",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“º":{name:"television",slug:"television",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“·":{name:"camera",slug:"camera",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“¸":{name:"camera with flash",slug:"camera_with_flash",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ“¹":{name:"video camera",slug:"video_camera",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“¼":{name:"videocassette",slug:"videocassette",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”":{name:"magnifying glass tilted left",slug:"magnifying_glass_tilted_left",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”Ž":{name:"magnifying glass tilted right",slug:"magnifying_glass_tilted_right",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ•¯ï¸":{name:"candle",slug:"candle",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ’¡":{name:"light bulb",slug:"light_bulb",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”¦":{name:"flashlight",slug:"flashlight",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ®":{name:"red paper lantern",slug:"red_paper_lantern",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª”":{name:"diya lamp",slug:"diya_lamp",group:"Objects",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ“”":{name:"notebook with decorative cover",slug:"notebook_with_decorative_cover",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“•":{name:"closed book",slug:"closed_book",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“–":{name:"open book",slug:"open_book",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“—":{name:"green book",slug:"green_book",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“˜":{name:"blue book",slug:"blue_book",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“™":{name:"orange book",slug:"orange_book",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“š":{name:"books",slug:"books",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ““":{name:"notebook",slug:"notebook",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“’":{name:"ledger",slug:"ledger",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“ƒ":{name:"page with curl",slug:"page_with_curl",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“œ":{name:"scroll",slug:"scroll",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“„":{name:"page facing up",slug:"page_facing_up",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“°":{name:"newspaper",slug:"newspaper",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ—žï¸":{name:"rolled-up newspaper",slug:"rolled_up_newspaper",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ“‘":{name:"bookmark tabs",slug:"bookmark_tabs",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”–":{name:"bookmark",slug:"bookmark",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ·ï¸":{name:"label",slug:"label",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ’°":{name:"money bag",slug:"money_bag",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª™":{name:"coin",slug:"coin",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ’´":{name:"yen banknote",slug:"yen_banknote",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’µ":{name:"dollar banknote",slug:"dollar_banknote",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’¶":{name:"euro banknote",slug:"euro_banknote",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ’·":{name:"pound banknote",slug:"pound_banknote",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ’¸":{name:"money with wings",slug:"money_with_wings",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’³":{name:"credit card",slug:"credit_card",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ§¾":{name:"receipt",slug:"receipt",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ’¹":{name:"chart increasing with yen",slug:"chart_increasing_with_yen",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âœ‰ï¸":{name:"envelope",slug:"envelope",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“§":{name:"e-mail",slug:"e_mail",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“¨":{name:"incoming envelope",slug:"incoming_envelope",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“©":{name:"envelope with arrow",slug:"envelope_with_arrow",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“¤":{name:"outbox tray",slug:"outbox_tray",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“¥":{name:"inbox tray",slug:"inbox_tray",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“¦":{name:"package",slug:"package",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“«":{name:"closed mailbox with raised flag",slug:"closed_mailbox_with_raised_flag",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“ª":{name:"closed mailbox with lowered flag",slug:"closed_mailbox_with_lowered_flag",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“¬":{name:"open mailbox with raised flag",slug:"open_mailbox_with_raised_flag",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ“­":{name:"open mailbox with lowered flag",slug:"open_mailbox_with_lowered_flag",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ“®":{name:"postbox",slug:"postbox",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ—³ï¸":{name:"ballot box with ballot",slug:"ballot_box_with_ballot",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"âœï¸":{name:"pencil",slug:"pencil",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âœ’ï¸":{name:"black nib",slug:"black_nib",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ–‹ï¸":{name:"fountain pen",slug:"fountain_pen",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ–Šï¸":{name:"pen",slug:"pen",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ–Œï¸":{name:"paintbrush",slug:"paintbrush",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ–ï¸":{name:"crayon",slug:"crayon",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ“":{name:"memo",slug:"memo",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’¼":{name:"briefcase",slug:"briefcase",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“":{name:"file folder",slug:"file_folder",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“‚":{name:"open file folder",slug:"open_file_folder",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ—‚ï¸":{name:"card index dividers",slug:"card_index_dividers",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ“…":{name:"calendar",slug:"calendar",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“†":{name:"tear-off calendar",slug:"tear_off_calendar",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ—’ï¸":{name:"spiral notepad",slug:"spiral_notepad",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ—“ï¸":{name:"spiral calendar",slug:"spiral_calendar",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ“‡":{name:"card index",slug:"card_index",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“ˆ":{name:"chart increasing",slug:"chart_increasing",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“‰":{name:"chart decreasing",slug:"chart_decreasing",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“Š":{name:"bar chart",slug:"bar_chart",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“‹":{name:"clipboard",slug:"clipboard",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“Œ":{name:"pushpin",slug:"pushpin",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“":{name:"round pushpin",slug:"round_pushpin",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“Ž":{name:"paperclip",slug:"paperclip",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ–‡ï¸":{name:"linked paperclips",slug:"linked_paperclips",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ“":{name:"straight ruler",slug:"straight_ruler",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“":{name:"triangular ruler",slug:"triangular_ruler",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âœ‚ï¸":{name:"scissors",slug:"scissors",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ—ƒï¸":{name:"card file box",slug:"card_file_box",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ—„ï¸":{name:"file cabinet",slug:"file_cabinet",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ—‘ï¸":{name:"wastebasket",slug:"wastebasket",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ”’":{name:"locked",slug:"locked",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”“":{name:"unlocked",slug:"unlocked",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”":{name:"locked with pen",slug:"locked_with_pen",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”":{name:"locked with key",slug:"locked_with_key",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”‘":{name:"key",slug:"key",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ—ï¸":{name:"old key",slug:"old_key",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ”¨":{name:"hammer",slug:"hammer",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª“":{name:"axe",slug:"axe",group:"Objects",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"â›ï¸":{name:"pick",slug:"pick",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"âš’ï¸":{name:"hammer and pick",slug:"hammer_and_pick",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ› ï¸":{name:"hammer and wrench",slug:"hammer_and_wrench",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ—¡ï¸":{name:"dagger",slug:"dagger",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"âš”ï¸":{name:"crossed swords",slug:"crossed_swords",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ’£":{name:"bomb",slug:"bomb",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸªƒ":{name:"boomerang",slug:"boomerang",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ¹":{name:"bow and arrow",slug:"bow_and_arrow",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ›¡ï¸":{name:"shield",slug:"shield",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸªš":{name:"carpentry saw",slug:"carpentry_saw",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ”§":{name:"wrench",slug:"wrench",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª›":{name:"screwdriver",slug:"screwdriver",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ”©":{name:"nut and bolt",slug:"nut_and_bolt",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âš™ï¸":{name:"gear",slug:"gear",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ—œï¸":{name:"clamp",slug:"clamp",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"âš–ï¸":{name:"balance scale",slug:"balance_scale",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ¦¯":{name:"white cane",slug:"white_cane",group:"Objects",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ”—":{name:"link",slug:"link",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â›“ï¸â€ðŸ’¥":{name:"broken chain",slug:"broken_chain",group:"Objects",emoji_version:"15.1",unicode_version:"15.1",skin_tone_support:!1},"â›“ï¸":{name:"chains",slug:"chains",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸª":{name:"hook",slug:"hook",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ§°":{name:"toolbox",slug:"toolbox",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ§²":{name:"magnet",slug:"magnet",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸªœ":{name:"ladder",slug:"ladder",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸª":{name:"shovel",slug:"shovel",group:"Objects",emoji_version:"16.0",unicode_version:"16.0",skin_tone_support:!1},"âš—ï¸":{name:"alembic",slug:"alembic",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ§ª":{name:"test tube",slug:"test_tube",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ§«":{name:"petri dish",slug:"petri_dish",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ§¬":{name:"dna",slug:"dna",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ”¬":{name:"microscope",slug:"microscope",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ”­":{name:"telescope",slug:"telescope",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ“¡":{name:"satellite antenna",slug:"satellite_antenna",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’‰":{name:"syringe",slug:"syringe",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ©¸":{name:"drop of blood",slug:"drop_of_blood",group:"Objects",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ’Š":{name:"pill",slug:"pill",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ©¹":{name:"adhesive bandage",slug:"adhesive_bandage",group:"Objects",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ©¼":{name:"crutch",slug:"crutch",group:"Objects",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸ©º":{name:"stethoscope",slug:"stethoscope",group:"Objects",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ©»":{name:"x-ray",slug:"x_ray",group:"Objects",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸšª":{name:"door",slug:"door",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›—":{name:"elevator",slug:"elevator",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸªž":{name:"mirror",slug:"mirror",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸªŸ":{name:"window",slug:"window",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ›ï¸":{name:"bed",slug:"bed",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ›‹ï¸":{name:"couch and lamp",slug:"couch_and_lamp",group:"Objects",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸª‘":{name:"chair",slug:"chair",group:"Objects",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸš½":{name:"toilet",slug:"toilet",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª ":{name:"plunger",slug:"plunger",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸš¿":{name:"shower",slug:"shower",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ›":{name:"bathtub",slug:"bathtub",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸª¤":{name:"mouse trap",slug:"mouse_trap",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸª’":{name:"razor",slug:"razor",group:"Objects",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ§´":{name:"lotion bottle",slug:"lotion_bottle",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ§·":{name:"safety pin",slug:"safety_pin",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ§¹":{name:"broom",slug:"broom",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ§º":{name:"basket",slug:"basket",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ§»":{name:"roll of paper",slug:"roll_of_paper",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸª£":{name:"bucket",slug:"bucket",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ§¼":{name:"soap",slug:"soap",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ«§":{name:"bubbles",slug:"bubbles",group:"Objects",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸª¥":{name:"toothbrush",slug:"toothbrush",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ§½":{name:"sponge",slug:"sponge",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ§¯":{name:"fire extinguisher",slug:"fire_extinguisher",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ›’":{name:"shopping cart",slug:"shopping_cart",group:"Objects",emoji_version:"3.0",unicode_version:"3.0",skin_tone_support:!1},"ðŸš¬":{name:"cigarette",slug:"cigarette",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âš°ï¸":{name:"coffin",slug:"coffin",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸª¦":{name:"headstone",slug:"headstone",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"âš±ï¸":{name:"funeral urn",slug:"funeral_urn",group:"Objects",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ§¿":{name:"nazar amulet",slug:"nazar_amulet",group:"Objects",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸª¬":{name:"hamsa",slug:"hamsa",group:"Objects",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸ—¿":{name:"moai",slug:"moai",group:"Objects",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª§":{name:"placard",slug:"placard",group:"Objects",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸªª":{name:"identification card",slug:"identification_card",group:"Objects",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"ðŸ§":{name:"ATM sign",slug:"atm_sign",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš®":{name:"litter in bin sign",slug:"litter_in_bin_sign",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸš°":{name:"potable water",slug:"potable_water",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"â™¿":{name:"wheelchair symbol",slug:"wheelchair_symbol",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš¹":{name:"menâ€™s room",slug:"men_s_room",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸšº":{name:"womenâ€™s room",slug:"women_s_room",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš»":{name:"restroom",slug:"restroom",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš¼":{name:"baby symbol",slug:"baby_symbol",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš¾":{name:"water closet",slug:"water_closet",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›‚":{name:"passport control",slug:"passport_control",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ›ƒ":{name:"customs",slug:"customs",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ›„":{name:"baggage claim",slug:"baggage_claim",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ›…":{name:"left luggage",slug:"left_luggage",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"âš ï¸":{name:"warning",slug:"warning",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš¸":{name:"children crossing",slug:"children_crossing",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"â›”":{name:"no entry",slug:"no_entry",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš«":{name:"prohibited",slug:"prohibited",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš³":{name:"no bicycles",slug:"no_bicycles",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸš­":{name:"no smoking",slug:"no_smoking",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš¯":{name:"no littering",slug:"no_littering",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸš±":{name:"non-potable water",slug:"non_potable_water",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸš·":{name:"no pedestrians",slug:"no_pedestrians",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ“µ":{name:"no mobile phones",slug:"no_mobile_phones",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ”ž":{name:"no one under eighteen",slug:"no_one_under_eighteen",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â˜¢ï¸":{name:"radioactive",slug:"radioactive",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"â˜£ï¸":{name:"biohazard",slug:"biohazard",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"â¬†ï¸":{name:"up arrow",slug:"up_arrow",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â†—ï¸":{name:"up-right arrow",slug:"up_right_arrow",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âž¡ï¸":{name:"right arrow",slug:"right_arrow",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â†˜ï¸":{name:"down-right arrow",slug:"down_right_arrow",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â¬‡ï¸":{name:"down arrow",slug:"down_arrow",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â†™ï¸":{name:"down-left arrow",slug:"down_left_arrow",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â¬…ï¸":{name:"left arrow",slug:"left_arrow",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â†–ï¸":{name:"up-left arrow",slug:"up_left_arrow",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â†•ï¸":{name:"up-down arrow",slug:"up_down_arrow",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â†”ï¸":{name:"left-right arrow",slug:"left_right_arrow",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â†©ï¸":{name:"right arrow curving left",slug:"right_arrow_curving_left",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â†ªï¸":{name:"left arrow curving right",slug:"left_arrow_curving_right",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â¤´ï¸":{name:"right arrow curving up",slug:"right_arrow_curving_up",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â¤µï¸":{name:"right arrow curving down",slug:"right_arrow_curving_down",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”ƒ":{name:"clockwise vertical arrows",slug:"clockwise_vertical_arrows",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”„":{name:"counterclockwise arrows button",slug:"counterclockwise_arrows_button",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ”™":{name:"BACK arrow",slug:"back_arrow",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”š":{name:"END arrow",slug:"end_arrow",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”›":{name:"ON! arrow",slug:"on_arrow",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”œ":{name:"SOON arrow",slug:"soon_arrow",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”":{name:"TOP arrow",slug:"top_arrow",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›":{name:"place of worship",slug:"place_of_worship",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"âš›ï¸":{name:"atom symbol",slug:"atom_symbol",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ•‰ï¸":{name:"om",slug:"om",group:"Symbols",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"âœ¡ï¸":{name:"star of David",slug:"star_of_david",group:"Symbols",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"â˜¸ï¸":{name:"wheel of dharma",slug:"wheel_of_dharma",group:"Symbols",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"â˜¯ï¸":{name:"yin yang",slug:"yin_yang",group:"Symbols",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"âœï¸":{name:"latin cross",slug:"latin_cross",group:"Symbols",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"â˜¦ï¸":{name:"orthodox cross",slug:"orthodox_cross",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"â˜ªï¸":{name:"star and crescent",slug:"star_and_crescent",group:"Symbols",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"â˜®ï¸":{name:"peace symbol",slug:"peace_symbol",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ•Ž":{name:"menorah",slug:"menorah",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ”¯":{name:"dotted six-pointed star",slug:"dotted_six_pointed_star",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸª¯":{name:"khanda",slug:"khanda",group:"Symbols",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"â™ˆ":{name:"Aries",slug:"aries",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™‰":{name:"Taurus",slug:"taurus",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™Š":{name:"Gemini",slug:"gemini",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™‹":{name:"Cancer",slug:"cancer",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™Œ":{name:"Leo",slug:"leo",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™":{name:"Virgo",slug:"virgo",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™Ž":{name:"Libra",slug:"libra",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™":{name:"Scorpio",slug:"scorpio",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™":{name:"Sagittarius",slug:"sagittarius",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™‘":{name:"Capricorn",slug:"capricorn",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™’":{name:"Aquarius",slug:"aquarius",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™“":{name:"Pisces",slug:"pisces",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â›Ž":{name:"Ophiuchus",slug:"ophiuchus",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”€":{name:"shuffle tracks button",slug:"shuffle_tracks_button",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ”":{name:"repeat button",slug:"repeat_button",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ”‚":{name:"repeat single button",slug:"repeat_single_button",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"â–¶ï¸":{name:"play button",slug:"play_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â©":{name:"fast-forward button",slug:"fast_forward_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â­ï¸":{name:"next track button",slug:"next_track_button",group:"Symbols",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"â¯ï¸":{name:"play or pause button",slug:"play_or_pause_button",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"â—€ï¸":{name:"reverse button",slug:"reverse_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âª":{name:"fast reverse button",slug:"fast_reverse_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â®ï¸":{name:"last track button",slug:"last_track_button",group:"Symbols",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ”¼":{name:"upwards button",slug:"upwards_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â«":{name:"fast up button",slug:"fast_up_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”½":{name:"downwards button",slug:"downwards_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â¬":{name:"fast down button",slug:"fast_down_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â¸ï¸":{name:"pause button",slug:"pause_button",group:"Symbols",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"â¹ï¸":{name:"stop button",slug:"stop_button",group:"Symbols",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"âºï¸":{name:"record button",slug:"record_button",group:"Symbols",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"âï¸":{name:"eject button",slug:"eject_button",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸŽ¦":{name:"cinema",slug:"cinema",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”…":{name:"dim button",slug:"dim_button",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ”†":{name:"bright button",slug:"bright_button",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ“¶":{name:"antenna bars",slug:"antenna_bars",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ›œ":{name:"wireless",slug:"wireless",group:"Symbols",emoji_version:"15.0",unicode_version:"15.0",skin_tone_support:!1},"ðŸ“³":{name:"vibration mode",slug:"vibration_mode",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“´":{name:"mobile phone off",slug:"mobile_phone_off",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â™€ï¸":{name:"female sign",slug:"female_sign",group:"Symbols",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"â™‚ï¸":{name:"male sign",slug:"male_sign",group:"Symbols",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"âš§ï¸":{name:"transgender symbol",slug:"transgender_symbol",group:"Symbols",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"âœ–ï¸":{name:"multiply",slug:"multiply",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âž•":{name:"plus",slug:"plus",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âž–":{name:"minus",slug:"minus",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âž—":{name:"divide",slug:"divide",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŸ°":{name:"heavy equals sign",slug:"heavy_equals_sign",group:"Symbols",emoji_version:"14.0",unicode_version:"14.0",skin_tone_support:!1},"â™¾ï¸":{name:"infinity",slug:"infinity",group:"Symbols",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"â€¼ï¸":{name:"double exclamation mark",slug:"double_exclamation_mark",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â‰ï¸":{name:"exclamation question mark",slug:"exclamation_question_mark",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â“":{name:"red question mark",slug:"red_question_mark",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â”":{name:"white question mark",slug:"white_question_mark",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â•":{name:"white exclamation mark",slug:"white_exclamation_mark",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â—":{name:"red exclamation mark",slug:"red_exclamation_mark",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ã€°ï¸":{name:"wavy dash",slug:"wavy_dash",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’±":{name:"currency exchange",slug:"currency_exchange",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’²":{name:"heavy dollar sign",slug:"heavy_dollar_sign",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âš•ï¸":{name:"medical symbol",slug:"medical_symbol",group:"Symbols",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"â™»ï¸":{name:"recycling symbol",slug:"recycling_symbol",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âšœï¸":{name:"fleur-de-lis",slug:"fleur_de_lis",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ”±":{name:"trident emblem",slug:"trident_emblem",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ“›":{name:"name badge",slug:"name_badge",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”°":{name:"Japanese symbol for beginner",slug:"japanese_symbol_for_beginner",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â­•":{name:"hollow red circle",slug:"hollow_red_circle",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âœ…":{name:"check mark button",slug:"check_mark_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â˜‘ï¸":{name:"check box with check",slug:"check_box_with_check",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âœ”ï¸":{name:"check mark",slug:"check_mark",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âŒ":{name:"cross mark",slug:"cross_mark",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âŽ":{name:"cross mark button",slug:"cross_mark_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âž°":{name:"curly loop",slug:"curly_loop",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âž¿":{name:"double curly loop",slug:"double_curly_loop",group:"Symbols",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ã€½ï¸":{name:"part alternation mark",slug:"part_alternation_mark",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âœ³ï¸":{name:"eight-spoked asterisk",slug:"eight_spoked_asterisk",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âœ´ï¸":{name:"eight-pointed star",slug:"eight_pointed_star",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â‡ï¸":{name:"sparkle",slug:"sparkle",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"Â©ï¸":{name:"copyright",slug:"copyright",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"Â®ï¸":{name:"registered",slug:"registered",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â„¢ï¸":{name:"trade mark",slug:"trade_mark",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ«Ÿ":{name:"splatter",slug:"splatter",group:"Symbols",emoji_version:"16.0",unicode_version:"16.0",skin_tone_support:!1},"#ï¸âƒ£":{name:"keycap #",slug:"keycap_number_sign",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"*ï¸âƒ£":{name:"keycap *",slug:"keycap_asterisk",group:"Symbols",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"0ï¸âƒ£":{name:"keycap 0",slug:"keycap_0",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"1ï¸âƒ£":{name:"keycap 1",slug:"keycap_1",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"2ï¸âƒ£":{name:"keycap 2",slug:"keycap_2",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"3ï¸âƒ£":{name:"keycap 3",slug:"keycap_3",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"4ï¸âƒ£":{name:"keycap 4",slug:"keycap_4",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"5ï¸âƒ£":{name:"keycap 5",slug:"keycap_5",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"6ï¸âƒ£":{name:"keycap 6",slug:"keycap_6",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"7ï¸âƒ£":{name:"keycap 7",slug:"keycap_7",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"8ï¸âƒ£":{name:"keycap 8",slug:"keycap_8",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"9ï¸âƒ£":{name:"keycap 9",slug:"keycap_9",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”Ÿ":{name:"keycap 10",slug:"keycap_10",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ” ":{name:"input latin uppercase",slug:"input_latin_uppercase",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”¡":{name:"input latin lowercase",slug:"input_latin_lowercase",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”¢":{name:"input numbers",slug:"input_numbers",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”£":{name:"input symbols",slug:"input_symbols",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”¤":{name:"input latin letters",slug:"input_latin_letters",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ…°ï¸":{name:"A button (blood type)",slug:"a_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ†Ž":{name:"AB button (blood type)",slug:"ab_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ…±ï¸":{name:"B button (blood type)",slug:"b_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ†‘":{name:"CL button",slug:"cl_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ†’":{name:"COOL button",slug:"cool_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ†“":{name:"FREE button",slug:"free_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â„¹ï¸":{name:"information",slug:"information",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ†”":{name:"ID button",slug:"id_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â“‚ï¸":{name:"circled M",slug:"circled_m",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ†•":{name:"NEW button",slug:"new_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ†–":{name:"NG button",slug:"ng_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ…¾ï¸":{name:"O button (blood type)",slug:"o_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ†—":{name:"OK button",slug:"ok_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ…¿ï¸":{name:"P button",slug:"p_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ†˜":{name:"SOS button",slug:"sos_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ†™":{name:"UP! button",slug:"up_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ†š":{name:"VS button",slug:"vs_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸˆ":{name:"Japanese â€œhereâ€ button",slug:"japanese_here_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸˆ‚ï¸":{name:"Japanese â€œservice chargeâ€ button",slug:"japanese_service_charge_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸˆ·ï¸":{name:"Japanese â€œmonthly amountâ€ button",slug:"japanese_monthly_amount_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸˆ¶":{name:"Japanese â€œnot free of chargeâ€ button",slug:"japanese_not_free_of_charge_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸˆ¯":{name:"Japanese â€œreservedâ€ button",slug:"japanese_reserved_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‰":{name:"Japanese â€œbargainâ€ button",slug:"japanese_bargain_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸˆ¹":{name:"Japanese â€œdiscountâ€ button",slug:"japanese_discount_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸˆš":{name:"Japanese â€œfree of chargeâ€ button",slug:"japanese_free_of_charge_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸˆ²":{name:"Japanese â€œprohibitedâ€ button",slug:"japanese_prohibited_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‰‘":{name:"Japanese â€œacceptableâ€ button",slug:"japanese_acceptable_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸˆ¸":{name:"Japanese â€œapplicationâ€ button",slug:"japanese_application_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸˆ´":{name:"Japanese â€œpassing gradeâ€ button",slug:"japanese_passing_grade_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸˆ³":{name:"Japanese â€œvacancyâ€ button",slug:"japanese_vacancy_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ãŠ—ï¸":{name:"Japanese â€œcongratulationsâ€ button",slug:"japanese_congratulations_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ãŠ™ï¸":{name:"Japanese â€œsecretâ€ button",slug:"japanese_secret_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸˆº":{name:"Japanese â€œopen for businessâ€ button",slug:"japanese_open_for_business_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸˆµ":{name:"Japanese â€œno vacancyâ€ button",slug:"japanese_no_vacancy_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”´":{name:"red circle",slug:"red_circle",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŸ ":{name:"orange circle",slug:"orange_circle",group:"Symbols",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸŸ¡":{name:"yellow circle",slug:"yellow_circle",group:"Symbols",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸŸ¢":{name:"green circle",slug:"green_circle",group:"Symbols",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸ”µ":{name:"blue circle",slug:"blue_circle",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŸ£":{name:"purple circle",slug:"purple_circle",group:"Symbols",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸŸ¤":{name:"brown circle",slug:"brown_circle",group:"Symbols",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"âš«":{name:"black circle",slug:"black_circle",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"âšª":{name:"white circle",slug:"white_circle",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŸ¥":{name:"red square",slug:"red_square",group:"Symbols",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸŸ§":{name:"orange square",slug:"orange_square",group:"Symbols",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸŸ¨":{name:"yellow square",slug:"yellow_square",group:"Symbols",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸŸ©":{name:"green square",slug:"green_square",group:"Symbols",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸŸ¦":{name:"blue square",slug:"blue_square",group:"Symbols",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸŸª":{name:"purple square",slug:"purple_square",group:"Symbols",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"ðŸŸ«":{name:"brown square",slug:"brown_square",group:"Symbols",emoji_version:"12.0",unicode_version:"12.0",skin_tone_support:!1},"â¬›":{name:"black large square",slug:"black_large_square",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â¬œ":{name:"white large square",slug:"white_large_square",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â—¼ï¸":{name:"black medium square",slug:"black_medium_square",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â—»ï¸":{name:"white medium square",slug:"white_medium_square",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â—¾":{name:"black medium-small square",slug:"black_medium_small_square",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â—½":{name:"white medium-small square",slug:"white_medium_small_square",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â–ªï¸":{name:"black small square",slug:"black_small_square",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"â–«ï¸":{name:"white small square",slug:"white_small_square",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”¶":{name:"large orange diamond",slug:"large_orange_diamond",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”·":{name:"large blue diamond",slug:"large_blue_diamond",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”¸":{name:"small orange diamond",slug:"small_orange_diamond",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”¹":{name:"small blue diamond",slug:"small_blue_diamond",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”º":{name:"red triangle pointed up",slug:"red_triangle_pointed_up",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”»":{name:"red triangle pointed down",slug:"red_triangle_pointed_down",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ’ ":{name:"diamond with a dot",slug:"diamond_with_a_dot",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”˜":{name:"radio button",slug:"radio_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”³":{name:"white square button",slug:"white_square_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ”²":{name:"black square button",slug:"black_square_button",group:"Symbols",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ":{name:"chequered flag",slug:"chequered_flag",group:"Flags",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸš©":{name:"triangular flag",slug:"triangular_flag",group:"Flags",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸŽŒ":{name:"crossed flags",slug:"crossed_flags",group:"Flags",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ´":{name:"black flag",slug:"black_flag",group:"Flags",emoji_version:"1.0",unicode_version:"1.0",skin_tone_support:!1},"ðŸ³ï¸":{name:"white flag",slug:"white_flag",group:"Flags",emoji_version:"0.7",unicode_version:"0.7",skin_tone_support:!1},"ðŸ³ï¸â€ðŸŒˆ":{name:"rainbow flag",slug:"rainbow_flag",group:"Flags",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ³ï¸â€âš§ï¸":{name:"transgender flag",slug:"transgender_flag",group:"Flags",emoji_version:"13.0",unicode_version:"13.0",skin_tone_support:!1},"ðŸ´â€â˜ ï¸":{name:"pirate flag",slug:"pirate_flag",group:"Flags",emoji_version:"11.0",unicode_version:"11.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡¨":{name:"flag Ascension Island",slug:"flag_ascension_island",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡©":{name:"flag Andorra",slug:"flag_andorra",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡ª":{name:"flag United Arab Emirates",slug:"flag_united_arab_emirates",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡«":{name:"flag Afghanistan",slug:"flag_afghanistan",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡¬":{name:"flag Antigua & Barbuda",slug:"flag_antigua_barbuda",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡®":{name:"flag Anguilla",slug:"flag_anguilla",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡±":{name:"flag Albania",slug:"flag_albania",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡²":{name:"flag Armenia",slug:"flag_armenia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡´":{name:"flag Angola",slug:"flag_angola",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡¶":{name:"flag Antarctica",slug:"flag_antarctica",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡·":{name:"flag Argentina",slug:"flag_argentina",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡¸":{name:"flag American Samoa",slug:"flag_american_samoa",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡¹":{name:"flag Austria",slug:"flag_austria",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡º":{name:"flag Australia",slug:"flag_australia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡¼":{name:"flag Aruba",slug:"flag_aruba",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡½":{name:"flag Ã…land Islands",slug:"flag_aland_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¦ðŸ‡¿":{name:"flag Azerbaijan",slug:"flag_azerbaijan",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡¦":{name:"flag Bosnia & Herzegovina",slug:"flag_bosnia_herzegovina",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡§":{name:"flag Barbados",slug:"flag_barbados",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡©":{name:"flag Bangladesh",slug:"flag_bangladesh",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡ª":{name:"flag Belgium",slug:"flag_belgium",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡«":{name:"flag Burkina Faso",slug:"flag_burkina_faso",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡¬":{name:"flag Bulgaria",slug:"flag_bulgaria",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡­":{name:"flag Bahrain",slug:"flag_bahrain",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡®":{name:"flag Burundi",slug:"flag_burundi",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡¯":{name:"flag Benin",slug:"flag_benin",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡±":{name:"flag St. BarthÃ©lemy",slug:"flag_st_barthelemy",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡²":{name:"flag Bermuda",slug:"flag_bermuda",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡³":{name:"flag Brunei",slug:"flag_brunei",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡´":{name:"flag Bolivia",slug:"flag_bolivia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡¶":{name:"flag Caribbean Netherlands",slug:"flag_caribbean_netherlands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡·":{name:"flag Brazil",slug:"flag_brazil",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡¸":{name:"flag Bahamas",slug:"flag_bahamas",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡¹":{name:"flag Bhutan",slug:"flag_bhutan",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡»":{name:"flag Bouvet Island",slug:"flag_bouvet_island",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡¼":{name:"flag Botswana",slug:"flag_botswana",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡¾":{name:"flag Belarus",slug:"flag_belarus",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡§ðŸ‡¿":{name:"flag Belize",slug:"flag_belize",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡¦":{name:"flag Canada",slug:"flag_canada",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡¨":{name:"flag Cocos (Keeling) Islands",slug:"flag_cocos_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡©":{name:"flag Congo - Kinshasa",slug:"flag_congo_kinshasa",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡«":{name:"flag Central African Republic",slug:"flag_central_african_republic",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡¬":{name:"flag Congo - Brazzaville",slug:"flag_congo_brazzaville",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡­":{name:"flag Switzerland",slug:"flag_switzerland",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡®":{name:"flag CÃ´te dâ€™Ivoire",slug:"flag_cote_d_ivoire",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡°":{name:"flag Cook Islands",slug:"flag_cook_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡±":{name:"flag Chile",slug:"flag_chile",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡²":{name:"flag Cameroon",slug:"flag_cameroon",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡³":{name:"flag China",slug:"flag_china",group:"Flags",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‡¨ðŸ‡´":{name:"flag Colombia",slug:"flag_colombia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡µ":{name:"flag Clipperton Island",slug:"flag_clipperton_island",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡¶":{name:"flag Sark",slug:"flag_sark",group:"Flags",emoji_version:"16.0",unicode_version:"16.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡·":{name:"flag Costa Rica",slug:"flag_costa_rica",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡º":{name:"flag Cuba",slug:"flag_cuba",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡»":{name:"flag Cape Verde",slug:"flag_cape_verde",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡¼":{name:"flag CuraÃ§ao",slug:"flag_curacao",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡½":{name:"flag Christmas Island",slug:"flag_christmas_island",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡¾":{name:"flag Cyprus",slug:"flag_cyprus",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¨ðŸ‡¿":{name:"flag Czechia",slug:"flag_czechia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡©ðŸ‡ª":{name:"flag Germany",slug:"flag_germany",group:"Flags",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‡©ðŸ‡¬":{name:"flag Diego Garcia",slug:"flag_diego_garcia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡©ðŸ‡¯":{name:"flag Djibouti",slug:"flag_djibouti",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡©ðŸ‡°":{name:"flag Denmark",slug:"flag_denmark",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡©ðŸ‡²":{name:"flag Dominica",slug:"flag_dominica",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡©ðŸ‡´":{name:"flag Dominican Republic",slug:"flag_dominican_republic",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡©ðŸ‡¿":{name:"flag Algeria",slug:"flag_algeria",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡ªðŸ‡¦":{name:"flag Ceuta & Melilla",slug:"flag_ceuta_melilla",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡ªðŸ‡¨":{name:"flag Ecuador",slug:"flag_ecuador",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡ªðŸ‡ª":{name:"flag Estonia",slug:"flag_estonia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡ªðŸ‡¬":{name:"flag Egypt",slug:"flag_egypt",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡ªðŸ‡­":{name:"flag Western Sahara",slug:"flag_western_sahara",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡ªðŸ‡·":{name:"flag Eritrea",slug:"flag_eritrea",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡ªðŸ‡¸":{name:"flag Spain",slug:"flag_spain",group:"Flags",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‡ªðŸ‡¹":{name:"flag Ethiopia",slug:"flag_ethiopia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡ªðŸ‡º":{name:"flag European Union",slug:"flag_european_union",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡«ðŸ‡®":{name:"flag Finland",slug:"flag_finland",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡«ðŸ‡¯":{name:"flag Fiji",slug:"flag_fiji",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡«ðŸ‡°":{name:"flag Falkland Islands",slug:"flag_falkland_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡«ðŸ‡²":{name:"flag Micronesia",slug:"flag_micronesia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡«ðŸ‡´":{name:"flag Faroe Islands",slug:"flag_faroe_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡«ðŸ‡·":{name:"flag France",slug:"flag_france",group:"Flags",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‡¬ðŸ‡¦":{name:"flag Gabon",slug:"flag_gabon",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡§":{name:"flag United Kingdom",slug:"flag_united_kingdom",group:"Flags",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‡¬ðŸ‡©":{name:"flag Grenada",slug:"flag_grenada",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡ª":{name:"flag Georgia",slug:"flag_georgia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡«":{name:"flag French Guiana",slug:"flag_french_guiana",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡¬":{name:"flag Guernsey",slug:"flag_guernsey",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡­":{name:"flag Ghana",slug:"flag_ghana",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡®":{name:"flag Gibraltar",slug:"flag_gibraltar",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡±":{name:"flag Greenland",slug:"flag_greenland",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡²":{name:"flag Gambia",slug:"flag_gambia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡³":{name:"flag Guinea",slug:"flag_guinea",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡µ":{name:"flag Guadeloupe",slug:"flag_guadeloupe",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡¶":{name:"flag Equatorial Guinea",slug:"flag_equatorial_guinea",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡·":{name:"flag Greece",slug:"flag_greece",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡¸":{name:"flag South Georgia & South Sandwich Islands",slug:"flag_south_georgia_south_sandwich_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡¹":{name:"flag Guatemala",slug:"flag_guatemala",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡º":{name:"flag Guam",slug:"flag_guam",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡¼":{name:"flag Guinea-Bissau",slug:"flag_guinea_bissau",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¬ðŸ‡¾":{name:"flag Guyana",slug:"flag_guyana",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡­ðŸ‡°":{name:"flag Hong Kong SAR China",slug:"flag_hong_kong_sar_china",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡­ðŸ‡²":{name:"flag Heard & McDonald Islands",slug:"flag_heard_mcdonald_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡­ðŸ‡³":{name:"flag Honduras",slug:"flag_honduras",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡­ðŸ‡·":{name:"flag Croatia",slug:"flag_croatia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡­ðŸ‡¹":{name:"flag Haiti",slug:"flag_haiti",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡­ðŸ‡º":{name:"flag Hungary",slug:"flag_hungary",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡®ðŸ‡¨":{name:"flag Canary Islands",slug:"flag_canary_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡®ðŸ‡©":{name:"flag Indonesia",slug:"flag_indonesia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡®ðŸ‡ª":{name:"flag Ireland",slug:"flag_ireland",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡®ðŸ‡±":{name:"flag Israel",slug:"flag_israel",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡®ðŸ‡²":{name:"flag Isle of Man",slug:"flag_isle_of_man",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡®ðŸ‡³":{name:"flag India",slug:"flag_india",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡®ðŸ‡´":{name:"flag British Indian Ocean Territory",slug:"flag_british_indian_ocean_territory",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡®ðŸ‡¶":{name:"flag Iraq",slug:"flag_iraq",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡®ðŸ‡·":{name:"flag Iran",slug:"flag_iran",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡®ðŸ‡¸":{name:"flag Iceland",slug:"flag_iceland",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡®ðŸ‡¹":{name:"flag Italy",slug:"flag_italy",group:"Flags",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‡¯ðŸ‡ª":{name:"flag Jersey",slug:"flag_jersey",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¯ðŸ‡²":{name:"flag Jamaica",slug:"flag_jamaica",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¯ðŸ‡´":{name:"flag Jordan",slug:"flag_jordan",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¯ðŸ‡µ":{name:"flag Japan",slug:"flag_japan",group:"Flags",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‡°ðŸ‡ª":{name:"flag Kenya",slug:"flag_kenya",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡°ðŸ‡¬":{name:"flag Kyrgyzstan",slug:"flag_kyrgyzstan",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡°ðŸ‡­":{name:"flag Cambodia",slug:"flag_cambodia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡°ðŸ‡®":{name:"flag Kiribati",slug:"flag_kiribati",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡°ðŸ‡²":{name:"flag Comoros",slug:"flag_comoros",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡°ðŸ‡³":{name:"flag St. Kitts & Nevis",slug:"flag_st_kitts_nevis",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡°ðŸ‡µ":{name:"flag North Korea",slug:"flag_north_korea",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡°ðŸ‡·":{name:"flag South Korea",slug:"flag_south_korea",group:"Flags",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‡°ðŸ‡¼":{name:"flag Kuwait",slug:"flag_kuwait",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡°ðŸ‡¾":{name:"flag Cayman Islands",slug:"flag_cayman_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡°ðŸ‡¿":{name:"flag Kazakhstan",slug:"flag_kazakhstan",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡±ðŸ‡¦":{name:"flag Laos",slug:"flag_laos",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡±ðŸ‡§":{name:"flag Lebanon",slug:"flag_lebanon",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡±ðŸ‡¨":{name:"flag St. Lucia",slug:"flag_st_lucia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡±ðŸ‡®":{name:"flag Liechtenstein",slug:"flag_liechtenstein",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡±ðŸ‡°":{name:"flag Sri Lanka",slug:"flag_sri_lanka",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡±ðŸ‡·":{name:"flag Liberia",slug:"flag_liberia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡±ðŸ‡¸":{name:"flag Lesotho",slug:"flag_lesotho",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡±ðŸ‡¹":{name:"flag Lithuania",slug:"flag_lithuania",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡±ðŸ‡º":{name:"flag Luxembourg",slug:"flag_luxembourg",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡±ðŸ‡»":{name:"flag Latvia",slug:"flag_latvia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡±ðŸ‡¾":{name:"flag Libya",slug:"flag_libya",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡¦":{name:"flag Morocco",slug:"flag_morocco",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡¨":{name:"flag Monaco",slug:"flag_monaco",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡©":{name:"flag Moldova",slug:"flag_moldova",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡ª":{name:"flag Montenegro",slug:"flag_montenegro",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡«":{name:"flag St. Martin",slug:"flag_st_martin",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡¬":{name:"flag Madagascar",slug:"flag_madagascar",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡­":{name:"flag Marshall Islands",slug:"flag_marshall_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡°":{name:"flag North Macedonia",slug:"flag_north_macedonia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡±":{name:"flag Mali",slug:"flag_mali",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡²":{name:"flag Myanmar (Burma)",slug:"flag_myanmar",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡³":{name:"flag Mongolia",slug:"flag_mongolia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡´":{name:"flag Macao SAR China",slug:"flag_macao_sar_china",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡µ":{name:"flag Northern Mariana Islands",slug:"flag_northern_mariana_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡¶":{name:"flag Martinique",slug:"flag_martinique",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡·":{name:"flag Mauritania",slug:"flag_mauritania",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡¸":{name:"flag Montserrat",slug:"flag_montserrat",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡¹":{name:"flag Malta",slug:"flag_malta",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡º":{name:"flag Mauritius",slug:"flag_mauritius",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡»":{name:"flag Maldives",slug:"flag_maldives",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡¼":{name:"flag Malawi",slug:"flag_malawi",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡½":{name:"flag Mexico",slug:"flag_mexico",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡¾":{name:"flag Malaysia",slug:"flag_malaysia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡²ðŸ‡¿":{name:"flag Mozambique",slug:"flag_mozambique",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡³ðŸ‡¦":{name:"flag Namibia",slug:"flag_namibia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡³ðŸ‡¨":{name:"flag New Caledonia",slug:"flag_new_caledonia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡³ðŸ‡ª":{name:"flag Niger",slug:"flag_niger",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡³ðŸ‡«":{name:"flag Norfolk Island",slug:"flag_norfolk_island",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡³ðŸ‡¬":{name:"flag Nigeria",slug:"flag_nigeria",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡³ðŸ‡®":{name:"flag Nicaragua",slug:"flag_nicaragua",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡³ðŸ‡±":{name:"flag Netherlands",slug:"flag_netherlands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡³ðŸ‡´":{name:"flag Norway",slug:"flag_norway",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡³ðŸ‡µ":{name:"flag Nepal",slug:"flag_nepal",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡³ðŸ‡·":{name:"flag Nauru",slug:"flag_nauru",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡³ðŸ‡º":{name:"flag Niue",slug:"flag_niue",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡³ðŸ‡¿":{name:"flag New Zealand",slug:"flag_new_zealand",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡´ðŸ‡²":{name:"flag Oman",slug:"flag_oman",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡µðŸ‡¦":{name:"flag Panama",slug:"flag_panama",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡µðŸ‡ª":{name:"flag Peru",slug:"flag_peru",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡µðŸ‡«":{name:"flag French Polynesia",slug:"flag_french_polynesia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡µðŸ‡¬":{name:"flag Papua New Guinea",slug:"flag_papua_new_guinea",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡µðŸ‡­":{name:"flag Philippines",slug:"flag_philippines",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡µðŸ‡°":{name:"flag Pakistan",slug:"flag_pakistan",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡µðŸ‡±":{name:"flag Poland",slug:"flag_poland",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡µðŸ‡²":{name:"flag St. Pierre & Miquelon",slug:"flag_st_pierre_miquelon",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡µðŸ‡³":{name:"flag Pitcairn Islands",slug:"flag_pitcairn_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡µðŸ‡·":{name:"flag Puerto Rico",slug:"flag_puerto_rico",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡µðŸ‡¸":{name:"flag Palestinian Territories",slug:"flag_palestinian_territories",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡µðŸ‡¹":{name:"flag Portugal",slug:"flag_portugal",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡µðŸ‡¼":{name:"flag Palau",slug:"flag_palau",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡µðŸ‡¾":{name:"flag Paraguay",slug:"flag_paraguay",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¶ðŸ‡¦":{name:"flag Qatar",slug:"flag_qatar",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡·ðŸ‡ª":{name:"flag RÃ©union",slug:"flag_reunion",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡·ðŸ‡´":{name:"flag Romania",slug:"flag_romania",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡·ðŸ‡¸":{name:"flag Serbia",slug:"flag_serbia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡·ðŸ‡º":{name:"flag Russia",slug:"flag_russia",group:"Flags",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‡·ðŸ‡¼":{name:"flag Rwanda",slug:"flag_rwanda",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡¦":{name:"flag Saudi Arabia",slug:"flag_saudi_arabia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡§":{name:"flag Solomon Islands",slug:"flag_solomon_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡¨":{name:"flag Seychelles",slug:"flag_seychelles",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡©":{name:"flag Sudan",slug:"flag_sudan",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡ª":{name:"flag Sweden",slug:"flag_sweden",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡¬":{name:"flag Singapore",slug:"flag_singapore",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡­":{name:"flag St. Helena",slug:"flag_st_helena",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡®":{name:"flag Slovenia",slug:"flag_slovenia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡¯":{name:"flag Svalbard & Jan Mayen",slug:"flag_svalbard_jan_mayen",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡°":{name:"flag Slovakia",slug:"flag_slovakia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡±":{name:"flag Sierra Leone",slug:"flag_sierra_leone",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡²":{name:"flag San Marino",slug:"flag_san_marino",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡³":{name:"flag Senegal",slug:"flag_senegal",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡´":{name:"flag Somalia",slug:"flag_somalia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡·":{name:"flag Suriname",slug:"flag_suriname",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡¸":{name:"flag South Sudan",slug:"flag_south_sudan",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡¹":{name:"flag SÃ£o TomÃ© & PrÃ­ncipe",slug:"flag_sao_tome_principe",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡»":{name:"flag El Salvador",slug:"flag_el_salvador",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡½":{name:"flag Sint Maarten",slug:"flag_sint_maarten",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡¾":{name:"flag Syria",slug:"flag_syria",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¸ðŸ‡¿":{name:"flag Eswatini",slug:"flag_eswatini",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡¦":{name:"flag Tristan da Cunha",slug:"flag_tristan_da_cunha",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡¨":{name:"flag Turks & Caicos Islands",slug:"flag_turks_caicos_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡©":{name:"flag Chad",slug:"flag_chad",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡«":{name:"flag French Southern Territories",slug:"flag_french_southern_territories",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡¬":{name:"flag Togo",slug:"flag_togo",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡­":{name:"flag Thailand",slug:"flag_thailand",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡¯":{name:"flag Tajikistan",slug:"flag_tajikistan",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡°":{name:"flag Tokelau",slug:"flag_tokelau",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡±":{name:"flag Timor-Leste",slug:"flag_timor_leste",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡²":{name:"flag Turkmenistan",slug:"flag_turkmenistan",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡³":{name:"flag Tunisia",slug:"flag_tunisia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡´":{name:"flag Tonga",slug:"flag_tonga",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡·":{name:"flag TÃ¼rkiye",slug:"flag_turkiye",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡¹":{name:"flag Trinidad & Tobago",slug:"flag_trinidad_tobago",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡»":{name:"flag Tuvalu",slug:"flag_tuvalu",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡¼":{name:"flag Taiwan",slug:"flag_taiwan",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¹ðŸ‡¿":{name:"flag Tanzania",slug:"flag_tanzania",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡ºðŸ‡¦":{name:"flag Ukraine",slug:"flag_ukraine",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡ºðŸ‡¬":{name:"flag Uganda",slug:"flag_uganda",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡ºðŸ‡²":{name:"flag U.S. Outlying Islands",slug:"flag_u_s_outlying_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡ºðŸ‡³":{name:"flag United Nations",slug:"flag_united_nations",group:"Flags",emoji_version:"4.0",unicode_version:"4.0",skin_tone_support:!1},"ðŸ‡ºðŸ‡¸":{name:"flag United States",slug:"flag_united_states",group:"Flags",emoji_version:"0.6",unicode_version:"0.6",skin_tone_support:!1},"ðŸ‡ºðŸ‡¾":{name:"flag Uruguay",slug:"flag_uruguay",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡ºðŸ‡¿":{name:"flag Uzbekistan",slug:"flag_uzbekistan",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡»ðŸ‡¦":{name:"flag Vatican City",slug:"flag_vatican_city",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡»ðŸ‡¨":{name:"flag St. Vincent & Grenadines",slug:"flag_st_vincent_grenadines",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡»ðŸ‡ª":{name:"flag Venezuela",slug:"flag_venezuela",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡»ðŸ‡¬":{name:"flag British Virgin Islands",slug:"flag_british_virgin_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡»ðŸ‡®":{name:"flag U.S. Virgin Islands",slug:"flag_u_s_virgin_islands",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡»ðŸ‡³":{name:"flag Vietnam",slug:"flag_vietnam",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡»ðŸ‡º":{name:"flag Vanuatu",slug:"flag_vanuatu",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¼ðŸ‡«":{name:"flag Wallis & Futuna",slug:"flag_wallis_futuna",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¼ðŸ‡¸":{name:"flag Samoa",slug:"flag_samoa",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡½ðŸ‡°":{name:"flag Kosovo",slug:"flag_kosovo",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¾ðŸ‡ª":{name:"flag Yemen",slug:"flag_yemen",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¾ðŸ‡¹":{name:"flag Mayotte",slug:"flag_mayotte",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¿ðŸ‡¦":{name:"flag South Africa",slug:"flag_south_africa",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¿ðŸ‡²":{name:"flag Zambia",slug:"flag_zambia",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ‡¿ðŸ‡¼":{name:"flag Zimbabwe",slug:"flag_zimbabwe",group:"Flags",emoji_version:"2.0",unicode_version:"2.0",skin_tone_support:!1},"ðŸ´ó §ó ¢ó ¥ó ®ó §ó ¿":{name:"flag England",slug:"flag_england",group:"Flags",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ´ó §ó ¢ó ³ó £ó ´ó ¿":{name:"flag Scotland",slug:"flag_scotland",group:"Flags",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1},"ðŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿":{name:"flag Wales",slug:"flag_wales",group:"Flags",emoji_version:"5.0",unicode_version:"5.0",skin_tone_support:!1}};function OP(o,e){const t=o.target;b(e,$(t.value))}var RP=(o,e)=>e("recent"),NP=ue("<button>Recent</button>"),zP=(o,e,t)=>e(t()),VP=ue("<button> </button>"),qP=ue('<div class="flex border-b border-base-content/20 overflow-x-auto"><!> <!></div>'),WP=(o,e,t)=>e(i(t).emoji),GP=ue('<button class="w-8 h-8 flex items-center justify-center text-lg hover:bg-base-200 rounded transition-colors"> </button>'),HP=(o,e,t)=>e(i(t)),UP=ue('<button class="w-8 h-8 flex items-center justify-center text-lg hover:bg-base-200 rounded transition-colors"> </button>'),YP=(o,e,t)=>e(i(t).emoji),KP=ue('<button class="w-8 h-8 flex items-center justify-center text-lg hover:bg-base-200 rounded transition-colors"> </button>'),ZP=ue('<div class="text-center text-base-content/60 py-8">No emojis found</div>'),XP=ue('<div class="emoji-picker fixed z-50 bg-base-100 border border-base-content/20 rounded-lg shadow-lg svelte-hsh18a"><div class="p-3 border-b border-base-content/20"><input type="text" placeholder="Search emojis..." class="input input-sm w-full bg-base-200"></div> <!> <div class="p-2 overflow-y-auto" style="height: calc(100% - 120px);"><div class="grid grid-cols-8 gap-1"><!></div> <!></div></div>');function JP(o,e){Pr(e,!0);const t=El(),n=()=>ti(c,"$recentlyUsed",t),s=nc();let r=Po(e,"show",15,!1),a=Po(e,"position",27,()=>$({x:0,y:0}));const c=Lh("emoji-recently-used",[]);let d=Z(""),u=Z("smileys");const h=(()=>{const D={smileys:{name:"Smileys & Emotion",emojis:[]},people:{name:"People & Body",emojis:[]},animals:{name:"Animals & Nature",emojis:[]},food:{name:"Food & Drink",emojis:[]},activities:{name:"Activities",emojis:[]},travel:{name:"Travel & Places",emojis:[]},objects:{name:"Objects",emojis:[]},symbols:{name:"Symbols",emojis:[]},flags:{name:"Flags",emojis:[]}};return Object.entries(BP).forEach(([A,j])=>{var O;if(!A||!j.name)return;const F={emoji:A,name:j.name,keywords:j.keywords||[]},q=((O=j.group)==null?void 0:O.toLowerCase())||"",B=j.name.toLowerCase();q.includes("smileys")||q.includes("emotion")||B.includes("face")||B.includes("smile")||B.includes("laugh")||B.includes("cry")?D.smileys.emojis.push(F):q.includes("people")||q.includes("body")||B.includes("hand")||B.includes("body")||B.includes("person")||B.includes("man")||B.includes("woman")?D.people.emojis.push(F):q.includes("animals")||q.includes("nature")||B.includes("animal")||B.includes("cat")||B.includes("dog")||B.includes("bird")||B.includes("plant")||B.includes("tree")?D.animals.emojis.push(F):q.includes("food")||q.includes("drink")||B.includes("food")||B.includes("fruit")||B.includes("drink")||B.includes("coffee")||B.includes("pizza")?D.food.emojis.push(F):q.includes("activities")||q.includes("sport")||B.includes("sport")||B.includes("ball")||B.includes("game")?D.activities.emojis.push(F):q.includes("travel")||q.includes("places")||B.includes("car")||B.includes("plane")||B.includes("train")||B.includes("building")?D.travel.emojis.push(F):q.includes("objects")||B.includes("phone")||B.includes("computer")||B.includes("book")||B.includes("tool")?D.objects.emojis.push(F):q.includes("flags")||B.includes("flag")?D.flags.emojis.push(F):D.symbols.emojis.push(F)}),D})(),x=tt(()=>{var D;return i(d)?Object.values(h).flatMap(A=>A.emojis).filter(A=>A.emoji.includes(i(d))||A.name.toLowerCase().includes(i(d).toLowerCase())||A.keywords.some(j=>j.toLowerCase().includes(i(d).toLowerCase()))):((D=h[i(u)])==null?void 0:D.emojis)||[]});function w(D){c.update(A=>{const j=A.filter(F=>F!==D);return[D,...j].slice(0,20)}),s("select",{emoji:D}),r(!1)}function k(D){b(u,$(D)),b(d,"")}function S(D){D.target.closest(".emoji-picker")||r(!1)}yc(()=>{if(typeof document<"u")return document.addEventListener("click",S),()=>{document.removeEventListener("click",S)}});var M=yt(),T=nt(M);xe(T,r,D=>{var A=XP(),j=m(A),F=m(j);ut(F),F.__input=[OP,d],_(j);var q=v(j,2);xe(q,()=>!i(d),G=>{var oe=qP(),re=m(oe);xe(re,()=>n().length>0,ie=>{var te=NP();te.__click=[RP,k],Re(()=>Un(te,`px-3 py-2 text-xs whitespace-nowrap border-b-2 transition-colors ${(i(u)==="recent"?"border-primary text-primary":"border-transparent hover:text-primary")??""}`)),N(ie,te)});var se=v(re,2);Qo(se,17,()=>Object.entries(h),ln,(ie,te)=>{let K=()=>i(te)[0],J=()=>i(te)[1];var U=VP();U.__click=[zP,k,K];var ae=m(U,!0);_(U),Re(()=>{Un(U,`px-3 py-2 text-xs whitespace-nowrap border-b-2 transition-colors ${(i(u)===K()?"border-primary text-primary":"border-transparent hover:text-primary")??""}`),wt(ae,J().name)}),N(ie,U)}),_(oe),N(G,oe)});var B=v(q,2),O=m(B),z=m(O);xe(z,()=>i(d),G=>{var oe=yt(),re=nt(oe);Qo(re,17,()=>i(x),ln,(se,ie)=>{var te=GP();te.__click=[WP,w,ie];var K=m(te,!0);_(te),Re(()=>{lt(te,"title",i(ie).name),wt(K,i(ie).emoji)}),N(se,te)}),N(G,oe)},G=>{var oe=yt(),re=nt(oe);xe(re,()=>i(u)==="recent"&&n().length>0,se=>{var ie=yt(),te=nt(ie);Qo(te,1,n,ln,(K,J)=>{var U=UP();U.__click=[HP,w,J];var ae=m(U,!0);_(U),Re(()=>{lt(U,"title",i(J)),wt(ae,i(J))}),N(K,U)}),N(se,ie)},se=>{var ie=yt(),te=nt(ie);Qo(te,17,()=>i(x),ln,(K,J)=>{var U=KP();U.__click=[YP,w,J];var ae=m(U,!0);_(U),Re(()=>{lt(U,"title",i(J).name),wt(ae,i(J).emoji)}),N(K,U)}),N(se,ie)},!0),N(G,oe)}),_(O);var Y=v(O,2);xe(Y,()=>i(d)&&i(x).length===0,G=>{var oe=ZP();N(G,oe)}),_(B),_(A),Re(()=>{lt(A,"style",`left: ${a().x??""}px; top: ${a().y??""}px; width: 320px; height: 400px;`),Ud(F,i(d))}),N(D,A)}),N(o,M),Mr()}Pa(["input","click"]);function QP(o,e){e("reset")}function eM(o,e){e("confirm")}function tM(o,e){o.target.classList.contains("modal-backdrop")&&e()}var oM=o=>o.stopPropagation(),nM=ue(`<div><input type="checkbox" class="w-5 h-5 text-blue-600 rounded focus:ring-blue-500 focus:ring-2
                       sm:w-4 sm:h-4 touch-manipulation"> <input type="number" step="0.001" min="0" max="10"> <button class="w-10 h-10 rounded border-2 border-gray-300 hover:border-gray-400 transition-colors
                       sm:w-8 sm:h-8 touch-manipulation" title="Change color"></button> <span> </span></div>`),sM=ue(`<div class="fixed inset-0 bg-transparent flex items-center justify-center z-[9999] modal-backdrop"><div><div><h3>Fibonacci Settings</h3> <button title="Close"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="p-4 max-h-[60vh] overflow-y-auto svelte-ah2kky"><div class="space-y-3"></div></div> <div><button>ðŸ” Reset</button> <div class="flex gap-3 w-full sm:w-auto sm:gap-2"><button>âŒ Cancel</button> <button class="px-6 py-3 text-sm rounded bg-blue-600 hover:bg-blue-700 text-white transition-colors
                   touch-manipulation min-h-[44px] flex-1 sm:flex-none
                   sm:px-4 sm:py-2 sm:min-h-[36px]">âœ… Confirm</button></div></div></div></div>`),iM=ue('<div class="fixed z-[10000]"><!></div>'),rM=ue("<!> <!>",1);function aM(o,e){Pr(e,!1);let t=Po(e,"visible",8,!1),n=Po(e,"levels",24,()=>[]),s=Po(e,"theme",8,"dark");const r=nc();let a=Yr(!1),c=Yr(-1),d=Yr({x:0,y:0});function u(T,D,A){r("levelChange",{index:T,field:D,value:A})}function p(T,D){b(c,D),b(d,{x:T.clientX,y:T.clientY}),b(a,!0)}function h(T){i(c)>=0&&u(i(c),"color",T.detail),b(a,!1)}function x(){b(a,!1),b(c,-1)}function w(){r("cancel")}wc();var k=rM(),S=nt(k);xe(S,t,T=>{var D=sM();D.__click=[tM,w];var A=m(D);A.__click=[oM];var j=m(A),F=m(j),q=v(F,2);q.__click=w;var B=m(q);_(q),_(j);var O=v(j,2),z=m(O);Qo(z,5,n,ln,(ie,te,K)=>{var J=nM(),U=m(J);ut(U),U.__change=()=>u(K,"visible",i(te).visible);var ae=v(U,2);ut(ae),ae.__change=()=>u(K,"value",i(te).value);var me=v(ae,2);me.__click=Le=>p(Le,K);var ke=v(me,2),Ae=m(ke,!0);Re(()=>wt(Ae,i(te).value===0?"Start":i(te).value===1?"End":`${(i(te).value*100).toFixed(1)}%`)),_(ke),_(J),Re(()=>{Un(J,`flex items-center gap-3 p-3 rounded-lg ${(s()==="dark"?"bg-[#2a2a2a]":"bg-gray-50")??""}
                        sm:gap-4 sm:p-4`),Un(ae,`w-24 px-3 py-2 text-sm rounded border touch-manipulation
                       sm:w-20 sm:px-2 sm:py-1
                       ${(s()==="dark"?"bg-[#3a3a3a] border-[#555] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500")??""} 
                       focus:outline-none focus:ring-1 focus:ring-blue-500`),lt(me,"style",`background-color: ${i(te).color??""}`),Un(ke,`text-sm ${(s()==="dark"?"text-gray-300":"text-gray-700")??""} flex-1
                           sm:text-sm`)}),fd(U,()=>i(te).visible,Le=>(i(te).visible=Le,s1(()=>n()))),Mt(ae,()=>i(te).value,Le=>(i(te).value=Le,s1(()=>n()))),N(ie,J)}),_(z),_(O);var Y=v(O,2),G=m(Y);G.__click=[QP,r];var oe=v(G,2),re=m(oe);re.__click=w;var se=v(re,2);se.__click=[eM,r],_(oe),_(Y),_(A),_(D),Re(()=>{Un(A,`relative ${(s()==="dark"?"bg-[#1a1a1a] border-[#404040]":"bg-white border-gray-200")??""} 
             rounded-lg shadow-xl border max-w-md w-full mx-4 max-h-[80vh] overflow-hidden
             sm:max-w-lg md:max-w-xl lg:max-w-2xl svelte-ah2kky`),Un(j,`flex items-center justify-between p-4 border-b ${(s()==="dark"?"border-[#404040]":"border-gray-200")??""}`),Un(F,`text-lg font-semibold ${(s()==="dark"?"text-white":"text-gray-900")??""}`),Un(q,`w-8 h-8 rounded-full ${(s()==="dark"?"hover:bg-gray-700":"hover:bg-gray-100")??""} 
                 flex items-center justify-center transition-colors`),Vg(B,`w-5 h-5 ${(s()==="dark"?"text-gray-400":"text-gray-600")??""}`),Un(Y,`flex items-center justify-between p-4 border-t ${(s()==="dark"?"border-[#404040]":"border-gray-200")??""}
                  sm:flex-row flex-col gap-3 sm:gap-0`),Un(G,`px-6 py-3 text-sm rounded ${(s()==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700")??""} 
                 transition-colors touch-manipulation min-h-[44px] w-full sm:w-auto
                 sm:px-4 sm:py-2 sm:min-h-[36px]`),Un(re,`px-6 py-3 text-sm rounded ${(s()==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700")??""} 
                   transition-colors touch-manipulation min-h-[44px] flex-1 sm:flex-none
                   sm:px-4 sm:py-2 sm:min-h-[36px]`)}),N(T,D)});var M=v(S,2);xe(M,()=>i(a),T=>{var D=iM(),A=m(D),j=hc(()=>{var F;return((F=n()[i(c)])==null?void 0:F.color)||"#FF6B6B"});Qc(A,{get selectedColor(){return i(j)},get show(){return i(a)},$$events:{colorChange:h,close:x}}),_(D),Re(()=>lt(D,"style",`left: ${i(d).x??""}px; top: ${i(d).y??""}px;`)),N(T,D)}),N(o,k),Mr()}Pa(["click","change"]);const Bh=bc(!1);function md(){Bh.set(!0)}function Rm(){Bh.set(!1)}function Nm(){return cc(Bh)===!0}function lM(o,e,t){e.fontWeight=e.fontWeight==="bold"?"normal":"bold",t()}function cM(o,e){e(o)}function dM(o,e,t){o.stopPropagation();const n=o.target.getBoundingClientRect();b(e,$({x:Math.max(10,Math.min(n.left,window.innerWidth-320)),y:Math.max(10,Math.min(n.bottom+5,window.innerHeight-400))})),b(t,!0)}function uM(o,e){o.preventDefault(),o.stopPropagation(),e()}var vM=ue('<div class="pro-active-indicator absolute bottom-[3px] left-1/2 transform -translate-x-1/2 w-[4px] h-[4px] rounded-full svelte-xte2q6" style="background: var(--menu-accent);"></div>'),pM=(o,e,t)=>e(i(t)),fM=ue('<div class="submenu-portal svelte-xte2q6"></div>'),gM=ue(`<div class="pro-submenu-arrow flex items-center justify-center absolute top-1/2 right-0 transform -translate-y-1/2 
               w-5 h-5 opacity-0 group-hover:opacity-100 hover:opacity-100 transition-all duration-150 cubic-bezier(0.4, 0, 0.2, 1)
               bg-[var(--menu-btn-bg)] border border-[var(--menu-btn-border)] rounded-full
               hover:bg-[var(--menu-hover-bg)] hover:border-[var(--menu-btn-hover-border)] cursor-pointer z-20 backdrop-blur-[8px] svelte-xte2q6" style="backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); box-shadow: 0 1px 3px rgba(0,0,0,0.1);"><svg class="w-2.5 h-2.5 transition-all duration-150 cubic-bezier(0.4, 0, 0.2, 1) text-[var(--menu-text)] svelte-xte2q6" viewBox="0 0 8 12" fill="currentColor"><path d="M1.705 0.295C1.315 -0.095 0.685 -0.095 0.295 0.295C-0.095 0.685 -0.095 1.315 0.295 1.705L5.59 7L0.295 12.295C-0.095 12.685 -0.095 13.315 0.295 13.705C0.685 14.095 1.315 14.095 1.705 13.705L7.705 7.705C8.095 7.315 8.095 6.685 7.705 6.295L1.705 0.295Z" class="svelte-xte2q6"></path></svg></div> <!>`,1),_M=ue(`<div class="group flex flex-row items-center justify-center relative w-full mt-2 cursor-pointer transition-all duration-200 ease-out svelte-xte2q6"><div class="pro-draw-button w-[36px] h-[36px] rounded-[8px] flex items-center justify-center relative overflow-hidden transition-all duration-200 cubic-bezier(0.4, 0, 0.2, 1)
             isolation-isolate svelte-xte2q6" style="background: var(--menu-btn-bg); border: 1px solid var(--menu-btn-border); backdrop-filter: blur(16px) saturate(160%); -webkit-backdrop-filter: blur(16px) saturate(160%);"><div class="button-hover-overlay absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-[8px] svelte-xte2q6" style="background: var(--menu-hover-bg);"></div> <!> <!></div> <!></div>`),mM=ue('<div class="w-full h-[2px] mt-3 mb-2 opacity-90 svelte-xte2q6" style="background: linear-gradient(to right, transparent, var(--menu-accent), transparent); box-shadow: 0 0 10px var(--menu-glow);"></div>'),hM=o=>o.stopPropagation(),yM=ue("<!> <!>",1),bM=o=>o.preventDefault(),xM=ue('<button class="drawbar-scroll-arrow svelte-xte2q6" title="Scroll to see more tools" aria-label="Scroll down" type="button"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="svelte-xte2q6"><polyline points="6 9 12 15 18 9"></polyline></svg></button>'),wM=(o,e,t,n,s,r)=>i(e)==="mode"?t(i(n).key):s(r.findIndex(a=>a.key===i(e)),i(n).key),kM=ue(`<li class="px-4 py-3 flex flex-row items-center gap-3 transition-all duration-200 ease-in-out
                   text-[var(--menu-text)] hover:bg-[var(--menu-hover-bg)] hover:text-[var(--menu-glow)] cursor-pointer svelte-xte2q6"><!> <span class="text-sm font-medium"> </span></li>`),SM=ue(`<ul class="premium-submenu fixed min-w-[140px] max-h-[70vh] z-[9999] rounded-lg shadow-2xl border border-[var(--menu-btn-border)] overflow-y-auto
                bg-[var(--menu-bg)] backdrop-blur-sm transition-all duration-300 ease-in-out svelte-xte2q6"></ul>`),CM=(o,e,t)=>e(i(t).key),IM=ue(`<li class="px-4 py-3 flex flex-row items-center gap-3 transition-all duration-200 ease-in-out
                 text-[var(--menu-text)] hover:bg-[var(--menu-hover-bg)] hover:text-[var(--menu-glow)] cursor-pointer svelte-xte2q6"><!> <span class="text-sm font-medium"> </span></li>`),PM=ue(`<ul class="premium-submenu fixed min-w-[140px] max-h-[70vh] z-[9999] rounded-lg shadow-2xl border border-[var(--menu-btn-border)] overflow-y-auto
              bg-[var(--menu-bg)] backdrop-blur-sm transition-all duration-300 ease-in-out svelte-xte2q6"></ul>`),MM=ue("<!> <!>",1),TM=o=>o.stopPropagation(),AM=ue('<input type="number" min="8" max="200" title="Font size"> <button title="Bold"><span class="text-xs font-bold">B</span></button> <input type="color" class="w-7 h-7 rounded border border-gray-300 dark:border-gray-600 cursor-pointer svelte-xte2q6" title="Text color"> <input type="color" class="w-7 h-7 rounded border border-gray-300 dark:border-gray-600 cursor-pointer svelte-xte2q6" title="Background color"> <select title="Font family"><option>System</option><option>Helvetica</option><option>Serif</option><option>Monospace</option></select>',1),DM=ue(`<button class="w-6 h-6 rounded-md border border-gray-400 dark:border-gray-600 
                 cursor-pointer hover:scale-105 transition-transform touch-manipulation svelte-xte2q6" title="Choose color"></button> <select title="Line thickness"><option>1px</option><option>2px</option><option>3px</option><option>4px</option><option>5px</option><option>6px</option><option>7px</option><option>8px</option></select> <select title="Line style"><option>Line</option><option>Dash</option><option>Dot</option></select>`,1),LM=ue('<div title="Drag to move"><div class="flex flex-col gap-0.5"><div class="flex gap-0.5"><div></div> <div class="w-0.5 h-0.5 bg-gray-400 dark:bg-gray-500 rounded-full"></div></div> <div class="flex gap-0.5"><div class="w-0.5 h-0.5 bg-gray-400 dark:bg-gray-500 rounded-full"></div> <div class="w-0.5 h-0.5 bg-gray-400 dark:bg-gray-500 rounded-full"></div></div> <div class="flex gap-0.5"><div class="w-0.5 h-0.5 bg-gray-400 dark:bg-gray-500 rounded-full"></div> <div class="w-0.5 h-0.5 bg-gray-400 dark:bg-gray-500 rounded-full"></div></div></div></div> <!>',1),EM=(o,e)=>{var t;return e(((t=o.target)==null?void 0:t.value)||"24")},FM=ue('<div class="flex items-center gap-3 svelte-xte2q6"><div class="flex items-center justify-center w-8 h-8 text-lg"> </div> <div class="flex items-center gap-1 sm:gap-2 min-w-[100px] sm:min-w-[120px]"><span class="text-xs text-gray-500 dark:text-gray-400 hidden sm:inline">Size:</span> <input type="range" min="16" max="64" class="flex-1 h-2 sm:h-1 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer slider touch-manipulation svelte-xte2q6"> <span class="text-xs text-gray-500 dark:text-gray-400 w-6 text-right"> </span></div></div>'),jM=(o,e)=>{e()},$M=ue('<button title="Fibonacci Settings"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></button>'),BM=(o,e,t,n)=>{e(),b(t,!1),b(n,null)},OM=ue('<div><!> <!> <button title="Delete"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="0.5" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div>'),RM=ue('<div class="fixed z-50 bg-red-500 hover:bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center cursor-pointer shadow-lg transition-all duration-200" title="Delete selected drawing"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="0.5" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></div>'),NM=(o,e)=>{o.key==="Escape"&&(o.preventDefault(),e())},zM=(o,e,t,n,s,r,a,c,d,u)=>{var k,S,M;e();const p=i(t);if(!p||!n())return;b(r,$(a(((k=i(c))==null?void 0:k.innerText)??"")));const h=i(c)?Math.max(12,i(c).offsetWidth):void 0,x=i(c)?Math.max(Math.round(d.fontSize*1.5),i(c).offsetHeight):void 0,w={...((S=i(u))==null?void 0:S.extendData)||{},text:((M=i(c))==null?void 0:M.innerText)??"",...h?{boxWidth:h}:{},...x?{boxHeight:x}:{}};try{n().overrideOverlay({id:p,extendData:w})}catch{}},VM=ue('<div class="fixed z-[10000] rounded-md outline-none" contenteditable="true"> </div>'),qM=ue('<div class="drawbar-wrapper svelte-xte2q6"><div class="drawbar-container w-[56px] h-full box-border border-r border-l-0 transition-all duration-200 ease-in-out overflow-y-auto scrollbar-hidden svelte-xte2q6" style="background: var(--menu-bg); box-shadow: var(--menu-shadow); backdrop-filter: blur(18px) saturate(170%); -webkit-backdrop-filter: blur(18px) saturate(170%); border-left: none;"><!> <!> <!> <!> <!> <!> <!> <!></div> <!></div> <!> <!> <!> <!> <!> <!> <!>',1);function WM(o,e){Pr(e,!0);const t=El(),n=()=>ti(yo,"$chart",t),s=()=>ti(io,"$undoRedoState",t),r=()=>ti(bt,"$save",t),a=(ge,We=pv,ft=pv,Ht,jt,go,Rt)=>{let To=hc(()=>hg(Ht==null?void 0:Ht(),"")),Lo=hc(()=>hg(jt==null?void 0:jt(),()=>[],!0)),Mo=hc(()=>hg(go==null?void 0:go(),!1)),Fn=hc(()=>hg(Rt==null?void 0:Rt(),!1));var fs=_M(),si=m(fs);si.__click=function(...bs){var Xi;(Xi=We())==null||Xi.apply(this,bs)};var ji=v(m(si),2),Ai=tt(()=>Ei(ft())),$i=tt(()=>i(To)==="mode"&&i(p)===i(u));Hd(ji,{get name(){return i(Ai)},get active(){return i($i)},size:24,class:"relative z-10 transition-all duration-200 group-hover:scale-[1.05]"});var _i=v(ji,2);xe(_i,()=>i(To)==="mode"&&i(p)===i(u)||i(To)&&i(To)===i(d),bs=>{var Xi=vM();N(bs,Xi)}),_(si);var br=v(si,2);xe(br,()=>i(Lo).length>0,bs=>{var Xi=gM(),xr=nt(Xi);xr.__click=[pM,Tr,To];var Ge=m(xr);_(xr);var Xe=v(xr,2);xe(Xe,()=>i(To)===i(d),eo=>{var Et=fM();N(eo,Et)}),Re(()=>Ls(Ge,"rotate-180",i(d)===i(To))),N(bs,Xi)}),_(fs),Re(()=>{lt(fs,"style",`margin-top: ${(i(Mo)||i(Fn)?"12px":"")??""}`),lt(si,"title",i(To)||ft()),lt(si,"aria-label",i(To)||ft()),Ls(si,"active-btn",i(To)==="mode"&&i(p)===i(u)||i(To)&&i(To)===i(d))}),N(ge,fs)},c=ge=>{var We=mM();N(ge,We)};let d=Z(""),u=Z("weakMagnet"),p=Z("normal"),h=Z(!1),x=Z(!0),w=$([]),k=Z(""),S=Z(null),M=Z(null),T=Z(!1),D=Z(!1),A=Z(null),j=$({thickness:"3",style:"solid",color:"#1677FF",opacity:100}),F=Z(!1),q=$({x:0,y:0}),B=Z(null),O=Z(0),z=Z(null),Y=Z(!1),G=Z(null),oe=0,re=Z(!1),se=Z(!1),ie=Z($({x:0,y:0})),te=Z($({x:0,y:0}));const K="system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif";let J=$({fontSize:32,fontWeight:"bold",textColor:"#FFFFFF",backgroundColor:"#A00000",fontFamily:K}),U=Z(!1),ae=Z(void 0),me=Z(!1),ke=Z($([{value:0,visible:!0,color:"#FF6B6B"},{value:.236,visible:!0,color:"#4ECDC4"},{value:.382,visible:!0,color:"#45B7D1"},{value:.5,visible:!0,color:"#96CEB4"},{value:.618,visible:!0,color:"#FFEAA7"},{value:1,visible:!0,color:"#98D8C8"},{value:1.618,visible:!0,color:"#85C1E9"},{value:.786,visible:!1,color:"#DDA0DD"},{value:1.272,visible:!1,color:"#F7DC6F"},{value:1.414,visible:!1,color:"#BB8FCE"},{value:2,visible:!1,color:"#FFB6C1"},{value:2.272,visible:!1,color:"#98FB98"},{value:2.414,visible:!1,color:"#F0E68C"},{value:2.618,visible:!1,color:"#F8C471"},{value:3,visible:!1,color:"#DEB887"},{value:3.618,visible:!1,color:"#CD853F"},{value:4,visible:!1,color:"#D2691E"},{value:4.236,visible:!1,color:"#A0522D"},{value:4.272,visible:!1,color:"#8B4513"},{value:4.618,visible:!1,color:"#654321"}])),Ae=Z($([{value:0,visible:!0,color:"#FF6B6B"},{value:.236,visible:!0,color:"#4ECDC4"},{value:.382,visible:!0,color:"#45B7D1"},{value:.5,visible:!0,color:"#96CEB4"},{value:.618,visible:!0,color:"#FFEAA7"},{value:1,visible:!0,color:"#98D8C8"},{value:1.618,visible:!0,color:"#85C1E9"},{value:.786,visible:!1,color:"#DDA0DD"},{value:1.272,visible:!1,color:"#F7DC6F"},{value:1.414,visible:!1,color:"#BB8FCE"},{value:2,visible:!1,color:"#FFB6C1"},{value:2.272,visible:!1,color:"#98FB98"},{value:2.414,visible:!1,color:"#F0E68C"},{value:2.618,visible:!1,color:"#F8C471"},{value:3,visible:!1,color:"#DEB887"},{value:3.618,visible:!1,color:"#CD853F"},{value:4,visible:!1,color:"#D2691E"},{value:4.236,visible:!1,color:"#A0522D"},{value:4.272,visible:!1,color:"#8B4513"},{value:4.618,visible:!1,color:"#654321"}])),Le=null;function He(){var ft;Le||(Le=document.querySelector(".chart-container")||document.querySelector("[data-chart-container]")||document.querySelector(".kline-chart")||document.querySelector("#chart")||((ft=document.querySelector("canvas"))==null?void 0:ft.parentElement)||document.body);const ge=Le==null?void 0:Le.getBoundingClientRect();if(!ge)return{left:0,top:0,width:window.innerWidth,height:window.innerHeight};const We=10;return{left:ge.left+We,top:ge.top+We,width:ge.width-We*2,height:ge.height-We*2}}function it(ge){try{const We=He();Le&&(Le.style.cursor=ge??"default")}catch{}}let Ne=Z(!1),we=Z(null),je=Z(null),Te=Z($({x:0,y:0})),Se=Z(""),Ue=Z(!1),Be=null;function le(ge){return/[\u0590-\u08FF]/.test(ge)}function ye(){var Ht;if(!i(we)||!i(A)||!n())return;const ge=i(A);if(!ge.points||ge.points.length===0)return;const We=ge.paneId||"candle_pane",ft=(Ht=n())==null?void 0:Ht.convertToPixel(ge.points[0],{paneId:We});ft&&typeof ft=="object"&&"x"in ft&&"y"in ft&&ft.x!==void 0&&ft.y!==void 0&&b(Te,$({x:ft.x,y:ft.y}))}Ds(()=>{if(!i(Ne)||!i(we)||!n())return;const ge=()=>{ye(),Be=requestAnimationFrame(ge)};return Be=requestAnimationFrame(ge),()=>{Be&&cancelAnimationFrame(Be),Be=null}});function Ee(ge){var ft,Ht;b(we,$(ge.id)),b(A,$(ge)),zr(ge);const We=((ft=ge.extendData)==null?void 0:ft.text)??"";b(Se,$(We)),b(Ue,$(le(We)));try{const jt={...ge.extendData||{},editing:!0};(Ht=n())==null||Ht.overrideOverlay({id:ge.id,extendData:jt}),i(A).extendData=jt}catch{}b(Ne,!0),ye(),setTimeout(()=>{var jt,go;(jt=i(je))==null||jt.focus();try{const Rt=window.getSelection();Rt&&((go=i(je))!=null&&go.firstChild)&&Rt.collapse(i(je).firstChild,We.length)}catch{}},0)}function Je(){var jt,go;if(!i(we)||!n()){b(Ne,!1);return}const ge=i(we),We=(((jt=i(je))==null?void 0:jt.innerText)??i(Se)).trim();b(Se,$(We));const ft=i(je)?Math.max(12,i(je).offsetWidth):void 0,Ht={...((go=i(A))==null?void 0:go.extendData)||{},text:We,...ft?{boxWidth:ft}:{}};try{n().overrideOverlay({id:ge,extendData:{...Ht,editing:!1}}),i(A)&&(i(A).extendData={...Ht,editing:!1},Kr(i(A)))}catch{}b(Ne,!1),b(we,null)}function be(){var ft;if(!i(we)||!n()){b(Ne,!1);return}const ge=i(we),We={...((ft=i(A))==null?void 0:ft.extendData)||{},text:i(Se),editing:!1};try{n().overrideOverlay({id:ge,extendData:We})}catch{}b(Ne,!1),b(we,null)}function X(ge){function We(Ht){const jt=ge.scrollTop>0,go=ge.scrollTop<ge.scrollHeight-ge.clientHeight;(Ht.deltaY<0&&!jt||Ht.deltaY>0&&!go)&&Ht.preventDefault(),Ht.stopPropagation()}function ft(Ht){Ht.preventDefault(),Ht.stopPropagation()}return ge.addEventListener("wheel",We,{passive:!1,capture:!0}),ge.addEventListener("touchmove",ft,{passive:!1,capture:!0}),{destroy(){ge.removeEventListener("wheel",We,{capture:!0}),ge.removeEventListener("touchmove",ft,{capture:!0})}}}function H(){var ge;if(i(D)&&i(A)&&i(B)&&i(A).points&&i(A).points.length>0){const We=i(A).points[0],ft=(ge=n())==null?void 0:ge.convertToPixel(We,{paneId:"candle_pane"});if(ft&&typeof ft=="object"&&"x"in ft&&"y"in ft&&ft.x!==void 0&&ft.y!==void 0){const go=Math.max(10,Math.min(ft.x-80,window.innerWidth-300)),Rt=Math.max(10,Math.min(ft.y-30,window.innerHeight-200));b(B,$({x:go,y:Rt}))}}i(re)&&b(te,$({x:Math.max(10,Math.min(i(te).x,window.innerWidth-320)),y:Math.max(10,Math.min(i(te).y,window.innerHeight-400))})),i(Ne)&&ye()}function Ce(){if(typeof localStorage<"u"){const ge=localStorage.getItem("contextMenuPosition");if(ge)try{b(G,$(JSON.parse(ge)))}catch(We){console.log("Error loading saved position:",We)}}}function Qe(ge){typeof localStorage<"u"&&(localStorage.setItem("contextMenuPosition",JSON.stringify(ge)),b(G,$(ge)))}const mt="drawing_tools",bt=ur("save"),ct=ur("ctx"),yo=ur("chart"),Kt=bc({}),to=ur("drawingManager"),io=Gl.getState();let ro=Z(!1),Uo=Z(!1);Ds(()=>{const ge=s();b(ro,ge.undoStack.length>0),b(Uo,ge.redoStack.length>0)}),Ds(()=>{n()&&Gl.init({chart:n(),saveStore:bt,overlaysStore:Kt})});function an(ge){const We=r().symbol;return`${We.shortName??We.name??We.ticker}_${r().period.timeframe}_${ge}`}const cn=$([{key:"single-line",icon:"segment",list:[{key:"segment",text:"segment"},{key:"arrow",text:"arrow"},{key:"rayLine",text:"ray_line"},{key:"straightLine",text:"straight_line"},{key:"priceLine",text:"price_line"},{key:"horizontalStraightLine",text:"horizontal_straight_line"},{key:"horizontalRayLine",text:"horizontal_ray_line"},{key:"horizontalSegment",text:"horizontal_segment"},{key:"verticalStraightLine",text:"vertical_straight_line"},{key:"verticalRayLine",text:"vertical_ray_line"},{key:"verticalSegment",text:"vertical_segment"}]},{key:"more-line",icon:"priceChannelLine",list:[{key:"priceChannelLine",text:"price_channel_line"},{key:"parallelStraightLine",text:"parallel_straight_line"}]},{key:"polygon",icon:"rect",list:[{key:"circle",text:"circle"},{key:"rect",text:"rect"},{key:"parallelogram",text:"parallelogram"},{key:"triangle",text:"triangle"}]},{key:"fibonacci",icon:"fibonacciSegment",list:[{key:"fibonacciSegment",text:"fibonacci_segment"},{key:"fibonacciCircle",text:"fibonacci_circle"},{key:"fibonacciSpiral",text:"fibonacci_spiral"},{key:"fibonacciSpeedResistanceFan",text:"fibonacci_speed_resistance_fan"},{key:"fibonacciExtension",text:"fibonacci_extension"},{key:"gannBox",text:"gann_box"}]},{key:"wave",icon:"xabcd",list:[{key:"xabcd",text:"xabcd"},{key:"abcd",text:"abcd"},{key:"threeWaves",text:"three_waves"},{key:"fiveWaves",text:"five_waves"},{key:"eightWaves",text:"eight_waves"},{key:"anyWaves",text:"any_waves"}]},{key:"emoji",icon:"emoji",list:[]},{key:"text",icon:"text",list:[]}]),sn=$([{key:"weakMagnet",text:"weakMagnet"},{key:"strongMagnet",text:"strongMagnet"}]);function Tr(ge){i(d)==ge?b(d,""):b(d,$(ge))}function zi(ge){var go;let We=!1;const ft=jS[ge.name]??{},Ht={groupId:mt,onDrawEnd:Rt=>{ft.onDrawEnd&&ft.onDrawEnd(Rt),Kr(Rt.overlay);const To=an(Rt.overlay.id);if(Gl.recordAddOverlay(Rt.overlay.id,Rt.overlay,To),i(S)===Rt.overlay.id&&b(S,null),Rt.overlay.name==="text")try{Ee(Rt.overlay)}catch{}return!0},onPressedMoving:Rt=>(ft.onPressedMoving&&ft.onPressedMoving(Rt),We=!0,!1),onPressedMoveEnd:Rt=>{var To;if(!We)return!0;if(We=!1,Kr(Rt.overlay),i(k)===Rt.overlay.id&&Rt.overlay.points&&Rt.overlay.points.length>0){const Lo=Rt.overlay.points[0],Mo=Rt.overlay.paneId||"candle_pane",Fn=(To=n())==null?void 0:To.convertToPixel(Lo,{paneId:Mo});Fn&&typeof Fn=="object"&&"x"in Fn&&"y"in Fn&&Fn.x!==void 0&&Fn.y!==void 0&&b(M,$({x:Fn.x-80,y:Fn.y-30}))}return!0},onSelected:Rt=>{var To,Lo;if(ft.onSelected&&ft.onSelected(Rt),oe=Date.now(),b(k,$(Rt.overlay.id)),b(A,$(Rt.overlay)),(To=Rt.overlay.styles)!=null&&To.line){const Mo=Rt.overlay.styles.line;j.thickness=String(Mo.size||2),j.color=Mo.color||"#1677FF",j.style=Mo.style===de.Dashed?"dashed":"solid"}if(Rt.overlay.points&&Rt.overlay.points.length>0){const Mo=Rt.overlay.points[0],Fn=Rt.overlay.paneId||"candle_pane",fs=(Lo=n())==null?void 0:Lo.convertToPixel(Mo,{paneId:Fn});if(fs&&typeof fs=="object"&&"x"in fs&&"y"in fs&&fs.x!==void 0&&fs.y!==void 0&&(b(M,$({x:fs.x-80,y:fs.y-30})),i(G)?b(B,$({...i(G)})):b(B,$({x:fs.x-80,y:fs.y-30})),b(D,!0),b(T,!1),Rt.overlay.styles&&Rt.overlay.styles.line))if(j.thickness=String(Rt.overlay.styles.line.size||1),j.color=Rt.overlay.styles.line.color||"#1677FF",Rt.overlay.styles.line.style===de.Dashed){const si=Rt.overlay.styles.line.dashedValue;si&&si[0]===2&&si[1]===8?j.style="dotted":j.style="dashed"}else j.style="solid"}return!0},onDeselected:Rt=>(ft.onDeselected&&ft.onDeselected(Rt),b(k,""),b(T,!1),b(D,!1),b(Y,!1),b(M,null),b(A,null),!0),onRemoved:Rt=>{ft.onRemoved&&ft.onRemoved(Rt),Kt.update(Lo=>(delete Lo[an(Rt.overlay.id)],Lo));const To=to.get();if(To)try{To.removeDrawing(Rt.overlay.id),console.log("ðŸ—‘ï¸ Removed drawing from DrawingManager:",Rt.overlay.id),md()}catch(Lo){console.error("Error removing drawing from DrawingManager:",Lo)}return!0}},jt=(go=n())==null?void 0:go.createOverlay(_t.mergeWith({},Ht,ge,(Rt,To,Lo)=>{if(Lo.startsWith("on")&&Rt&&To)return Mo=>(To(Mo),Rt(Mo))}));return jt&&(Array.isArray(jt)?(w.push(...jt),jt.length>0&&b(S,$(jt[0]))):(w.push(jt),b(S,$(jt)))),jt}function Ki(ge){ge==="text"&&it("text");let We=de.Solid,ft=[8,4];j.style==="dashed"?(We=de.Dashed,ft=[8,4]):j.style==="dotted"&&(We=de.Dashed,ft=[2,6]);const jt={line:{size:Number(j.thickness)||1,color:j.color,style:We,dashedValue:ft},text:{color:"#FFFFFF",backgroundColor:"#A0000020",borderColor:"#1677FF"},polygon:{color:j.color+"20"}};zi({name:ge,visible:i(x),lock:i(h),mode:i(p),styles:jt,...ge==="text"?{extendData:{text:ka,fontSize:32,fontWeight:"bold",textColor:"#FFFFFF",backgroundColor:"#A0000020",fontFamily:K}}:{}})}function wa(ge,We){cn[ge].icon=We,Ki(We),b(d,"")}function Ei(ge){return ge==="priceChannelLine"?"priceChannelLineNew":ge}function Za(){var We;let ge=i(u);i(p)!=="normal"&&(ge="normal"),b(p,$(ge)),(We=n())==null||We.overrideOverlay({mode:ge})}function Xa(ge){var We;b(u,$(ge)),b(p,$(ge)),b(d,""),(We=n())==null||We.overrideOverlay({mode:ge})}function sl(ge){let ft=0;return ge==="crosshair"?ft=0:cn.find(Ht=>Ht.key===ge)?ft=1+cn.findIndex(Ht=>Ht.key===ge):ge==="ruler"?ft=1+cn.length+1:ge==="mode"?ft=1+cn.length+2:ge==="lock"?ft=1+cn.length+3:ge==="visible"?ft=1+cn.length+4:ge==="remove"&&(ft=1+cn.length+5),ft*52}function Ja(){var ge;b(h,!i(h)),(ge=n())==null||ge.overrideOverlay({lock:i(h)})}function pl(){var ge;b(x,!i(x)),(ge=n())==null||ge.overrideOverlay({visible:i(x)})}function il(){var ge,We;if(b(p,"normal"),b(u,"weakMagnet"),it(null),i(S)){(ge=n())==null||ge.removeOverlay({id:i(S)});const ft=w.indexOf(i(S));ft>-1&&w.splice(ft,1),b(S,null)}(We=n())==null||We.overrideOverlay({mode:fv.Normal}),b(d,""),b(D,!1),b(T,!1),b(Y,!1),b(M,null),b(A,null),b(k,"")}function Qa(){var ft;let ge={groupId:mt},We=null;if(i(k))ge.id=i(k),We=i(A);else if(w.length>0){const Ht=w.pop();if(ge.id=Ht,Ht&&n()){const jt=n().getOverlays({id:Ht});jt&&jt.length>0&&(We=jt[0])}}if(We){const Ht=an(We.id);Gl.recordRemoveOverlay(We.id,We,Ht)}(ft=n())==null||ft.removeOverlay(ge),b(D,!1),b(T,!1),b(Y,!1),b(M,null),b(A,null)}function Ma(){if(!i(A)||!n())return;const ge=Number(j.thickness)||1;let We=de.Solid,ft=[8,4];j.style==="dashed"?(We=de.Dashed,ft=[8,4]):j.style==="dotted"&&(We=de.Dashed,ft=[2,6]);const Ht=Math.round(j.opacity/100*255).toString(16).padStart(2,"0"),jt=j.color+Ht,go={line:{size:ge,color:jt,style:We,dashedValue:ft},text:{color:"#FFFFFF",backgroundColor:"rgba(0, 100, 255, 0.7)",borderColor:"#FFFFFF"},polygon:{color:jt}};try{n().overrideOverlay({id:i(A).id,styles:go})}catch(Rt){console.log("Error updating overlay styles:",Rt)}Kr({...i(A),styles:{...i(A).styles,...go}})}const ka="Add text";function zr(ge){const We=ge.extendData||{},Ht=(ge.styles||{}).text||{},jt=We.backgroundColor||Ht.backgroundColor||"#A0000020";let go=jt;typeof jt=="string"&&jt.startsWith("#")&&jt.length===9&&(go=jt.slice(0,7)),J.fontSize=We.fontSize||Ht.size||32,J.fontWeight=We.fontWeight||Ht.weight||"bold",J.textColor=We.textColor||Ht.color||"#FFFFFF",J.backgroundColor=go,J.fontFamily=We.fontFamily||Ht.family||K}function oa(){var Fn,fs,si,ji,Ai,$i,_i;if(!i(A)||!n()||i(A).name!=="text")return;const ge=Number(J.fontSize)||12,We=J.backgroundColor||"#A00000",ft=typeof We=="string"&&We.startsWith("#")&&We.length===7?`${We}20`:We,Ht=((Fn=i(A).styles)==null?void 0:Fn.text)||{},jt=Ht.size??((fs=i(A).extendData)==null?void 0:fs.fontSize),go=Ht.weight??((si=i(A).extendData)==null?void 0:si.fontWeight),Rt=Ht.family??((ji=i(A).extendData)==null?void 0:ji.fontFamily),To=jt!==ge||go!==J.fontWeight||Rt!==J.fontFamily,Lo={...i(A).extendData||{},fontSize:ge,fontWeight:J.fontWeight,textColor:J.textColor,backgroundColor:ft,fontFamily:J.fontFamily,...To?{boxWidth:0,boxHeight:0}:{}},Mo={...i(A).styles||{},text:{...((Ai=i(A).styles)==null?void 0:Ai.text)||{},size:ge,color:J.textColor,backgroundColor:ft,family:J.fontFamily,weight:J.fontWeight,paddingLeft:8,paddingRight:8,paddingTop:4,paddingBottom:4,borderSize:0,borderColor:"transparent"},box:{...(($i=i(A).styles)==null?void 0:$i.box)||{},stroke:"#3b82f6",width:1,fill:"transparent"},handles:{...((_i=i(A).styles)==null?void 0:_i.handles)||{},size:6,fill:"#3b82f6",stroke:"#3b82f6"}};try{n().overrideOverlay({id:i(A).id,styles:Mo,extendData:Lo})}catch(br){console.log("Error updating text overlay styles:",br)}b(A,$({...i(A),styles:Mo,extendData:Lo})),Kr(i(A))}function fl(ge){var go;b(F,!0),b(O,$(Date.now()));const We=ge instanceof MouseEvent?ge.clientX:ge.touches[0].clientX,ft=ge instanceof MouseEvent?ge.clientY:ge.touches[0].clientY,Ht=(go=ge.target.closest(".context-menu-container"))==null?void 0:go.getBoundingClientRect();Ht?(q.x=We-Ht.left,q.y=ft-Ht.top):i(B)&&(q.x=We-i(B).x,q.y=ft-i(B).y);const jt=ge;typeof jt.preventDefault=="function"&&jt.preventDefault(),typeof jt.stopPropagation=="function"&&jt.stopPropagation()}function bl(ge){if(i(F)&&i(B)){b(O,$(Date.now()));const We=ge instanceof MouseEvent?ge.clientX:ge.touches[0].clientX,ft=ge instanceof MouseEvent?ge.clientY:ge.touches[0].clientY,Ht=window.innerWidth<=768,jt=Ht?Math.min(250,window.innerWidth-40):300,go=Ht?40:60,Rt=Ht?5:10,To=Le==null?void 0:Le.getBoundingClientRect();let Lo=We-q.x,Mo=ft-q.y;const Fn=((To==null?void 0:To.left)||0)+Rt,fs=(To?To.right:window.innerWidth)-jt-Rt,si=((To==null?void 0:To.top)||0)+Rt,ji=(To?To.bottom:window.innerHeight)-go-Rt;i(B).x=Math.max(Fn,Math.min(Lo,fs)),i(B).y=Math.max(si,Math.min(Mo,ji))}}function rl(){i(F)&&i(B)&&Qe(i(B)),b(F,!1),b(O,$(Date.now()))}function Ta(ge){bl(ge)}function al(){rl()}function xl(ge){j.color=ge.detail,Ma()}function Gr(ge){j.opacity=ge.detail,Ma()}function Kl(){b(re,!1)}function gl(){const ge=Gl.undo();console.log(ge?"Undo successful":"Nothing to undo")}function el(){const ge=Gl.redo();console.log(ge?"Redo successful":"Nothing to redo")}function _l(ge){(ge.ctrlKey||ge.metaKey)&&ge.key==="z"&&!ge.shiftKey?(ge.preventDefault(),gl()):(ge.ctrlKey||ge.metaKey)&&ge.key==="y"||(ge.ctrlKey||ge.metaKey)&&ge.shiftKey&&ge.key==="z"?(ge.preventDefault(),el()):(ge.key==="Delete"||ge.key==="Backspace")&&i(k)?(ge.preventDefault(),Qa()):(ge.ctrlKey||ge.metaKey)&&ge.key==="c"&&i(A)?(ge.preventDefault(),Ba()):(ge.ctrlKey||ge.metaKey)&&ge.key==="v"&&i(z)&&(ge.preventDefault(),ll(ge))}function Ba(){if(i(A))try{b(z,$(JSON.parse(JSON.stringify(i(A))))),console.log("Overlay copied to clipboard"),b(D,!1),setTimeout(()=>{console.log("Copy operation completed")},100)}catch(ge){console.error("Error copying overlay:",ge)}}function ll(ge){if(!(!i(z)||!n()))try{const We=JSON.parse(JSON.stringify(i(z))),ft=Date.now();We.id=`${i(z).name}_paste_${ft}`,ge&&We.points&&Array.isArray(We.points)&&(We.points=We.points.map(jt=>jt&&typeof jt=="object"?{...jt,timestamp:jt.timestamp?jt.timestamp+1e3*60*10:jt.timestamp,value:jt.value?jt.value*1.005:jt.value}:jt));const Ht=zi(We);if(Ht){const jt=Array.isArray(Ht)?Ht[0]:Ht;if(jt){const go=an(jt);Gl.recordAddOverlay(jt,We,go),setTimeout(()=>{var To,Lo;const Rt=n().getOverlays({id:jt})[0];if(Rt){if(b(k,$(jt)),b(A,$(Rt)),(To=Rt.styles)!=null&&To.line){const Mo=Rt.styles.line;j.thickness=String(Mo.size||2),j.color=Mo.color||"#1677FF",j.style=Mo.style===de.Dashed?"dashed":"solid"}if(Rt.points&&Rt.points.length>0){const Mo=Rt.points[0],Fn=(Lo=n())==null?void 0:Lo.convertToPixel(Mo,{paneId:"candle_pane"});Fn&&typeof Fn=="object"&&"x"in Fn&&"y"in Fn&&Fn.x!==void 0&&Fn.y!==void 0&&(b(M,$({x:Fn.x-80,y:Fn.y-30})),i(G)?b(B,$({...i(G)})):b(B,$({x:Fn.x-80,y:Fn.y-30})),b(D,!0),b(T,!1),b(Y,!1))}}},100)}console.log("Overlay pasted successfully")}}catch(We){console.error("Error pasting overlay:",We)}}function Kr(ge){if(ge.groupId!==mt)return;const We=["extendData","groupId","id","lock","mode","name","paneId","points","styles","totalStep","visible","zLevel"],ft=an(ge.id);Kt.update(jt=>(jt[ft]=Object.fromEntries(We.map(go=>[go,ge[go]])),jt));const Ht=to.get();if(Ht&&ge.points&&ge.points.length>0)try{const jt=ku(r().symbol),go={id:ge.id,symbolKey:jt,type:ge.name||"unknown",points:ge.points.map(Rt=>({time:Rt.timestamp||Rt.t||0,price:Rt.value||Rt.p||0})),styles:ge.styles||{},...ge.extendData?{extendData:ge.extendData}:{},locked:!!ge.lock,visible:ge.visible!==!1};Ht.addDrawing(go),md()}catch(jt){console.error("Error syncing overlay to DrawingManager:",jt)}}function yr(){if(b(se,!i(se)),i(se)){const ge=He();b(ie,$({x:ge.left+60,y:ge.top+100}))}}function Oa(ge){const{emoji:We}=ge.detail;console.log("Selected emoji:",We),b(se,!1),zi({name:"emoji",visible:i(x),lock:i(h),mode:i(p),extendData:{emoji:We,size:24},styles:{box:{enabled:!1,stroke:"#3b82f6",width:1,fill:"transparent"},handles:{size:6,fill:"#3b82f6",stroke:"#3b82f6"}}})}function wl(ge){if(!i(A)||i(A).name!=="emoji")return;const We=parseInt(ge);isNaN(We)||We<16||We>64||(i(A).extendData&&(i(A).extendData.size=We),n()&&i(A).id&&(n().overrideOverlay({id:i(A).id,extendData:i(A).extendData}),Kr(i(A))))}function Vr(){var ge,We;if(((ge=i(A))==null?void 0:ge.name)==="fibonacciSegment"){const ft=((We=i(A).extendData)==null?void 0:We.fibonacciLevels)||i(A).fibonacciLevels;ft&&b(ke,$([...ft])),b(Ae,$([...i(ke)])),b(me,!0)}}function tl(){b(ke,$([{value:0,visible:!0,color:"#FF6B6B"},{value:.236,visible:!0,color:"#4ECDC4"},{value:.382,visible:!0,color:"#45B7D1"},{value:.5,visible:!0,color:"#96CEB4"},{value:.618,visible:!0,color:"#FFEAA7"},{value:.786,visible:!0,color:"#DDA0DD"},{value:1,visible:!0,color:"#98D8C8"},{value:1.272,visible:!0,color:"#F7DC6F"},{value:1.414,visible:!0,color:"#BB8FCE"},{value:1.618,visible:!0,color:"#85C1E9"},{value:2.618,visible:!0,color:"#F8C471"}])),Na()}function Ra(){Na(),b(me,!1)}function ol(){b(ke,$([...i(Ae)])),b(me,!1)}function Na(){!i(A)||i(A).name!=="fibonacciSegment"||!n()||(n().overrideOverlay({id:i(A).id,extendData:{...i(A).extendData,fibonacciLevels:[...i(ke)]}}),i(A).fibonacciLevels=[...i(ke)],Kr(i(A)))}function pt(ge,We,ft){ge>=0&&ge<i(ke).length&&(i(ke)[ge]={...i(ke)[ge],[We]:ft},Na())}ja(ct,ge=>ge.clickChart).subscribe(()=>{b(d,""),Date.now()-oe>150&&!i(F)&&!i(k)&&!i(A)&&(b(D,!1),b(T,!1),b(Y,!1),b(M,null))}),yc(()=>{if(Ce(),typeof document<"u"&&(document.addEventListener("mousemove",bl),document.addEventListener("mouseup",rl),document.addEventListener("touchmove",Ta,{passive:!1}),document.addEventListener("touchend",al),document.addEventListener("touchcancel",al)),typeof window<"u"){window.addEventListener("resize",H);const ge=We=>{i(A)&&i(A).name==="text"&&!i(Ne)&&Ee(i(A))};window.addEventListener("dblclick",ge)}}),yc(()=>{typeof document<"u"&&document.addEventListener("keydown",_l)});function Bt(){if(!i(ae))return;const{scrollHeight:ge,clientHeight:We,scrollTop:ft}=i(ae),Ht=ge>We,jt=ft+We>=ge-5;b(U,$(Ht&&!jt))}function dt(ge){if(ge&&(ge.preventDefault(),ge.stopPropagation()),!i(ae))return;const{scrollTop:We,clientHeight:ft,scrollHeight:Ht}=i(ae),jt=ft*.7,go=Math.min(We+jt,Ht-ft);i(ae).scrollTo({top:go,behavior:"smooth"})}yc(()=>{Bt();const ge=()=>{Bt()},We=()=>{Bt()};return i(ae)&&i(ae).addEventListener("scroll",ge),typeof window<"u"&&window.addEventListener("resize",We),setTimeout(Bt,500),()=>{i(ae)&&i(ae).removeEventListener("scroll",ge),typeof window<"u"&&window.removeEventListener("resize",We)}}),Su(()=>{typeof document<"u"&&(document.removeEventListener("mousemove",bl),document.removeEventListener("mouseup",rl),document.removeEventListener("keydown",_l),document.removeEventListener("touchmove",Ta),document.removeEventListener("touchend",al),document.removeEventListener("touchcancel",al)),typeof window<"u"&&window.removeEventListener("resize",H)});function Vt(ge){var We,ft;try{if(oe=Date.now(),b(k,$(ge.id)),b(A,$(ge)),(We=ge.styles)!=null&&We.line){const Ht=ge.styles.line;j.thickness=String(Ht.size||2),j.color=Ht.color||"#1677FF",j.style=Ht.style===de.Dashed?"dashed":"solid"}if(ge.points&&ge.points.length>0){const Ht=ge.points[0],jt=ge.paneId||"candle_pane",go=(ft=n())==null?void 0:ft.convertToPixel(Ht,{paneId:jt});go&&typeof go=="object"&&"x"in go&&"y"in go&&go.x!==void 0&&go.y!==void 0&&(b(M,$({x:go.x-80,y:go.y-30})),i(G)?b(B,$({...i(G)})):b(B,$({x:go.x-80,y:go.y-30})),b(D,!0),b(T,!1))}}catch(Ht){console.warn("externalSelectOverlay failed:",Ht)}}function Tt(ge){var We;try{(i(k)===ge.id||((We=i(A))==null?void 0:We.id)===ge.id)&&(b(k,""),b(T,!1),b(D,!1),b(Y,!1),b(M,null),b(A,null),i(Ne)&&i(we)===ge.id&&Je())}catch(ft){console.warn("externalDeselectOverlay failed:",ft)}}function Co(ge){try{Kr(ge)}catch(We){console.warn("externalSyncOverlay failed:",We)}}function Ro(ge){try{i(k)===ge&&(b(k,""),b(T,!1),b(D,!1),b(Y,!1),b(M,null),b(A,null),i(Ne)&&i(we)===ge&&be())}catch(We){console.warn("externalRemoved failed:",We)}}function Tn(ge={}){Ki("text"),zi({name:"text",visible:i(x),lock:i(h),mode:i(p),styles:{text:{color:"#FFFFFF",backgroundColor:"#A0000020",borderColor:"#1677FF",size:ge.fontSize??32,weight:ge.fontWeight??"bold",family:ge.fontFamily??K}},extendData:{text:ge.text??ka,fontSize:ge.fontSize??32,fontWeight:ge.fontWeight??"bold",textColor:ge.textColor??"#FFFFFF",backgroundColor:ge.backgroundColor??"#A0000020",fontFamily:ge.fontFamily??K}})}function jo(ge,We){n()&&n().overrideOverlay({id:ge,...We})}function En(ge){n()&&n().removeOverlay({id:ge})}function mo(ge){b(k,$(ge||""))}function Es(ge){var ft;if(!n())return;const We=(ft=n().getOverlays({id:ge}))==null?void 0:ft[0];We&&We.name==="text"&&Ee(We)}function zn(ge){i(we)===ge&&Je()}var Vi=qM(),Rn=nt(Vi),Fs=m(Rn);Fs.__click=[hM];var Fi=m(Fs);a(Fi,()=>il,()=>"crosshair",()=>"",()=>[],()=>!0);var vr=v(Fi,2);Qo(vr,17,()=>cn,ln,(ge,We)=>{var ft=yM(),Ht=nt(ft),jt=hc(()=>()=>i(We).key==="emoji"?yr():Ki(i(We).icon));a(Ht,()=>i(jt),()=>i(We).icon,()=>i(We).key,()=>i(We).list,()=>!0);var go=v(Ht,2);xe(go,()=>i(We).key==="emoji",Rt=>{c(Rt)}),N(ge,ft)});var js=v(vr,2),qi=hc(()=>()=>Ki("ruler"));a(js,()=>i(qi),()=>"ruler");var Ti=v(js,2);a(Ti,()=>Za,()=>i(u),()=>"mode",()=>sn,()=>!1,()=>!0);var xi=v(Ti,2);a(xi,()=>Ja,()=>i(h)?"lock":"unlock",()=>"",()=>[],()=>!1,()=>!0);var oi=v(xi,2);a(oi,()=>pl,()=>i(x)?"visible":"invisible",()=>"",()=>[],()=>!1,()=>!0);var ir=v(oi,2);c(ir);var Ws=v(ir,2);a(Ws,()=>Qa,()=>"remove"),_(Fs),Al(Fs,ge=>b(ae,ge),()=>i(ae));var di=v(Fs,2);xe(di,()=>i(U),ge=>{var We=xM();We.__click=dt,We.__touchstart=[uM,dt],We.__touchend=[bM],N(ge,We)}),_(Rn);var Ps=v(Rn,2);xe(Ps,()=>i(d),ge=>{var We=MM(),ft=nt(We);Qo(ft,17,()=>cn,ln,(jt,go)=>{var Rt=yt(),To=nt(Rt);xe(To,()=>i(go).key===i(d)&&i(go).list.length>0,Lo=>{var Mo=SM();const Fn=tt(()=>`left: 60px; top: ${sl(i(d))??""}px;`);Qo(Mo,21,()=>i(go).list,ln,(fs,si)=>{var ji=kM();ji.__click=[wM,d,Xa,si,wa,cn];var Ai=m(ji),$i=tt(()=>Ei(i(si).key));Hd(Ai,{get name(){return i($i)},class:"w-4 h-4"});var _i=v(Ai,2),br=m(_i,!0);Re(()=>wt(br,_d[i(si).text]())),_(_i),_(ji),$a("mouseenter",ji,bs=>bs.currentTarget.style.backgroundColor="var(--menu-hover-bg)"),$a("mouseleave",ji,bs=>bs.currentTarget.style.backgroundColor="transparent"),N(fs,ji)}),_(Mo),a1(Mo,fs=>X(fs)),Re(()=>lt(Mo,"style",i(Fn))),N(Lo,Mo)}),N(jt,Rt)});var Ht=v(ft,2);xe(Ht,()=>i(d)==="mode",jt=>{var go=PM();const Rt=tt(()=>`left: 60px; top: ${sl("mode")??""}px;`);Qo(go,21,()=>sn,ln,(To,Lo)=>{var Mo=IM();Mo.__click=[CM,Xa,Lo];var Fn=m(Mo),fs=tt(()=>Ei(i(Lo).key));Hd(Fn,{get name(){return i(fs)},class:"w-4 h-4"});var si=v(Fn,2),ji=m(si,!0);Re(()=>wt(ji,_d[i(Lo).text]())),_(si),_(Mo),$a("mouseenter",Mo,Ai=>Ai.currentTarget.style.backgroundColor="var(--menu-hover-bg)"),$a("mouseleave",Mo,Ai=>Ai.currentTarget.style.backgroundColor="transparent"),N(To,Mo)}),_(go),a1(go,To=>X(To)),Re(()=>lt(go,"style",i(Rt))),N(jt,go)}),N(ge,We)});var ps=v(Ps,2);xe(ps,()=>i(D)&&i(B),ge=>{var We=OM();We.__click=[TM];var ft=m(We);xe(ft,()=>{var Rt;return((Rt=i(A))==null?void 0:Rt.name)!=="emoji"},Rt=>{var To=LM(),Lo=nt(To);Lo.__mousedown=fl,Lo.__touchstart=[cM,fl];var Mo=m(Lo),Fn=m(Mo),fs=m(Fn);ei(2),_(Fn),ei(4),_(Mo),_(Lo);var si=v(Lo,2);xe(si,()=>{var ji;return((ji=i(A))==null?void 0:ji.name)==="text"},ji=>{var Ai=AM(),$i=nt(Ai);ut($i),$i.__change=oa;var _i=v($i,2);_i.__click=[lM,J,oa];var br=v(_i,2);ut(br),br.__input=oa;var bs=v(br,2);ut(bs),bs.__input=oa;var Xi=v(bs,2);Xi.__change=oa;var xr=m(Xi);xr.value=(xr.__value=K)==null?"":K;var Ge=v(xr);Ge.value=(Ge.__value="'Helvetica Neue', Arial, sans-serif")==null?"":"'Helvetica Neue', Arial, sans-serif";var Xe=v(Ge);Xe.value=(Xe.__value="'Times New Roman', serif")==null?"":"'Times New Roman', serif";var eo=v(Xe);eo.value=(eo.__value="'Courier New', monospace")==null?"":"'Courier New', monospace",_(Xi),Re(()=>{Un($i,`w-14 px-1 py-1 text-xs border rounded cursor-pointer\\n                   ${(r().theme==="dark"?"bg-[#2C2C2C] border-[#3A3A3A] text-white":"bg-white border-gray-300 text-gray-900")??""} touch-manipulation svelte-xte2q6`),Un(_i,`w-8 h-8 rounded flex items-center justify-center ${(r().theme==="dark"?"hover:bg-gray-700":"hover:bg-gray-100")??""} transition-colors svelte-xte2q6`),Un(Xi,`px-1 py-1 text-xs border rounded cursor-pointer\\n                   ${(r().theme==="dark"?"bg-[#2C2C2C] border-[#3A3A3A] text-white":"bg-white border-gray-300 text-gray-900")??""} touch-manipulation\\n                   max-w-[120px] svelte-xte2q6`)}),Mt($i,()=>J.fontSize,Et=>J.fontSize=Et),Mt(br,()=>J.textColor,Et=>J.textColor=Et),Mt(bs,()=>J.backgroundColor,Et=>J.backgroundColor=Et),qt(Xi,()=>J.fontFamily,Et=>J.fontFamily=Et),N(ji,Ai)},ji=>{var Ai=DM(),$i=nt(Ai);$i.__click=[dM,te,re];var _i=v($i,2);_i.__change=Ma;var br=m(_i);br.value=(br.__value="1")==null?"":"1";var bs=v(br);bs.value=(bs.__value="2")==null?"":"2";var Xi=v(bs);Xi.value=(Xi.__value="3")==null?"":"3";var xr=v(Xi);xr.value=(xr.__value="4")==null?"":"4";var Ge=v(xr);Ge.value=(Ge.__value="5")==null?"":"5";var Xe=v(Ge);Xe.value=(Xe.__value="6")==null?"":"6";var eo=v(Xe);eo.value=(eo.__value="7")==null?"":"7";var Et=v(eo);Et.value=(Et.__value="8")==null?"":"8",_(_i);var xo=v(_i,2);xo.__change=Ma;var Eo=m(xo);Eo.value=(Eo.__value="solid")==null?"":"solid";var Vo=v(Eo);Vo.value=(Vo.__value="dashed")==null?"":"dashed";var $o=v(Vo);$o.value=($o.__value="dotted")==null?"":"dotted",_(xo),Re(()=>{lt($i,"style",`background-color: ${j.color??""};`),Un(_i,`px-1 py-1 text-xs border rounded-md cursor-pointer\\n                 ${(r().theme==="dark"?"bg-[#2C2C2C] border-[#3A3A3A] text-white":"bg-white border-gray-300 text-gray-900")??""} touch-manipulation\\n                 w-[64px] h-[28px] svelte-xte2q6`),Un(xo,`px-1 py-1 text-xs border rounded-md cursor-pointer\\n                 ${(r().theme==="dark"?"bg-[#2C2C2C] border-[#3A3A3A] text-white":"bg-white border-gray-300 text-gray-900")??""} touch-manipulation\\n                 w-[72px] h-[28px] svelte-xte2q6`)}),qt(_i,()=>j.thickness,un=>j.thickness=un),qt(xo,()=>j.style,un=>j.style=un),N(ji,Ai)}),Re(()=>{Un(Lo,`drag-handle cursor-grab hover:cursor-grabbing flex items-center justify-center 
                 w-6 h-6 rounded ${(r().theme==="dark"?"hover:bg-gray-700":"hover:bg-gray-100")??""} transition-colors
                 touch-manipulation svelte-xte2q6`),Un(fs,`w-0.5 h-0.5 ${(r().theme==="dark"?"bg-gray-500":"bg-gray-400")??""} rounded-full`)}),N(Rt,To)},Rt=>{var To=FM(),Lo=m(To),Mo=m(Lo,!0);_(Lo);var Fn=v(Lo,2),fs=v(m(Fn),2);ut(fs),fs.__input=[EM,wl];var si=v(fs,2),ji=m(si,!0);_(si),_(Fn),_(To),Re(()=>{var Ai,$i,_i,br,bs,Xi,xr,Ge;wt(Mo,(($i=(Ai=i(A))==null?void 0:Ai.extendData)==null?void 0:$i.emoji)||"ðŸ˜€"),Ud(fs,((br=(_i=i(A))==null?void 0:_i.extendData)==null?void 0:br.size)||24),lt(fs,"title",`Emoji size: ${(((Xi=(bs=i(A))==null?void 0:bs.extendData)==null?void 0:Xi.size)||24)??""}px`),wt(ji,((Ge=(xr=i(A))==null?void 0:xr.extendData)==null?void 0:Ge.size)||24)}),N(Rt,To)});var Ht=v(ft,2);xe(Ht,()=>{var Rt;return((Rt=i(A))==null?void 0:Rt.name)==="fibonacciSegment"},Rt=>{var To=$M();To.__click=[jM,Vr];var Lo=m(To);_(To),Re(()=>{Un(To,`w-8 h-8 rounded ${(r().theme==="dark"?"hover:bg-blue-900":"hover:bg-blue-100")??""} transition-colors duration-200
                 flex items-center justify-center svelte-xte2q6`),Vg(Lo,`w-4 h-4 ${(r().theme==="dark"?"text-gray-300":"text-gray-600")??""} hover:text-blue-500`)}),N(Rt,To)});var jt=v(Ht,2);jt.__click=[BM,Qa,D,M];var go=m(jt);_(jt),_(We),Re(()=>{Un(We,`context-menu-container fixed z-50 rounded-md shadow-lg flex items-center gap-2\\n           ${(r().theme==="dark"?"bg-[#2B2B2B] border border-[#3F3F3F]":"bg-white border border-gray-200")??""} ${(i(F)?"cursor-grabbing":"")??""}\\n           px-2 py-1 sm:px-3 sm:py-1\\n           max-w-[85vw] sm:max-w-none svelte-xte2q6`),lt(We,"data-theme",r().theme),lt(We,"style",`left: ${i(B).x??""}px; 
           top: ${i(B).y??""}px;`),Un(jt,`w-8 h-8 rounded ${(r().theme==="dark"?"hover:bg-red-900":"hover:bg-red-100")??""} transition-colors duration-200
               flex items-center justify-center svelte-xte2q6`),Vg(go,`w-4 h-4 ${(r().theme==="dark"?"text-gray-300":"text-gray-600")??""} hover:text-red-500`)}),N(ge,We)});var ni=v(ps,2);xe(ni,()=>i(T)&&i(M),ge=>{var We=RM();We.__click=Qa,Re(()=>lt(We,"style",`left: ${i(M).x??""}px; top: ${i(M).y??""}px;`)),N(ge,We)});var Zi=v(ni,2);Qc(Zi,{get selectedColor(){return j.color},set selectedColor(ge){j.color=ge},get opacity(){return j.opacity},set opacity(ge){j.opacity=ge},get show(){return i(re)},set show(ge){b(re,$(ge))},$$events:{colorChange:xl,opacityChange:Gr,close:Kl}});var ui=v(Zi,2);xe(ui,()=>i(Ne)&&i(we),ge=>{var We=VM();const ft=tt(()=>i(Te).x??""),Ht=tt(()=>i(Te).y??""),jt=tt(()=>J.textColor??""),go=tt(()=>(J.backgroundColor&&J.backgroundColor.length===7?`${J.backgroundColor}33`:J.backgroundColor)??""),Rt=tt(()=>J.fontSize??""),To=tt(()=>J.fontWeight??""),Lo=tt(()=>J.fontFamily??""),Mo=tt(()=>Math.round(J.fontSize*1.4)??""),Fn=tt(()=>{var Ai,$i;return(($i=(Ai=i(A))==null?void 0:Ai.extendData)==null?void 0:$i.boxWidth)??Math.max(24,Math.floor(i(Se).length*(J.fontSize*.6)))??""}),fs=tt(()=>Math.round(J.fontSize*1.4)??""),si=tt(()=>`
      left: ${i(ft)}px;
      top: ${i(Ht)}px;
      transform: translate(0, -50%);
      color: ${i(jt)};
      background: ${i(go)};
      border: 1px solid #1677FF;
      font-size: ${i(Rt)}px;
      font-weight: ${i(To)};
      font-family: ${i(Lo)};
      padding: 4px 8px;
      white-space: pre-wrap;
      word-break: break-word;
      line-height: ${i(Mo)}px;
      text-align: left;
      display: inline-block;
      min-width: ${i(Fn)}px;
      min-height: ${i(fs)}px;
      user-select: text;
    `);lt(We,"dir","ltr"),We.__keydown=[NM,be],We.__input=[zM,ye,we,n,yo,Ue,le,je,J,A];var ji=m(We,!0);_(We),Al(We,Ai=>b(je,Ai),()=>i(je)),Re(()=>{var Ai,$i;lt(We,"style",i(si)),wt(ji,(($i=(Ai=i(A))==null?void 0:Ai.extendData)==null?void 0:$i.text)??""),We.dir=We.dir}),$a("blur",We,()=>Je()),N(ge,We)});var pr=v(ui,2);JP(pr,{get show(){return i(se)},set show(ge){b(se,$(ge))},get position(){return i(ie)},set position(ge){b(ie,$(ge))},$$events:{select:Oa}});var Hr=v(pr,2);return aM(Hr,{get visible(){return i(me)},set visible(ge){b(me,$(ge))},get levels(){return i(ke)},set levels(ge){b(ke,$(ge))},get theme(){return r().theme},$$events:{levelChange:ge=>pt(ge.detail.index,ge.detail.field,ge.detail.value),reset:tl,confirm:Ra,cancel:ol}}),N(o,Vi),Mr({addOverlay:zi,clickRemove:Qa,externalSelectOverlay:Vt,externalDeselectOverlay:Tt,externalSyncOverlay:Co,externalRemoved:Ro,createTextDrawing:Tn,updateTextDrawing:jo,deleteTextDrawing:En,setSelectedDrawing:mo,enterEditMode:Es,exitEditMode:zn})}Pa(["click","touchstart","touchend","mousedown","change","input","keydown"]);const gb={mode:"none",playing:!1,speed:1,depositAmount:1e5,leverage:null,currency:"USD",balance:1e5,positions:[],history:[],sidebarOpen:!1,pendingOrders:[],onboardingDone:!1},dc=bc(gb);function _b(){dc.set(gb)}function mb(o){var t;const e=o.priceCurrency||((t=o.exchange)!=null&&t.toUpperCase().includes("DSE")?"BDT":"USD");dc.update(n=>({...n,currency:e}))}function hb(o){dc.update(e=>({...e,currency:o}))}function yb(o){dc.update(e=>({...e,depositAmount:o,balance:o}))}function bb(o){dc.update(e=>({...e,leverage:o}))}function xb(o){dc.update(e=>({...e,onboardingDone:o}))}function wb(o){dc.update(e=>({...e,mode:o}))}function E0(o){dc.update(e=>({...e,playing:o}))}function Oh(o){if(dc.update(e=>({...e,speed:o})),typeof window<"u"&&window.setPlaybackSpeed)try{window.setPlaybackSpeed(o)}catch{}}function kb(o){dc.update(e=>({...e,positions:[...e.positions,o],balance:e.balance-o.avgCost*o.quantity}))}function GM(o,e,t){dc.update(n=>{const s=n.positions.findIndex(h=>h.id===o);if(s===-1)return n;const r=n.positions[s],a=Math.min(e,r.quantity),c=(t-r.avgCost)*a*(r.leverage||1),d=r.quantity-a,u=[...n.positions];d>0?u[s]={...r,quantity:d}:u.splice(s,1);const p={id:o,symbol:r.symbol,quantity:a,avgCost:r.avgCost,closedAvg:t,pnl:c,closedAt:Date.now()};return{...n,positions:u,history:[p,...n.history],balance:n.balance+t*a+c}})}function HM(o){dc.update(e=>({...e,pendingOrders:[...e.pendingOrders||[],o]}))}function zm(o){dc.update(e=>({...e,pendingOrders:(e.pendingOrders||[]).filter(t=>t.id!==o)}))}function J1(o,e,t){e(!1),o.stopPropagation(),t.click&&t.click("close")}var UM=o=>o.stopPropagation(),YM=(o,e,t)=>e(i(t)),KM=ue("<button> </button>"),ZM=ue('<div class="modal-action px-4 sm:px-6 py-4 sm:py-5 border-t modal-footer svelte-1a6y34w"><div class="flex flex-col sm:flex-row gap-2 sm:gap-3 justify-end w-full"></div></div>'),XM=ue('<div class="fixed inset-0 z-[70] flex items-center justify-center px-3 sm:px-4 md:px-6 animate-in fade-in duration-200 modal-overlay svelte-1a6y34w"><div><div class="relative px-4 sm:px-6 py-4 sm:py-5 border-b modal-header svelte-1a6y34w"><div class="flex justify-between items-center gap-4"><div class="flex items-center gap-3 min-w-0 flex-1"><div class="icon-badge svelte-1a6y34w"><svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div> <h3 class="font-bold text-lg sm:text-xl md:text-2xl tracking-tight text-base-content truncate"> </h3></div> <button class="close-btn flex-shrink-0 svelte-1a6y34w" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 sm:w-6 sm:h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12"></path></svg></button></div></div> <div><!></div> <!></div></div>');function nd(o,e){Pr(e,!0);let t=Po(e,"width",3,600),n=Po(e,"maxWidth",3,"min(600px, 95vw)"),s=Po(e,"maxHeight",3,"90vh"),r=Po(e,"title",3,""),a=Po(e,"buttons",19,()=>["confirm"]),c=Po(e,"show",15,!1),d=Po(e,"center",3,!1),u=Po(e,"class",3,""),p=Po(e,"theme",3,"dark");function h(S){S==="close"&&c(!1),e.click&&e.click(S)}function x(S){switch(S){case"confirm":return"btn-primary";case"cancel":return"btn-ghost";default:return"btn-secondary"}}var w=yt(),k=nt(w);xe(k,c,S=>{var M=XM();M.__click=[J1,c,e];var T=m(M);T.__click=[UM];var D=m(T),A=m(D),j=m(A),F=v(m(j),2),q=m(F,!0);_(F),_(j);var B=v(j,2);B.__click=[J1,c,e],_(A),_(D);var O=v(D,2),z=m(O);xe(z,()=>e.children,G=>{var oe=yt(),re=nt(oe);Xx(re,()=>e.children),N(G,oe)}),_(O);var Y=v(O,2);xe(Y,()=>a().length>0,G=>{var oe=ZM(),re=m(oe);Qo(re,21,a,ln,(se,ie)=>{var te=KM();const K=tt(()=>`btn-premium ${x(i(ie))??""} w-full sm:w-auto sm:min-w-[120px] svelte-1a6y34w`);te.__click=[YM,h,ie];var J=m(te,!0);Re(()=>wt(J,_d[i(ie)]())),_(te),Re(()=>Un(te,i(K))),N(se,te)}),_(re),_(oe),N(G,oe)}),_(T),_(M),Re(()=>{Un(T,`relative rounded-3xl shadow-luxury animate-in zoom-in-95 duration-300 overflow-hidden flex flex-col modal-container ${u()??""} svelte-1a6y34w`),lt(T,"data-theme",p()),lt(T,"style",`width: ${(typeof t()=="string"?t():t()+"px")??""}; max-width: ${n()??""}; max-height: ${s()??""};`),wt(q,r()),Un(O,`flex-1 overflow-y-auto premium-scrollbar ${(d()?"flex justify-center items-center":"")??""} px-4 sm:px-6 py-4 sm:py-5 svelte-1a6y34w`)}),N(S,M)}),N(o,w),Mr()}Pa(["click"]);const JM="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Sb=(o=21)=>{let e="",t=crypto.getRandomValues(new Uint8Array(o|=0));for(;o--;)e+=JM[t[o]&63];return e};/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2023 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const QM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var eT=Ln("<svg><!><!></svg>");function Yl(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]),n=Ll(t,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Pr(e,!1);let s=Po(e,"name",8,void 0),r=Po(e,"color",8,"currentColor"),a=Po(e,"size",8,24),c=Po(e,"strokeWidth",8,2),d=Po(e,"absoluteStrokeWidth",8,!1),u=Po(e,"iconNode",24,()=>[]);const p=(...D)=>D.filter((A,j,F)=>!!A&&F.indexOf(A)===j).join(" "),h=T0(),[x,w]=h;wc();var k=eT();let S;var M=m(k);Qo(M,1,u,ln,(D,A)=>{let j=()=>i(A)[0],F=()=>i(A)[1];var q=yt(),B=nt(q);const O=hc(()=>`${j()}`=="button"?w({...F()},[{attribute_name:"formaction"}]):`${j()}`=="form"?w({...F()},[{attribute_name:"action"}]):`${j()}`=="a"?w({...F()},[{attribute_name:"href",lang_attribute_name:"hreflang"}]):{...F()});t6(B,j,!0,(z,Y)=>{let G;Re(()=>G=i1(z,G,{...i(O)},void 0,z.namespaceURI===I2,z.nodeName.includes("-")))}),N(D,q)});var T=v(M);zl(T,e,"default",{}),_(k),Re(()=>S=i1(k,S,{...QM,...n,width:a(),height:a(),stroke:r(),"stroke-width":d()?Number(c())*24/Number(a()):c(),class:p("lucide-icon","lucide",s()?`lucide-${s()}`:"",t.class)},void 0,!0)),N(o,k),Mr()}function tT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"banknote"},()=>t,{iconNode:[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"}],["circle",{cx:"12",cy:"12",r:"2"}],["path",{d:"M6 12h.01M18 12h.01"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function oT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"camera"},()=>t,{iconNode:[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z"}],["circle",{cx:"12",cy:"13",r:"3"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function nT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"clock"},()=>t,{iconNode:[["path",{d:"M12 6v6l4 2"}],["circle",{cx:"12",cy:"12",r:"10"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function sT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"code-xml"},()=>t,{iconNode:[["path",{d:"m18 16 4-4-4-4"}],["path",{d:"m6 8-4 4 4 4"}],["path",{d:"m14.5 4-5 16"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function iT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"download"},()=>t,{iconNode:[["path",{d:"M12 15V3"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["path",{d:"m7 10 5 5 5-5"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function rT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"flask-conical"},()=>t,{iconNode:[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2"}],["path",{d:"M6.453 15h11.094"}],["path",{d:"M8.5 2h7"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function aT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"gauge"},()=>t,{iconNode:[["path",{d:"m12 14 4-4"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function lT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"log-out"},()=>t,{iconNode:[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function cT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"maximize"},()=>t,{iconNode:[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function dT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"minimize"},()=>t,{iconNode:[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function uT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"moon"},()=>t,{iconNode:[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function vT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"pause"},()=>t,{iconNode:[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function pT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"play"},()=>t,{iconNode:[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function fT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"save"},()=>t,{iconNode:[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function gT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"search"},()=>t,{iconNode:[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function _T(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"settings"},()=>t,{iconNode:[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function mT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"sun"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function hT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"trending-up"},()=>t,{iconNode:[["path",{d:"M16 7h6v6"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function yT(o,e){const t=Ll(e,["children","$$slots","$$events","$$legacy"]);Yl(o,Ul({name:"wallet"},()=>t,{iconNode:[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"}]],children:(s,r)=>{var a=yt(),c=nt(a);zl(c,e,"default",{}),N(s,a)},$$slots:{default:!0}}))}function bT(o,e,t,n){hb(i(e)),yb(Math.max(0,Number(i(t))||0)),b(n,2)}function xT(){var o;try{(o=window.predictNextCandle)==null||o.call(window)}catch{}E0(!0)}function wT(o){Oh(parseFloat(o.target.value))}function kT(o,e,t,n,s){var d,u;if(!(typeof window<"u"?window.confirm("Exit simulator?"):!0))return;e();const a=t().positions;for(const p of a){try{p.lineOverlayId&&((d=n())==null||d.removeOverlay({id:p.lineOverlayId}))}catch{}try{p.noteOverlayId&&((u=n())==null||u.removeOverlay({id:p.noteOverlayId}))}catch{}}_b();const c=window.sidebarHostRef;c&&c.closeSidebar&&c.closeSidebar()}function ST(o,e,t,n,s,r,a,c){b(e,!0),b(t,"instant"),b(n,1),b(s,null),b(r,1),b(a,null),b(c,null)}function CT(o,e,t,n,s,r,a,c,d,u,p,h,x){var F,q;b(e,null);const w=i(t),k=Math.max(0,Number(i(n))||0);if(k<=0||w<=0){b(e,"Invalid quantity");return}if(!s(k,w)){b(e,"Quantity exceeds balance");return}r();const S=Sb(),M=a(),T=(F=c())==null?void 0:F.createOverlay({name:"horizontalStraightLine",points:[{value:w}],styles:{line:{style:de.Dashed,size:1}}}),D=(q=c())==null?void 0:q.createOverlay({name:"note",points:[{timestamp:M,value:w}],extendData:{in_text:"BUY",in_color:"#10b981",line_color:"#10b981"}}),A=Array.isArray(T)?T[0]??void 0:T??void 0,j=Array.isArray(D)?D[0]??void 0:D??void 0;kb({id:S,symbol:u().symbol,quantity:k,avgCost:w,leverage:h().leverage,openedAt:Date.now(),lineOverlayId:A,noteOverlayId:j}),b(x,!1)}function IT(o,e,t,n,s,r,a,c,d,u,p,h,x){var F,q;b(e,null);const w=Math.max(0,Number(i(t))||0),k=Math.max(0,Number(i(n))||0);if(k<=0||w<=0){b(e,"Quantity exceeds balance or invalid price");return}if(!s(k,w)){b(e,"Quantity exceeds balance or invalid price");return}const S=Sb(),M=w>=i(r),T=(F=a())==null?void 0:F.createOverlay({name:"horizontalStraightLine",points:[{value:w}],styles:{line:{style:de.Dashed,size:1}}}),D=(q=a())==null?void 0:q.createOverlay({name:"note",points:[{timestamp:d(),value:w}],extendData:{in_text:"PENDING",in_color:"#f59e0b",line_color:"#f59e0b"}}),A=Array.isArray(T)?T[0]??void 0:T??void 0,j=Array.isArray(D)?D[0]??void 0:D??void 0;HM({id:S,symbol:u().symbol,quantity:k,price:w,leverage:h().leverage,createdAt:Date.now(),triggerUp:M,lineOverlayId:A,noteOverlayId:j}),b(x,!1)}var PT=ue("<option> </option>"),MT=ue('<div class="grid grid-cols-1 sm:grid-cols-3 gap-2 items-end w-full"><div class="flex flex-col gap-1"><div class="text-xs opacity-80">Currency</div> <select class="select select-bordered select-sm"></select></div> <input class="input input-bordered input-sm" type="number" min="0" placeholder="Deposit"> <button class="btn btn-sm btn-premium-primary svelte-112gz12" type="button">Confirm Deposit</button></div>'),TT=(o,e)=>b(e,!0),AT=(o,e)=>b(e,!1),DT=ue('<div class="flex items-center gap-2 w-full"><select class="select select-bordered select-sm"><option>1:50</option><option>1:100</option><option>1:200</option><option>1:400</option><option>1:500</option></select> <button class="btn btn-sm btn-premium-primary svelte-112gz12" type="button">Confirm</button></div>'),LT=(o,e,t)=>{b(e,null),t()},ET=ue('<button class="btn btn-sm btn-premium-outline svelte-112gz12" type="button">Confirm</button>'),FT=ue('<div class="space-y-2 w-full"><div class="text-sm">Take leverage?</div> <div class="flex items-center gap-2 w-full"><label class="label cursor-pointer"><input type="radio" name="lev" class="radio radio-sm"> <span class="label-text ml-2">Yes</span></label> <label class="label cursor-pointer"><input type="radio" name="lev" class="radio radio-sm"> <span class="label-text ml-2">No</span></label></div> <!></div>'),jT=ue('<span class="text-success"> </span>'),$T=ue('<span class="text-error"> </span>'),BT=ue("<span>No trades</span>"),OT=ue('<button class="btn btn-sm btn-premium-outline svelte-112gz12" type="button"><!></button>'),RT=ue('<button class="btn btn-sm btn-premium-primary svelte-112gz12" type="button"><!></button>'),NT=(o,e)=>Oh(e),zT=ue('<button type="button"> </button>'),VT=(o,e)=>b(e,"portfolio"),qT=(o,e)=>b(e,"history"),WT=(o,e,t)=>e(i(t)),GT=ue('<div class="flex items-center justify-between text-sm mt-2 gap-2"><div class="flex items-center gap-2 min-w-0"><div class="badge badge-outline truncate"> </div> <div class="truncate"> </div> <div class="truncate"> </div></div> <div class="flex items-center gap-2"><button class="btn btn-sm btn-premium-ghost svelte-112gz12" type="button">Cancel</button></div></div>'),HT=ue('<div class="card lux-card shadow w-full mb-3 svelte-112gz12"><div class="card-body p-3 min-w-0"><div class="text-sm font-semibold">Pending Orders</div> <!></div></div>'),UT=(o,e,t)=>{b(e,""),b(t,0)},YT=ue('<button class="btn btn-xs btn-premium-ghost svelte-112gz12" type="button">Cancel</button>'),KT=(o,e,t)=>e(i(t).id),ZT=ue('<button class="btn btn-xs btn-premium-outline svelte-112gz12" type="button">Sell</button>'),XT=(o,e)=>e(!0),JT=(o,e)=>e(!1),QT=ue('<div class="sell-panel w-full mt-2 space-y-3 svelte-112gz12"><div class="sell-section svelte-112gz12"><div class="flex items-center justify-between"><div class="text-xs opacity-70"> </div> <button class="btn btn-sm btn-premium-primary svelte-112gz12" type="button">Close All</button></div></div> <div class="sell-section svelte-112gz12"><div class="text-xs opacity-70 mb-2">Close partial position</div> <div class="flex items-center gap-2"><input class="input input-bordered input-sm flex-1" type="number" min="0" placeholder="Partial qty"> <button class="btn btn-sm btn-premium-outline svelte-112gz12" type="button">Confirm Partial</button></div> <div class="mt-2 text-xs opacity-70 flex items-center justify-between"><span> </span> <span> </span></div></div></div>'),eA=ue('<div class="card lux-card shadow w-full mb-2 svelte-112gz12"><div class="card-body p-3 min-w-0"><div class="flex items-center justify-between"><div class="flex items-center gap-2 text-sm min-w-0"><div class="badge badge-outline truncate"> </div> <div class="truncate"> </div> <div class="truncate"> </div> <div class="truncate"> </div></div> <div class="flex items-center gap-2"><div> </div> <!></div></div> <!></div></div>'),tA=ue("<!> <!>",1),oA=ue('<div class="card trade-card shadow w-full mb-2 svelte-112gz12"><div class="card-body p-3 text-sm min-w-0"><div class="flex items-center justify-between"><div class="flex items-center gap-2 min-w-0"><div class="badge badge-outline truncate"> </div> <div class="truncate"> </div></div> <div> </div></div> <div class="mt-1 truncate"> </div></div></div>'),nA=ue('<div class="card history-summary-card shadow w-full mb-2 svelte-112gz12"><div class="card-body p-3 min-w-0"><div class="grid grid-cols-3 gap-2 items-stretch"><div class="summary-tile win svelte-112gz12"><div class="summary-title svelte-112gz12">Winning</div> <div class="summary-values svelte-112gz12"><div class="badge badge-success text-[10px]"> </div> <div class="summary-amount svelte-112gz12"> </div></div></div> <div class="summary-tile loss svelte-112gz12"><div class="summary-title svelte-112gz12">Losing</div> <div class="summary-values svelte-112gz12"><div class="badge badge-error text-[10px]"> </div> <div class="summary-amount svelte-112gz12"> </div></div></div> <div><div class="summary-title svelte-112gz12">Net</div> <div class="summary-values svelte-112gz12"><div class="summary-amount svelte-112gz12"> </div></div></div></div></div></div> <!>',1),sA=ue('<div class="exit-bar svelte-112gz12"><div class="exit-copy svelte-112gz12">Practice live trading. Check your predictions and improve.</div> <button class="btn btn-sm btn-premium-danger exit-cta svelte-112gz12" type="button"><!> Exit</button></div> <div class="mini-stack grid grid-cols-1 gap-2 w-full svelte-112gz12"><div class="card glass lux-card shadow overflow-hidden mini-tile deposit-tile svelte-112gz12"><div class="card-body p-3 min-w-0 svelte-112gz12"><div class="flex items-center gap-3 w-full"><div class="tile-icon svelte-112gz12"><div class="icon-wrap svelte-112gz12"><!></div></div> <div class="flex-1 min-w-0 tile-content svelte-112gz12"><div class="tile-title svelte-112gz12">Deposit</div> <div class="metric-value font-extrabold truncate whitespace-nowrap svelte-112gz12"> </div> <div class="tile-sub truncate svelte-112gz12"> </div></div></div></div></div> <div class="card glass lux-card shadow overflow-hidden mini-tile investment-tile svelte-112gz12"><div class="card-body p-3 min-w-0 svelte-112gz12"><div class="flex items-center gap-3 w-full"><div class="tile-icon svelte-112gz12"><div class="icon-wrap svelte-112gz12"><!></div></div> <div class="flex-1 min-w-0 tile-content svelte-112gz12"><div class="tile-title svelte-112gz12">Investment <span class="badge badge-outline text-[9px] ml-1"> </span></div> <div class="metric-value font-extrabold truncate whitespace-nowrap svelte-112gz12"> </div> <div class="tile-sub truncate svelte-112gz12"><!></div></div></div></div></div> <div class="card glass lux-card shadow overflow-hidden mini-tile available-tile svelte-112gz12"><div class="card-body p-3 min-w-0 svelte-112gz12"><div class="flex items-center gap-3 w-full"><div class="tile-icon svelte-112gz12"><div class="icon-wrap svelte-112gz12"><!></div></div> <div class="flex-1 min-w-0 tile-content svelte-112gz12"><div class="tile-title svelte-112gz12">Available</div> <div class="metric-value font-extrabold truncate whitespace-nowrap svelte-112gz12"> </div> <div class="tile-sub truncate svelte-112gz12"> </div></div></div></div></div></div> <div class="card speed-card w-full svelte-112gz12"><div class="card-body p-4"><div class="speed-header flex items-center justify-between svelte-112gz12"><div class="flex items-center gap-2"><div class="speed-icon svelte-112gz12"><!></div> <div class="speed-title svelte-112gz12">Playback Speed</div></div> <div class="speed-badge svelte-112gz12"> </div></div> <div class="mt-3 flex items-center gap-3"><input type="range" min="0.5" max="10" step="0.5" class="speed-range flex-1 svelte-112gz12"> <!></div> <div class="mt-2 speed-chips svelte-112gz12"></div></div></div> <div class="card trade-action-card w-full overflow-hidden svelte-112gz12"><div class="card-body p-4 min-w-0"><div class="flex items-center justify-between"><div><div class="text-xs opacity-70">Current Price</div> <div class="metric-value font-extrabold truncate whitespace-nowrap svelte-112gz12"> </div></div> <div class="badge badge-success badge-outline">LIVE</div></div> <div class="mt-3"><button class="btn btn-premium-primary w-full svelte-112gz12" type="button">Buy Stock</button></div></div></div> <div class="tabs tabs-boxed w-full mt-3 gap-3 svelte-112gz12"><button type="button">Portfolio</button> <button type="button">History</button></div> <!>',1),iA=(o,e)=>b(e,"instant"),rA=(o,e)=>b(e,"pending"),aA=ue('<div class="text-error text-xs mt-1"> </div>'),lA=ue('<div class="space-y-2"><div class="card buy-card svelte-112gz12"><div class="card-body p-3"><div class="flex items-center justify-between"><div class="text-xs opacity-70">Current Price</div> <div class="metric-value font-bold truncate whitespace-nowrap svelte-112gz12"> </div></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 items-end mt-2"><input class="input input-bordered input-sm" type="number" min="0" placeholder="Quantity"> <button class="btn btn-sm btn-premium-primary w-full svelte-112gz12" type="button">Confirm Buy</button></div> <!></div></div></div>'),cA=ue('<div class="text-error text-xs"> </div>'),dA=ue('<div class="space-y-2"><div class="grid grid-cols-2 gap-2 items-end"><input class="input input-bordered input-sm" type="number" min="0" placeholder="Custom Price"> <input class="input input-bordered input-sm" type="number" min="0" placeholder="Quantity"></div> <button class="btn btn-sm btn-premium-primary w-full svelte-112gz12" type="button">Place Pending Buy</button> <!></div>'),uA=ue('<div class="space-y-3"><div class="flex items-center gap-2"><div class="badge badge-outline">Mode</div> <label class="label cursor-pointer"><input type="radio" name="buyMode" class="radio radio-sm"> <span class="label-text ml-2">Instant</span></label> <label class="label cursor-pointer"><input type="radio" name="buyMode" class="radio radio-sm"> <span class="label-text ml-2">Pending</span></label></div> <!></div>'),vA=ue('<div class="p-4 space-y-4 w-full box-border"><!></div> <!>',1);function pA(o,e){Pr(e,!0);const t=El(),n=()=>ti(dc,"$simulator",t),s=()=>ti(c,"$save",t),r=()=>ti(a,"$chart",t),a=ur("chart"),c=ur("save");let d=Z($(n().depositAmount)),u=Z($(n().currency||s().symbol.priceCurrency||"USD")),p=Z(!1),h=Z(null),x=Z($(n().onboardingDone?3:1)),w=Z(0),k=null,S=Z(0),M=Z(""),T=Z("portfolio"),D=Z(!1),A=Z("instant"),j=Z(null),F=Z(1),q=Z(1),B=Z(null),O=Z(null);const z=tt(()=>(n().positions||[]).length>0),Y=tt(()=>(n().positions||[]).reduce((Be,le)=>Be+(i(w)-le.avgCost)*le.quantity*(le.leverage||1),0)),G=tt(()=>n().history||[]),oe=tt(()=>i(G).filter(Be=>(Be.pnl??0)>0).length),re=tt(()=>i(G).filter(Be=>(Be.pnl??0)<0).length),se=tt(()=>i(G).reduce((Be,le)=>Be+((le.pnl??0)>0?le.pnl??0:0),0)),ie=tt(()=>i(G).reduce((Be,le)=>Be+((le.pnl??0)<0?Math.abs(le.pnl??0):0),0)),te=tt(()=>i(se)-i(ie)),K=tt(()=>((n().speed||.5)-.5)/9.5*100);function J(){var le;const Be=((le=r())==null?void 0:le.getDataList())||[];return Be.length===0?0:Be[Be.length-1].close}function U(){var le;const Be=((le=r())==null?void 0:le.getDataList())||[];return Be.length===0?Date.now():Be[Be.length-1].timestamp}function ae(){bb(i(p)?i(h)||100:null),b(x,3),xb(!0)}function me(){var Be;try{(Be=window.stopPrediction)==null||Be.call(window)}catch{}E0(!1)}function ke(){k||(k=setInterval(()=>{var X,H,Ce,Qe,mt;const Be=((X=r())==null?void 0:X.getDataList())||[],le=Be.length>0?Be[Be.length-1]:null,ye=le?le.close??0:0,Ee=le?le.high??ye:ye,Je=le?le.low??ye:ye;b(w,$(ye));const be=[...n().pendingOrders||[]];for(const bt of be)if(bt.triggerUp?Ee>=bt.price:Je<=bt.price){const yo=n().leverage||1;if(bt.price*bt.quantity/yo<=n().balance){if(bt.lineOverlayId)try{(H=r())==null||H.removeOverlay({id:bt.lineOverlayId})}catch{}if(bt.noteOverlayId)try{(Ce=r())==null||Ce.removeOverlay({id:bt.noteOverlayId})}catch{}zm(bt.id);const to=U(),io=(Qe=r())==null?void 0:Qe.createOverlay({name:"horizontalStraightLine",points:[{value:bt.price}],styles:{line:{style:de.Dashed,size:1}}}),ro=(mt=r())==null?void 0:mt.createOverlay({name:"note",points:[{timestamp:to,value:bt.price}],extendData:{in_text:"BUY",in_color:"#10b981",line_color:"#10b981"}}),Uo=Array.isArray(io)?io[0]??void 0:io??void 0,an=Array.isArray(ro)?ro[0]??void 0:ro??void 0;kb({id:bt.id,symbol:bt.symbol,quantity:bt.quantity,avgCost:bt.price,leverage:bt.leverage,openedAt:Date.now(),lineOverlayId:Uo,noteOverlayId:an})}else zm(bt.id)}},300))}function Ae(){k&&(clearInterval(k),k=null)}yc(()=>{b(w,$(J()))}),Ds(()=>{n().playing?ke():Ae()});function Le(Be,le){const ye=n().leverage||1;return le*Be/ye<=n().balance}function He(Be){var le,ye;try{Be.lineOverlayId&&((le=r())==null||le.removeOverlay({id:Be.lineOverlayId}))}catch{}try{Be.noteOverlayId&&((ye=r())==null||ye.removeOverlay({id:Be.noteOverlayId}))}catch{}zm(Be.id)}function it(Be){b(M,$(Be)),b(S,0),b(T,"portfolio")}function Ne(Be){var Je,be;const le=n().positions.find(X=>X.id===i(M));if(!le)return;const ye=J(),Ee=Be?le.quantity:Math.min(le.quantity,Math.max(0,Number(i(S))||0));if(!(Ee<=0)){if(GM(le.id,Ee,ye),Ee===le.quantity){try{le.lineOverlayId&&((Je=r())==null||Je.removeOverlay({id:le.lineOverlayId}))}catch{}try{le.noteOverlayId&&((be=r())==null||be.removeOverlay({id:le.noteOverlayId}))}catch{}}b(M,""),b(S,0)}}function we(Be){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:n().currency||"USD",maximumFractionDigits:2}).format(Be)}catch{return`${Be.toFixed(2)} ${n().currency||""}`}}var je=vA(),Te=nt(je),Se=m(Te);xe(Se,()=>i(x)===1,Be=>{var le=MT(),ye=m(le),Ee=v(m(ye),2);Qo(Ee,21,()=>fb,ln,(X,H)=>{var Ce=PT(),Qe={},mt=m(Ce,!0);_(Ce),Re(()=>{Qe!==(Qe=i(H))&&(Ce.value=(Ce.__value=i(H))==null?"":i(H)),wt(mt,i(H))}),N(X,Ce)}),_(Ee),_(ye);var Je=v(ye,2);ut(Je);var be=v(Je,2);be.__click=[bT,u,d,x],_(le),qt(Ee,()=>i(u),X=>b(u,X)),Mt(Je,()=>i(d),X=>b(d,X)),N(Be,le)},Be=>{var le=yt(),ye=nt(le);xe(ye,()=>i(x)===2,Ee=>{var Je=FT(),be=v(m(Je),2),X=m(be),H=m(X);ut(H),H.__click=[TT,p],ei(2),_(X);var Ce=v(X,2),Qe=m(Ce);ut(Qe),Qe.__click=[AT,p],ei(2),_(Ce),_(be);var mt=v(be,2);xe(mt,()=>i(p),bt=>{var ct=DT(),yo=m(ct),Kt=m(yo);Kt.value=(Kt.__value=50)==null?"":50;var to=v(Kt);to.value=(to.__value=100)==null?"":100;var io=v(to);io.value=(io.__value=200)==null?"":200;var ro=v(io);ro.value=(ro.__value=400)==null?"":400;var Uo=v(ro);Uo.value=(Uo.__value=500)==null?"":500,_(yo);var an=v(yo,2);an.__click=ae,_(ct),qt(yo,()=>i(h),Mn=>b(h,Mn)),N(bt,ct)},bt=>{var ct=ET();ct.__click=[LT,h,ae],N(bt,ct)}),_(Je),Re(()=>{Yd(H,i(p)),Yd(Qe,!i(p))}),N(Ee,Je)},Ee=>{var Je=sA(),be=nt(Je),X=v(m(be),2);X.__click=[kT,me,n,r,a];var H=m(X);lT(H,{size:16}),ei(),_(X),_(be);var Ce=v(be,2),Qe=m(Ce),mt=m(Qe),bt=m(mt),ct=m(bt),yo=m(ct),Kt=m(yo);yT(Kt,{size:14}),_(yo),_(ct);var to=v(ct,2),io=v(m(to),2);Re(()=>lt(io,"title",we(n().depositAmount)));var ro=m(io,!0);Re(()=>wt(ro,we(n().depositAmount))),_(io);var Uo=v(io,2),an=m(Uo);Re(()=>wt(an,`${we(n().depositAmount)??""} â€¢ ${n().currency??""}`)),_(Uo),_(to),_(bt),_(mt),_(Qe);var Mn=v(Qe,2),uo=m(Mn),Do=m(uo),Zt=m(Do),Go=m(Zt),cn=m(Go);hT(cn,{size:14}),_(Go),_(Zt);var sn=v(Zt,2),Tr=m(sn),zi=v(m(Tr)),Ki=m(zi);_(zi),_(Tr);var wa=v(Tr,2);Re(()=>lt(wa,"title",we((n().positions||[]).reduce((Vt,Tt)=>Vt+Tt.avgCost*Tt.quantity,0))));var Ei=m(wa,!0);Re(()=>wt(Ei,we((n().positions||[]).reduce((Vt,Tt)=>Vt+Tt.avgCost*Tt.quantity,0)))),_(wa);var Za=v(wa,2),Xa=m(Za);xe(Xa,()=>(n().positions||[]).length>0,Vt=>{var Tt=yt(),Co=nt(Tt);xe(Co,()=>(n().positions||[]).reduce((Ro,Tn)=>Ro+(i(w)-Tn.avgCost)*Tn.quantity*(Tn.leverage||1),0)>=0,Ro=>{var Tn=jT(),jo=m(Tn);Re(()=>wt(jo,`+${we((n().positions||[]).reduce((En,mo)=>En+(i(w)-mo.avgCost)*mo.quantity*(mo.leverage||1),0))??""}`)),_(Tn),N(Ro,Tn)},Ro=>{var Tn=$T(),jo=m(Tn);Re(()=>wt(jo,`-${we(Math.abs((n().positions||[]).reduce((En,mo)=>En+(i(w)-mo.avgCost)*mo.quantity*(mo.leverage||1),0)))??""}`)),_(Tn),N(Ro,Tn)}),N(Vt,Tt)},Vt=>{var Tt=BT();N(Vt,Tt)}),_(Za),_(sn),_(Do),_(uo),_(Mn);var sl=v(Mn,2),Ja=m(sl),pl=m(Ja),il=m(pl),Qa=m(il),Ma=m(Qa);tT(Ma,{size:14}),_(Qa),_(il);var ka=v(il,2),zr=v(m(ka),2);Re(()=>lt(zr,"title",we(n().balance*(n().leverage||1))));var oa=m(zr,!0);Re(()=>wt(oa,we(n().balance*(n().leverage||1)))),_(zr);var fl=v(zr,2),bl=m(fl);_(fl),_(ka),_(pl),_(Ja),_(sl),_(Ce);var rl=v(Ce,2),Ta=m(rl),al=m(Ta),xl=m(al),Gr=m(xl),Kl=m(Gr);aT(Kl,{size:16}),_(Gr),ei(2),_(xl);var gl=v(xl,2),el=m(gl);_(gl),_(al);var _l=v(al,2),Ba=m(_l);ut(Ba),Ba.__input=[wT];var ll=v(Ba,2);xe(ll,()=>n().playing,Vt=>{var Tt=OT();Tt.__click=me;var Co=m(Tt);vT(Co,{size:16}),_(Tt),N(Vt,Tt)},Vt=>{var Tt=RT();Tt.__click=[xT];var Co=m(Tt);pT(Co,{size:16}),_(Tt),N(Vt,Tt)}),_(_l);var Kr=v(_l,2);Qo(Kr,20,()=>[.5,1,2,5,10],ln,(Vt,Tt)=>{var Co=zT();Co.__click=[NT,Tt];var Ro=m(Co);_(Co),Re(()=>{Un(Co,`speed-chip ${(n().speed===Tt?"active":"")??""} svelte-112gz12`),wt(Ro,`${Tt??""}x`)}),N(Vt,Co)}),_(Kr),_(Ta),_(rl);var yr=v(rl,2),Oa=m(yr),wl=m(Oa),Vr=m(wl),tl=v(m(Vr),2);Re(()=>lt(tl,"title",i(w).toFixed(2)));var Ra=m(tl,!0);Re(()=>wt(Ra,i(w).toFixed(2))),_(tl),_(Vr),ei(2),_(wl);var ol=v(wl,2),Na=m(ol);Na.__click=[ST,D,A,F,j,q,B,O],_(ol),_(Oa),_(yr);var pt=v(yr,2),At=m(pt);At.__click=[VT,T];var Bt=v(At,2);Bt.__click=[qT,T],_(pt);var dt=v(pt,2);xe(dt,()=>i(T)==="portfolio",Vt=>{var Tt=tA(),Co=nt(Tt);xe(Co,()=>(n().pendingOrders||[]).length>0,Tn=>{var jo=HT(),En=m(jo),mo=v(m(En),2);Qo(mo,1,()=>n().pendingOrders,ln,(Es,zn)=>{var Vi=GT(),Rn=m(Vi),Fs=m(Rn),Fi=m(Fs,!0);_(Fs);var vr=v(Fs,2),js=m(vr);_(vr);var qi=v(vr,2),Ti=m(qi);Re(()=>wt(Ti,`Price ${i(zn).price.toFixed(2)??""}`)),_(qi),_(Rn);var xi=v(Rn,2),oi=m(xi);oi.__click=[WT,He,zn],_(xi),_(Vi),Re(()=>{wt(Fi,i(zn).symbol.ticker),wt(js,`Qty ${i(zn).quantity??""}`)}),N(Es,Vi)}),_(En),_(jo),N(Tn,jo)});var Ro=v(Co,2);Qo(Ro,1,()=>n().positions,ln,(Tn,jo)=>{var En=eA(),mo=m(En),Es=m(mo),zn=m(Es),Vi=m(zn),Rn=m(Vi,!0);_(Vi);var Fs=v(Vi,2),Fi=m(Fs);_(Fs);var vr=v(Fs,2),js=m(vr);Re(()=>wt(js,`Avg ${i(jo).avgCost.toFixed(2)??""}`)),_(vr);var qi=v(vr,2),Ti=m(qi);_(qi),_(zn);var xi=v(zn,2),oi=m(xi),ir=m(oi);Re(()=>wt(ir,`${((i(w)-i(jo).avgCost)*i(jo).quantity*(i(jo).leverage||1)>=0?"+":"")??""}${((i(w)-i(jo).avgCost)*i(jo).quantity*(i(jo).leverage||1)).toFixed(2)??""}`)),_(oi);var Ws=v(oi,2);xe(Ws,()=>i(M)===i(jo).id,Ps=>{var ps=YT();ps.__click=[UT,M,S],N(Ps,ps)},Ps=>{var ps=ZT();ps.__click=[KT,it,jo],N(Ps,ps)}),_(xi),_(Es);var di=v(Es,2);xe(di,()=>i(M)===i(jo).id,Ps=>{var ps=QT(),ni=m(ps),Zi=m(ni),ui=m(Zi),pr=m(ui);_(ui);var Hr=v(ui,2);Hr.__click=[XT,Ne],_(Zi),_(ni);var ge=v(ni,2),We=v(m(ge),2),ft=m(We);ut(ft);var Ht=v(ft,2);Ht.__click=[JT,Ne],Re(()=>Ht.disabled=!i(S)||Number(i(S))<=0||Number(i(S))>i(jo).quantity),_(We);var jt=v(We,2),go=m(jt),Rt=m(go);_(go);var To=v(go,2),Lo=m(To);Re(()=>wt(Lo,`Est. PnL: ${((i(w)-i(jo).avgCost)*(Number(i(S))||0)*(i(jo).leverage||1)).toFixed(2)??""}`)),_(To),_(jt),_(ge),_(ps),Re(()=>{wt(pr,`Close entire position (${i(jo).quantity??""})`),lt(ft,"max",i(jo).quantity),wt(Rt,`Available: ${i(jo).quantity??""}`)}),Mt(ft,()=>i(S),Mo=>b(S,Mo)),N(Ps,ps)}),_(mo),_(En),Re(()=>{wt(Rn,i(jo).symbol.ticker),wt(Fi,`Qty ${i(jo).quantity??""}`),wt(Ti,`Lev ${(i(jo).leverage||1)??""}x`),Un(oi,`badge ${((i(w)-i(jo).avgCost)*i(jo).quantity*(i(jo).leverage||1)>=0?"badge-success":"badge-error")??""}`)}),N(Tn,En)}),N(Vt,Tt)},Vt=>{var Tt=nA(),Co=nt(Tt),Ro=m(Co),Tn=m(Ro),jo=m(Tn),En=v(m(jo),2),mo=m(En),Es=m(mo,!0);_(mo);var zn=v(mo,2);Re(()=>lt(zn,"title",we(i(se))));var Vi=m(zn,!0);Re(()=>wt(Vi,we(i(se)))),_(zn),_(En),_(jo);var Rn=v(jo,2),Fs=v(m(Rn),2),Fi=m(Fs),vr=m(Fi,!0);_(Fi);var js=v(Fi,2);Re(()=>lt(js,"title",we(i(ie))));var qi=m(js,!0);Re(()=>wt(qi,we(i(ie)))),_(js),_(Fs),_(Rn);var Ti=v(Rn,2),xi=v(m(Ti),2),oi=m(xi);Re(()=>lt(oi,"title",we(i(te))));var ir=m(oi);Re(()=>wt(ir,`${(i(te)>=0?"+":"")??""}${we(i(te))??""}`)),_(oi),_(xi),_(Ti),_(Tn),_(Ro),_(Co);var Ws=v(Co,2);Qo(Ws,1,()=>n().history,ln,(di,Ps)=>{var ps=oA(),ni=m(ps),Zi=m(ni),ui=m(Zi),pr=m(ui),Hr=m(pr,!0);_(pr);var ge=v(pr,2),We=m(ge);_(ge),_(ui);var ft=v(ui,2),Ht=m(ft);Re(()=>wt(Ht,`${(i(Ps).pnl>=0?"+":"")??""}${i(Ps).pnl.toFixed(2)??""}`)),_(ft),_(Zi);var jt=v(Zi,2);const go=tt(()=>i(Ps).avgCost.toFixed(2)??""),Rt=tt(()=>i(Ps).closedAvg.toFixed(2)??"");var To=m(jt);Re(()=>wt(To,`Buy ${i(go)} â€¢ Sell ${i(Rt)}`)),_(jt),_(ni),_(ps),Re(()=>{wt(Hr,i(Ps).symbol.ticker),wt(We,`Qty ${i(Ps).quantity??""}`),Un(ft,`badge ${(i(Ps).pnl>=0?"badge-success":"badge-error")??""}`)}),N(di,ps)}),Re(()=>{wt(Es,i(oe)),wt(vr,i(re)),Un(Ti,`summary-tile net ${(i(te)>=0?"pos":"neg")??""} svelte-112gz12`)}),N(Vt,Tt)}),Re(()=>{Ls(Mn,"pos",i(z)&&i(Y)>=0),Ls(Mn,"neg",i(z)&&i(Y)<0),wt(Ki,`Open ${(n().positions||[]).length??""}`),wt(bl,`Leverage ${(n().leverage||1)??""}x`),wt(el,`${n().speed??""}x`),Ud(Ba,n().speed),lt(Ba,"style",`background: linear-gradient(to right, var(--menu-active-bg) ${i(K)}%, var(--menu-btn-bg) ${i(K)}%);`),Un(At,`tab ${(i(T)==="portfolio"?"tab-active":"")??""} svelte-112gz12`),Un(Bt,`tab ${(i(T)==="history"?"tab-active":"")??""} svelte-112gz12`)}),N(Ee,Je)},!0),N(Be,le)}),_(Te);var Ue=v(Te,2);xe(Ue,()=>i(D),Be=>{nd(Be,{title:"Place Buy Order",buttons:[],get show(){return i(D)},set show(le){b(D,$(le))},get theme(){return s().theme},children:(le,ye)=>{var Ee=uA(),Je=m(Ee),be=v(m(Je),2),X=m(be);ut(X),X.__click=[iA,A],ei(2),_(be);var H=v(be,2),Ce=m(H);ut(Ce),Ce.__click=[rA,A],ei(2),_(H),_(Je);var Qe=v(Je,2);xe(Qe,()=>i(A)==="instant",mt=>{var bt=lA(),ct=m(bt),yo=m(ct),Kt=m(yo),to=v(m(Kt),2);Re(()=>lt(to,"title",i(w).toFixed(2)));var io=m(to,!0);Re(()=>wt(io,i(w).toFixed(2))),_(to),_(Kt);var ro=v(Kt,2),Uo=m(ro);ut(Uo);var an=v(Uo,2);an.__click=[CT,B,w,F,Le,me,U,r,a,s,c,n,D],_(ro);var Mn=v(ro,2);xe(Mn,()=>i(B),uo=>{var Do=aA(),Zt=m(Do,!0);_(Do),Re(()=>wt(Zt,i(B))),N(uo,Do)}),_(yo),_(ct),_(bt),Mt(Uo,()=>i(F),uo=>b(F,uo)),N(mt,bt)},mt=>{var bt=dA(),ct=m(bt),yo=m(ct);ut(yo);var Kt=v(yo,2);ut(Kt),_(ct);var to=v(ct,2);to.__click=[IT,O,j,q,Le,w,r,a,U,s,c,n,D];var io=v(to,2);xe(io,()=>i(O),ro=>{var Uo=cA(),an=m(Uo,!0);_(Uo),Re(()=>wt(an,i(O))),N(ro,Uo)}),_(bt),Mt(yo,()=>i(j),ro=>b(j,ro)),Mt(Kt,()=>i(q),ro=>b(q,ro)),N(mt,bt)}),_(Ee),Re(()=>{Yd(X,i(A)==="instant"),Yd(Ce,i(A)==="pending")}),N(le,Ee)},$$slots:{default:!0}})}),N(o,je),Mr()}Pa(["click","input"]);var fA=ue('<div class="top-section svelte-3gnxyq"><div class="section-card svelte-3gnxyq"><button class="sidebar-icon svelte-3gnxyq" title="Watch List"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-3gnxyq"><path d="M8 6H21M8 12H21M8 18H21M3 6H3.01M3 12H3.01M3 18H3.01" stroke="currentColor" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" class="svelte-3gnxyq"></path></svg> <span class="sidebar-label svelte-3gnxyq">Watch</span></button> <button class="sidebar-icon svelte-3gnxyq" title="Alerts"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-3gnxyq"><path d="M18 8A6 6 0 0 0 6 8C6 15 3 17 3 17H21S18 15 18 8Z" stroke="currentColor" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" class="svelte-3gnxyq"></path><path d="M13.73 21A2 2 0 0 1 10.27 21" stroke="currentColor" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" class="svelte-3gnxyq"></path></svg> <span class="sidebar-label svelte-3gnxyq">Alerts</span></button> <button class="sidebar-icon ask-ai-btn svelte-3gnxyq" title="Ask AI"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-3gnxyq"><path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z" stroke="currentColor" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" class="svelte-3gnxyq"></path><path d="M12 12C13.1046 12 14 11.1046 14 10C14 8.89543 13.1046 8 12 8C10.8954 8 10 8.89543 10 10C10 11.1046 10.8954 12 12 12Z" fill="currentColor" class="svelte-3gnxyq"></path></svg> <span class="sidebar-label svelte-3gnxyq">Ask AI</span></button></div></div> <div class="bottom-section svelte-3gnxyq"><div class="section-card svelte-3gnxyq"><button class="sidebar-icon svelte-3gnxyq" title="Calendar"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-3gnxyq"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="0.5" class="svelte-3gnxyq"></rect><line x1="16" y1="2" x2="16" y2="6" stroke="currentColor" stroke-width="0.5" stroke-linecap="round" class="svelte-3gnxyq"></line><line x1="8" y1="2" x2="8" y2="6" stroke="currentColor" stroke-width="0.5" stroke-linecap="round" class="svelte-3gnxyq"></line><line x1="3" y1="10" x2="21" y2="10" stroke="currentColor" stroke-width="0.5" class="svelte-3gnxyq"></line></svg> <span class="sidebar-label svelte-3gnxyq">Calendar</span></button> <button class="sidebar-icon svelte-3gnxyq" title="Portfolio"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-3gnxyq"><rect x="2" y="7" width="20" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="0.5" class="svelte-3gnxyq"></rect><path d="M16 21V5A2 2 0 0 0 14 3H10A2 2 0 0 0 8 5V21" stroke="currentColor" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" class="svelte-3gnxyq"></path></svg> <span class="sidebar-label svelte-3gnxyq">Portfolio</span></button></div></div>',1),gA=ue("<div><!></div>");function _A(o,e){Pr(e,!1);const t=El(),n=()=>ti(a,"$save",t),s=()=>ti(dc,"$simulator",t);let r=Po(e,"className",8,"");const a=ur("save");wc();var c=gA(),d=m(c);xe(d,()=>s().mode==="strategy",u=>{pA(u,{})},u=>{var p=fA();ei(2),N(u,p)}),_(c),Re(()=>{Un(c,`right-sidebar hidden md:flex ${r()??""} svelte-3gnxyq`),lt(c,"data-theme",n().theme)}),N(o,c),Mr()}function mA(o,e){o.preventDefault(),o.stopPropagation(),e("double-click")}var hA=ue('<div role="separator" aria-orientation="vertical" aria-label="Resize sidebar" tabindex="0"><div class="resize-indicator svelte-uwsrre"><div class="resize-dots svelte-uwsrre"><div class="dot svelte-uwsrre"></div> <div class="dot svelte-uwsrre"></div> <div class="dot svelte-uwsrre"></div></div></div></div>');function yA(o,e){Pr(e,!0);let t=Po(e,"className",3,"");const n=nc();let s=Z(!1),r=0,a=0,c;const d=180,u=480,p=12;function h(A){if(A.button!==0)return;A.preventDefault(),A.stopPropagation(),b(s,!0),r=A.clientX;const j=c.closest(".sidebar-container");j&&(a=j.offsetWidth),c.setPointerCapture(A.pointerId),document.body.style.userSelect="none",document.body.style.pointerEvents="none",c.style.pointerEvents="auto",n("resize:start",{widthPx:a})}function x(A){if(!i(s))return;A.preventDefault(),A.stopPropagation();const j=A.clientX-r,F=Math.max(d,Math.min(u,a-j));requestAnimationFrame(()=>{n("resize:move",{widthPx:F})})}function w(A){if(!i(s))return;A.preventDefault(),A.stopPropagation(),b(s,!1),c.releasePointerCapture(A.pointerId),document.body.style.userSelect="",document.body.style.pointerEvents="",c.style.pointerEvents="";const j=A.clientX-r,F=Math.max(d,Math.min(u,a-j));n("resize:end",{widthPx:F})}function k(A){i(s)&&(b(s,!1),c.releasePointerCapture(A.pointerId),document.body.style.userSelect="",document.body.style.pointerEvents="",c.style.pointerEvents="",n("resize:end",{widthPx:a}))}function S(A){if(!["ArrowLeft","ArrowRight"].includes(A.key))return;A.preventDefault(),A.stopPropagation();const j=c.closest(".sidebar-container");if(!j)return;const F=j.offsetWidth;let q=F;A.key==="ArrowLeft"?q=Math.min(u,F+p):A.key==="ArrowRight"&&(q=Math.max(d,F-p)),q!==F&&(n("resize:start",{widthPx:F}),n("resize:move",{widthPx:q}),n("resize:end",{widthPx:q}))}function M(){}function T(){}var D=hA();D.__pointerdown=h,D.__pointermove=x,D.__pointerup=w,D.__dblclick=[mA,n],D.__keydown=S,Al(D,A=>c=A,()=>c),Re(()=>{Un(D,`sidebar-resize-handle ${t()??""} svelte-uwsrre`),Ls(D,"dragging",i(s))}),$a("pointercancel",D,k),$a("focus",D,M),$a("blur",D,T),N(o,D),Mr()}Pa(["pointerdown","pointermove","pointerup","dblclick","keydown"]);const F0=180,t_=480,P0=280;function Cb(o,e=F0,t=t_,n=P0){return isNaN(o)||o<e||o>t?n:o}function Ng(){return typeof window<"u"&&window.__sidebarBootstrap?window.__sidebarBootstrap:{visible:!1,widthPx:0,transitionsEnabled:!1}}function Rh(o){if(typeof window<"u"){window.__sidebarBootstrap||(window.__sidebarBootstrap=Ng()),window.__sidebarBootstrap={...window.__sidebarBootstrap,...o};const e=document.documentElement,t=window.__sidebarBootstrap,n=t.visible?t.widthPx+"px":"0px",s=t.visible?"1":"0";e.style.setProperty("--sidebar-width",n),e.style.setProperty("--sidebar-visible",s),e.style.setProperty("--chart-sidebar-width",n),e.style.setProperty("--chart-sidebar-visible",s)}}function bA(o,e){if(typeof window<"u"&&window.localStorage)try{if(localStorage.setItem("dutyai.chart.sidebar.visible","false"),o){const t=Cb(e,F0,t_,P0);localStorage.setItem("dutyai.chart.sidebar.widthPx",String(t))}}catch(t){console.warn("Failed to persist sidebar state:",t)}}function xA(){if(typeof window>"u")return!0;const o=window.innerWidth,n=F0+80+300;return o>=n}function Q1(){Rh({transitionsEnabled:!0})}function wA(){Rh({transitionsEnabled:!1})}function Vm(o,e){const t=e!==void 0?e:o?P0:0;Rh({visible:o,widthPx:o?Cb(t,F0,t_,P0):0}),bA(o,t)}const kA={MIN_WIDTH:F0,MAX_WIDTH:t_,DEFAULT_WIDTH:P0,PRICE_SCALE_WIDTH:80};class SA{constructor(){Wt(this,"pending",!1);Wt(this,"callbacks",[]);Wt(this,"rafId",null)}request(e){this.callbacks.push(e),!this.pending&&(this.pending=!0,this.rafId=requestAnimationFrame(async()=>{this.pending=!1,this.rafId=null;const t=[...this.callbacks];this.callbacks=[];for(const n of t)try{await n()}catch(s){console.error("RenderScheduler: Error executing callback",s)}}))}cancel(){this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.pending=!1,this.callbacks=[]}isPending(){return this.pending}immediate(e){requestAnimationFrame(async()=>{try{await e()}catch(t){console.error("RenderScheduler: Error executing immediate callback",t)}})}}let qm=null;function o_(){return qm||(qm=new SA),qm}class CA{constructor(){Wt(this,"scheduler",o_());Wt(this,"inProgress",!1);Wt(this,"queue",[])}async run(e){if(this.inProgress){this.queue.push(e);return}this.inProgress=!0;try{await this.executeTransaction(e)}finally{if(this.inProgress=!1,this.queue.length>0){const t=this.queue.shift();this.run(t)}}}async executeTransaction(e){const{reason:t,chart:n,mutateState:s,measure:r,compute:a,draw:c,commit:d,cleanup:u,skipTransitions:p}=e;console.log(`ðŸ”„ RenderTransaction [${t}] starting...`);const h=performance.now();this.scheduler.request(async()=>{try{s&&await s(),r&&await r(),a&&await a(),c&&n&&await c(n),d&&await d();const x=performance.now()-h;console.log(`âœ… RenderTransaction [${t}] completed in ${x.toFixed(2)}ms`)}catch(x){console.error(`âŒ RenderTransaction [${t}] failed:`,x)}finally{u&&u()}})}async batch(e){if(e.length===0)return;const t={reason:e[0].reason,chart:e[0].chart,mutateState:async()=>{for(const n of e)n.mutateState&&await n.mutateState()},measure:async()=>{for(const n of e)n.measure&&await n.measure()},compute:async()=>{for(const n of e)n.compute&&await n.compute()},draw:async n=>{for(const s of e)s.draw&&await s.draw(n)},commit:async()=>{for(const n of e)n.commit&&await n.commit()},cleanup:()=>{for(const n of e)n.cleanup&&n.cleanup()}};await this.run(t)}isInProgress(){return this.inProgress}getQueueLength(){return this.queue.length}}let Wm=null;function IA(){return Wm||(Wm=new CA),Wm}class PA{constructor(){Wt(this,"states",new Map);Wt(this,"transitionProperty","transition")}register(e,t){this.states.set(e,{enabled:!1,element:t})}disable(e){const t=this.states.get(e);t&&(t.enabled=!1,t.element&&this.applyTransitionStyle(t.element,"none"))}enable(e){const t=this.states.get(e);t&&(t.enabled=!0,t.element&&this.applyTransitionStyle(t.element,""))}withoutTransitions(e,t){this.disable(e);const n=t();return requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.enable(e)})}),n}applyLayout(e,t,n=!0){this.disable(e),t(),n&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.enable(e)})})}isEnabled(e){var t;return((t=this.states.get(e))==null?void 0:t.enabled)??!1}updateElement(e,t){const n=this.states.get(e);n?(n.element=t,n.enabled?this.applyTransitionStyle(t,""):this.applyTransitionStyle(t,"none")):this.register(e,t)}applyTransitionStyle(e,t){e.style.setProperty(this.transitionProperty,t)}clear(){this.states.clear()}getKeys(){return Array.from(this.states.keys())}}let Gm=null;function Ib(){return Gm||(Gm=new PA),Gm}class MA{constructor(){Wt(this,"rafId",null);Wt(this,"pending",!1);Wt(this,"lastArgs",null)}throttle(e,...t){this.lastArgs=t,!this.pending&&(this.pending=!0,this.rafId=requestAnimationFrame(async()=>{this.pending=!1,this.rafId=null;const n=this.lastArgs;this.lastArgs=null;try{await e(...n)}catch(s){console.error("Throttler: Error executing function",s)}}))}cancel(){this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.pending=!1,this.lastArgs=null}isPending(){return this.pending}}class TA{constructor(){Wt(this,"transaction",IA());Wt(this,"layoutManager",Ib());Wt(this,"scheduler",o_());Wt(this,"applyCanvasColorsFn",null)}setApplyCanvasColorsFunction(e){this.applyCanvasColorsFn=e}reapplyCanvasColors(){this.applyCanvasColorsFn&&this.applyCanvasColorsFn()}async addIndicator(e){let t=null;return await this.transaction.run({reason:"indicator",chart:e.chart,mutateState:()=>{t=e.chart.createIndicator({name:e.name,calcParams:e.params},e.isMain??!1,e.paneId?{id:e.paneId}:void 0)},compute:async()=>{await new Promise(n=>setTimeout(n,0))},commit:()=>{console.log(`âœ… Indicator added: ${e.name} (${t})`),this.scheduler.request(()=>{this.reapplyCanvasColors()})}}),t}async removeIndicator(e){await this.transaction.run({reason:"indicator",chart:e.chart,mutateState:()=>{e.chart.removeIndicator({paneId:e.paneId,name:e.name})},commit:()=>{console.log(`âœ… Indicator removed: ${e.name}`)}})}async changeTimeframe(e){await this.transaction.run({reason:"timeframe",chart:e.chart,compute:async()=>{await e.loadDataFn()},commit:()=>{console.log("âœ… Timeframe changed"),this.scheduler.request(()=>{this.reapplyCanvasColors()})}})}async switchChartType(e){await this.transaction.run({reason:"type",chart:e.chart,mutateState:()=>{},compute:async()=>{await e.reloadDataFn()},commit:()=>{console.log(`âœ… Chart type switched to: ${e.newType}`),this.scheduler.request(()=>{this.reapplyCanvasColors()})}})}async sidebarOperation(e){const t="sidebar";this.layoutManager.register(t),await this.transaction.run({reason:"sidebar",chart:e.chart,skipTransitions:!0,mutateState:()=>{this.layoutManager.disable(t)},measure:()=>{},commit:()=>{this.scheduler.request(()=>{e.chart.resize(),this.reapplyCanvasColors(),requestAnimationFrame(()=>{this.layoutManager.enable(t)})})}})}async changeTheme(e,t){await this.transaction.run({reason:"theme",chart:e,mutateState:()=>{t()},commit:()=>{console.log("âœ… Theme changed")}})}resizeChart(e){this.scheduler.request(()=>{e.resize()})}async batchIndicatorOperations(e){const t=e.map(n=>({reason:"indicator",chart:n.operation.chart,mutateState:()=>{n.type==="add"?n.operation.chart.createIndicator({name:n.operation.name,calcParams:n.operation.params},n.operation.isMain??!1,n.operation.paneId?{id:n.operation.paneId}:void 0):n.operation.chart.removeIndicator({paneId:n.operation.paneId,name:n.operation.name})}}));await this.transaction.batch(t)}}let Hm=null;function Nh(){return Hm||(Hm=new TA),Hm}var AA=ue('<div class="sidebar-container svelte-1chwdug"><!> <!></div>'),DA=ue("<div><!></div>");function LA(o,e){Pr(e,!0);const t=El(),n=()=>ti(d,"$chart",t),s=()=>ti(S,"$sidebarWidth",t),r=()=>ti(u,"$save",t),a=()=>ti(M,"$sidebarState",t);let c=Po(e,"className",3,"");const d=ur("chart"),u=ur("save"),{MIN_WIDTH:p,MAX_WIDTH:h,DEFAULT_WIDTH:x,PRICE_SCALE_WIDTH:w}=kA,k=Ng(),S=bc(k.widthPx);u.update(Ae=>(Ae.showSidebar=k.visible,Ae));const M=ja([u,S],([Ae,Le])=>({visible:Ae.showSidebar,widthPx:Le})),T=nc();let D=Z(!1);Nh();const A=o_(),j=Ib(),F=new MA;j.register("sidebar");function q(){n()&&A.request(()=>{var Ae;(Ae=n())==null||Ae.resize()})}function B(){n()&&F.throttle(()=>{A.request(()=>{var Ae;(Ae=n())==null||Ae.resize()})})}function O(){if(!n())return;const Ae=s()||x;j.enable("sidebar"),u.update(Le=>(Le.showSidebar=!0,Le)),S.set(Ae),Vm(!0,Ae),T("sidebar:toggle",{visible:!0}),requestAnimationFrame(()=>{q(),setTimeout(()=>{q()},100),setTimeout(()=>{q()},250)})}function z(){n()&&(j.enable("sidebar"),u.update(Ae=>(Ae.showSidebar=!1,Ae)),Vm(!1,0),T("sidebar:toggle",{visible:!1}),requestAnimationFrame(()=>{q(),setTimeout(()=>{q()},100),setTimeout(()=>{q()},250)}))}function Y(){Ng().visible?z():O()}function G(Ae){const Le=Math.max(p,Math.min(h,Ae));S.set(Le),r().showSidebar&&Vm(!0,Le),T("sidebar:resize:move",{widthPx:Le}),B()}function oe(){return a()}function re(Ae){j.disable("sidebar"),wA(),T("sidebar:resize:start",{widthPx:s()})}function se(Ae){const Le=Ae.detail.widthPx;G(Le)}function ie(Ae){i(D)&&(j.enable("sidebar"),Q1()),T("sidebar:resize:end",{widthPx:s()})}function te(){G(x)}function K(){!xA()&&r().showSidebar&&z()}function J(Ae){if(Ae.key==="S"&&!Ae.ctrlKey&&!Ae.metaKey&&!Ae.altKey){const Le=Ae.target;Le.tagName!=="INPUT"&&Le.tagName!=="TEXTAREA"&&!Le.isContentEditable&&(Ae.preventDefault(),Y())}}yc(()=>{(async()=>(j.disable("sidebar"),await Yx(),K(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{b(D,!0),j.enable("sidebar"),Q1(),console.log("âœ¨ Sidebar transitions enabled"),n()&&q()})})))();const Ae=()=>{K()};return window.addEventListener("resize",Ae),window.addEventListener("keydown",J),()=>{window.removeEventListener("resize",Ae),window.removeEventListener("keydown",J),F.cancel()}});const U=tt(()=>()=>{const Ae=Ng(),Le=Ae.visible?`${Ae.widthPx}px`:"0px";return{"--sidebar-width":Le,"--sidebar-visible":Ae.visible?"1":"0","--sidebar-transitions":Ae.transitionsEnabled?"width 200ms cubic-bezier(0.4, 0, 0.2, 1)":"none",width:Le}});var ae=DA();const me=tt(()=>Object.entries(i(U)).map(([Ae,Le])=>`${Ae}: ${Le}`).join("; "));var ke=m(ae);return xe(ke,()=>a().visible,Ae=>{var Le=AA(),He=m(Le);_A(He,{});var it=v(He,2);yA(it,{$$events:{"resize:start":re,"resize:move":se,"resize:end":ie,"double-click":te}}),_(Le),Re(()=>lt(Le,"style",`width: ${s()??""}px;`)),N(Ae,Le)}),_(ae),Re(()=>{Un(ae,`sidebar-host ${c()??""} svelte-1chwdug`),lt(ae,"style",i(me))}),N(o,ae),Mr({openSidebar:O,closeSidebar:z,toggleSidebar:Y,setSidebarWidth:G,getSidebarState:oe})}var Pb={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(o,e){(function(t,n){o.exports=n()})(yu,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},s=!n.document&&!!n.postMessage,r=n.IS_PAPA_WORKER||!1,a={},c=0,d={parse:function(O,z){var Y=(z=z||{}).dynamicTyping||!1;if(B(Y)&&(z.dynamicTypingFunction=Y,Y={}),z.dynamicTyping=Y,z.transform=!!B(z.transform)&&z.transform,z.worker&&d.WORKERS_SUPPORTED){var G=function(){if(!d.WORKERS_SUPPORTED)return!1;var re=(ie=n.URL||n.webkitURL||null,te=t.toString(),d.BLOB_URL||(d.BLOB_URL=ie.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",te,")();"],{type:"text/javascript"})))),se=new n.Worker(re),ie,te;return se.onmessage=D,se.id=c++,a[se.id]=se}();return G.userStep=z.step,G.userChunk=z.chunk,G.userComplete=z.complete,G.userError=z.error,z.step=B(z.step),z.chunk=B(z.chunk),z.complete=B(z.complete),z.error=B(z.error),delete z.worker,void G.postMessage({input:O,config:z,workerId:G.id})}var oe=null;return d.NODE_STREAM_INPUT,typeof O=="string"?(O=function(re){return re.charCodeAt(0)===65279?re.slice(1):re}(O),oe=z.download?new h(z):new w(z)):O.readable===!0&&B(O.read)&&B(O.on)?oe=new k(z):(n.File&&O instanceof File||O instanceof Object)&&(oe=new x(z)),oe.stream(O)},unparse:function(O,z){var Y=!1,G=!0,oe=",",re=`\r
`,se='"',ie=se+se,te=!1,K=null,J=!1;(function(){if(typeof z=="object"){if(typeof z.delimiter!="string"||d.BAD_DELIMITERS.filter(function(ke){return z.delimiter.indexOf(ke)!==-1}).length||(oe=z.delimiter),(typeof z.quotes=="boolean"||typeof z.quotes=="function"||Array.isArray(z.quotes))&&(Y=z.quotes),typeof z.skipEmptyLines!="boolean"&&typeof z.skipEmptyLines!="string"||(te=z.skipEmptyLines),typeof z.newline=="string"&&(re=z.newline),typeof z.quoteChar=="string"&&(se=z.quoteChar),typeof z.header=="boolean"&&(G=z.header),Array.isArray(z.columns)){if(z.columns.length===0)throw new Error("Option columns is empty");K=z.columns}z.escapeChar!==void 0&&(ie=z.escapeChar+se),(typeof z.escapeFormulae=="boolean"||z.escapeFormulae instanceof RegExp)&&(J=z.escapeFormulae instanceof RegExp?z.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var U=new RegExp(M(se),"g");if(typeof O=="string"&&(O=JSON.parse(O)),Array.isArray(O)){if(!O.length||Array.isArray(O[0]))return ae(null,O,te);if(typeof O[0]=="object")return ae(K||Object.keys(O[0]),O,te)}else if(typeof O=="object")return typeof O.data=="string"&&(O.data=JSON.parse(O.data)),Array.isArray(O.data)&&(O.fields||(O.fields=O.meta&&O.meta.fields||K),O.fields||(O.fields=Array.isArray(O.data[0])?O.fields:typeof O.data[0]=="object"?Object.keys(O.data[0]):[]),Array.isArray(O.data[0])||typeof O.data[0]=="object"||(O.data=[O.data])),ae(O.fields||[],O.data||[],te);throw new Error("Unable to serialize unrecognized input");function ae(ke,Ae,Le){var He="";typeof ke=="string"&&(ke=JSON.parse(ke)),typeof Ae=="string"&&(Ae=JSON.parse(Ae));var it=Array.isArray(ke)&&0<ke.length,Ne=!Array.isArray(Ae[0]);if(it&&G){for(var we=0;we<ke.length;we++)0<we&&(He+=oe),He+=me(ke[we],we);0<Ae.length&&(He+=re)}for(var je=0;je<Ae.length;je++){var Te=it?ke.length:Ae[je].length,Se=!1,Ue=it?Object.keys(Ae[je]).length===0:Ae[je].length===0;if(Le&&!it&&(Se=Le==="greedy"?Ae[je].join("").trim()==="":Ae[je].length===1&&Ae[je][0].length===0),Le==="greedy"&&it){for(var Be=[],le=0;le<Te;le++){var ye=Ne?ke[le]:le;Be.push(Ae[je][ye])}Se=Be.join("").trim()===""}if(!Se){for(var Ee=0;Ee<Te;Ee++){0<Ee&&!Ue&&(He+=oe);var Je=it&&Ne?ke[Ee]:Ee;He+=me(Ae[je][Je],Ee)}je<Ae.length-1&&(!Le||0<Te&&!Ue)&&(He+=re)}}return He}function me(ke,Ae){if(ke==null)return"";if(ke.constructor===Date)return JSON.stringify(ke).slice(1,25);var Le=!1;J&&typeof ke=="string"&&J.test(ke)&&(ke="'"+ke,Le=!0);var He=ke.toString().replace(U,ie);return(Le=Le||Y===!0||typeof Y=="function"&&Y(ke,Ae)||Array.isArray(Y)&&Y[Ae]||function(it,Ne){for(var we=0;we<Ne.length;we++)if(-1<it.indexOf(Ne[we]))return!0;return!1}(He,d.BAD_DELIMITERS)||-1<He.indexOf(oe)||He.charAt(0)===" "||He.charAt(He.length-1)===" ")?se+He+se:He}}};if(d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!s&&!!n.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=T,d.ParserHandle=S,d.NetworkStreamer=h,d.FileStreamer=x,d.StringStreamer=w,d.ReadableStreamStreamer=k,n.jQuery){var u=n.jQuery;u.fn.parse=function(O){var z=O.config||{},Y=[];return this.each(function(re){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var se=0;se<this.files.length;se++)Y.push({file:this.files[se],inputElem:this,instanceConfig:u.extend({},z)})}),G(),this;function G(){if(Y.length!==0){var re,se,ie,te,K=Y[0];if(B(O.before)){var J=O.before(K.file,K.inputElem);if(typeof J=="object"){if(J.action==="abort")return re="AbortError",se=K.file,ie=K.inputElem,te=J.reason,void(B(O.error)&&O.error({name:re},se,ie,te));if(J.action==="skip")return void oe();typeof J.config=="object"&&(K.instanceConfig=u.extend(K.instanceConfig,J.config))}else if(J==="skip")return void oe()}var U=K.instanceConfig.complete;K.instanceConfig.complete=function(ae){B(U)&&U(ae,K.file,K.inputElem),oe()},d.parse(K.file,K.instanceConfig)}else B(O.complete)&&O.complete()}function oe(){Y.splice(0,1),G()}}}function p(O){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(z){var Y=F(z);Y.chunkSize=parseInt(Y.chunkSize),z.step||z.chunk||(Y.chunkSize=null),this._handle=new S(Y),(this._handle.streamer=this)._config=Y}).call(this,O),this.parseChunk=function(z,Y){if(this.isFirstChunk&&B(this._config.beforeFirstChunk)){var G=this._config.beforeFirstChunk(z);G!==void 0&&(z=G)}this.isFirstChunk=!1,this._halted=!1;var oe=this._partialLine+z;this._partialLine="";var re=this._handle.parse(oe,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var se=re.meta.cursor;this._finished||(this._partialLine=oe.substring(se-this._baseIndex),this._baseIndex=se),re&&re.data&&(this._rowCount+=re.data.length);var ie=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)n.postMessage({results:re,workerId:d.WORKER_ID,finished:ie});else if(B(this._config.chunk)&&!Y){if(this._config.chunk(re,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);re=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(re.data),this._completeResults.errors=this._completeResults.errors.concat(re.errors),this._completeResults.meta=re.meta),this._completed||!ie||!B(this._config.complete)||re&&re.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ie||re&&re.meta.paused||this._nextChunk(),re}this._halted=!0},this._sendError=function(z){B(this._config.error)?this._config.error(z):r&&this._config.error&&n.postMessage({workerId:d.WORKER_ID,error:z,finished:!1})}}function h(O){var z;(O=O||{}).chunkSize||(O.chunkSize=d.RemoteChunkSize),p.call(this,O),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Y){this._input=Y,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(z=new XMLHttpRequest,this._config.withCredentials&&(z.withCredentials=this._config.withCredentials),s||(z.onload=q(this._chunkLoaded,this),z.onerror=q(this._chunkError,this)),z.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var Y=this._config.downloadRequestHeaders;for(var G in Y)z.setRequestHeader(G,Y[G])}if(this._config.chunkSize){var oe=this._start+this._config.chunkSize-1;z.setRequestHeader("Range","bytes="+this._start+"-"+oe)}try{z.send(this._config.downloadRequestBody)}catch(re){this._chunkError(re.message)}s&&z.status===0&&this._chunkError()}},this._chunkLoaded=function(){z.readyState===4&&(z.status<200||400<=z.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:z.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(Y){var G=Y.getResponseHeader("Content-Range");return G===null?-1:parseInt(G.substring(G.lastIndexOf("/")+1))}(z),this.parseChunk(z.responseText)))},this._chunkError=function(Y){var G=z.statusText||Y;this._sendError(new Error(G))}}function x(O){var z,Y;(O=O||{}).chunkSize||(O.chunkSize=d.LocalChunkSize),p.call(this,O);var G=typeof FileReader<"u";this.stream=function(oe){this._input=oe,Y=oe.slice||oe.webkitSlice||oe.mozSlice,G?((z=new FileReader).onload=q(this._chunkLoaded,this),z.onerror=q(this._chunkError,this)):z=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var oe=this._input;if(this._config.chunkSize){var re=Math.min(this._start+this._config.chunkSize,this._input.size);oe=Y.call(oe,this._start,re)}var se=z.readAsText(oe,this._config.encoding);G||this._chunkLoaded({target:{result:se}})},this._chunkLoaded=function(oe){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(oe.target.result)},this._chunkError=function(){this._sendError(z.error)}}function w(O){var z;p.call(this,O=O||{}),this.stream=function(Y){return z=Y,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var Y,G=this._config.chunkSize;return G?(Y=z.substring(0,G),z=z.substring(G)):(Y=z,z=""),this._finished=!z,this.parseChunk(Y)}}}function k(O){p.call(this,O=O||{});var z=[],Y=!0,G=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(oe){this._input=oe,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){G&&z.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),z.length?this.parseChunk(z.shift()):Y=!0},this._streamData=q(function(oe){try{z.push(typeof oe=="string"?oe:oe.toString(this._config.encoding)),Y&&(Y=!1,this._checkIsFinished(),this.parseChunk(z.shift()))}catch(re){this._streamError(re)}},this),this._streamError=q(function(oe){this._streamCleanUp(),this._sendError(oe)},this),this._streamEnd=q(function(){this._streamCleanUp(),G=!0,this._streamData("")},this),this._streamCleanUp=q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function S(O){var z,Y,G,oe=Math.pow(2,53),re=-oe,se=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ie=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,te=this,K=0,J=0,U=!1,ae=!1,me=[],ke={data:[],errors:[],meta:{}};if(B(O.step)){var Ae=O.step;O.step=function(je){if(ke=je,it())He();else{if(He(),ke.data.length===0)return;K+=je.data.length,O.preview&&K>O.preview?Y.abort():(ke.data=ke.data[0],Ae(ke,te))}}}function Le(je){return O.skipEmptyLines==="greedy"?je.join("").trim()==="":je.length===1&&je[0].length===0}function He(){return ke&&G&&(we("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),G=!1),O.skipEmptyLines&&(ke.data=ke.data.filter(function(je){return!Le(je)})),it()&&function(){if(!ke)return;function je(Se,Ue){B(O.transformHeader)&&(Se=O.transformHeader(Se,Ue)),me.push(Se)}if(Array.isArray(ke.data[0])){for(var Te=0;it()&&Te<ke.data.length;Te++)ke.data[Te].forEach(je);ke.data.splice(0,1)}else ke.data.forEach(je)}(),function(){if(!ke||!O.header&&!O.dynamicTyping&&!O.transform)return ke;function je(Se,Ue){var Be,le=O.header?{}:[];for(Be=0;Be<Se.length;Be++){var ye=Be,Ee=Se[Be];O.header&&(ye=Be>=me.length?"__parsed_extra":me[Be]),O.transform&&(Ee=O.transform(Ee,ye)),Ee=Ne(ye,Ee),ye==="__parsed_extra"?(le[ye]=le[ye]||[],le[ye].push(Ee)):le[ye]=Ee}return O.header&&(Be>me.length?we("FieldMismatch","TooManyFields","Too many fields: expected "+me.length+" fields but parsed "+Be,J+Ue):Be<me.length&&we("FieldMismatch","TooFewFields","Too few fields: expected "+me.length+" fields but parsed "+Be,J+Ue)),le}var Te=1;return!ke.data.length||Array.isArray(ke.data[0])?(ke.data=ke.data.map(je),Te=ke.data.length):ke.data=je(ke.data,0),O.header&&ke.meta&&(ke.meta.fields=me),J+=Te,ke}()}function it(){return O.header&&me.length===0}function Ne(je,Te){return Se=je,O.dynamicTypingFunction&&O.dynamicTyping[Se]===void 0&&(O.dynamicTyping[Se]=O.dynamicTypingFunction(Se)),(O.dynamicTyping[Se]||O.dynamicTyping)===!0?Te==="true"||Te==="TRUE"||Te!=="false"&&Te!=="FALSE"&&(function(Ue){if(se.test(Ue)){var Be=parseFloat(Ue);if(re<Be&&Be<oe)return!0}return!1}(Te)?parseFloat(Te):ie.test(Te)?new Date(Te):Te===""?null:Te):Te;var Se}function we(je,Te,Se,Ue){var Be={type:je,code:Te,message:Se};Ue!==void 0&&(Be.row=Ue),ke.errors.push(Be)}this.parse=function(je,Te,Se){var Ue=O.quoteChar||'"';if(O.newline||(O.newline=function(ye,Ee){ye=ye.substring(0,1048576);var Je=new RegExp(M(Ee)+"([^]*?)"+M(Ee),"gm"),be=(ye=ye.replace(Je,"")).split("\r"),X=ye.split(`
`),H=1<X.length&&X[0].length<be[0].length;if(be.length===1||H)return`
`;for(var Ce=0,Qe=0;Qe<be.length;Qe++)be[Qe][0]===`
`&&Ce++;return Ce>=be.length/2?`\r
`:"\r"}(je,Ue)),G=!1,O.delimiter)B(O.delimiter)&&(O.delimiter=O.delimiter(je),ke.meta.delimiter=O.delimiter);else{var Be=function(ye,Ee,Je,be,X){var H,Ce,Qe,mt;X=X||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var bt=0;bt<X.length;bt++){var ct=X[bt],yo=0,Kt=0,to=0;Qe=void 0;for(var io=new T({comments:be,delimiter:ct,newline:Ee,preview:10}).parse(ye),ro=0;ro<io.data.length;ro++)if(Je&&Le(io.data[ro]))to++;else{var Uo=io.data[ro].length;Kt+=Uo,Qe!==void 0?0<Uo&&(yo+=Math.abs(Uo-Qe),Qe=Uo):Qe=Uo}0<io.data.length&&(Kt/=io.data.length-to),(Ce===void 0||yo<=Ce)&&(mt===void 0||mt<Kt)&&1.99<Kt&&(Ce=yo,H=ct,mt=Kt)}return{successful:!!(O.delimiter=H),bestDelimiter:H}}(je,O.newline,O.skipEmptyLines,O.comments,O.delimitersToGuess);Be.successful?O.delimiter=Be.bestDelimiter:(G=!0,O.delimiter=d.DefaultDelimiter),ke.meta.delimiter=O.delimiter}var le=F(O);return O.preview&&O.header&&le.preview++,z=je,Y=new T(le),ke=Y.parse(z,Te,Se),He(),U?{meta:{paused:!0}}:ke||{meta:{paused:!1}}},this.paused=function(){return U},this.pause=function(){U=!0,Y.abort(),z=B(O.chunk)?"":z.substring(Y.getCharIndex())},this.resume=function(){te.streamer._halted?(U=!1,te.streamer.parseChunk(z,!0)):setTimeout(te.resume,3)},this.aborted=function(){return ae},this.abort=function(){ae=!0,Y.abort(),ke.meta.aborted=!0,B(O.complete)&&O.complete(ke),z=""}}function M(O){return O.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(O){var z,Y=(O=O||{}).delimiter,G=O.newline,oe=O.comments,re=O.step,se=O.preview,ie=O.fastMode,te=z=O.quoteChar===void 0||O.quoteChar===null?'"':O.quoteChar;if(O.escapeChar!==void 0&&(te=O.escapeChar),(typeof Y!="string"||-1<d.BAD_DELIMITERS.indexOf(Y))&&(Y=","),oe===Y)throw new Error("Comment character same as delimiter");oe===!0?oe="#":(typeof oe!="string"||-1<d.BAD_DELIMITERS.indexOf(oe))&&(oe=!1),G!==`
`&&G!=="\r"&&G!==`\r
`&&(G=`
`);var K=0,J=!1;this.parse=function(U,ae,me){if(typeof U!="string")throw new Error("Input must be a string");var ke=U.length,Ae=Y.length,Le=G.length,He=oe.length,it=B(re),Ne=[],we=[],je=[],Te=K=0;if(!U)return an();if(O.header&&!ae){var Se=U.split(G)[0].split(Y),Ue=[],Be={},le=!1;for(var ye in Se){var Ee=Se[ye];B(O.transformHeader)&&(Ee=O.transformHeader(Ee,ye));var Je=Ee,be=Be[Ee]||0;for(0<be&&(le=!0,Je=Ee+"_"+be),Be[Ee]=be+1;Ue.includes(Je);)Je=Je+"_"+be;Ue.push(Je)}if(le){var X=U.split(G);X[0]=Ue.join(Y),U=X.join(G)}}if(ie||ie!==!1&&U.indexOf(z)===-1){for(var H=U.split(G),Ce=0;Ce<H.length;Ce++){if(je=H[Ce],K+=je.length,Ce!==H.length-1)K+=G.length;else if(me)return an();if(!oe||je.substring(0,He)!==oe){if(it){if(Ne=[],to(je.split(Y)),Mn(),J)return an()}else to(je.split(Y));if(se&&se<=Ce)return Ne=Ne.slice(0,se),an(!0)}}return an()}for(var Qe=U.indexOf(Y,K),mt=U.indexOf(G,K),bt=new RegExp(M(te)+M(z),"g"),ct=U.indexOf(z,K);;)if(U[K]!==z)if(oe&&je.length===0&&U.substring(K,K+He)===oe){if(mt===-1)return an();K=mt+Le,mt=U.indexOf(G,K),Qe=U.indexOf(Y,K)}else if(Qe!==-1&&(Qe<mt||mt===-1))je.push(U.substring(K,Qe)),K=Qe+Ae,Qe=U.indexOf(Y,K);else{if(mt===-1)break;if(je.push(U.substring(K,mt)),Uo(mt+Le),it&&(Mn(),J))return an();if(se&&Ne.length>=se)return an(!0)}else for(ct=K,K++;;){if((ct=U.indexOf(z,ct+1))===-1)return me||we.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ne.length,index:K}),ro();if(ct===ke-1)return ro(U.substring(K,ct).replace(bt,z));if(z!==te||U[ct+1]!==te){if(z===te||ct===0||U[ct-1]!==te){Qe!==-1&&Qe<ct+1&&(Qe=U.indexOf(Y,ct+1)),mt!==-1&&mt<ct+1&&(mt=U.indexOf(G,ct+1));var yo=io(mt===-1?Qe:Math.min(Qe,mt));if(U.substr(ct+1+yo,Ae)===Y){je.push(U.substring(K,ct).replace(bt,z)),U[K=ct+1+yo+Ae]!==z&&(ct=U.indexOf(z,K)),Qe=U.indexOf(Y,K),mt=U.indexOf(G,K);break}var Kt=io(mt);if(U.substring(ct+1+Kt,ct+1+Kt+Le)===G){if(je.push(U.substring(K,ct).replace(bt,z)),Uo(ct+1+Kt+Le),Qe=U.indexOf(Y,K),ct=U.indexOf(z,K),it&&(Mn(),J))return an();if(se&&Ne.length>=se)return an(!0);break}we.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ne.length,index:K}),ct++}}else ct++}return ro();function to(uo){Ne.push(uo),Te=K}function io(uo){var Do=0;if(uo!==-1){var Zt=U.substring(ct+1,uo);Zt&&Zt.trim()===""&&(Do=Zt.length)}return Do}function ro(uo){return me||(uo===void 0&&(uo=U.substring(K)),je.push(uo),K=ke,to(je),it&&Mn()),an()}function Uo(uo){K=uo,to(je),je=[],mt=U.indexOf(G,K)}function an(uo){return{data:Ne,errors:we,meta:{delimiter:Y,linebreak:G,aborted:J,truncated:!!uo,cursor:Te+(ae||0)}}}function Mn(){re(an()),Ne=[],we=[]}},this.abort=function(){J=!0},this.getCharIndex=function(){return K}}function D(O){var z=O.data,Y=a[z.workerId],G=!1;if(z.error)Y.userError(z.error,z.file);else if(z.results&&z.results.data){var oe={abort:function(){G=!0,A(z.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:j,resume:j};if(B(Y.userStep)){for(var re=0;re<z.results.data.length&&(Y.userStep({data:z.results.data[re],errors:z.results.errors,meta:z.results.meta},oe),!G);re++);delete z.results}else B(Y.userChunk)&&(Y.userChunk(z.results,oe,z.file),delete z.results)}z.finished&&!G&&A(z.workerId,z.results)}function A(O,z){var Y=a[O];B(Y.userComplete)&&Y.userComplete(z),Y.terminate(),delete a[O]}function j(){throw new Error("Not implemented.")}function F(O){if(typeof O!="object"||O===null)return O;var z=Array.isArray(O)?[]:{};for(var Y in O)z[Y]=F(O[Y]);return z}function q(O,z){return function(){O.apply(z,arguments)}}function B(O){return typeof O=="function"}return r&&(n.onmessage=function(O){var z=O.data;if(d.WORKER_ID===void 0&&z&&(d.WORKER_ID=z.workerId),typeof z.input=="string")n.postMessage({workerId:d.WORKER_ID,results:d.parse(z.input,z.config),finished:!0});else if(n.File&&z.input instanceof File||z.input instanceof Object){var Y=d.parse(z.input,z.config);Y&&n.postMessage({workerId:d.WORKER_ID,results:Y,finished:!0})}}),(h.prototype=Object.create(p.prototype)).constructor=h,(x.prototype=Object.create(p.prototype)).constructor=x,(w.prototype=Object.create(w.prototype)).constructor=w,(k.prototype=Object.create(p.prototype)).constructor=k,d})})(Pb);var EA=Pb.exports;const FA=L0(EA);function jA(o,e,t,n,s){if(!(!e()||i(t).length===0))switch(o.key){case"ArrowDown":o.preventDefault(),b(n,$(Math.min(i(n)+1,i(t).length-1)));break;case"ArrowUp":o.preventDefault(),b(n,$(Math.max(i(n)-1,-1)));break;case"Enter":o.preventDefault(),i(n)>=0&&i(n)<i(t).length&&s(i(t)[i(n)]);break;case"Escape":o.preventDefault(),e(!1);break}}var $A=ue('<div class="flex justify-center py-16"><div class="relative"><div class="w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin"></div> <div class="absolute inset-0 w-12 h-12 border-4 border-transparent border-t-primary/60 rounded-full animate-spin" style="animation-delay: -0.15s;"></div></div></div>'),BA=ue('<div class="flex flex-col items-center justify-center py-16 text-center"><div class="w-16 h-16 rounded-full bg-base-200/50 flex items-center justify-center mb-4"><svg class="w-8 h-8 text-base-content/40" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <p class="text-lg font-semibold text-base-content/60 mb-2">No symbols found</p> <p class="text-sm text-base-content/40">Try a different search term</p></div>'),OA=(o,e,t)=>e(i(t)),RA=ue('<p class="text-sm text-base-content/60 truncate mt-0.5"> </p>'),NA=ue('<div class="flex-shrink-0"><svg class="w-4 h-4 text-primary" fill="currentColor" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path></svg></div>'),zA=ue('<div><div class="relative w-8 h-8 rounded-lg overflow-hidden flex-shrink-0 bg-base-200/50"><img class="w-full h-full object-cover"> <div class="absolute inset-0 bg-base-200 flex items-center justify-center hidden"><span class="text-xs font-medium text-base-content/60"> </span></div></div> <div class="flex-1 min-w-0"><div class="flex items-center gap-2"><h3 class="font-medium text-base"> </h3> <span class="text-xs text-base-content/50"> </span></div> <!></div> <!></div>'),VA=ue('<div class="divide-y divide-base-300/20"></div>'),qA=ue('<div class="flex flex-col gap-6"><div class="relative"><div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-base-content/50 pointer-events-none"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <input type="text" class="w-full pl-12 pr-4 py-3 text-sm bg-base-100 border border-base-300/50 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200 placeholder:text-base-content/50" placeholder="Search symbols..."></div> <div class="relative rounded-lg overflow-hidden bg-base-100 border border-base-300/30"><div class="h-96 overflow-y-auto luxury-scrollbar svelte-1r1pdks"><!></div></div> <div class="flex justify-center items-center py-2 mt-1"><div class="group relative cursor-pointer"><div class="absolute inset-0 bg-gradient-to-r from-transparent via-primary/20 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-700 ease-out blur-xl"></div> <div class="relative flex items-center gap-2 px-4 py-1.5 rounded-full bg-gradient-to-r from-base-100/80 to-base-200/60 backdrop-blur-sm border border-base-300/30 shadow-lg group-hover:shadow-xl group-hover:scale-105 transition-all duration-500 ease-out"><div class="w-2 h-2 rounded-full bg-gradient-to-r from-primary to-secondary animate-pulse"></div> <span class="text-sm font-medium text-base-content/70 group-hover:text-primary transition-colors duration-300">Powered by</span> <span class="text-sm font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent group-hover:from-secondary group-hover:to-primary transition-all duration-500">Duty AI</span> <div class="w-2 h-2 rounded-full bg-gradient-to-r from-secondary to-primary animate-pulse" style="animation-delay: 0.5s;"></div></div></div></div></div>'),WA=ue("<div><!></div>");function GA(o,e){Pr(e,!0);const t=El(),n=()=>ti(x,"$save",t),s=()=>ti(d,"$keyword",t),r=()=>ti(h,"$ctx",t);let a=Po(e,"show",15);const c=my();let d=bc(""),u=Z($([])),p=Z(-1);const h=ur("ctx"),x=ur("save");Ds(()=>{a()&&(console.log("ðŸ” Modal opened! Available symbols:",n().allSymbols.length),console.log("ðŸ” Current symbol:",n().symbol),b(u,$(n().allSymbols)))}),typeof window<"u"&&(window.testSymbolChange=()=>{if(n().allSymbols.length>0){const D=n().allSymbols[1];console.log("ðŸ§ª Testing symbol change to:",D),S(D)}else console.log("ðŸ§ª No symbols available for testing")});function w(D,A){if(!A||!A.trim())return D;const F=A.trim().toLowerCase().split(/\s+/);return D.map(B=>{const O=B.ticker.toLowerCase(),z=(B.shortName||"").toLowerCase(),Y=(B.exchange||"").toLowerCase();let G=0;return F.forEach(oe=>{O===oe?G+=1e3:O.startsWith(oe)?G+=500:O.includes(oe)?G+=300:z.startsWith(oe)?G+=200:z.includes(oe)?G+=100:Y.includes(oe)?G+=50:k(O,oe)?G+=30:k(z,oe)&&(G+=20)}),G>0&&O.length<=5&&(G+=10),{symbol:B,score:G}}).filter(B=>B.score>0).sort((B,O)=>O.score!==B.score?O.score-B.score:B.symbol.ticker.localeCompare(O.symbol.ticker)).map(B=>B.symbol)}function k(D,A){let j=0;for(let F=0;F<D.length&&j<A.length;(F+=1)-1)D[F]===A[j]&&(j+=1);return j===A.length}d.subscribe(D=>{if(!D||!D.trim()){b(u,$(n().allSymbols)),b(p,-1);return}b(u,$(w(n().allSymbols,D))),b(p,-1)});function S(D){Qs(x,Qt(n).symbol=D,Qt(n)),a(!1)}var M=WA();M.__keydown=[jA,a,u,p,S];var T=m(M);nd(T,{title:c,width:650,maxHeight:"85vh",get show(){return a()},set show(D){a(D)},get theme(){return n().theme},buttons:[],children:(D,A)=>{var j=qA(),F=m(j),q=v(m(F),2);ut(q),x2(q,!0),_(F);var B=v(F,2),O=m(B),z=m(O);xe(z,()=>r().loadingPairs,Y=>{var G=$A();N(Y,G)},Y=>{var G=yt(),oe=nt(G);xe(oe,()=>i(u).length===0,re=>{var se=BA();N(re,se)},re=>{var se=VA();Qo(se,21,()=>i(u),ln,(ie,te,K)=>{var J=zA();J.__click=[OA,S,te];var U=m(J),ae=m(U),me=v(ae,2),ke=m(me),Ae=m(ke,!0);Re(()=>wt(Ae,i(te).ticker.charAt(0))),_(ke),_(me),_(U);var Le=v(U,2),He=m(Le),it=m(He),Ne=m(it,!0);_(it);var we=v(it,2),je=m(we,!0);_(we),_(He);var Te=v(He,2);xe(Te,()=>i(te).shortName&&i(te).shortName!==i(te).ticker,Ue=>{var Be=RA(),le=m(Be,!0);_(Be),Re(()=>wt(le,i(te).shortName)),N(Ue,Be)}),_(Le);var Se=v(Le,2);xe(Se,()=>i(p)===K,Ue=>{var Be=NA();N(Ue,Be)}),_(J),Re(()=>{Un(J,`group flex items-center gap-3 px-4 py-3 cursor-pointer transition-all duration-200
                         ${(i(p)===K?"bg-primary/10 text-primary border-l-2 border-primary":"hover:bg-base-200/50 text-base-content")??""}`),lt(ae,"src",`https://s3-api.bayah.app/cdn/symbol/logo/${i(te).ticker}.svg`),lt(ae,"alt",i(te).ticker),wt(Ne,i(te).ticker),wt(je,i(te).exchange)}),$a("error",ae,Ue=>{const Be=Ue.target;if(Be){Be.style.display="none";const le=Be.nextElementSibling;le&&(le.style.display="flex")}}),Px(ae),N(ie,J)}),_(se),N(re,se)},!0),N(Y,G)}),_(O),_(B),ei(2),_(j),Mt(q,s,Y=>w2(d,Y)),N(D,j)},$$slots:{default:!0}}),_(M),N(o,M),Mr()}Pa(["keydown","click"]);var HA=(o,e,t)=>e(i(t)),UA=ue('<li class="w-[140px] h-[85px] flex items-center justify-center cursor-pointer rounded-lg svelte-18wwyns"><span> </span></li>'),YA=ue('<div class="p-2"><ul class="flex flex-wrap justify-center gap-2"></ul></div>');function KA(o,e){Pr(e,!0);const t=El(),n=()=>ti(a,"$save",t);let s=Po(e,"show",15);const r=gy(),a=ur("save"),c=[{timeframe:"1m",multiplier:1,timespan:"minute",secs:60},{timeframe:"5m",multiplier:5,timespan:"minute",secs:300},{timeframe:"15m",multiplier:15,timespan:"minute",secs:900},{timeframe:"30m",multiplier:30,timespan:"minute",secs:1800},{timeframe:"1h",multiplier:1,timespan:"hour",secs:3600},{timeframe:"4h",multiplier:4,timespan:"hour",secs:14400},{timeframe:"1d",multiplier:1,timespan:"day",secs:86400},{timeframe:"1w",multiplier:1,timespan:"week",secs:604800},{timeframe:"1M",multiplier:1,timespan:"month",secs:2592e3}];function d(p){Qs(a,Qt(n).period=p,Qt(n)),s(!1)}function u(p){switch(p){case"minute":return Iy();case"hour":return Py();case"day":return My();case"week":return Ty();case"month":return Ay();default:return p}}nd(o,{title:r,width:500,get show(){return s()},set show(p){s(p)},get theme(){return n().theme},buttons:[],children:(p,h)=>{var x=YA(),w=m(x);Qo(w,21,()=>c,ln,(k,S)=>{var M=UA();M.__click=[HA,d,S];var T=m(M),D=m(T);Re(()=>wt(D,`${i(S).multiplier??""} ${u(i(S).timespan)??""}`)),_(T),_(M),Re(()=>{var A,j,F;Ls(M,"hover:bg-base-200",i(S).timeframe!==((A=n().period)==null?void 0:A.timeframe)),Ls(M,"bg-primary",i(S).timeframe===((j=n().period)==null?void 0:j.timeframe)),Ls(M,"text-primary-content",i(S).timeframe===((F=n().period)==null?void 0:F.timeframe))}),N(k,M)}),_(w),_(x),N(p,x)},$$slots:{default:!0}}),Mr()}Pa(["click"]);const ZA=o=>o;function Mb(o){const e=o-1;return e*e*e+1}function e2(o){const e=typeof o=="string"&&o.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[o,"px"]}function Yg(o,{delay:e=0,duration:t=400,easing:n=ZA}={}){const s=+getComputedStyle(o).opacity;return{delay:e,duration:t,easing:n,css:r=>`opacity: ${r*s}`}}function Kg(o,{delay:e=0,duration:t=400,easing:n=Mb,x:s=0,y:r=0,opacity:a=0}={}){const c=getComputedStyle(o),d=+c.opacity,u=c.transform==="none"?"":c.transform,p=d*(1-a),[h,x]=e2(s),[w,k]=e2(r);return{delay:e,duration:t,easing:n,css:(S,M)=>`
			transform: ${u} translate(${(1-S)*h}${x}, ${(1-S)*w}${k});
			opacity: ${d-p*M}`}}function XA(o,{delay:e=0,duration:t=400,easing:n=Mb,axis:s="y"}={}){const r=getComputedStyle(o),a=+r.opacity,c=s==="y"?"height":"width",d=parseFloat(r[c]),u=s==="y"?["top","bottom"]:["left","right"],p=u.map(T=>`${T[0].toUpperCase()}${T.slice(1)}`),h=parseFloat(r[`padding${p[0]}`]),x=parseFloat(r[`padding${p[1]}`]),w=parseFloat(r[`margin${p[0]}`]),k=parseFloat(r[`margin${p[1]}`]),S=parseFloat(r[`border${p[0]}Width`]),M=parseFloat(r[`border${p[1]}Width`]);return{delay:e,duration:t,easing:n,css:T=>`overflow: hidden;opacity: ${Math.min(T*20,1)*a};${c}: ${T*d}px;padding-${u[0]}: ${T*h}px;padding-${u[1]}: ${T*x}px;margin-${u[0]}: ${T*w}px;margin-${u[1]}: ${T*k}px;border-${u[0]}-width: ${T*S}px;border-${u[1]}-width: ${T*M}px;`}}function bh(o){const e=o-1;return e*e*e+1}function zh(o,e){try{const{chart:t,paneId:n="candle_pane"}=e,s={timestamp:o.t,value:o.p},r=t.convertToPixel(s,{paneId:n,absolute:!0});if(!r||typeof r!="object")return null;const a=Array.isArray(r)?r[0]:r;return!a||typeof a!="object"||typeof a.x!="number"||typeof a.y!="number"||!isFinite(a.x)||!isFinite(a.y)?null:{x:a.x,y:a.y}}catch(t){return console.error("Error converting data-space to screen-space:",t),null}}function JA(o,e,t){try{const{chart:n,paneId:s="candle_pane"}=e,r=n.convertFromPixel([o],{paneId:s});if(!r||!Array.isArray(r)||r.length===0||!r[0])return null;const a=r[0];return typeof a.timestamp!="number"||typeof a.value!="number"||!isFinite(a.timestamp)||!isFinite(a.value)?null:{id:t||QA(),t:Math.round(a.timestamp),p:a.value}}catch(n){return console.error("Error converting screen-space to data-space:",n),null}}function Tb(o,e){const t=[];let n=!0,s=!0;for(const r of o){const a=zh(r,e);if(!a){s=!1,t.push({x:0,y:0});continue}t.push(a),(a.x<-100||a.x>1e4||a.y<-100||a.y>1e4)&&(n=!1)}return{screenPoints:t,isVisible:n,isValid:s}}function QA(){return`point_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}class eD{constructor(e){Wt(this,"chart");Wt(this,"context");this.chart=e,this.context={chart:e}}enhanceTemplate(e){const t={...e,originalTemplate:e,createPointFigures:n=>{var a,c;const{overlay:s,coordinates:r}=n;if(this.isDataSpaceOverlay(s)){const d=s,u=Tb(d.points,this.context);return u.isValid?t.createDataSpaceFigures?t.createDataSpaceFigures({overlay:d,chart:this.chart,projectionResult:u,screenCoordinates:u.screenPoints}):((a=e.createPointFigures)==null?void 0:a.call(e,{...n,coordinates:u.screenPoints}))||[]:[]}if(t.createDataSpaceFigures){const d={screenPoints:r||[],isVisible:!0,isValid:Array.isArray(r)&&r.length>0};return t.createDataSpaceFigures({overlay:s,chart:this.chart,projectionResult:d,screenCoordinates:d.screenPoints})}return((c=e.createPointFigures)==null?void 0:c.call(e,n))||[]}};return t}createDataSpaceTemplate(e,t){const n={name:e,totalStep:t.totalStep,needDefaultPointFigure:t.needDefaultPointFigure??!0,needDefaultXAxisFigure:t.needDefaultXAxisFigure??!0,needDefaultYAxisFigure:t.needDefaultYAxisFigure??!0,styles:t.styles,onDrawStart:t.onDrawStart,onDrawing:t.onDrawing,onDrawEnd:t.onDrawEnd,onClick:t.onClick,onDoubleClick:t.onDoubleClick,onRightClick:t.onRightClick,onPressedMoveStart:t.onPressedMoveStart,onPressedMoving:t.onPressedMoving,onPressedMoveEnd:t.onPressedMoveEnd,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onSelected:t.onSelected,onDeselected:t.onDeselected};return this.enhanceTemplate({...n,createDataSpaceFigures:t.createDataSpaceFigures})}isDataSpaceOverlay(e){return e&&typeof e=="object"&&"points"in e&&Array.isArray(e.points)&&e.points.length>0&&e.points.every(t=>t&&typeof t=="object"&&"t"in t&&"p"in t&&"id"in t&&typeof t.t=="number"&&typeof t.p=="number"&&typeof t.id=="string")}screenToDataSpace(e){return[]}updateChart(e){this.chart=e,this.context={chart:e}}}let t2=null;function Ab(o){return t2=new eD(o),t2}const w0={windowBars:120,horizons:[5,10,20],topK:200,stride:1,distance:"cosine",halfLifeBars:500,atrLen:14,rsiLen:14,adxLen:14,avwapAnchors:["sessionOpen","prevHigh","prevLow","swingHi","swingLo"],candidateSL:[.6,.8,1,1.25,1.5],useSwingStop:!1,minMatches:100,winsor:.98,bandAlpha:.22,showTable:!0,showBothDirections:!0},Db="npo_mae_settings_v1";function tD(){try{const o=localStorage.getItem(Db);if(!o)return{...w0};const e=JSON.parse(o);return{...w0,...e}}catch{return{...w0}}}function o2(o){try{localStorage.setItem(Db,JSON.stringify(o))}catch{}}function oD(o,e){const t=e.windowBars;if(o.length<t)return new Float32Array;const n=o.length-t,s=o.slice(n),r=A=>{const j=[];for(let F=A;F<s.length;F++){const q=(s[F].close-s[F-A].close)/Math.max(1e-8,s[F-A].close);j.push(q)}return j},a=r(1),c=r(2),d=r(3),u=r(5),p=[];for(let A=0;A<s.length;A++){const j=e.atrLen,F=Math.max(0,A-j+1);let q=0,B=0;for(let O=F;O<=A;O++){const z=s[O].high,Y=s[O].low;q+=Math.max(0,z-Y),B++}p.push(q/Math.max(1,B))}const x=((A,j)=>{const F=[];for(let q=0;q<A.length;q++){const B=Math.max(0,q-j+1),O=A[B],z=A[q];F.push(z-O)}return F})(p,5),w=[];for(let A=0;A<s.length;A++){const j=s[A],F=Math.max(1e-8,j.high-j.low),q=Math.abs(j.close-j.open);w.push(q/F)}const k=[...a,...c,...d,...u,...p,...x,...w],S=k.reduce((A,j)=>A+j,0)/Math.max(1,k.length),M=Math.sqrt(k.reduce((A,j)=>A+Math.pow(j-S,2),0)/Math.max(1,k.length)),D=k.map(A=>(A-S)/(M>1e-8?M:1)).map(A=>Math.max(-5,Math.min(5,A)));return new Float32Array(D)}function xh(o){const e=o.getDataList();if(!e||e.length===0)return null;const t=e[e.length-1];return{timestamp:t.timestamp,price:t.close}}function nD(o,e,t,n="candle_pane"){try{const s=o.convertToPixel({timestamp:e,value:t},{paneId:n}),r=Array.isArray(s)?s[0]:s;return(r==null?void 0:r.y)??null}catch{return null}}function sD(o){try{const e=o.getSize(),t=o.getVisibleRange();if(!e||!t)return 4;const n=Math.max(1,t.to-t.from+1);return e.width/n}catch{return 4}}function iD(o){try{const e=o.getDataList();if(!e||e.length<2)return 0;const t=Math.min(10,e.length-1);let n=0;for(let r=e.length-t;r<e.length-1;r++){const a=e[r],c=e[r+1],d=Math.max(0,((c==null?void 0:c.timestamp)??0)-((a==null?void 0:a.timestamp)??0));n+=d}const s=n/Math.max(1,t);return isFinite(s)&&s>0?s:0}catch{return 0}}function rD(o){return Ab(o).createDataSpaceTemplate("NearestPatternOutcomeMaeStop",{totalStep:1,needDefaultPointFigure:!0,needDefaultXAxisFigure:!1,needDefaultYAxisFigure:!1,createDataSpaceFigures:({overlay:n,screenCoordinates:s,chart:r})=>{var G,oe,re,se,ie,te;const a=[];if(s.length<1)return a;const c=s[0],d=n.extendData;if(!d)return a;const u=sD(r),p=xh(r);if(!p)return a;const h=p.timestamp,x=p.price,w=d.forwardPathMedianR||[],k=d.forwardPathP10R||[],S=d.forwardPathP90R||[],M=w.map(K=>x+K),T=k.map(K=>x+K),D=S.map(K=>x+K),A=d.bandAlpha??w0.bandAlpha,j=K=>nD(r,h,K),F=iD(r),q=(K,J)=>{const U=h+(F>0?K*F:0);try{const ae=r.convertToPixel({timestamp:U,value:J},{paneId:"candle_pane"}),me=Array.isArray(ae)?ae[0]:ae,ke=(me==null?void 0:me.y)??j(J);return{x:(me==null?void 0:me.x)??c.x+K*u,y:ke??c.y}}catch{const ae=j(J);return{x:c.x+K*u,y:ae??c.y}}};if(M.length>0){const K=d.styles&&d.styles.median||{},J=typeof K.size=="number"?K.size:1,U=typeof K.style=="string"?K.style:"solid";for(let ae=0;ae<M.length-1;ae++){const me=q(ae,M[ae]),ke=q(ae+1,M[ae+1]);a.push({type:"line",attrs:{coordinates:[me,ke]},styles:{color:((G=d.colors)==null?void 0:G.median)||"#66c2a5",size:J,style:U}})}}if(T.length>0&&D.length>0&&d.showOutcomeBand!==!1){const K=[];for(let U=0;U<D.length;U++)K.push(q(U,D[U]));for(let U=T.length-1;U>=0;U--)K.push(q(U,T[U]));const J=d.colors&&d.colors.band||`rgba(102, 194, 165, ${A})`;a.push({type:"polygon",attrs:{coordinates:K},styles:{color:J}})}const B=d.selectedSL,O=d.lastAtr,z=B&&typeof O=="number"?x-B*O:void 0;if(d.showStopLines!==!1&&typeof z=="number"){const K=j(z);if(K!=null){const J=r.getSize(),U=(J==null?void 0:J.width)??0,ae=d.styles&&d.styles.slLong||{},me=typeof ae.size=="number"?ae.size:1,ke=typeof ae.style=="string"?ae.style:"dashed";a.push({type:"line",attrs:{coordinates:[{x:0,y:K},{x:U,y:K}]},styles:{color:((oe=d.colors)==null?void 0:oe.slLong)||"#e67e22",style:ke,size:me}});const Ae=(z??0).toFixed(2);a.push({type:"text",attrs:{x:U-4,y:K,text:`SL L ${Ae}`},styles:{color:((re=d.colors)==null?void 0:re.slLong)||"#e67e22",backgroundColor:"transparent",align:"right",size:11}})}}const Y=B&&typeof O=="number"?x+B*O:void 0;if(d.showStopLines!==!1&&typeof Y=="number"){const K=j(Y);if(K!=null){const J=r.getSize(),U=(J==null?void 0:J.width)??0,ae=d.styles&&d.styles.slShort||{},me=typeof ae.size=="number"?ae.size:1,ke=typeof ae.style=="string"?ae.style:"dashed";a.push({type:"line",attrs:{coordinates:[{x:0,y:K},{x:U,y:K}]},styles:{color:((se=d.colors)==null?void 0:se.slShort)||"#c0392b",style:ke,size:me}});const Ae=(Y??0).toFixed(2);a.push({type:"text",attrs:{x:U-4,y:K,text:`SL S ${Ae}`},styles:{color:((ie=d.colors)==null?void 0:ie.slShort)||"#c0392b",backgroundColor:"transparent",align:"right",size:11}})}}if(d.showTable&&Array.isArray(d.evTable)){const K=r.getSize(),J=(K==null?void 0:K.width)??0,U=240,ae=10,me=10,ke=18,Ae=Math.min(d.evTable.length,6),Le=20,He=me*2+Le+Ae*ke,it=12,we=Math.max(it,J-U-it-80),je=10,Te=typeof document<"u"&&((te=document==null?void 0:document.documentElement)==null?void 0:te.getAttribute("data-theme"))||"",Se=String(Te).toLowerCase().includes("dark"),Ue=Se?"rgba(16,20,30,0.85)":"rgba(245,247,255,0.95)",Be=Se?"rgba(140,160,220,0.35)":"rgba(80,100,160,0.35)",le=Se?"rgba(28,34,50,0.90)":"rgba(232,236,250,0.90)",ye=Se?"#a7b3d8":"#415277",Ee=Se?"#cfd6ee":"#1f2937";a.push({type:"rect",attrs:{x:we,y:je,width:U,height:He},styles:{style:"fill",color:Ue}}),a.push({type:"rect",attrs:{x:we,y:je,width:U,height:He},styles:{style:"stroke",color:Be,borderSize:1,borderStyle:"solid"}});const Je=U-ae*2,be=Qe=>Math.min(we+U-ae-4,Qe),X={mark:be(we+ae),side:be(we+ae+12),mult:be(we+ae+Je*.1),ev:be(we+ae+Je*.35),pwin:be(we+ae+Je*.55),winr:be(we+ae+Je*.72),lossr:be(we+ae+Je*.88)};let H=je+me+2;a.push({type:"rect",attrs:{x:we+1,y:je+1,width:U-2,height:Le},styles:{style:"fill",color:le}}),a.push({type:"text",attrs:{x:X.mult,y:H,text:"SL"},styles:{color:ye,size:12,backgroundColor:"transparent"}}),a.push({type:"text",attrs:{x:X.ev,y:H,text:"EV"},styles:{color:ye,size:12,backgroundColor:"transparent"}}),a.push({type:"text",attrs:{x:X.pwin,y:H,text:"pWin"},styles:{color:ye,size:12,backgroundColor:"transparent"}}),a.push({type:"text",attrs:{x:X.winr,y:H,text:"winR"},styles:{color:ye,size:12,backgroundColor:"transparent"}}),a.push({type:"text",attrs:{x:X.lossr,y:H,text:"lossR"},styles:{color:ye,size:12,backgroundColor:"transparent"}}),H+=Le-6;for(let Qe=0;Qe<Ae;Qe++){const mt=d.evTable[Qe],bt=d.selectedSL===mt.mult;a.push({type:"text",attrs:{x:X.mark,y:H,text:bt?"â–¶":"â€¢"},styles:{color:Ee,size:12,backgroundColor:"transparent"}}),a.push({type:"text",attrs:{x:X.side,y:H,text:mt.side==="long"?"L":"S"},styles:{color:Ee,size:12,backgroundColor:"transparent"}}),a.push({type:"text",attrs:{x:X.mult,y:H,text:`${mt.mult.toFixed(2)}Ã—`},styles:{color:Ee,size:12,backgroundColor:"transparent"}});const ct=`${mt.ev>=0?"+":""}${mt.ev.toFixed(2)}`;a.push({type:"text",attrs:{x:X.ev,y:H,text:ct},styles:{color:Ee,size:12,backgroundColor:"transparent"}}),a.push({type:"text",attrs:{x:X.pwin,y:H,text:`${Math.round(mt.pWin*100)}%`},styles:{color:Ee,size:12,backgroundColor:"transparent"}}),a.push({type:"text",attrs:{x:X.winr,y:H,text:mt.avgWinR.toFixed(2)},styles:{color:Ee,size:12,backgroundColor:"transparent"}}),a.push({type:"text",attrs:{x:X.lossr,y:H,text:mt.avgLossR.toFixed(2)},styles:{color:Ee,size:12,backgroundColor:"transparent"}}),H+=ke}const Ce=(()=>{const Qe=d.selectedSide;return d.evTable.find(bt=>bt.mult===d.selectedSL&&(!Qe||bt.side===Qe))||d.evTable.find(bt=>bt.mult===d.selectedSL)||null})();if(Ce){const mt=je+He+6,bt=86,ct=Ce.side==="long"?"Long":"Short",yo=`${Ce.mult.toFixed(2)}Ã— ATR`,Kt=x.toFixed(2),to=(Ce.side==="long"?x-Ce.mult*(O??0):x+Ce.mult*(O??0)).toFixed(2),io=Math.round((Ce.pWin??0)*100);a.push({type:"rect",attrs:{x:we,y:mt,width:U,height:bt},styles:{style:"fill",color:Se?"rgba(16,20,30,0.85)":"rgba(245,247,255,0.95)"}}),a.push({type:"rect",attrs:{x:we,y:mt,width:U,height:bt},styles:{style:"stroke",color:Be,borderSize:1,borderStyle:"solid"}});let ro=mt+8+2;a.push({type:"text",attrs:{x:we+8,y:ro,text:`Active: ${ct}`},styles:{color:ye,size:12,backgroundColor:"transparent"}}),ro+=18,a.push({type:"text",attrs:{x:we+8,y:ro,text:`Anchor: ${Kt}`},styles:{color:Ee,size:12,backgroundColor:"transparent"}}),ro+=18,a.push({type:"text",attrs:{x:we+8,y:ro,text:`Stop: ${to} (${yo})`},styles:{color:Ee,size:12,backgroundColor:"transparent"}}),ro+=18,a.push({type:"text",attrs:{x:we+8,y:ro,text:`pWin ${io}% â€¢ winR ${Ce.avgWinR.toFixed(2)} â€¢ lossR ${Ce.avgLossR.toFixed(2)}`},styles:{color:Ee,size:12,backgroundColor:"transparent"}});const Uo=Math.abs(x-(Ce.side==="long"?x-Ce.mult*(O??0):x+Ce.mult*(O??0))),an=S.length&&k.length?Math.max(0,(S[0]??0)-(k[0]??0)):0,Mn=an<=1,uo=an>=2,Do=Ce.side==="long"&&(Ce.ev??0)>=.15&&(Ce.pWin??0)>=.52&&!uo,Zt=Ce.side==="short"&&(Ce.ev??0)>=.1&&(Ce.pWin??0)>=.5&&!uo,Go=Do?"BUY":Zt?"SELL":"WAIT",cn=Do?"#10b981":Zt?"#ef4444":Se?"#f59e0b":"#b45309",sn=mt+bt+6,Tr=74,zi=Se?"rgba(20,24,32,0.85)":"rgba(240,244,255,0.95)";a.push({type:"rect",attrs:{x:we,y:sn,width:U,height:Tr},styles:{style:"fill",color:zi}}),a.push({type:"rect",attrs:{x:we,y:sn,width:U,height:Tr},styles:{style:"stroke",color:Be,borderSize:1,borderStyle:"solid"}});let Ki=sn+8+2;a.push({type:"text",attrs:{x:we+8,y:Ki,text:`Action: ${Go}`},styles:{color:cn,size:13,backgroundColor:"transparent"}}),Ki+=18;const wa=Mn?"Band: Narrow":uo?"Band: Wide":"Band: Normal",Ei=`1R: ${Uo.toFixed(2)}`,Za=Do?"EVâ‰¥0.30, pWinâ‰¥55%":Zt?"EVâ‰¥0.20, pWinâ‰¥50%":"Low EV / Wide band / Low pWin";a.push({type:"text",attrs:{x:we+8,y:Ki,text:`${wa} â€¢ ${Ei}`},styles:{color:Ee,size:12,backgroundColor:"transparent"}}),Ki+=18,a.push({type:"text",attrs:{x:we+8,y:Ki,text:Za},styles:{color:ye,size:12,backgroundColor:"transparent"}})}}return a},onClick:n=>{var d;const s=n.overlay.extendData;if(!s||!Array.isArray(s.evTable))return!0;const a=(s.evTable.findIndex(u=>u.mult===s.selectedSL)+1)%s.evTable.length,c=s.evTable[a];return c&&(s.selectedSL=c.mult,s.selectedSide=c.side,(d=n.chart)==null||d.overrideOverlay({id:n.overlay.id,extendData:s})),!0}})}function aD(){return new Worker(new URL(""+new URL("../workers/npoMae.worker-DaGdsbjp.js",import.meta.url).href,import.meta.url),{type:"module"})}function lD(o,e){const t=rD(o);G2(t);let n={...tD()},s=null,r=!0,a=aD(),c=0,d=-1,u=0,p=!0,h=!0;function x(){var j;if(!s){const F=xh(o),q=F?[{timestamp:F.timestamp,value:F.price}]:[],B=o.createOverlay({name:"NearestPatternOutcomeMaeStop",points:q});s=Array.isArray(B)?(B==null?void 0:B[0])??null:B,w();try{const O=xu(),z=((j=O==null?void 0:O.getCurrentSymbol)==null?void 0:j.call(O))||null;O&&z&&s&&O.addDrawing({id:s,symbolKey:z,type:"NearestPatternOutcomeMaeStop",points:F?[{time:F.timestamp,price:F.price}]:[],styles:{},visible:!0})}catch{}}}function w(){var F,q;if(!s)return;const j=xh(o);if(j)try{const B=(F=o.getOverlays)==null?void 0:F.call(o,{id:s}),O=Array.isArray(B)&&B.length>0?B[0]:null,z=(q=O==null?void 0:O.points)==null?void 0:q[0],Y=(z==null?void 0:z.timestamp)??(z==null?void 0:z.time)??(z==null?void 0:z.t),G=(z==null?void 0:z.value)??(z==null?void 0:z.price)??(z==null?void 0:z.p);if(typeof Y!="number"||typeof G!="number"||Y!==j.timestamp||Math.abs(G-j.price)>1e-6){o.overrideOverlay({id:s,points:[{timestamp:j.timestamp,value:j.price}]});try{const re=xu();re&&s&&re.updateDrawing(s,{points:[{time:j.timestamp,price:j.price}]})}catch{}}}catch{}}function k(j){if(!s)return;const F={...j,bandAlpha:n.bandAlpha,showTable:n.showTable,showStopLines:h,showOutcomeBand:p};u&&cancelAnimationFrame(u),u=requestAnimationFrame(()=>{o.overrideOverlay({id:s,extendData:F});try{const q=xu();q&&s&&q.updateDrawing(s,{extendData:F})}catch{}})}function S(){if(!r||!a)return;w();const j=o.getDataList();if(!j||j.length<Math.max(n.windowBars+Math.max(...n.horizons),10)){k({forwardPathMedian:[],forwardPathP10:[],forwardPathP90:[],evTable:[],suggestedSL:null});return}const F=j.map(z=>({time:z.timestamp,open:z.open,high:z.high,low:z.low,close:z.close,volume:z.volume})),q=oD(F,n),B=++c;d=B;const O={id:B,settings:n,features:q,bars:F};a.postMessage(O,[q.buffer])}function M(j){var Y,G;const F=j.data;if(!F||F.id!==d)return;const q=Math.max(...n.horizons),B=F.byHorizon[q];if(!B)return;const O=F.slSuggest||{},z=cD(o,n.atrLen);k({forwardPathMedianR:B.forwardPathMedian,forwardPathP10R:B.forwardPathP10,forwardPathP90R:B.forwardPathP90,evTable:O.evTable||[],selectedSL:((Y=O.long)==null?void 0:Y.mult)??((G=O.short)==null?void 0:G.mult),selectedSide:O.long?"long":O.short?"short":void 0,lastAtr:z})}a&&(a.onmessage=M),x(),S();const T=window.setInterval(()=>{x(),S()},500),D=j=>{j.key==="O"||j.key==="o"?(p=!p,k({})):(j.key==="S"||j.key==="s")&&(h=!h,k({}))};return window.addEventListener("keydown",D,{capture:!0}),{setEnabled(j){r=j,r&&S()},updateSettings(j){n={...n,...j},o2(n),S()},setShowOutcomeBand(j){p=j,k({})},setShowStopLines(j){h=j,k({})},setColors(j){k({colors:j})},setStyles(j){k({styles:j})},resetSettings(){n={...w0},o2(n),S()},getOverlayId(){return s},dispose(){if(window.removeEventListener("keydown",D,{capture:!0}),window.clearInterval(T),a&&(a.terminate(),a=null),s)try{o.removeOverlay({id:s})}catch{}}}}function cD(o,e){const t=o.getDataList();if(!t||t.length===0)return 1;const n=Math.min(e,t.length);let s=0;for(let r=t.length-n;r<t.length;r++){const a=t[r].high,c=t[r].low;s+=Math.max(0,a-c)}return s/Math.max(1,n)}var dD=(o,e)=>b(e,""),uD=ue('<button class="absolute right-4 top-1/2 transform -translate-y-1/2 hover:scale-110 transition-all duration-300 z-10 clear-search-btn svelte-12hs5qp" title="Clear search"><svg class="w-4 h-4 svelte-12hs5qp" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" class="svelte-12hs5qp"></path></svg></button>'),vD=(o,e,t,n)=>!i(e)&&t(i(n).is_main,i(n).name),pD=(o,e)=>{o.stopPropagation(),b(e,!0)},fD=ue('<button class="w-8 h-8 rounded-full ml-2 opacity-0 group-hover:opacity-100 hover:scale-110 transition-all duration-300 flex items-center justify-center backdrop-blur-sm info-btn svelte-12hs5qp" title="How it works"><svg class="w-4 h-4 svelte-12hs5qp" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10" class="svelte-12hs5qp"></circle><line x1="12" y1="16" x2="12" y2="12" class="svelte-12hs5qp"></line><line x1="12" y1="8" x2="12.01" y2="8" class="svelte-12hs5qp"></line></svg></button>'),gD=(o,e,t)=>{o.stopPropagation(),e(i(t).name)},_D=(o,e,t)=>{o.stopPropagation(),e(i(t).name)},mD=ue('<div class="flex items-center gap-2 ml-4 opacity-100 transition-all duration-300 svelte-12hs5qp"><button class="w-8 h-8 rounded-full hover:scale-110 transition-all duration-300 flex items-center justify-center backdrop-blur-sm edit-btn svelte-12hs5qp" title="Edit Parameters"><svg class="w-3.5 h-3.5 svelte-12hs5qp" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" class="svelte-12hs5qp"></path></svg></button> <button class="w-8 h-8 rounded-full hover:scale-110 transition-all duration-300 flex items-center justify-center backdrop-blur-sm delete-btn svelte-12hs5qp" title="Remove Indicator"><svg class="w-3.5 h-3.5 svelte-12hs5qp" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" class="svelte-12hs5qp"></path></svg></button></div>'),hD=ue('<div><div></div> <div class="flex-1 min-w-0 svelte-12hs5qp"><span> </span></div> <!> <!></div>'),yD=ue('<div class="flex flex-col items-center justify-center py-16 text-center svelte-12hs5qp"><div class="w-16 h-16 rounded-full bg-base-200/50 flex items-center justify-center mb-4 svelte-12hs5qp"><svg class="w-8 h-8 text-base-content/40 svelte-12hs5qp" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" class="svelte-12hs5qp"></path></svg></div> <p class="text-lg font-semibold text-base-content/60 mb-2 svelte-12hs5qp">No indicators found</p> <p class="text-sm text-base-content/40 svelte-12hs5qp">Try a different search term</p></div>'),bD=ue(`<div class="flex flex-col gap-6 svelte-12hs5qp"><div><div class="absolute left-4 top-1/2 transform -translate-y-1/2 pointer-events-none z-10 transition-all duration-300 search-icon svelte-12hs5qp"><svg class="w-4 h-4 svelte-12hs5qp" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" class="svelte-12hs5qp"></path></svg></div> <input type="text" class="w-full pl-12 pr-12 py-3.5 text-[15px] font-medium tracking-wide backdrop-blur-sm rounded-2xl 
               focus:outline-none transition-all duration-500 ease-out
               placeholder:font-normal search-input svelte-12hs5qp"> <!></div> <div class="relative rounded-2xl overflow-hidden backdrop-blur-sm indicator-list-container svelte-12hs5qp"><div class="indicator-scroll ultra-minimal-scrollbar svelte-12hs5qp"><!> <!></div></div> <div class="flex justify-center items-center py-2 mt-1 svelte-12hs5qp"><div class="group relative cursor-pointer svelte-12hs5qp"><div class="absolute inset-0 bg-gradient-to-r from-transparent via-primary/20 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-700 ease-out blur-xl svelte-12hs5qp"></div> <div class="relative flex items-center gap-2 px-4 py-1.5 rounded-full bg-gradient-to-r from-base-100/80 to-base-200/60 backdrop-blur-sm border border-base-300/30 shadow-lg group-hover:shadow-xl group-hover:scale-105 transition-all duration-500 ease-out svelte-12hs5qp"><div class="w-2 h-2 rounded-full bg-gradient-to-r from-primary to-secondary animate-pulse svelte-12hs5qp"></div> <span class="text-sm font-medium text-base-content/70 group-hover:text-primary transition-colors duration-300 svelte-12hs5qp">Powered by</span> <span class="text-sm font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent group-hover:from-secondary group-hover:to-primary transition-all duration-500 svelte-12hs5qp">Duty AI</span> <div class="w-2 h-2 rounded-full bg-gradient-to-r from-secondary to-primary animate-pulse svelte-12hs5qp" style="animation-delay: 0.5s;"></div></div></div></div></div>`),xD=(o,e)=>b(e,!1),wD=(o,e)=>b(e,"bn"),kD=(o,e)=>b(e,"en"),SD=(o,e)=>b(e,!1),CD=ue('<div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">à¦–à§à¦¬ à¦¸à¦¹à¦œ à¦¬à§à¦¯à¦¾à¦–à§à¦¯à¦¾</div> <p class="text-sm text-base-content/70 svelte-12hs5qp">à¦®à¦¨à§‡ à¦•à¦°à§à¦¨ à¦†à¦ªà¦¨à¦¿ à¦†à¦—à§‡à¦° à¦¦à¦¿à¦¨à§‡à¦° à¦›à¦¬à¦¿ à¦¦à§‡à¦–à§‡ à¦†à¦œà¦•à§‡à¦° à¦¦à¦¿à¦¨à§‡à¦° à¦•à¦¥à¦¾ à¦…à¦¨à§à¦®à¦¾à¦¨ à¦•à¦°à¦›à§‡à¦¨à¥¤ à¦à¦‡ à¦‡à¦¨à§à¦¡à¦¿à¦•à§‡à¦Ÿà¦°à¦Ÿà¦¿ à¦ à¦¿à¦• à¦¤à§‡à¦®à¦¨à¦‡ à¦•à¦°à§‡â€”à¦à¦–à¦¨à¦•à¦¾à¦° à¦¦à¦¾à¦®à§‡à¦° à¦¸à¦™à§à¦—à§‡ à¦–à§à¦¬ à¦®à¦¿à¦²â€‘à¦¥à¦¾à¦•à¦¾ à¦†à¦—à§‡à¦° à¦ªà§à¦¯à¦¾à¦Ÿà¦¾à¦°à§à¦¨ à¦–à§à¦à¦œà§‡ à¦¨à§‡à§Ÿ, à¦¤à¦¾à¦¦à§‡à¦° à¦ªà¦¥ à¦§à¦°à§‡ à¦¸à¦¾à¦®à¦¨à§‡ à¦•à§€ à¦¹à¦¤à§‡ à¦ªà¦¾à¦°à§‡ à¦¤à¦¾ à¦…à¦¨à§à¦®à¦¾à¦¨ à¦•à¦°à§‡, à¦†à¦° à¦…à¦¤à§€à¦¤à§‡ à¦•à¦¤à¦Ÿà¦¾ à¦‰à¦²à§à¦Ÿà§‹ à¦¦à¦¿à¦•à§‡ à¦—à§‡à¦›à§‡ à¦¸à§‡à¦Ÿà¦¾à¦•à§‡ à¦§à¦°à§‡ à¦¨à¦¿à¦°à¦¾à¦ªà¦¦ à¦¥à¦¾à¦®à¦¾à¦° à¦œà¦¾à§Ÿà¦—à¦¾ (à¦¸à§à¦Ÿà¦ªâ€‘à¦²à¦¸) à¦¬à¦²à§‡ à¦¦à§‡à§Ÿà¥¤</p> <p class="text-sm text-base-content/70 svelte-12hs5qp">à¦‰à¦¦à¦¾à¦¹à¦°à¦£: à¦§à¦°à§à¦¨ à¦†à¦œà¦•à§‡à¦° à¦¦à¦¾à¦®à§‡à¦° à¦—à¦¤à¦¿ à¦…à¦¨à§‡à¦•à¦Ÿà¦¾ à¦—à¦¤ à¦®à¦¾à¦¸à§‡à¦° à§§à§« à¦¤à¦¾à¦°à¦¿à¦–à§‡à¦° à¦®à¦¤à§‹à¥¤ à¦‡à¦¨à§à¦¡à¦¿à¦•à§‡à¦Ÿà¦°à¦Ÿà¦¿ à¦¤à¦–à¦¨ à¦—à¦¤ à¦®à¦¾à¦¸à§‡à¦° à§§à§« à¦¤à¦¾à¦°à¦¿à¦–à§‡à¦° à¦ªà¦°à§‡à¦° à¦¦à¦¿à¦¨à¦—à§à¦²à§‹ à¦•à§€ à¦¹à§Ÿà§‡à¦›à¦¿à¦² à¦¸à§‡à¦Ÿà¦¾ à¦¦à§‡à¦–à§‡ à¦†à¦œà¦•à§‡à¦° à¦ªà¦°à§‡à¦° à¦¦à¦¿à¦¨à¦—à§à¦²à§‹à¦° à¦œà¦¨à§à¦¯ à¦…à¦¨à§à¦®à¦¾à¦¨ à¦•à¦°à§‡à¥¤</p> <p class="text-sm text-base-content/70 svelte-12hs5qp">à¦šà¦¾à¦°à§à¦Ÿà§‡ à¦°à¦™à§‡à¦° à¦¬à§à¦¯à¦¾à¦¨à§à¦¡à¦Ÿà¦¿ P10â€“P90 à¦ªà§à¦°à¦¤à§à¦¯à¦¾à¦¶à¦¿à¦¤ à¦°à§‡à¦žà§à¦œ à¦¬à§‹à¦à¦¾à§Ÿâ€”à¦®à¦¾à¦¨à§‡ à§§à§¦à§¦â€‘à¦à¦° à¦®à¦§à§à¦¯à§‡ à§®à§¦ à¦¬à¦¾à¦° à¦¦à¦¾à¦® à¦à¦‡ à¦¸à§€à¦®à¦¾à¦° à¦®à¦§à§à¦¯à§‡ à¦¥à¦¾à¦•à¦¤à§‡ à¦ªà¦¾à¦°à§‡à¥¤ à¦®à¦¾à¦à§‡à¦° à¦°à§‡à¦–à¦¾à¦Ÿà¦¿ à¦®à¦¾à¦à§‡à¦° à¦°à¦¾à¦¸à§à¦¤à¦¾ (à¦®à¦¿à¦¡à¦¿à§Ÿà¦¾à¦¨ à¦ªà¦¥)â€”à¦¦à¦¾à¦® à¦¸à¦¾à¦§à¦¾à¦°à¦£à¦¤ à¦à¦‡ à¦ªà¦¥ à¦§à¦°à§‡ à¦šà¦²à¦¤à§‡ à¦ªà¦¾à¦°à§‡à¥¤ à¦†à¦° à¦¡à§à¦¯à¦¾à¦¶à¦¡ à¦²à¦¾à¦‡à¦¨à¦—à§à¦²à§‹ à¦²à¦‚/à¦¶à¦°à§à¦Ÿà§‡à¦° à¦¸à§à¦Ÿà¦ªâ€”à¦à¦—à§à¦²à§‹à¦¤à§‡ à¦ªà§Œà¦à¦›à¦¾à¦²à§‡ à¦¥à¦¾à¦®à¦¾à¦° à¦¸à¦‚à¦•à§‡à¦¤à¥¤</p></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">à¦šà¦¾à¦°à§à¦Ÿ à¦‰à¦ªà¦¾à¦¦à¦¾à¦¨</div> <ul class="text-sm text-base-content/70 list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp">à¦®à¦¾à¦à§‡à¦° à¦°à¦¾à¦¸à§à¦¤à¦¾: à¦¦à¦¾à¦® à¦¸à¦¾à¦§à¦¾à¦°à¦£à¦¤ à¦•à§‹à¦¨ à¦ªà¦¥à§‡ à¦¯à§‡à¦¤à§‡ à¦ªà¦¾à¦°à§‡ à¦¤à¦¾à¦° à¦®à¦¾à¦à§‡à¦° à¦²à¦¾à¦‡à¦¨à¥¤</li> <li class="svelte-12hs5qp">à¦°à¦™à§‡à¦° à¦¬à§à¦¯à¦¾à¦¨à§à¦¡: à¦¸à¦®à§à¦­à¦¾à¦¬à§à¦¯ à¦“à¦ à¦¾â€‘à¦¨à¦¾à¦®à¦¾à¦° à¦à¦²à¦¾à¦•à¦¾ (P10â€“P90)à¥¤ à¦¸à¦°à§ à¦®à¦¾à¦¨à§‡ à¦ªà¦°à¦¿à¦·à§à¦•à¦¾à¦° à¦ªà¦¥, à¦ªà§à¦°à¦¶à¦¸à§à¦¤ à¦®à¦¾à¦¨à§‡ à¦¬à§‡à¦¶à¦¿ à¦…à¦¨à¦¿à¦¶à§à¦šà§Ÿà¦¤à¦¾à¥¤</li> <li class="svelte-12hs5qp">à¦¸à§à¦Ÿà¦ªà§‡à¦° à¦¦à¦¾à¦—: à¦²à¦‚/à¦¶à¦°à§à¦Ÿà§‡à¦° à¦ªà§à¦°à¦¸à§à¦¤à¦¾à¦¬à¦¿à¦¤ à¦¸à§à¦Ÿà¦ªâ€‘à¦²à¦¸à§‡à¦° à¦¡à§à¦¯à¦¾à¦¶à¦¡ à¦²à¦¾à¦‡à¦¨à¥¤</li> <li class="svelte-12hs5qp">à¦‡à¦­à¦¿ à¦Ÿà§‡à¦¬à¦¿à¦²: à¦•à§‹à¦¨ à¦¸à§à¦Ÿà¦ª à¦¨à¦¿à¦²à§‡ à¦®à§‹à¦Ÿà§‡à¦° à¦‰à¦ªà¦° à¦²à¦¾à¦­â€‘à¦•à§à¦·à¦¤à¦¿ à¦•à§‡à¦®à¦¨ à¦¹à¦¤à§‡ à¦ªà¦¾à¦°à§‡ à¦¤à¦¾ à¦¦à§‡à¦–à¦¾à§Ÿà¥¤</li></ul></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">à¦“à¦­à¦¾à¦°à¦²à§‡ à¦ªà§à¦¯à¦¾à¦¨à§‡à¦²à¦—à§à¦²à§‹</div> <ul class="text-sm text-base-content/70 list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">à¦¤à¦¥à§à¦¯ à¦ªà§à¦¯à¦¾à¦¨à§‡à¦²</span>: <span class="font-medium svelte-12hs5qp">Active</span> (Long/Short), <span class="font-medium svelte-12hs5qp">Anchor</span> (à¦¬à¦°à§à¦¤à¦®à¦¾à¦¨ à¦¦à¦¾à¦®), <span class="font-medium svelte-12hs5qp">Stop</span> (SL à¦®à§‚à¦²à§à¦¯ à¦“ Ã—ATR), <span class="font-medium svelte-12hs5qp">pWin</span>, <span class="font-medium svelte-12hs5qp">winR</span>, <span class="font-medium svelte-12hs5qp">lossR</span> à¦¦à§‡à¦–à¦¾à§Ÿâ€”à¦¸à¦¿à¦¦à§à¦§à¦¾à¦¨à§à¦¤à§‡à¦° à¦œà¦¨à§à¦¯ à¦¦à§à¦°à§à¦¤ à¦ªà§à¦°à§‡à¦•à§à¦·à¦¾à¦ªà¦Ÿ à¦¦à§‡à§Ÿà¥¤</li> <li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">à¦¸à¦¿à¦¦à§à¦§à¦¾à¦¨à§à¦¤ à¦ªà§à¦¯à¦¾à¦¨à§‡à¦²</span>: à¦¬à§œ à¦…à¦•à§à¦·à¦°à§‡ <span class="font-medium svelte-12hs5qp">Action: BUY/SELL/WAIT</span> à¦¦à§‡à¦–à¦¾à§Ÿà¥¤ à¦¸à¦™à§à¦—à§‡ <span class="font-medium svelte-12hs5qp">Band</span> (Narrow/Normal/Wide), <span class="font-medium svelte-12hs5qp">1R</span> à¦¦à§‚à¦°à¦¤à§à¦¬ à¦“ <span class="font-medium svelte-12hs5qp">à¦¶à¦°à§à¦¤à§‡à¦° à¦¸à¦¾à¦°à¦¾à¦‚à¦¶</span> à¦¦à§‡à¦–à¦¾à§Ÿà¥¤ <br class="svelte-12hs5qp">BUY (à¦²à¦‚): EV â‰¥ 0.30 à¦“ pWin â‰¥ 55%, à¦¬à§à¦¯à¦¾à¦¨à§à¦¡ Wide à¦¨à¦¾ à¦¹à¦²à§‡à¥¤ <br class="svelte-12hs5qp">SELL (à¦¶à¦°à§à¦Ÿ): EV â‰¥ 0.20 à¦“ pWin â‰¥ 50%, à¦¬à§à¦¯à¦¾à¦¨à§à¦¡ Wide à¦¨à¦¾ à¦¹à¦²à§‡à¥¤ <br class="svelte-12hs5qp">à¦…à¦¨à§à¦¯à¦¥à¦¾: WAITà¥¤</li></ul></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">à¦‡à¦­à¦¿ à¦Ÿà§‡à¦¬à¦¿à¦² (à¦‰à¦¦à¦¾à¦¹à¦°à¦£)</div> <div class="overflow-x-auto svelte-12hs5qp"><table class="table table-xs svelte-12hs5qp"><thead class="svelte-12hs5qp"><tr class="svelte-12hs5qp"><th class="svelte-12hs5qp">à¦ªà¦œà¦¿à¦¶à¦¨</th><th class="svelte-12hs5qp">à¦à¦¸à¦à¦² (Ã—à¦à¦Ÿà¦¿à¦†à¦°)</th><th class="svelte-12hs5qp">à¦‡à¦­à¦¿ (à¦†à¦°)</th><th class="svelte-12hs5qp">à¦œà§‡à¦¤à¦¾à¦° à¦¸à¦®à§à¦­à¦¾à¦¬à¦¨à¦¾ (%)</th><th class="svelte-12hs5qp">à¦‰à¦‡à¦¨ R</th><th class="svelte-12hs5qp">à¦²à¦¸ R</th></tr></thead><tbody class="svelte-12hs5qp"><tr class="svelte-12hs5qp"><td class="svelte-12hs5qp">à¦²à¦‚</td><td class="svelte-12hs5qp">1.00Ã—</td><td class="svelte-12hs5qp">+0.45</td><td class="svelte-12hs5qp">62</td><td class="svelte-12hs5qp">1.60</td><td class="svelte-12hs5qp">0.95</td></tr><tr class="svelte-12hs5qp"><td class="svelte-12hs5qp">à¦²à¦‚</td><td class="svelte-12hs5qp">1.25Ã—</td><td class="svelte-12hs5qp">+0.30</td><td class="svelte-12hs5qp">68</td><td class="svelte-12hs5qp">1.35</td><td class="svelte-12hs5qp">0.80</td></tr><tr class="svelte-12hs5qp"><td class="svelte-12hs5qp">à¦¶à¦°à§à¦Ÿ</td><td class="svelte-12hs5qp">0.80Ã—</td><td class="svelte-12hs5qp">+0.20</td><td class="svelte-12hs5qp">54</td><td class="svelte-12hs5qp">1.10</td><td class="svelte-12hs5qp">0.85</td></tr><tr class="svelte-12hs5qp"><td class="svelte-12hs5qp">à¦¶à¦°à§à¦Ÿ</td><td class="svelte-12hs5qp">1.00Ã—</td><td class="svelte-12hs5qp">âˆ’0.05</td><td class="svelte-12hs5qp">48</td><td class="svelte-12hs5qp">1.20</td><td class="svelte-12hs5qp">1.10</td></tr></tbody></table></div> <ul class="text-sm text-base-content/70 list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp">à¦‡à¦­à¦¿: à¦®à§‹à¦Ÿà§‡à¦° à¦‰à¦ªà¦° à¦—à§œ à¦ªà§à¦°à¦¤à§à¦¯à¦¾à¦¶à¦¾à¥¤ à¦œà§‡à¦¤à¦¾â€‘à¦¹à¦¾à¦°à¦¾ à¦¦à§à¦Ÿà§‹ à¦®à¦¿à¦²à¦¿à§Ÿà§‡ à¦«à¦² à¦•à§‡à¦®à¦¨ à¦¹à¦¬à§‡à¥¤</li> <li class="svelte-12hs5qp">à¦œà§‡à¦¤à¦¾à¦° à¦¸à¦®à§à¦­à¦¾à¦¬à¦¨à¦¾ (%): à§§à§¦à§¦â€‘à¦à¦° à¦®à¦§à§à¦¯à§‡ à¦¸à¦‚à¦–à§à¦¯à¦¾à¥¤ à¦¯à¦¤ à¦¬à§‡à¦¶à¦¿, à¦œà§‡à¦¤à¦¾à¦° à¦¸à¦®à§à¦­à¦¾à¦¬à¦¨à¦¾ à¦¤à¦¤ à¦¬à§‡à¦¶à¦¿à¥¤</li> <li class="svelte-12hs5qp">à¦‰à¦‡à¦¨ R à¦“ à¦²à¦¸ R: à¦œà¦¿à¦¤à¦²à§‡ à¦†à¦¨à§à¦®à¦¾à¦¨à¦¿à¦• à¦•à¦¤, à¦¹à¦¾à¦°à¦²à§‡ à¦†à¦¨à§à¦®à¦¾à¦¨à¦¿à¦• à¦•à¦¤à¥¤ à¦­à¦¾à¦°à¦¸à¦¾à¦®à§à¦¯ à¦¦à§‡à¦–à§à¦¨à¥¤</li> <li class="svelte-12hs5qp">à¦‡à¦­à¦¿ â‰¥ 0 à¦¹à¦²à§‡ à¦¸à¦¾à¦°à¦¿ à¦¬à¦¿à¦¬à§‡à¦šà¦¨à¦¾ à¦•à¦°à§à¦¨; à¦‡à¦­à¦¿ à¦¯à¦¤ à¦¬à§‡à¦¶à¦¿, à¦®à§‹à¦Ÿ à¦ªà§à¦°à¦¤à§à¦¯à¦¾à¦¶à¦¾ à¦¤à¦¤ à¦­à¦¾à¦²à§‹à¥¤</li></ul></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">à¦Ÿà§‡à¦¬à¦¿à¦²à§‡à¦° â–¶ à¦šà¦¿à¦¹à§à¦¨ (à¦…à§à¦¯à¦¾à¦°à§‹) à¦•à§€à¦­à¦¾à¦¬à§‡ à¦•à¦¾à¦œ à¦•à¦°à§‡</div> <ul class="text-sm text-base-content/70 list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp">à¦Ÿà§‡à¦¬à¦¿à¦²à§‡à¦° à¦¸à¦¾à¦°à¦¿à¦¤à§‡ â–¶ à¦¦à§‡à¦–à¦¾à§Ÿ à¦•à§‹à¦¨ à¦à¦¸à¦à¦² à¦®à¦¾à¦²à§à¦Ÿà¦¿à¦ªà§à¦²à¦¾à§Ÿà¦¾à¦° à¦à¦–à¦¨ à¦¸à¦•à§à¦°à¦¿à§Ÿà¥¤ à¦­à§‡à¦¤à¦°à§‡ à¦•à§à¦²à¦¿à¦• à¦•à¦°à¦²à§‡ â–¶ à¦ªà¦°à§‡à¦° à¦¸à¦¾à¦°à¦¿à¦¤à§‡ à¦¯à¦¾à§Ÿà¥¤</li> <li class="svelte-12hs5qp">â–¶ à¦¯à§‡ à¦¸à¦¾à¦°à¦¿à¦¤à§‡ à¦¥à¦¾à¦•à§‡, à¦¸à§‡à¦‡ à¦¸à¦¾à¦°à¦¿à¦° <span class="font-medium svelte-12hs5qp">SL (Ã—ATR)</span> à¦…à¦¨à§à¦¯à¦¾à§Ÿà§€ à¦šà¦¾à¦°à§à¦Ÿà§‡à¦° à¦¡à§à¦¯à¦¾à¦¶à¦¡ à¦¸à§à¦Ÿà¦ªâ€‘à¦²à¦¾à¦‡à¦¨ à¦†à¦ªà¦¡à§‡à¦Ÿ à¦¹à§Ÿà¥¤</li> <li class="svelte-12hs5qp">â–¶ à¦¯à¦¦à¦¿ à¦²à¦‚ à¦¸à¦¾à¦°à¦¿à¦¤à§‡ à¦¥à¦¾à¦•à§‡: à¦¸à¦¿à¦¦à§à¦§à¦¾à¦¨à§à¦¤ à¦²à¦‚ à¦¬à¦¾à§Ÿà¦¾à¦¸à§‡ à¦­à¦¾à¦¬à§à¦¨; à¦¸à§à¦Ÿà¦ª à¦¸à¦¾à¦§à¦¾à¦°à¦£à¦¤ à¦¬à¦°à§à¦¤à¦®à¦¾à¦¨ à¦¦à¦¾à¦®à§‡à¦° à¦¨à¦¿à¦šà§‡ (<span class="font-medium svelte-12hs5qp">anchor âˆ’ mult Ã— ATR</span>).</li> <li class="svelte-12hs5qp">â–¶ à¦¯à¦¦à¦¿ à¦¶à¦°à§à¦Ÿ à¦¸à¦¾à¦°à¦¿à¦¤à§‡ à¦¥à¦¾à¦•à§‡: à¦¸à¦¿à¦¦à§à¦§à¦¾à¦¨à§à¦¤ à¦¶à¦°à§à¦Ÿ à¦¬à¦¾à§Ÿà¦¾à¦¸à§‡ à¦­à¦¾à¦¬à§à¦¨; à¦¸à§à¦Ÿà¦ª à¦¸à¦¾à¦§à¦¾à¦°à¦£à¦¤ à¦¬à¦°à§à¦¤à¦®à¦¾à¦¨ à¦¦à¦¾à¦®à§‡à¦° à¦‰à¦ªà¦°à§‡ (<span class="font-medium svelte-12hs5qp">anchor + mult Ã— ATR</span>).</li> <li class="svelte-12hs5qp">à¦¸à§‡à¦°à¦¾ à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¨: â–¶ à¦•à§‡ à¦à¦®à¦¨ à¦¸à¦¾à¦°à¦¿à¦¤à§‡ à¦°à¦¾à¦–à§à¦¨ à¦¯à§‡à¦–à¦¾à¦¨à§‡ <span class="font-medium svelte-12hs5qp">EV à¦ªà¦œà¦¿à¦Ÿà¦¿à¦­</span>, <span class="font-medium svelte-12hs5qp">pWin à¦¬à§‡à¦¶à¦¿</span>, à¦†à¦° <span class="font-medium svelte-12hs5qp">lossR à¦¨à¦¿à§Ÿà¦¨à§à¦¤à§à¦°à¦£à§‡</span> à¦¥à¦¾à¦•à§‡à¥¤</li></ul></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">à¦…à§à¦¯à¦¾à¦°à§‹ à¦‰à¦¦à¦¾à¦¹à¦°à¦£ (à¦¶à¦°à§à¦Ÿ)</div> <div class="text-sm text-base-content/70 space-y-2 svelte-12hs5qp"><p class="svelte-12hs5qp">à¦§à¦°à§à¦¨ â–¶ à¦¶à¦°à§à¦Ÿ à¦¸à¦¾à¦°à¦¿à¦¤à§‡ à¦†à¦›à§‡ à¦à¦¬à¦‚ <span class="font-medium svelte-12hs5qp">SL = 1.50Ã—</span>, <span class="font-medium svelte-12hs5qp">winR = 1.71</span>, <span class="font-medium svelte-12hs5qp">lossR = 1.46</span>à¥¤</p> <ul class="list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">SL 1.50Ã—</span> à¦®à¦¾à¦¨à§‡ à¦¸à§à¦Ÿà¦ª à¦¦à§‚à¦°à¦¤à§à¦¬ <span class="font-medium svelte-12hs5qp">1.5 Ã— ATR</span> à¦‰à¦ªà¦°à§‡à¥¤ à¦¦à§‚à¦° à¦¸à§à¦Ÿà¦ª â†’ à¦•à¦® à¦¸à§à¦Ÿà¦ªâ€‘à¦¹à¦¿à¦Ÿ; à¦•à¦¿à¦¨à§à¦¤à§ à¦°à¦¿à¦¸à§à¦• à¦‡à¦‰à¦¨à¦¿à¦Ÿ à¦¬à§œ à¦¹à§Ÿà¥¤</li> <li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">winR 1.71</span> à¦®à¦¾à¦¨à§‡ à¦œà¦¿à¦¤à¦²à§‡ à¦—à§œ à¦²à¦¾à¦­ <span class="font-medium svelte-12hs5qp">1.71R</span>à¥¤ à¦¯à¦¦à¦¿ 1R = 100 à¦Ÿà¦¾à¦•à¦¾ à¦°à¦¿à¦¸à§à¦• à¦§à¦°à§‡à¦¨, à¦œà¦¿à¦¤à¦²à§‡ à¦—à§œà§‡ 171 à¦Ÿà¦¾à¦•à¦¾à¥¤</li> <li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">lossR 1.46</span> à¦®à¦¾à¦¨à§‡ à¦¹à¦¾à¦°à¦²à§‡ à¦—à§œ à¦•à§à¦·à¦¤à¦¿ <span class="font-medium svelte-12hs5qp">1.46R</span> â‰ˆ 146 à¦Ÿà¦¾à¦•à¦¾à¥¤</li> <li class="svelte-12hs5qp">à¦¸à¦¿à¦¦à§à¦§à¦¾à¦¨à§à¦¤: pWin à¦¯à¦¦à¦¿ ~55% à¦¹à§Ÿ, à¦¤à¦¾à¦¹à¦²à§‡ <span class="font-medium svelte-12hs5qp">EV = pWin Ã— winR âˆ’ (1âˆ’pWin) Ã— lossR</span> = 0.55Ã—1.71 âˆ’ 0.45Ã—1.46 â‰ˆ <span class="font-medium svelte-12hs5qp">+0.28R</span> â†’ à¦—à§à¦°à¦¹à¦£à¦¯à§‹à¦—à§à¦¯à¥¤</li> <li class="svelte-12hs5qp">à¦¯à¦¦à¦¿ pWin 45%â€‘à¦à¦° à¦¨à¦¿à¦šà§‡ à¦¨à¦¾à¦®à§‡ à¦¬à¦¾ lossR à¦¬à§‡à¦¶à¦¿ à¦¹à§Ÿ, â–¶ à¦…à¦¨à§à¦¯ à¦¸à¦¾à¦°à¦¿à¦¤à§‡ à¦¸à¦°à¦¾à¦¨ (à¦•à¦® SL à¦¬à¦¾ à¦­à¦¾à¦²à§‹ EV)à¥¤</li></ul></div></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">à¦…à§à¦¯à¦¾à¦°à§‹ à¦‰à¦¦à¦¾à¦¹à¦°à¦£ (à¦²à¦‚)</div> <div class="text-sm text-base-content/70 space-y-2 svelte-12hs5qp"><p class="svelte-12hs5qp">à¦§à¦°à§à¦¨ â–¶ à¦²à¦‚ à¦¸à¦¾à¦°à¦¿à¦¤à§‡ à¦†à¦›à§‡ à¦à¦¬à¦‚ <span class="font-medium svelte-12hs5qp">SL = 1.00Ã—</span>, <span class="font-medium svelte-12hs5qp">winR = 1.40</span>, <span class="font-medium svelte-12hs5qp">lossR = 0.90</span>à¥¤</p> <ul class="list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">SL 1.00Ã—</span> à¦®à¦¾à¦¨à§‡ à¦¸à§à¦Ÿà¦ª à¦¦à§‚à¦°à¦¤à§à¦¬ <span class="font-medium svelte-12hs5qp">1 Ã— ATR</span> à¦¨à¦¿à¦šà§‡à¥¤ à¦•à¦¾à¦›à§‡à¦° à¦¸à§à¦Ÿà¦ª â†’ à¦à§à¦à¦•à¦¿ à¦›à§‹à¦Ÿ; à¦•à¦¿à¦¨à§à¦¤à§ à¦¸à§à¦Ÿà¦ªâ€‘à¦¹à¦¿à¦Ÿ à¦¹à¦¤à§‡ à¦ªà¦¾à¦°à§‡ à¦¬à§‡à¦¶à¦¿à¥¤</li> <li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">winR 1.40</span> à¦®à¦¾à¦¨à§‡ à¦œà¦¿à¦¤à¦²à§‡ à¦—à§œ à¦²à¦¾à¦­ 1.40Rà¥¤</li> <li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">lossR 0.90</span> à¦®à¦¾à¦¨à§‡ à¦¹à¦¾à¦°à¦²à§‡ à¦—à§œ à¦•à§à¦·à¦¤à¦¿ 0.90Rà¥¤</li> <li class="svelte-12hs5qp">pWin à¦¯à¦¦à¦¿ ~60% à¦¹à§Ÿ, <span class="font-medium svelte-12hs5qp">EV â‰ˆ 0.60Ã—1.40 âˆ’ 0.40Ã—0.90 = +0.54R</span> â†’ à¦¶à¦•à§à¦¤ à¦¸à¦¿à¦¦à§à¦§à¦¾à¦¨à§à¦¤à¥¤</li> <li class="svelte-12hs5qp">à¦¯à¦¦à¦¿ à¦¬à§à¦¯à¦¾à¦¨à§à¦¡ à¦–à§à¦¬ à¦ªà§à¦°à¦¶à¦¸à§à¦¤ à¦¬à¦¾ pWin à¦•à¦® à¦¹à§Ÿ, â–¶ à¦•à§‡ à¦à¦®à¦¨ à¦¸à¦¾à¦°à¦¿à¦¤à§‡ à¦¨à¦¿à¦¨ à¦¯à§‡à¦–à¦¾à¦¨à§‡ EV à¦ªà¦œà¦¿à¦Ÿà¦¿à¦­ à¦“ lossR à¦¨à¦¿à§Ÿà¦¨à§à¦¤à§à¦°à¦¿à¦¤à¥¤</li></ul></div></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">à¦¬à§à¦¯à¦¾à¦¨à§à¦¡ à¦­à¦¿à¦¤à§à¦¤à¦¿à¦• à¦¸à¦¿à¦¦à§à¦§à¦¾à¦¨à§à¦¤</div> <ul class="text-sm text-base-content/70 list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp">à¦¬à§à¦¯à¦¾à¦¨à§à¦¡ à¦¸à¦°à§: à¦ªà¦¥ à¦ªà¦°à¦¿à¦·à§à¦•à¦¾à¦°â€”à¦†à¦¤à§à¦®à¦¬à¦¿à¦¶à§à¦¬à¦¾à¦¸ à¦à¦•à¦Ÿà§ à¦¬à¦¾à§œà¦¾à¦¨à§‹ à¦¯à§‡à¦¤à§‡ à¦ªà¦¾à¦°à§‡à¥¤</li> <li class="svelte-12hs5qp">à¦¬à§à¦¯à¦¾à¦¨à§à¦¡ à¦ªà§à¦°à¦¶à¦¸à§à¦¤: à¦…à¦¨à¦¿à¦¶à§à¦šà§Ÿà¦¤à¦¾ à¦¬à§‡à¦¶à¦¿â€”à¦¸à¦¾à¦‡à¦œ à¦•à¦®à¦¾à¦¨ à¦¬à¦¾ à¦à¦•à¦Ÿà§ à¦…à¦ªà§‡à¦•à§à¦·à¦¾ à¦•à¦°à§à¦¨à¥¤</li> <li class="svelte-12hs5qp">à¦¬à§à¦¯à¦¾à¦¨à§à¦¡ à¦¯à¦¦à¦¿ à¦¬à§œ à¦¸à¦¾à¦ªà§‹à¦°à§à¦Ÿ/à¦°à§‡à¦œà¦¿à¦¸à§à¦Ÿà§à¦¯à¦¾à¦¨à§à¦¸à§‡à¦° à¦¸à¦™à§à¦—à§‡ à¦®à¦¿à¦²à§‡ à¦¯à¦¾à§Ÿ: à¦¸à¦¤à¦°à§à¦• à¦¥à¦¾à¦•à§à¦¨, à¦¸à§à¦Ÿà¦ª à¦¦à§‚à¦°à§‡ à¦°à¦¾à¦–à§à¦¨à¥¤</li></ul></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">à¦‰à¦¦à¦¾à¦¹à¦°à¦£</div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 svelte-12hs5qp"><div class="p-3 rounded-md border border-base-300 bg-base-50 svelte-12hs5qp"><div class="text-xs font-semibold text-base-content svelte-12hs5qp">à¦²à¦‚ à¦¬à¦¾à§Ÿà¦¾à¦¸</div> <p class="text-xs text-base-content/70 mt-1 svelte-12hs5qp">à¦®à¦¾à¦à§‡à¦° à¦°à¦¾à¦¸à§à¦¤à¦¾ à¦‰à¦ªà¦°à§‡ à¦¦à¦¿à¦•à§‡à¥¤ à¦‡à¦­à¦¿ +0.30â†’+0.60, à¦œà§‡à¦¤à¦¾à¦° à¦¸à¦®à§à¦­à¦¾à¦¬à¦¨à¦¾ 55â€“65%à¥¤ à¦à¦¸à¦à¦² 1.0Ã—â€“1.25Ã— à¦¨à¦¿à¦²à§‡ à¦¸à¦¾à¦§à¦¾à¦°à¦£à¦¤ à¦œà§‡à¦¤à¦¾à¦° à¦¸à¦®à§à¦­à¦¾à¦¬à¦¨à¦¾ à¦“ à¦²à¦¸ Râ€‘à¦à¦° à¦®à¦§à§à¦¯à§‡ à¦­à¦¾à¦²à§‹ à¦­à¦¾à¦°à¦¸à¦¾à¦®à§à¦¯ à¦¥à¦¾à¦•à§‡à¥¤</p></div> <div class="p-3 rounded-md border border-base-300 bg-base-50 svelte-12hs5qp"><div class="text-xs font-semibold text-base-content svelte-12hs5qp">à¦¶à¦°à§à¦Ÿ à¦¬à¦¾à§Ÿà¦¾à¦¸</div> <p class="text-xs text-base-content/70 mt-1 svelte-12hs5qp">à¦®à¦¾à¦à§‡à¦° à¦°à¦¾à¦¸à§à¦¤à¦¾ à¦¨à¦¿à¦šà§‡à¦° à¦¦à¦¿à¦•à§‡à¥¤ à¦¶à¦°à§à¦Ÿ à¦‡à¦­à¦¿ +0.20â†’+0.45à¥¤ à¦¬à§à¦¯à¦¾à¦¨à§à¦¡ à¦¯à¦¦à¦¿ à¦†à¦—à§‡à¦° à¦¨à¦¿à¦šà§ à¦œà¦¾à§Ÿà¦—à¦¾à¦° à¦¸à¦™à§à¦—à§‡ à¦®à¦¿à¦²à§‡ à¦¯à¦¾à§Ÿ, à¦à¦¸à¦à¦² 0.8Ã—â€“1.0Ã— à¦¨à¦¿à¦²à§‡ à¦¸à¦¤à¦°à§à¦• à¦à¦¨à§à¦Ÿà§à¦°à¦¿à¦° à¦œà¦¨à§à¦¯ à¦­à¦¾à¦²à§‹ à¦¹à§Ÿà¥¤</p></div></div></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">à¦•à¦–à¦¨ à¦•à¦¿à¦¨à¦¬à§‡à¦¨/à¦¬à¦¿à¦•à§à¦°à¦¿ à¦•à¦°à¦¬à§‡à¦¨</div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 svelte-12hs5qp"><div class="p-3 rounded-md border border-base-300 bg-base-50 svelte-12hs5qp"><div class="text-xs font-semibold text-base-content svelte-12hs5qp">à¦•à¦¿à¦¨à¦¬à§‡à¦¨ à¦•à¦–à¦¨ (à¦²à¦‚)</div> <ul class="text-xs text-base-content/70 mt-1 list-disc pl-4 space-y-1 svelte-12hs5qp"><li class="svelte-12hs5qp">à¦‡à¦­à¦¿ +0.30 à¦¬à¦¾ à¦¤à¦¾à¦° à¦¬à§‡à¦¶à¦¿ à¦¹à¦²à§‡</li> <li class="svelte-12hs5qp">à¦œà§‡à¦¤à¦¾à¦° à¦¸à¦®à§à¦­à¦¾à¦¬à¦¨à¦¾ 55% à¦¬à¦¾ à¦¤à¦¾à¦° à¦¬à§‡à¦¶à¦¿ à¦¹à¦²à§‡</li> <li class="svelte-12hs5qp">à¦¬à§à¦¯à¦¾à¦¨à§à¦¡ à¦¸à¦°à§ à¦¹à¦²à§‡ (à¦ªà¦°à¦¿à¦·à§à¦•à¦¾à¦° à¦ªà¦¥)</li> <li class="svelte-12hs5qp">à¦®à¦¾à¦à§‡à¦° à¦°à¦¾à¦¸à§à¦¤à¦¾ à¦‰à¦ªà¦°à§‡à¦° à¦¦à¦¿à¦•à§‡ à¦¹à¦²à§‡</li> <li class="svelte-12hs5qp">à¦¸à§à¦Ÿà¦ª-à¦²à¦¸ 1.0Ã—â€“1.25Ã— ATR à¦¹à¦²à§‡</li></ul> <p class="text-xs text-base-content/60 mt-2 svelte-12hs5qp">à¦‰à¦¦à¦¾à¦¹à¦°à¦£: à¦‡à¦­à¦¿ +0.45, pWin 62%, à¦¬à§à¦¯à¦¾à¦¨à§à¦¡ à¦¸à¦°à§ â†’ à¦•à¦¿à¦¨à§à¦¨</p></div> <div class="p-3 rounded-md border border-base-300 bg-base-50 svelte-12hs5qp"><div class="text-xs font-semibold text-base-content svelte-12hs5qp">à¦¬à¦¿à¦•à§à¦°à¦¿ à¦•à¦°à¦¬à§‡à¦¨ à¦•à¦–à¦¨ (à¦¶à¦°à§à¦Ÿ)</div> <ul class="text-xs text-base-content/70 mt-1 list-disc pl-4 space-y-1 svelte-12hs5qp"><li class="svelte-12hs5qp">à¦¶à¦°à§à¦Ÿ à¦‡à¦­à¦¿ +0.20 à¦¬à¦¾ à¦¤à¦¾à¦° à¦¬à§‡à¦¶à¦¿ à¦¹à¦²à§‡</li> <li class="svelte-12hs5qp">à¦œà§‡à¦¤à¦¾à¦° à¦¸à¦®à§à¦­à¦¾à¦¬à¦¨à¦¾ 50% à¦¬à¦¾ à¦¤à¦¾à¦° à¦¬à§‡à¦¶à¦¿ à¦¹à¦²à§‡</li> <li class="svelte-12hs5qp">à¦¬à§à¦¯à¦¾à¦¨à§à¦¡ à¦¸à¦°à§ à¦¹à¦²à§‡</li> <li class="svelte-12hs5qp">à¦®à¦¾à¦à§‡à¦° à¦°à¦¾à¦¸à§à¦¤à¦¾ à¦¨à¦¿à¦šà§‡à¦° à¦¦à¦¿à¦•à§‡ à¦¹à¦²à§‡</li> <li class="svelte-12hs5qp">à¦¸à§à¦Ÿà¦ª-à¦²à¦¸ 0.8Ã—â€“1.0Ã— ATR à¦¹à¦²à§‡</li></ul> <p class="text-xs text-base-content/60 mt-2 svelte-12hs5qp">à¦‰à¦¦à¦¾à¦¹à¦°à¦£: à¦‡à¦­à¦¿ +0.25, pWin 54%, à¦¬à§à¦¯à¦¾à¦¨à§à¦¡ à¦¸à¦°à§ â†’ à¦¬à¦¿à¦•à§à¦°à¦¿ à¦•à¦°à§à¦¨</p></div></div></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">à¦•à¦–à¦¨ à¦…à¦ªà§‡à¦•à§à¦·à¦¾ à¦•à¦°à¦¬à§‡à¦¨</div> <ul class="text-sm text-base-content/70 list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp">à¦‡à¦­à¦¿ à¦¨à§‡à¦—à§‡à¦Ÿà¦¿à¦­ à¦¹à¦²à§‡ (âˆ’0.10 à¦¬à¦¾ à¦¤à¦¾à¦° à¦•à¦®)</li> <li class="svelte-12hs5qp">à¦¬à§à¦¯à¦¾à¦¨à§à¦¡ à¦–à§à¦¬ à¦ªà§à¦°à¦¶à¦¸à§à¦¤ à¦¹à¦²à§‡ (à¦…à¦¨à¦¿à¦¶à§à¦šà§Ÿà¦¤à¦¾ à¦¬à§‡à¦¶à¦¿)</li> <li class="svelte-12hs5qp">à¦œà§‡à¦¤à¦¾à¦° à¦¸à¦®à§à¦­à¦¾à¦¬à¦¨à¦¾ 45% à¦à¦° à¦•à¦® à¦¹à¦²à§‡</li> <li class="svelte-12hs5qp">à¦¬à§à¦¯à¦¾à¦¨à§à¦¡ à¦¬à§œ à¦¸à¦¾à¦ªà§‹à¦°à§à¦Ÿ/à¦°à§‡à¦œà¦¿à¦¸à§à¦Ÿà§à¦¯à¦¾à¦¨à§à¦¸à§‡à¦° à¦¸à¦™à§à¦—à§‡ à¦®à¦¿à¦²à§‡ à¦—à§‡à¦²à§‡</li> <li class="svelte-12hs5qp">winR/lossR à¦­à¦¾à¦°à¦¸à¦¾à¦®à§à¦¯ à¦–à¦¾à¦°à¦¾à¦ª à¦¹à¦²à§‡ (winR â‰¤ 1.0 à¦¬à¦¾ lossR â‰¥ 1.2)</li></ul> <p class="text-sm text-base-content/70 mt-2 svelte-12hs5qp">à¦‰à¦¦à¦¾à¦¹à¦°à¦£: à¦‡à¦­à¦¿ âˆ’0.15, pWin 42%, à¦¬à§à¦¯à¦¾à¦¨à§à¦¡ à¦ªà§à¦°à¦¶à¦¸à§à¦¤ â†’ à¦…à¦ªà§‡à¦•à§à¦·à¦¾ à¦•à¦°à§à¦¨</p></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">à¦Ÿà¦¿à¦ªà¦¸</div> <ul class="text-sm text-base-content/70 list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp">à¦à¦¡à¦¿à¦Ÿ à¦ªà¦ªà¦†à¦ªà§‡ à¦—à¦¿à§Ÿà§‡ à¦¬à§à¦¯à¦¾à¦¨à§à¦¡à§‡à¦° à¦°à¦‚, à¦…à¦ªà¦¾à¦¸à¦¿à¦Ÿà¦¿ à¦“ à¦²à¦¾à¦‡à¦¨à§‡à¦° à¦¸à§à¦Ÿà¦¾à¦‡à¦² à¦¬à¦¦à¦²à¦¾à¦¤à§‡ à¦ªà¦¾à¦°à§‡à¦¨à¥¤</li> <li class="svelte-12hs5qp">à¦‡à¦­à¦¿ à¦Ÿà§‡à¦¬à¦¿à¦²à§‡ à¦•à§à¦²à¦¿à¦• à¦•à¦°à¦²à§‡ à¦¸à§à¦Ÿà¦ª à¦ªà¦¾à¦²à§à¦Ÿà¦¾à§Ÿ; à¦šà¦¾à¦°à§à¦Ÿà§‡à¦° à¦¡à§à¦¯à¦¾à¦¶à¦¡ à¦²à¦¾à¦‡à¦¨à¦“ à¦¸à¦¾à¦¥à§‡ à¦¸à¦¾à¦¥à§‡ à¦¬à¦¦à¦²à§‡ à¦¯à¦¾à§Ÿà¥¤</li> <li class="svelte-12hs5qp">à¦Ÿà§à¦°à§‡à¦¨à§à¦¡ à¦«à¦¿à¦²à§à¦Ÿà¦¾à¦° à¦¬à¦¾ à¦­à¦²à¦¿à¦‰à¦®à§‡à¦° à¦¸à¦™à§à¦—à§‡ à¦œà§‹à§œà¦¾ à¦¦à¦¿à¦²à§‡ à¦¸à¦¿à¦¦à§à¦§à¦¾à¦¨à§à¦¤ à¦†à¦°à¦“ à¦¶à¦•à§à¦¤ à¦¹à§Ÿà¥¤</li> <li class="svelte-12hs5qp">à¦°à¦¿à¦¸à§à¦• à¦®à§à¦¯à¦¾à¦¨à§‡à¦œà¦®à§‡à¦¨à§à¦Ÿ: à¦à¦• à¦Ÿà§à¦°à§‡à¦¡à§‡ 1â€“2% à¦à¦° à¦¬à§‡à¦¶à¦¿ à¦°à¦¿à¦¸à§à¦• à¦¨à§‡à¦¬à§‡à¦¨ à¦¨à¦¾</li> <li class="svelte-12hs5qp">à¦•à¦¨à¦«à¦¾à¦°à§à¦®à§‡à¦¶à¦¨: à¦•à§à¦¯à¦¾à¦¨à§à¦¡à§‡à¦²à¦¸à§à¦Ÿà¦¿à¦• à¦ªà§à¦¯à¦¾à¦Ÿà¦¾à¦°à§à¦¨ à¦¬à¦¾ à¦‡à¦¨à§à¦¡à¦¿à¦•à§‡à¦Ÿà¦° à¦•à¦¨à¦«à¦¾à¦°à§à¦®à§‡à¦¶à¦¨ à¦¨à¦¿à¦¨</li></ul></div>',1),ID=ue(`<div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">Simple Explanation</div> <p class="text-sm text-base-content/70 svelte-12hs5qp">Think of it like looking at old pictures to guess todayâ€™s story. The indicator finds past patterns that look very similar to now, follows their path to estimate what might happen next, and uses historical MAE to suggest a safe place to stop (stopâ€‘loss). The colored band is the expected range (P10â€“P90), the middle line is the median path, and the dashed lines are suggested long/short stops.</p></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">Chart Elements</div> <ul class="text-sm text-base-content/70 list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp">Middle road: the central line showing the likely path.</li> <li class="svelte-12hs5qp">Colored band: the area where price may move (P10â€“P90). Narrow means clearer path; wide means more uncertainty.</li> <li class="svelte-12hs5qp">Stop marks: dashed lines for suggested long/short stops.</li> <li class="svelte-12hs5qp">EV table: shows overall gainâ€‘loss balance for different stops.</li></ul></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">Overlay Panels</div> <ul class="text-sm text-base-content/70 list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">Info Panel</span>: shows <span class="font-medium svelte-12hs5qp">Active</span> (Long/Short), <span class="font-medium svelte-12hs5qp">Anchor</span> (current price), <span class="font-medium svelte-12hs5qp">Stop</span> (SL price and Ã—ATR), <span class="font-medium svelte-12hs5qp">pWin</span>, <span class="font-medium svelte-12hs5qp">winR</span>, <span class="font-medium svelte-12hs5qp">lossR</span>â€”quick context for decisions.</li> <li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">Decision Panel</span>: prominently displays <span class="font-medium svelte-12hs5qp">Action: BUY/SELL/WAIT</span> with <span class="font-medium svelte-12hs5qp">Band</span> (Narrow/Normal/Wide), <span class="font-medium svelte-12hs5qp">1R</span> distance, and <span class="font-medium svelte-12hs5qp">criteria summary</span>. <br class="svelte-12hs5qp">BUY (Long): EV â‰¥ 0.30 and pWin â‰¥ 55%, band not Wide. <br class="svelte-12hs5qp">SELL (Short): EV â‰¥ 0.20 and pWin â‰¥ 50%, band not Wide. <br class="svelte-12hs5qp">Otherwise: WAIT.</li></ul></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">EV Table (Example)</div> <div class="overflow-x-auto svelte-12hs5qp"><table class="table table-xs svelte-12hs5qp"><thead class="svelte-12hs5qp"><tr class="svelte-12hs5qp"><th class="svelte-12hs5qp">Side</th><th class="svelte-12hs5qp">SL (Ã—ATR)</th><th class="svelte-12hs5qp">EV (R)</th><th class="svelte-12hs5qp">pWin (%)</th><th class="svelte-12hs5qp">winR</th><th class="svelte-12hs5qp">lossR</th></tr></thead><tbody class="svelte-12hs5qp"><tr class="svelte-12hs5qp"><td class="svelte-12hs5qp">L</td><td class="svelte-12hs5qp">1.00Ã—</td><td class="svelte-12hs5qp">+0.45</td><td class="svelte-12hs5qp">62</td><td class="svelte-12hs5qp">1.60</td><td class="svelte-12hs5qp">0.95</td></tr><tr class="svelte-12hs5qp"><td class="svelte-12hs5qp">L</td><td class="svelte-12hs5qp">1.25Ã—</td><td class="svelte-12hs5qp">+0.30</td><td class="svelte-12hs5qp">68</td><td class="svelte-12hs5qp">1.35</td><td class="svelte-12hs5qp">0.80</td></tr><tr class="svelte-12hs5qp"><td class="svelte-12hs5qp">S</td><td class="svelte-12hs5qp">0.80Ã—</td><td class="svelte-12hs5qp">+0.20</td><td class="svelte-12hs5qp">54</td><td class="svelte-12hs5qp">1.10</td><td class="svelte-12hs5qp">0.85</td></tr><tr class="svelte-12hs5qp"><td class="svelte-12hs5qp">S</td><td class="svelte-12hs5qp">1.00Ã—</td><td class="svelte-12hs5qp">âˆ’0.05</td><td class="svelte-12hs5qp">48</td><td class="svelte-12hs5qp">1.20</td><td class="svelte-12hs5qp">1.10</td></tr></tbody></table></div> <ul class="text-sm text-base-content/70 list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp">EV: the overall expectancyâ€”combines win and loss outcomes.</li> <li class="svelte-12hs5qp">pWin (%): out of 100. Higher means better chance to win.</li> <li class="svelte-12hs5qp">winR and lossR: how much you might win or lose. Balance them.</li> <li class="svelte-12hs5qp">If EV â‰¥ 0, consider the row; higher EV means better overall expectancy.</li></ul></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">How the â–¶ arrow works</div> <ul class="text-sm text-base-content/70 list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp">The â–¶ in the table marks the <span class="font-medium svelte-12hs5qp">active SL multiplier</span>. Click inside the table to move it to the next row.</li> <li class="svelte-12hs5qp">Where â–¶ sits, the chartâ€™s dashed stopâ€‘lines update using that rowâ€™s <span class="font-medium svelte-12hs5qp">SL (Ã—ATR)</span>.</li> <li class="svelte-12hs5qp">If â–¶ is on a Long row: think with a long bias; the stop is usually below current price (<span class="font-medium svelte-12hs5qp">anchor âˆ’ mult Ã— ATR</span>).</li> <li class="svelte-12hs5qp">If â–¶ is on a Short row: think with a short bias; the stop is usually above current price (<span class="font-medium svelte-12hs5qp">anchor + mult Ã— ATR</span>).</li> <li class="svelte-12hs5qp">Best practice: place â–¶ on rows with <span class="font-medium svelte-12hs5qp">positive EV</span>, <span class="font-medium svelte-12hs5qp">higher pWin</span>, and <span class="font-medium svelte-12hs5qp">controlled lossR</span>.</li></ul></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">Arrow Example (Short)</div> <div class="text-sm text-base-content/70 space-y-2 svelte-12hs5qp"><p class="svelte-12hs5qp">Suppose â–¶ is on a Short row with <span class="font-medium svelte-12hs5qp">SL = 1.50Ã—</span>, <span class="font-medium svelte-12hs5qp">winR = 1.71</span>, <span class="font-medium svelte-12hs5qp">lossR = 1.46</span>.</p> <ul class="list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">SL 1.50Ã—</span> means stop distance is <span class="font-medium svelte-12hs5qp">1.5 Ã— ATR</span> above anchor. Far stop â†’ fewer stopâ€‘hits; risk unit is larger.</li> <li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">winR 1.71</span> means average win is <span class="font-medium svelte-12hs5qp">1.71R</span>. If 1R = 100 units risk, average win â‰ˆ 171.</li> <li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">lossR 1.46</span> means average loss is <span class="font-medium svelte-12hs5qp">1.46R</span>.</li> <li class="svelte-12hs5qp">Decision: if pWin â‰ˆ 55%, <span class="font-medium svelte-12hs5qp">EV = pWin Ã— winR âˆ’ (1âˆ’pWin) Ã— lossR</span> = 0.55Ã—1.71 âˆ’ 0.45Ã—1.46 â‰ˆ <span class="font-medium svelte-12hs5qp">+0.28R</span> â†’ acceptable.</li> <li class="svelte-12hs5qp">If pWin drops below ~45% or lossR rises, move â–¶ to a better row (smaller SL or higher EV).</li></ul></div></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">Arrow Example (Long)</div> <div class="text-sm text-base-content/70 space-y-2 svelte-12hs5qp"><p class="svelte-12hs5qp">Suppose â–¶ is on a Long row with <span class="font-medium svelte-12hs5qp">SL = 1.00Ã—</span>, <span class="font-medium svelte-12hs5qp">winR = 1.40</span>, <span class="font-medium svelte-12hs5qp">lossR = 0.90</span>.</p> <ul class="list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">SL 1.00Ã—</span> means stop distance is <span class="font-medium svelte-12hs5qp">1 Ã— ATR</span> below anchor. Closer stop â†’ smaller risk; may get hit more often.</li> <li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">winR 1.40</span> means average win is 1.40R.</li> <li class="svelte-12hs5qp"><span class="font-medium svelte-12hs5qp">lossR 0.90</span> means average loss is 0.90R.</li> <li class="svelte-12hs5qp">If pWin â‰ˆ 60%, <span class="font-medium svelte-12hs5qp">EV â‰ˆ 0.60Ã—1.40 âˆ’ 0.40Ã—0.90 = +0.54R</span> â†’ strong setup.</li> <li class="svelte-12hs5qp">If band is very wide or pWin is low, move â–¶ to rows with positive EV and controlled lossR.</li></ul></div></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">Bandâ€‘Based Decisions</div> <ul class="text-sm text-base-content/70 list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp">Narrow band: clearer pathâ€”slightly increase conviction if suitable.</li> <li class="svelte-12hs5qp">Wide band: more uncertaintyâ€”reduce size or wait for clarity.</li> <li class="svelte-12hs5qp">If band overlaps major support/resistance: be cautious; use a safer stop.</li></ul></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">Examples</div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 svelte-12hs5qp"><div class="p-3 rounded-md border border-base-300 bg-base-50 svelte-12hs5qp"><div class="text-xs font-semibold text-base-content svelte-12hs5qp">Long Bias</div> <p class="text-xs text-base-content/70 mt-1 svelte-12hs5qp">Middle road is upward. EV +0.30â†’+0.60, pWin 55â€“65%. SL 1.0Ã—â€“1.25Ã— often gives a good balance between win chance and lossR.</p></div> <div class="p-3 rounded-md border border-base-300 bg-base-50 svelte-12hs5qp"><div class="text-xs font-semibold text-base-content svelte-12hs5qp">Short Bias</div> <p class="text-xs text-base-content/70 mt-1 svelte-12hs5qp">Middle road is downward. Short EV +0.20â†’+0.45. If the band overlaps prior lows, SL 0.8Ã—â€“1.0Ã— is a careful choice.</p></div></div></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">When to Buy/Sell</div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 svelte-12hs5qp"><div class="p-3 rounded-md border border-base-300 bg-base-50 svelte-12hs5qp"><div class="text-xs font-semibold text-base-content svelte-12hs5qp">Buy When (Long)</div> <ul class="text-xs text-base-content/70 mt-1 list-disc pl-4 space-y-1 svelte-12hs5qp"><li class="svelte-12hs5qp">EV +0.30 or higher</li> <li class="svelte-12hs5qp">pWin 55% or higher</li> <li class="svelte-12hs5qp">Band is narrow (clear path)</li> <li class="svelte-12hs5qp">Middle road is upward</li> <li class="svelte-12hs5qp">Stop-loss 1.0Ã—â€“1.25Ã— ATR</li></ul> <p class="text-xs text-base-content/60 mt-2 svelte-12hs5qp">Example: EV +0.45, pWin 62%, narrow band â†’ Buy</p></div> <div class="p-3 rounded-md border border-base-300 bg-base-50 svelte-12hs5qp"><div class="text-xs font-semibold text-base-content svelte-12hs5qp">Sell When (Short)</div> <ul class="text-xs text-base-content/70 mt-1 list-disc pl-4 space-y-1 svelte-12hs5qp"><li class="svelte-12hs5qp">Short EV +0.20 or higher</li> <li class="svelte-12hs5qp">pWin 50% or higher</li> <li class="svelte-12hs5qp">Band is narrow</li> <li class="svelte-12hs5qp">Middle road is downward</li> <li class="svelte-12hs5qp">Stop-loss 0.8Ã—â€“1.0Ã— ATR</li></ul> <p class="text-xs text-base-content/60 mt-2 svelte-12hs5qp">Example: EV +0.25, pWin 54%, narrow band â†’ Sell</p></div></div></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">When to Wait</div> <ul class="text-sm text-base-content/70 list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp">EV is negative (âˆ’0.10 or worse)</li> <li class="svelte-12hs5qp">Band is very wide (high uncertainty)</li> <li class="svelte-12hs5qp">pWin below 45%</li> <li class="svelte-12hs5qp">Band overlaps major support/resistance</li> <li class="svelte-12hs5qp">Poor winR/lossR balance (winR â‰¤ 1.0 or lossR â‰¥ 1.2)</li></ul> <p class="text-sm text-base-content/70 mt-2 svelte-12hs5qp">Example: EV âˆ’0.15, pWin 42%, wide band â†’ Wait</p></div> <div class="space-y-2 svelte-12hs5qp"><div class="text-sm font-semibold text-base-content svelte-12hs5qp">Tips</div> <ul class="text-sm text-base-content/70 list-disc pl-5 svelte-12hs5qp"><li class="svelte-12hs5qp">Use the edit popup to change band opacity, colors, and line styles.</li> <li class="svelte-12hs5qp">Click inside the EV table to change stops; dashed lines update instantly.</li> <li class="svelte-12hs5qp">Pair with trend filters or volume to make decisions more robust.</li> <li class="svelte-12hs5qp">Risk management: Don't risk more than 1â€“2% per trade</li> <li class="svelte-12hs5qp">Confirmation: Wait for candlestick pattern or indicator confirmation</li></ul></div>`,1),PD=ue('<div class="fixed inset-0 z-[60] svelte-12hs5qp"><div class="absolute inset-0 bg-base-200/20 svelte-12hs5qp"></div> <div class="absolute inset-0 flex items-center justify-center p-4 svelte-12hs5qp"><div class="w-full max-w-3xl rounded-xl shadow-2xl border border-base-300 bg-base-100 overflow-hidden svelte-12hs5qp"><div class="flex items-center justify-between px-5 py-4 border-b border-base-300 bg-base-50 svelte-12hs5qp"><div class="flex items-center gap-3 svelte-12hs5qp"><div class="w-8 h-8 rounded-lg flex items-center justify-center bg-primary/10 text-primary svelte-12hs5qp"><svg class="w-5 h-5 svelte-12hs5qp" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10" class="svelte-12hs5qp"></circle><line x1="12" y1="16" x2="12" y2="12" class="svelte-12hs5qp"></line><line x1="12" y1="8" x2="12.01" y2="8" class="svelte-12hs5qp"></line></svg></div> <div class="svelte-12hs5qp"><div class="text-base font-semibold text-base-content svelte-12hs5qp"> </div> <div class="text-xs text-base-content/60 svelte-12hs5qp"> </div></div></div> <div class="flex items-center gap-2 svelte-12hs5qp"><button>à¦¬à¦¾à¦‚à¦²à¦¾</button> <button>English</button></div> <button class="btn btn-xs btn-ghost svelte-12hs5qp" aria-label="Close"><svg class="w-4 h-4 svelte-12hs5qp" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18" class="svelte-12hs5qp"></line><line x1="6" y1="6" x2="18" y2="18" class="svelte-12hs5qp"></line></svg></button></div> <div class="px-5 py-4 space-y-5 max-h-[70vh] overflow-y-auto svelte-12hs5qp"><!></div></div></div></div>'),MD=(o,e)=>b(e,!1),TD=(o,e)=>b(e,!1),AD=ue('<div class="premium-modal-backdrop svelte-12hs5qp" role="presentation"></div> <div class="premium-modal-container svelte-12hs5qp" role="dialog" aria-modal="true" aria-labelledby="premium-modal-title"><div class="premium-background svelte-12hs5qp"><div class="premium-orb premium-orb-1 svelte-12hs5qp"></div> <div class="premium-orb premium-orb-2 svelte-12hs5qp"></div></div> <div class="premium-content svelte-12hs5qp"><button class="premium-close-btn svelte-12hs5qp" aria-label="Close"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-12hs5qp"><line x1="18" y1="6" x2="6" y2="18" class="svelte-12hs5qp"></line><line x1="6" y1="6" x2="18" y2="18" class="svelte-12hs5qp"></line></svg></button> <div class="premium-icon-wrapper svelte-12hs5qp"><div class="premium-icon svelte-12hs5qp"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-12hs5qp"><path d="M12 2L2 7l10 5 10-5-10-5z" class="svelte-12hs5qp"></path><path d="M2 17l10 5 10-5" class="svelte-12hs5qp"></path><path d="M2 12l10 5 10-5" class="svelte-12hs5qp"></path></svg> <div class="premium-icon-glow svelte-12hs5qp"></div></div></div> <h2 id="premium-modal-title" class="premium-title svelte-12hs5qp">Premium Feature</h2> <p class="premium-message svelte-12hs5qp">Smart Trend is an exclusive premium indicator. Upgrade to Premium to unlock this advanced trend-following tool and enhance your trading strategy.</p> <div class="premium-features svelte-12hs5qp"><div class="premium-feature-item svelte-12hs5qp"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-12hs5qp"><polyline points="20 6 9 17 4 12" class="svelte-12hs5qp"></polyline></svg> <span class="svelte-12hs5qp">Smart Trend Indicator</span></div> <div class="premium-feature-item svelte-12hs5qp"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-12hs5qp"><polyline points="20 6 9 17 4 12" class="svelte-12hs5qp"></polyline></svg> <span class="svelte-12hs5qp">AI Indicators (Smart Money, Trap Hunter, Volcanic)</span></div> <div class="premium-feature-item svelte-12hs5qp"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-12hs5qp"><polyline points="20 6 9 17 4 12" class="svelte-12hs5qp"></polyline></svg> <span class="svelte-12hs5qp">More premium features coming soon</span></div></div> <a target="_blank" rel="noopener noreferrer" class="premium-payment-btn svelte-12hs5qp"><span class="svelte-12hs5qp">Upgrade to Premium</span> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-12hs5qp"><line x1="5" y1="12" x2="19" y2="12" class="svelte-12hs5qp"></line><polyline points="12 5 19 12 12 19" class="svelte-12hs5qp"></polyline></svg></a></div></div>',1),DD=ue("<!> <!> <!>",1);function LD(o,e){Pr(e,!0);const t=El(),n=()=>ti(p,"$chart",t),s=()=>ti(u,"$save",t),r=()=>ti(d,"$ctx",t),a=()=>ti(Iu,"$userPreferences",t);let c=Po(e,"show",15);const d=ur("ctx"),u=ur("save"),p=ur("chart"),h=Nh(),x=[{name:"BBI",title:"BBI (Bull and Bear Index)",is_main:!1},{name:"BOLL",title:"BOLL (Bollinger Bands)",is_main:!0},{name:"EMA",title:"EMA (Exponential Moving Average)",is_main:!0},{name:"ICHIMOKU",title:"ICHIMOKU (Ichimoku Kinko Hyo)",is_main:!0},{name:"MA",title:"MA (Moving Average)",is_main:!0},{name:"SAR",title:"SAR (Parabolic SAR)",is_main:!0},{name:"SMA",title:"SMA (Simple Moving Average)",is_main:!0},{name:"SMARTTREND",title:"Smart Trend",is_main:!0},{name:"ZIGZAG",title:"ZigZag (Trend Reversal Indicator)",is_main:!0},{name:"AO",title:"Awesome Oscillator",is_main:!1},{name:"BIAS",title:"BIAS (Bias)",is_main:!1},{name:"CCI",title:"CCI (Commodity Channel Index)",is_main:!1},{name:"CR",title:"CR (Energy)",is_main:!1},{name:"DMI",title:"DMI (Directional Movement Index)",is_main:!1},{name:"EMV",title:"EMV (Ease of Movement)",is_main:!1},{name:"KDJ",title:"KDJ (KDJ Index)",is_main:!1},{name:"MACD",title:"MACD (Moving Average Convergence Divergence)",is_main:!1},{name:"MTM",title:"MTM (Momentum)",is_main:!1},{name:"OBV",title:"OBV (On Balance Volume)",is_main:!1},{name:"PSY",title:"PSY (Psychological Line)",is_main:!1},{name:"PVT",title:"PVT (Price Volume Trend)",is_main:!1},{name:"ROC",title:"ROC (Rate of Change)",is_main:!1},{name:"RSI",title:"RSI (Relative Strength Index)",is_main:!1},{name:"STOCH",title:"STOCH (Stochastic Oscillator)",is_main:!1},{name:"TRIX",title:"TRIX (Triple Exponential Moving Average)",is_main:!1},{name:"VOL",title:"VOL (Volume)",is_main:!0},{name:"VR",title:"VR (Volume Variation Rate)",is_main:!1},{name:"WR",title:"WR (Williams Percentage Range)",is_main:!1}];x.push({name:"NPO_MAE",title:"Nearestâ€‘Pattern Outcome + MAEâ€‘Stop",is_main:!0});const w=x.slice().sort((le,ye)=>le.name.localeCompare(ye.name));function k(le){const ye=x.find(Ee=>Ee.name===le);return ye?ye.title:le}function S(le,ye){const Ee=new Set;if(!(le!=null&&le.getIndicators))return Ee;try{le.getIndicators().forEach(be=>{(be==null?void 0:be.name)===ye&&(be!=null&&be.paneId)&&Ee.add(be.paneId)})}catch(Je){console.warn(`âš ï¸ Failed to read ${ye} pane IDs from chart:`,Je)}return Ee}function M(le,ye){if(!ye.has(le))return le;let Ee=2;for(;ye.has(`${le}_${Ee}`)&&Ee<1e3;)Ee+=1;if(!ye.has(`${le}_${Ee}`))return`${le}_${Ee}`;let Je=`${le}_${Date.now()}_${Math.random().toString(36).slice(2,7)}`;for(;ye.has(Je);)Je=`${le}_${Date.now()}_${Math.random().toString(36).slice(2,7)}`;return Je}function T(le,ye,Ee,Je){const be=S(le,ye);for(const X of be)if(!Ee.has(X))return X;return Je}let D=Z($(new Set));function A(){var Ee,Je,be,X,H,Ce;const le=new Set;if(n())try{const Qe=((Je=(Ee=n()).getIndicators)==null?void 0:Je.call(Ee))??[];Qe.forEach(ct=>{ct&&ct.name&&le.add(ct.name)}),console.log("ðŸ“Š Indicator list - from chart.getIndicators:",Qe.map(ct=>ct.name));const mt=((X=(be=n()).getOverlays)==null?void 0:X.call(be))??[];(mt==null?void 0:mt.some(ct=>(ct==null?void 0:ct.name)==="NearestPatternOutcomeMaeStop"))&&le.add("NPO_MAE")}catch(Qe){console.warn("âš ï¸ Indicator list - getIndicators failed, falling back to saveInds",Qe)}if(le.size===0&&s()&&s().saveInds){Object.values(s().saveInds).forEach(Qe=>{Qe&&Qe.name&&le.add(Qe.name)}),console.log("ðŸ“Š Indicator list - from saveInds (fallback):",Array.from(le));try{(((Ce=(H=n())==null?void 0:H.getOverlays)==null?void 0:Ce.call(H))??[]).some(mt=>(mt==null?void 0:mt.name)==="NearestPatternOutcomeMaeStop")||le.delete("NPO_MAE")}catch{}}const ye=Array.from(le).map(Qe=>k(Qe));console.log("ðŸ”„ selectedIndicators updated:",ye),b(D,$(le))}Ds(()=>{var le;c(),n(),(le=s())==null||le.saveInds,A()}),yc(()=>{console.log("modalIndSearch mounted"),console.log("Available ActionTypes:",Object.keys(Rc)),console.log("ActionType values:",Object.values(Rc)),console.log("ðŸ” localStorage content:");for(let le=0;le<localStorage.length;(le+=1)-1){const ye=localStorage.key(le);ye&&console.log(`ðŸ” ${ye}:`,localStorage.getItem(ye))}window.debugChart=()=>{const le=JSON.parse(localStorage.getItem("chart")||"{}");return console.log("ðŸ” localStorage chart data:",le),console.log("ðŸ” saveInds keys:",Object.keys(le.saveInds||{})),console.log("ðŸ” Current $save.saveInds keys:",Object.keys(s().saveInds)),console.log("ðŸ” Chart available:",n()?"Yes":"No chart"),{localStorage:le,currentSave:s().saveInds}},setTimeout(()=>{console.log("ðŸš€ Auto-debug on page load:"),window.debugChart()},2e3),console.log("ðŸ” Debug function added: window.debugChart()")});let j=Z(""),F=Z(!1),q=Z($(new Set)),B=Z(!1),O=Z(!1),z=Z(!0),Y=Z(0),G,oe=Z(!1),re=Z("bn"),se=Z(!1);Ds(()=>{i(oe)&&c()?(b(se,!0),c(!1)):!i(oe)&&!c()&&i(se)&&(b(se,!1),c(!0))}),Ds(()=>{!r().modalIndCfg&&i(F)&&(b(F,!1),setTimeout(()=>{c(!0)},100))});let ie=tt(()=>{let le=w;if(i(j)){const ye=i(j).toLowerCase();le=le.filter(Ee=>Ee.name.toLowerCase().includes(ye)||Ee.title.toLowerCase().includes(ye)).sort((Ee,Je)=>Ee.name.localeCompare(Je.name))}if(c()&&i(q).size>0){const ye=le.filter(Je=>i(q).has(Je.name)),Ee=le.filter(Je=>!i(q).has(Je.name));return[...ye,...Ee]}return le});Ds(()=>{var le,ye;if(c()!==i(B)){if(c()){const Ee=new Set;if((ye=(le=i(D)).forEach)==null||ye.call(le,Je=>Ee.add(Je)),Ee.size===0&&i(D)&&i(D).size>0)for(const Je of i(D).values())Ee.add(Je);b(q,$(Ee))}else b(q,$(new Set));b(B,$(c()))}});function te(){var ye;const le=(ye=a())==null?void 0:ye.data;return le?le.isPremium===!0||le.isTrial===!0:!1}function K(le,ye){var Ee,Je,be,X,H,Ce,Qe,mt,bt,ct,yo,Kt,to,io,ro,Uo,an,Mn;if(ye==="SMARTTREND"&&!te()){console.log("ðŸ”’ Premium access required for Smart Trend indicator"),b(O,!0);return}if(ye==="BBI")ae(ye,[3,6,12,24],!0,{id:"pane_BBI"});else if(ye==="EMA")ae(ye,[20],!0,{id:"candle_pane"});else if(ye==="MA"){const uo="candle_pane",Do=n();if(Do&&Do.createIndicator({name:"MA",calcParams:[20],styles:{lines:[{color:"#2563eb",size:1,style:de.Solid}]},createTooltipDataSource:({indicator:Go})=>{const cn=[Go.visible?1:0,2,3],sn=Do.getStyles().indicator.tooltip;return{icons:cn.map(zi=>sn.features[zi])}}},!0,{id:uo})){const Go={name:"MA",pane_id:uo,params:[20],styles:[{color:"#2563eb",thickness:1,lineStyle:"solid"}]},cn=`${uo}_MA`;u.update(sn=>(sn.saveInds[cn]=Go,sn))}}else if(ye==="SMARTTREND"){const uo="candle_pane",Do=n();if(Do&&Do.createIndicator({name:"SMARTTREND",calcParams:[10,3],styles:{lines:[{color:"#00FF00",size:1,style:de.Dashed,dashedValue:[4,4]}]},extendData:{showLabels:!0,uptrendColor:"#00FF00",downtrendColor:"#FF0000",uptrendThickness:1,downtrendThickness:1,uptrendLineStyle:"dashed",downtrendLineStyle:"dashed"},createTooltipDataSource:({indicator:Go})=>{const cn=[Go.visible?1:0,2,3],sn=Do.getStyles().indicator.tooltip;return{icons:cn.map(zi=>sn.features[zi])}}},!0,{id:uo})){const Go={name:"SMARTTREND",pane_id:uo,params:[10,3],superTrendGroups:[{id:"st_default",period:10,multiplier:3,showLabels:!0,styles:{uptrend:{color:"#00FF00",thickness:1,lineStyle:"dashed"},downtrend:{color:"#FF0000",thickness:1,lineStyle:"dashed"}}}]},cn=`${uo}_SMARTTREND`;u.update(sn=>(sn.saveInds[cn]=Go,sn))}}else if(ye==="SMA"){const uo="candle_pane",Do=n();if(Do&&Do.createIndicator({name:"SMA",calcParams:[20],styles:{lines:[{color:"#FF6C37",size:2,style:de.Solid}]},createTooltipDataSource:({indicator:Go})=>{const cn=[Go.visible?1:0,2,3],sn=Do.getStyles().indicator.tooltip;return{icons:cn.map(zi=>sn.features[zi])}}},!0,{id:uo})){const Go={name:"SMA",pane_id:uo,params:[20],styles:[{color:"#FF6C37",thickness:2,lineStyle:"solid"}]},cn=`${uo}_SMA`;u.update(sn=>(sn.saveInds[cn]=Go,sn))}}else if(ye==="RSI"){const uo=n();if(!uo)return;let Do=[];try{const Ei=localStorage.getItem("rsiGroups");Ei&&(Do=JSON.parse(Ei))}catch(Ei){console.warn("Failed to load saved RSI groups:",Ei)}Do.length===0&&(Do=[{id:"rsi_default",period:14,overbought:70,middle:50,oversold:30,styles:{rsi:{color:"#8B5CF6",thickness:2,lineStyle:"solid"},overboughtColor:"#EF4444",oversoldColor:"#10B981",middleLineColor:"#6B7280"}}]);const Zt=Do[0],Go=Zt.overboughtLevel??Zt.overbought??70,cn=Zt.middleLevel??Zt.middle??50,sn=Zt.oversoldLevel??Zt.oversold??30,Tr=S(uo,"RSI"),zi=new Set(Tr);Object.values(s().saveInds).forEach(Ei=>{(Ei==null?void 0:Ei.name)==="RSI"&&(Ei!=null&&Ei.pane_id)&&zi.add(Ei.pane_id)});const Ki=M("pane_RSI",zi);if(uo.createIndicator({name:"RSI",calcParams:[Zt.period],styles:{lines:[{color:((Je=(Ee=Zt.styles)==null?void 0:Ee.rsi)==null?void 0:Je.color)||"#8B5CF6",size:((X=(be=Zt.styles)==null?void 0:be.rsi)==null?void 0:X.thickness)??2,style:((Ce=(H=Zt.styles)==null?void 0:H.rsi)==null?void 0:Ce.lineStyle)==="dashed"||((mt=(Qe=Zt.styles)==null?void 0:Qe.rsi)==null?void 0:mt.lineStyle)==="dotted"?de.Dashed:de.Solid}]}},!1,{id:Ki,axis:{gap:{bottom:2}}})){const Ei=T(uo,"RSI",Tr,Ki),Za={id:Zt.id||`rsi_${Date.now()}`,period:Zt.period,overboughtLevel:Go,middleLevel:cn,oversoldLevel:sn,paneId:Ei,actualPaneId:Ei,styles:{rsi:{color:((ct=(bt=Zt.styles)==null?void 0:bt.rsi)==null?void 0:ct.color)||"#8B5CF6",thickness:((Kt=(yo=Zt.styles)==null?void 0:yo.rsi)==null?void 0:Kt.thickness)??2,lineStyle:((io=(to=Zt.styles)==null?void 0:to.rsi)==null?void 0:io.lineStyle)||"solid"},overboughtColor:((ro=Zt.styles)==null?void 0:ro.overboughtColor)||"#EF4444",oversoldColor:((Uo=Zt.styles)==null?void 0:Uo.oversoldColor)||"#10B981",middleLineColor:((an=Zt.styles)==null?void 0:an.middleLineColor)||"#6B7280"}},Xa={name:"RSI",pane_id:Ei,params:[Zt.period],rsiGroups:[Za]},sl=`${Ei}_RSI`;u.update(Ja=>(Ja.saveInds[sl]=Xa,Ja))}}else if(ye==="STOCH"){const uo="pane_STOCH";let Do=[];try{const cn=localStorage.getItem("stochasticGroups");cn&&(Do=JSON.parse(cn))}catch(cn){console.warn("Failed to load saved Stochastic groups:",cn)}Do.length===0&&(Do=[{id:"stochastic_default",kPeriod:14,dPeriod:3,overbought:80,mid:50,oversold:20,styles:{k:{color:"#3B82F6",thickness:2,lineStyle:"solid"},d:{color:"#EF4444",thickness:2,lineStyle:"solid"},overboughtColor:"#EF4444",oversoldColor:"#10B981",midColor:"#6B7280"}}]);const Zt=Do[0],Go=n();if(Go&&Go.createIndicator({name:"STOCH",calcParams:[Zt.kPeriod,Zt.dPeriod],styles:{lines:[{color:Zt.styles.k.color,size:Zt.styles.k.thickness,style:Zt.styles.k.lineStyle==="dashed"||Zt.styles.k.lineStyle==="dotted"?de.Dashed:de.Solid},{color:Zt.styles.d.color,size:Zt.styles.d.thickness,style:Zt.styles.d.lineStyle==="dashed"||Zt.styles.d.lineStyle==="dotted"?de.Dashed:de.Solid}]}},!0,{id:uo})){const sn={name:"STOCH",pane_id:uo,params:[Zt.kPeriod,Zt.dPeriod]},Tr=`${uo}_STOCH`;u.update(zi=>(zi.saveInds[Tr]=sn,zi))}}else if(ye==="NPO_MAE"){const uo=n();if(!uo)return;if(!(((Mn=uo.getOverlays)==null?void 0:Mn.call(uo))??[]).some(Zt=>(Zt==null?void 0:Zt.name)==="NearestPatternOutcomeMaeStop")){const Zt=lD(uo);window.__npoMaeApi=Zt,u.update(Go=>{const cn="candle_pane_NPO_MAE";return Go.saveInds[cn]={name:"NPO_MAE",pane_id:"candle_pane"},Go})}}else{const uo=le?"candle_pane":"pane_"+ye;ae(ye,void 0,!0,{id:uo})}}function J(le){var Ee,Je;let ye=Object.entries(s().saveInds).find(([be,X])=>X.name===le);if(!ye&&n())try{const X=(((Je=(Ee=n()).getIndicators)==null?void 0:Je.call(Ee))??[]).find(H=>H&&H.name===le);if(X){Qs(d,Qt(r).editIndName=le,Qt(r)),Qs(d,Qt(r).editPaneId=X.paneId||r().editPaneId||"candle_pane",Qt(r)),Qs(d,Qt(r).modalIndCfg=!0,Qt(r)),b(F,!0),c(!1);return}}catch(be){console.warn("âš ï¸ Failed to locate indicator on chart for edit:",be)}if(ye){const[,be]=ye;Qs(d,Qt(r).editIndName=le,Qt(r)),Qs(d,Qt(r).editPaneId=be.pane_id,Qt(r)),Qs(d,Qt(r).modalIndCfg=!0,Qt(r)),b(F,!0),c(!1)}}function U(le){var ye,Ee,Je;if(le==="NPO_MAE"){const be=n();if(be)try{(((ye=be.getOverlays)==null?void 0:ye.call(be))??[]).forEach(H=>{if((H==null?void 0:H.name)==="NearestPatternOutcomeMaeStop")try{be.removeOverlay({id:H.id})}catch{}})}catch{}try{(Je=(Ee=window.__npoMaeApi)==null?void 0:Ee.dispose)==null||Je.call(Ee),window.__npoMaeApi=null}catch{}u.update(X=>(Object.keys(X.saveInds).forEach(H=>{var Ce;((Ce=X.saveInds[H])==null?void 0:Ce.name)==="NPO_MAE"&&delete X.saveInds[H]}),X));return}if(le==="MACD")Object.entries(s().saveInds).filter(([X,H])=>H.name==="MACD").forEach(([X,H])=>{me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="MACD"&&delete X.saveInds[H]}),X));else if(le==="RSI")Object.entries(s().saveInds).filter(([X,H])=>H.name==="RSI").forEach(([X,H])=>{me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="RSI"&&delete X.saveInds[H]}),X));else if(le==="STOCH")Object.entries(s().saveInds).filter(([X,H])=>H.name==="STOCH").forEach(([X,H])=>{me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="STOCH"&&delete X.saveInds[H]}),X));else if(le==="BBI")Object.entries(s().saveInds).filter(([X,H])=>H.name==="BBI").forEach(([X,H])=>{me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="BBI"&&delete X.saveInds[H]}),X));else if(le==="AO"){if(console.log("ðŸ—‘ï¸ Starting bulk AO deletion..."),n())try{const H=n().getIndicators().filter(Ce=>Ce.name==="AO");console.log("ðŸ“Š Found AO indicators on chart:",H.length),H.forEach(Ce=>{console.log("ðŸ—‘ï¸ Removing AO indicator from pane:",Ce.paneId),n().removeIndicator({paneId:Ce.paneId,name:"AO"})}),console.log("âœ… All AO indicators removed from chart")}catch(X){console.error("âŒ Error removing AO indicators from chart:",X)}const be=Object.entries(s().saveInds).filter(([X,H])=>H.name==="AO");console.log("ðŸ—‘ï¸ Deleting AO saved entries:",be.length),be.forEach(([X,H])=>{console.log("ðŸ—‘ï¸ Cleaning saved entry:",X,"pane:",H.pane_id),H.pane_id&&me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="AO"&&(console.log("ðŸ—‘ï¸ Clearing AO saved data:",H),delete X.saveInds[H])}),X)),console.log("âœ… Bulk AO deletion completed")}else if(le==="DMI"){if(console.log("ðŸ—‘ï¸ Starting bulk DMI deletion..."),n())try{const H=n().getIndicators().filter(Ce=>Ce.name==="DMI");console.log("ðŸ“Š Found DMI indicators on chart:",H.length),H.forEach(Ce=>{console.log("ðŸ—‘ï¸ Removing DMI indicator from pane:",Ce.paneId),n().removeIndicator({paneId:Ce.paneId,name:"DMI"})}),console.log("âœ… All DMI indicators removed from chart")}catch(X){console.error("âŒ Error removing DMI indicators from chart:",X)}const be=Object.entries(s().saveInds).filter(([X,H])=>H.name==="DMI");console.log("ðŸ—‘ï¸ Deleting DMI saved entries:",be.length),be.forEach(([X,H])=>{console.log("ðŸ—‘ï¸ Cleaning saved entry:",X,"pane:",H.pane_id),H.pane_id&&me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="DMI"&&(console.log("ðŸ—‘ï¸ Clearing DMI saved data:",H),delete X.saveInds[H])}),X)),console.log("âœ… Bulk DMI deletion completed")}else if(le==="SAR"){if(console.log("ðŸ—‘ï¸ Starting bulk SAR deletion..."),n())try{const X=n().getIndicators().filter(H=>H.name==="SAR");console.log("ðŸ“Š Found SAR indicators on chart:",X.length),X.forEach(H=>{console.log("ðŸ—‘ï¸ Removing SAR from pane:",H.paneId),n().removeIndicator({paneId:H.paneId,name:"SAR"})})}catch(be){console.error("âŒ Error removing SAR indicators from chart:",be);try{n().removeIndicator({paneId:"candle_pane",name:"SAR"})}catch{}try{n().removeIndicator({paneId:r().editPaneId,name:"SAR"})}catch{}}u.update(be=>(Object.keys(be.saveInds).forEach(X=>{be.saveInds[X].name==="SAR"&&delete be.saveInds[X]}),be)),d.update(be=>(be.editIndName==="SAR"&&(be.editIndName="",be.editPaneId="",be.modalIndCfg=!1),be)),console.log("âœ… Bulk SAR deletion completed")}else if(le==="SMARTTREND"){if(console.log("ðŸ—‘ï¸ Starting bulk Smart Trend deletion..."),n())try{const X=n().getIndicators().filter(H=>H.name==="SMARTTREND");console.log("ðŸ“Š Found Smart Trend indicators on chart:",X.length),X.forEach(H=>{console.log("ðŸ—‘ï¸ Removing Smart Trend from pane:",H.paneId),n().removeIndicator({paneId:H.paneId,name:"SMARTTREND"})})}catch(be){console.error("âŒ Error removing Smart Trend indicators from chart:",be);try{n().removeIndicator({paneId:"candle_pane",name:"SMARTTREND"})}catch{}try{n().removeIndicator({paneId:r().editPaneId,name:"SMARTTREND"})}catch{}}u.update(be=>(Object.keys(be.saveInds).forEach(X=>{be.saveInds[X].name==="SMARTTREND"&&delete be.saveInds[X]}),be)),console.log("âœ… Bulk Smart Trend deletion completed")}else if(le==="CR"){if(console.log("ðŸ—‘ï¸ Starting bulk CR deletion..."),n())try{const H=n().getIndicators().filter(Ce=>Ce.name==="CR");console.log("ðŸ“Š Found CR indicators on chart:",H.length),H.forEach(Ce=>{console.log("ðŸ—‘ï¸ Removing CR indicator from pane:",Ce.paneId),n().removeIndicator({paneId:Ce.paneId,name:"CR"})}),console.log("âœ… All CR indicators removed from chart")}catch(X){console.error("âŒ Error removing CR indicators from chart:",X)}const be=Object.entries(s().saveInds).filter(([X,H])=>H.name==="CR");console.log("ðŸ—‘ï¸ Deleting CR saved entries:",be.length),be.forEach(([X,H])=>{console.log("ðŸ—‘ï¸ Cleaning saved entry:",X,"pane:",H.pane_id),H.pane_id&&me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="CR"&&(console.log("ðŸ—‘ï¸ Clearing CR saved data:",H),delete X.saveInds[H])}),X)),console.log("âœ… Bulk CR deletion completed")}else if(le==="WR"){if(console.log("ðŸ—‘ï¸ Starting bulk WR deletion..."),n())try{const H=n().getIndicators().filter(Ce=>Ce.name==="WR");console.log("ðŸ“Š Found WR indicators on chart:",H.length),H.forEach(Ce=>{console.log("ðŸ—‘ï¸ Removing WR indicator from pane:",Ce.paneId),n().removeIndicator({paneId:Ce.paneId,name:"WR"})}),console.log("âœ… All WR indicators removed from chart")}catch(X){console.error("âŒ Error removing WR indicators from chart:",X)}const be=Object.entries(s().saveInds).filter(([X,H])=>H.name==="WR");console.log("ðŸ—‘ï¸ Deleting WR saved entries:",be.length),be.forEach(([X,H])=>{console.log("ðŸ—‘ï¸ Cleaning saved entry:",X,"pane:",H.pane_id),H.pane_id&&me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="WR"&&(console.log("ðŸ—‘ï¸ Clearing WR saved data:",H),delete X.saveInds[H])}),X)),d.update(X=>(X.clearWrGroups+=1,X)),console.log("âœ… Bulk WR deletion completed")}else if(le==="KDJ"){const be=Object.entries(s().saveInds).filter(([X,H])=>H.name==="KDJ");console.log("ðŸ—‘ï¸ Deleting KDJ entries:",be),be.forEach(([X,H])=>{console.log("ðŸ—‘ï¸ Deleting KDJ from pane:",H.pane_id),H.pane_id&&me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="KDJ"&&(console.log("ðŸ—‘ï¸ Clearing KDJ saved data:",H),delete X.saveInds[H])}),X))}else if(le==="OBV"){const be=Object.entries(s().saveInds).filter(([H,Ce])=>Ce.name==="OBV");console.log("ðŸ—‘ï¸ Deleting OBV entries from saveInds:",be),be.forEach(([H,Ce])=>{console.log("ðŸ—‘ï¸ Deleting OBV from pane (saveInds):",Ce.pane_id),Ce.pane_id&&me(Ce.pane_id,le)});const X=[r().editPaneId,"pane_OBV_1","pane_OBV_2","pane_OBV_3","pane_OBV_4","pane_OBV_5","main","sub1","sub2","sub3","sub4"];console.log("ðŸ—‘ï¸ Attempting to remove OBV from common pane locations..."),X.forEach(H=>{var Ce;if(H)try{console.log("ðŸ—‘ï¸ Trying to remove OBV from pane:",H),(Ce=n())==null||Ce.removeIndicator({paneId:H,name:"OBV"})}catch{}}),u.update(H=>(Object.keys(H.saveInds).forEach(Ce=>{H.saveInds[Ce].name==="OBV"&&(console.log("ðŸ—‘ï¸ Clearing OBV saved data:",Ce),delete H.saveInds[Ce])}),H)),d.update(H=>(H.clearObvGroups+=1,H))}else if(le==="CCI"){if(console.log("ðŸ—‘ï¸ Starting bulk CCI deletion..."),n())try{const H=n().getIndicators().filter(Ce=>Ce.name==="CCI");console.log("ðŸ“Š Found CCI indicators on chart:",H.length),H.forEach(Ce=>{console.log("ðŸ—‘ï¸ Removing CCI indicator from pane:",Ce.paneId),n().removeIndicator({paneId:Ce.paneId,name:"CCI"})}),console.log("âœ… All CCI indicators removed from chart")}catch(X){console.error("âŒ Error removing CCI indicators from chart:",X)}const be=Object.entries(s().saveInds).filter(([X,H])=>H.name==="CCI");console.log("ðŸ—‘ï¸ Deleting CCI saved entries:",be.length),be.forEach(([X,H])=>{console.log("ðŸ—‘ï¸ Cleaning saved entry:",X,"pane:",H.pane_id),H.pane_id&&me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="CCI"&&(console.log("ðŸ—‘ï¸ Clearing CCI saved data:",H),delete X.saveInds[H])}),X)),d.update(X=>(X.clearCciGroups+=1,X)),console.log("âœ… Bulk CCI deletion completed")}else if(le==="EMV"){const be=Object.entries(s().saveInds).filter(([X,H])=>H.name==="EMV");console.log("ðŸ—‘ï¸ Deleting EMV entries:",be),be.forEach(([X,H])=>{console.log("ðŸ—‘ï¸ Deleting EMV from pane:",H.pane_id),H.pane_id&&me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="EMV"&&(console.log("ðŸ—‘ï¸ Clearing EMV saved data:",H),delete X.saveInds[H])}),X)),d.update(X=>(X.clearEmvGroups+=1,X))}else if(le==="MTM"){const be=Object.entries(s().saveInds).filter(([X,H])=>H.name==="MTM");console.log("ðŸ—‘ï¸ Deleting MTM entries:",be),be.forEach(([X,H])=>{console.log("ðŸ—‘ï¸ Deleting MTM from pane:",H.pane_id),H.pane_id&&me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="MTM"&&(console.log("ðŸ—‘ï¸ Clearing MTM saved data:",H),delete X.saveInds[H])}),X)),d.update(X=>(X.clearMtmGroups+=1,X))}else if(le==="PSY"){const be=Object.entries(s().saveInds).filter(([X,H])=>H.name==="PSY");console.log("ðŸ—‘ï¸ Deleting PSY entries:",be),be.forEach(([X,H])=>{console.log("ðŸ—‘ï¸ Deleting PSY from pane:",H.pane_id),H.pane_id&&me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="PSY"&&(console.log("ðŸ—‘ï¸ Clearing PSY saved data:",H),delete X.saveInds[H])}),X)),d.update(X=>(X.clearPsyGroups+=1,X))}else if(le==="PVT"){if(console.log("ðŸ—‘ï¸ Starting bulk PVT deletion..."),n())try{const H=n().getIndicators().filter(Ce=>Ce.name==="PVT");console.log("ðŸ“Š Found PVT indicators on chart:",H.length),H.forEach(Ce=>{console.log("ðŸ—‘ï¸ Removing PVT indicator from pane:",Ce.paneId),n().removeIndicator({paneId:Ce.paneId,name:"PVT"})}),console.log("âœ… All PVT indicators removed from chart")}catch(X){console.error("âŒ Error removing PVT indicators from chart:",X)}const be=Object.entries(s().saveInds).filter(([X,H])=>H.name==="PVT");console.log("ðŸ—‘ï¸ Deleting PVT saved entries:",be.length),be.forEach(([X,H])=>{console.log("ðŸ—‘ï¸ Cleaning saved entry:",X,"pane:",H.pane_id),H.pane_id&&me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="PVT"&&(console.log("ðŸ—‘ï¸ Clearing PVT saved data:",H),delete X.saveInds[H])}),X)),d.update(X=>(X.clearPvtGroups+=1,X)),console.log("âœ… Bulk PVT deletion completed")}else if(le==="ROC"){if(console.log("ðŸ—‘ï¸ Starting bulk ROC deletion..."),n())try{const H=n().getIndicators().filter(Ce=>Ce.name==="ROC");console.log("ðŸ“Š Found ROC indicators on chart:",H.length),H.forEach(Ce=>{console.log("ðŸ—‘ï¸ Removing ROC indicator from pane:",Ce.paneId),n().removeIndicator({paneId:Ce.paneId,name:"ROC"})}),console.log("âœ… All ROC indicators removed from chart")}catch(X){console.error("âŒ Error removing ROC indicators from chart:",X)}const be=Object.entries(s().saveInds).filter(([X,H])=>H.name==="ROC");console.log("ðŸ—‘ï¸ Deleting ROC saved entries:",be.length),be.forEach(([X,H])=>{console.log("ðŸ—‘ï¸ Cleaning saved entry:",X,"pane:",H.pane_id),H.pane_id&&me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="ROC"&&(console.log("ðŸ—‘ï¸ Clearing ROC saved data:",H),delete X.saveInds[H])}),X)),d.update(X=>(X.clearRocGroups+=1,X)),console.log("âœ… Bulk ROC deletion completed")}else if(le==="VR"){if(console.log("ðŸ—‘ï¸ Starting bulk VR deletion..."),n())try{const H=n().getIndicators().filter(Ce=>Ce.name==="VR");console.log("ðŸ“Š Found VR indicators on chart:",H.length),H.forEach(Ce=>{console.log("ðŸ—‘ï¸ Removing VR indicator from pane:",Ce.paneId),n().removeIndicator({paneId:Ce.paneId,name:"VR"})}),console.log("âœ… All VR indicators removed from chart")}catch(X){console.error("âŒ Error removing VR indicators from chart:",X)}const be=Object.entries(s().saveInds).filter(([X,H])=>H.name==="VR");console.log("ðŸ—‘ï¸ Deleting VR saved entries:",be.length),be.forEach(([X,H])=>{console.log("ðŸ—‘ï¸ Cleaning saved entry:",X,"pane:",H.pane_id),H.pane_id&&me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="VR"&&(console.log("ðŸ—‘ï¸ Clearing VR saved data:",H),delete X.saveInds[H])}),X)),console.log("âœ… Bulk VR deletion completed")}else if(le==="VOL"){if(console.log("ðŸ—‘ï¸ Starting bulk VOL deletion..."),n())try{const H=n().getIndicators().filter(Ce=>Ce.name==="VOL");console.log("ðŸ“Š Found VOL indicators on chart:",H.length),H.forEach(Ce=>{console.log("ðŸ—‘ï¸ Removing VOL indicator from pane:",Ce.paneId),n().removeIndicator({paneId:Ce.paneId,name:"VOL"})}),console.log("âœ… All VOL indicators removed from chart")}catch(X){console.error("âŒ Error removing VOL indicators from chart:",X)}const be=Object.entries(s().saveInds).filter(([X,H])=>H.name==="VOL");console.log("ðŸ—‘ï¸ Deleting VOL saved entries:",be.length),be.forEach(([X,H])=>{console.log("ðŸ—‘ï¸ Cleaning saved entry:",X,"pane:",H.pane_id),H.pane_id&&me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="VOL"&&(console.log("ðŸ—‘ï¸ Clearing VOL saved data:",H),delete X.saveInds[H])}),X)),d.update(X=>(X.clearVolGroups+=1,X)),console.log("âœ… Bulk VOL deletion completed")}else if(le==="BIAS"){if(console.log("ðŸ—‘ï¸ Starting bulk BIAS deletion..."),n())try{const H=n().getIndicators().filter(Ce=>Ce.name==="BIAS");console.log("ðŸ“Š Found BIAS indicators on chart:",H.length),H.forEach(Ce=>{console.log("ðŸ—‘ï¸ Removing BIAS indicator from pane:",Ce.paneId),n().removeIndicator({paneId:Ce.paneId,name:"BIAS"})}),console.log("âœ… All BIAS indicators removed from chart")}catch(X){console.error("âŒ Error removing BIAS indicators from chart:",X)}const be=Object.entries(s().saveInds).filter(([X,H])=>H.name==="BIAS");console.log("ðŸ—‘ï¸ Deleting BIAS saved entries:",be.length),be.forEach(([X,H])=>{console.log("ðŸ—‘ï¸ Cleaning saved entry:",X,"pane:",H.pane_id),H.pane_id&&me(H.pane_id,le)}),u.update(X=>(Object.keys(X.saveInds).forEach(H=>{X.saveInds[H].name==="BIAS"&&(console.log("ðŸ—‘ï¸ Clearing BIAS saved data:",H),delete X.saveInds[H])}),X)),console.log("âœ… Bulk BIAS deletion completed")}else{const be=Object.entries(s().saveInds).find(([X,H])=>H.name===le);if(be){const[,X]=be;me(X.pane_id,le)}}}async function ae(le,ye,Ee,Je){const be=n();if(!be)return null;let X=ye,H={};if(le==="VOL"&&((!(Je!=null&&Je.id)||Je.id!=="candle_pane")&&(Je={axis:{gap:{bottom:2}},...Je}),!ye||ye.length===0)){X=[20];const yo=(Kt=>{switch(Kt){case"dashed":return{style:de.Dashed,dashedValue:[4,4]};case"dotted":return{style:de.Dashed,dashedValue:[2,2]};default:return{style:de.Solid,dashedValue:[2,2]}}})("dotted");H={bars:[{upColor:"#26a69a",downColor:"#ef5350",noChangeColor:"#26a69a"}],lines:[{color:"#8B5CF6",size:1,style:yo.style,dashedValue:yo.dashedValue,smooth:!1}]}}if(!X||X.length===0){const ct=yh[le]||[];ct.length>0&&le!=="VOL"&&(X=ct.filter(Kt=>Kt.type!=="color").map(Kt=>Kt.default),ct.filter(Kt=>Kt.styleKey&&Kt.type==="color").forEach(Kt=>{const to=Kt.styleKey,io=Kt.default,ro=to.match(/^(\w+)\[(\d+)\]\.(\w+)$/);if(ro){const[,Uo,an,Mn]=ro;H[Uo]||(H[Uo]=[]),H[Uo][parseInt(an)]||(H[Uo][parseInt(an)]={}),H[Uo][parseInt(an)][Mn]=io}}))}const Ce=(Je==null?void 0:Je.id)??"",Qe=`${Ce}_${le}`;if(!be.createIndicator({name:le,calcParams:X,styles:Object.keys(H).length>0?H:void 0,createTooltipDataSource:({indicator:ct})=>{const yo=[ct.visible?1:0,2,3],Kt=be.getStyles().indicator.tooltip;return{icons:yo.map(io=>Kt.features[io])}}},Ee,Je))return null;const bt={name:le,pane_id:Ce,params:X};return u.update(ct=>(ct.saveInds[Qe]=bt,ct)),md(),Gl.recordAddIndicator(le,Ce,X||[],Qe),bt}async function me(le,ye){if(console.log("ðŸ—‘ï¸ delInd called:",{paneId:le,name:ye,chart:!!n()}),!n()){console.log("âŒ No chart available");return}const Ee=n(),Je=`${le}_${ye}`,be=s().saveInds[Je];be&&Gl.recordRemoveIndicator(ye,le,be.params||[],Je),console.log("ðŸ”¥ Attempting to remove indicator with correct API: removeIndicator(paneId, name)");try{Ee.removeIndicator({paneId:le,name:ye}),console.log("âœ… removeIndicator successful")}catch(H){console.log("âŒ removeIndicator failed:",H);try{console.log("ðŸ”„ Trying fallback: remove indicator by name directly"),console.log("Attempting to remove indicator:",ye,"from pane:",le),console.log("Direct removal attempt for:",ye),[].forEach(Qe=>{console.log("Removing indicator instance:",Qe);try{Ee.removeIndicator({paneId:le,name:Qe.name})}catch(mt){console.log("Failed to remove indicator instance:",mt)}}),console.log("âœ… Fallback method successful")}catch(Ce){console.log("âŒ Fallback method also failed:",Ce)}}console.log("ðŸ§¹ Cleaning saved state for:",ye);const X=JSON.parse(localStorage.getItem("indicators")||"{}");console.log("ðŸ§¹ Current localStorage indicators:",X),X[le]&&(X[le]=X[le].filter(H=>H.name!==ye),X[le].length===0&&delete X[le],localStorage.setItem("indicators",JSON.stringify(X)),console.log("ðŸ§¹ Updated localStorage indicators:",X)),u.update(H=>{if(console.log("ðŸ§¹ Before cleanup saveInds keys:",Object.keys(H.saveInds)),ye==="ZIGZAG"){const Ce=`${le}_ZIGZAG`;Object.keys(H.saveInds).forEach(Qe=>{const mt=H.saveInds[Qe];Qe.startsWith(Ce)&&(mt==null?void 0:mt.name)==="ZIGZAG"&&(console.log("ðŸ§¹ Removing ZigZag save key:",Qe),delete H.saveInds[Qe])})}else{const Ce=`${le}_${ye}`;console.log("ðŸ§¹ Cleaning saved state key:",Ce,"existed:",!!H.saveInds[Ce]),delete H.saveInds[Ce]}return console.log("ðŸ§¹ After cleanup saveInds keys:",Object.keys(H.saveInds)),H}),md(),h.removeIndicator({chart:Ee,name:ye,paneId:le}).catch(H=>{console.warn("Background color preservation failed:",H)}),console.log("âœ… delInd completed")}ja(d,le=>le.cloudIndLoaded).subscribe(le=>{console.log("ðŸ”„ cloudIndLoaded triggered, saveInds:",Object.keys(s().saveInds)),console.log("ðŸš« Automatic indicator restoration disabled to prevent deleted indicators from reappearing")});function Ae(le){const Ee=le.target.scrollTop;Ee<i(Y)||Ee<=10?b(z,!0):Ee>i(Y)&&Ee>50&&b(z,!1),b(Y,$(Ee))}const Le=ja(d,le=>le.initDone);let He=!1;Le.subscribe(le=>{if(console.log("initDone changed:",le,"chart:",!!n(),"subscribed:",He),le>0&&!He&&n()){console.log("Subscribing to OnTooltipIconClick with chart:",n()),console.log("Chart methods available:",Object.getOwnPropertyNames(n())),console.log("subscribeAction method:",typeof n().subscribeAction),He=!0;try{n().subscribeAction(Rc.OnCandleTooltipFeatureClick,ye=>{var Je,be;console.log("ðŸ”¥ OnTooltipIconClick fired!",ye);const Ee=ye;if(Ee.indicatorName)switch(console.log("Processing icon click:",Ee.iconId,"for indicator:",Ee.indicatorName),Ee.iconId){case"visible":{console.log("Making indicator visible"),(Je=n())==null||Je.overrideIndicator({name:Ee.indicatorName,paneId:Ee.paneId,visible:!0});break}case"invisible":{console.log("Making indicator invisible"),(be=n())==null||be.overrideIndicator({name:Ee.indicatorName,paneId:Ee.paneId,visible:!1});break}case"setting":{console.log("Opening settings"),Qs(d,Qt(r).editIndName=Ee.indicatorName,Qt(r)),Qs(d,Qt(r).editPaneId=Ee.paneId,Qt(r)),Qs(d,Qt(r).modalIndCfg=!0,Qt(r)),c()&&c(!1);break}case"close":console.log("Deleting indicator:",Ee.indicatorName,"from pane:",Ee.paneId),me(Ee.paneId,Ee.indicatorName)}}),console.log("âœ… Successfully subscribed to OnTooltipIconClick")}catch(ye){console.error("âŒ Error subscribing to OnTooltipIconClick:",ye)}}});const it=T0(),[Ne,we]=it;var je=DD(),Te=nt(je),Se=tt(()=>jh());nd(Te,{get title(){return i(Se)},width:700,maxWidth:"95vw",maxHeight:"min(92svh, 90vh)",get show(){return c()},set show(le){c(le)},get theme(){return s().theme},buttons:[],class:"ind-modal",children:(le,ye)=>{var Ee=bD(),Je=m(Ee),be=v(m(Je),2);ut(be),Re(()=>lt(be,"placeholder",yy()));var X=v(be,2);xe(X,()=>i(j),bt=>{var ct=uD();ct.__click=[dD,j],N(bt,ct)}),_(Je);var H=v(Je,2),Ce=m(H),Qe=m(Ce);Qo(Qe,17,()=>i(ie),ln,(bt,ct,yo)=>{var Kt=hD();const to=tt(()=>i(D).has(i(ct).name));Kt.__click=[vD,to,K,ct];var io=m(Kt),ro=v(io,2),Uo=m(ro),an=m(Uo,!0);_(Uo),_(ro);var Mn=v(ro,2);xe(Mn,()=>i(ct).name==="NPO_MAE",Do=>{var Zt=fD();Zt.__click=[pD,oe],N(Do,Zt)});var uo=v(Mn,2);xe(uo,()=>i(to),Do=>{var Zt=mD(),Go=m(Zt);Go.__click=[gD,J,ct];var cn=v(Go,2);cn.__click=[_D,U,ct],_(Zt),N(Do,Zt)}),_(Kt),Re(()=>{Un(Kt,`group indicator-row relative flex items-center min-h-[56px] px-5 py-3 cursor-pointer transition-all duration-500 ease-out
                   ${(yo<i(ie).length-1?"border-b":"")??""} 
                   ${(i(to)?"indicator-item-selected":"indicator-item-unselected")??""} svelte-12hs5qp`),Un(io,`flex items-center justify-center w-2 h-2 rounded-full mr-4 transition-all duration-500 
                        ${(i(to)?"indicator-dot-selected":"indicator-dot-unselected")??""} svelte-12hs5qp`),Un(Uo,`indicator-title text-[15px] font-medium tracking-wide leading-relaxed 
                           ${(i(to)?"indicator-text-selected":"indicator-text-unselected")??""} svelte-12hs5qp`),wt(an,i(ct).title)}),N(bt,Kt)});var mt=v(Qe,2);xe(mt,()=>i(ie).length===0,bt=>{var ct=yD();N(bt,ct)}),_(Ce),Al(Ce,bt=>G=bt,()=>G),_(H),ei(2),_(Ee),Re(()=>Un(Je,`relative group transition-all duration-300 ease-out ${(i(z)?"opacity-100 translate-y-0":"opacity-0 -translate-y-4 pointer-events-none")??""} svelte-12hs5qp`)),Mt(be,()=>i(j),bt=>b(j,bt)),$a("scroll",Ce,Ae),N(le,Ee)},$$slots:{default:!0}});var Ue=v(Te,2);xe(Ue,()=>i(oe),le=>{var ye=PD(),Ee=m(ye);Ee.__click=[xD,oe];var Je=v(Ee,2),be=m(Je),X=m(be),H=m(X),Ce=v(m(H),2),Qe=m(Ce),mt=m(Qe,!0);_(Qe);var bt=v(Qe,2),ct=m(bt,!0);_(bt),_(Ce),_(H);var yo=v(H,2),Kt=m(yo);Kt.__click=[wD,re];var to=v(Kt,2);to.__click=[kD,re],_(yo);var io=v(yo,2);io.__click=[SD,oe],_(X);var ro=v(X,2),Uo=m(ro);xe(Uo,()=>i(re)==="bn",an=>{var Mn=CD();ei(22),N(an,Mn)},an=>{var Mn=ID();ei(22),N(an,Mn)}),_(ro),_(be),_(Je),_(ye),Re(()=>{wt(mt,i(re)==="bn"?"à¦¨à¦¿à¦•à¦Ÿà¦¤à¦®â€‘à¦ªà§à¦¯à¦¾à¦Ÿà¦¾à¦°à§à¦¨ à¦†à¦‰à¦Ÿà¦•à¦¾à¦® + à¦à¦®à¦à¦‡â€‘à¦¸à§à¦Ÿà¦ª":"Nearestâ€‘Pattern Outcome + MAEâ€‘Stop"),wt(ct,i(re)==="bn"?"à¦•à¦¿à¦­à¦¾à¦¬à§‡ à¦•à¦¾à¦œ à¦•à¦°à§‡ à¦à¦¬à¦‚ à¦•à¦¿à¦­à¦¾à¦¬à§‡ à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à¦¬à§‡à¦¨":"How it works and how to use"),Un(Kt,`btn btn-xs ${(i(re)==="bn"?"btn-primary":"btn-outline")??""} svelte-12hs5qp`),Un(to,`btn btn-xs ${(i(re)==="en"?"btn-primary":"btn-outline")??""} svelte-12hs5qp`)}),N(le,ye)});var Be=v(Ue,2);return xe(Be,()=>i(O),le=>{var ye=AD(),Ee=nt(ye);Ee.__click=[MD,O];var Je=v(Ee,2),be=v(m(Je),2),X=m(be);X.__click=[TD,O];var H=v(X,10);Re(()=>lt(H,"href",Ne("https://dutyai.app/payment",void 0))),_(be),_(Je),bu(3,Ee,()=>Yg,()=>({duration:200})),bu(3,Je,()=>Kg,()=>({y:20,duration:300,easing:bh})),N(le,ye)}),N(o,je),Mr({createIndicator:ae,delInd:me})}Pa(["click"]);function ED(o,e){o.target===o.currentTarget&&e(!1)}function FD(o,e,t,n,s){const r=o.target,a=parseInt(r.value);e(isNaN(a)?100:Math.max(0,Math.min(100,a)));const c=t(n(),e());s("opacityChange",{opacity:e(),rgba:c,color:n()}),s("colorChange",{color:n(),opacity:e(),rgba:c})}var jD=(o,e)=>e(!1),$D=(o,e,t)=>e(i(t)),BD=ue("<button></button>"),OD=ue('<div class="flex gap-1 flex-wrap"></div>'),RD=(o,e,t)=>e(i(t)),ND=ue("<button></button>"),zD=(o,e)=>{const t=o.target;t&&e(t.value)},VD=(o,e)=>{const t=o.target;t&&e(t.value)},qD=ue('<div class="fixed inset-0 z-[80] flex items-center justify-center bg-black/50 p-4"><div class="bg-base-100 rounded-lg shadow-xl p-4 w-full max-w-md max-h-[80vh] overflow-y-auto"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-semibold text-base-content">Color Picker</h3> <button class="btn btn-sm btn-primary">OK</button></div> <div class="space-y-1 mb-4 max-h-60 overflow-y-auto"></div> <div class="mb-4"><div class="flex items-center justify-between mb-2"><div class="text-sm text-base-content/70">Opacity</div> <div class="text-sm text-base-content/80"> </div></div> <div class="relative"><div class="absolute inset-0 h-2 rounded opacity-30" style="background-image: repeating-conic-gradient(#808080 0% 25%, transparent 0% 50%) 50% / 8px 8px;"></div> <input type="range" min="0" max="100" class="relative w-full h-2 rounded appearance-none cursor-pointer"> <div class="absolute top-1/2 w-4 h-4 bg-base-100 border-2 border-base-content rounded-full transform -translate-y-1/2 pointer-events-none shadow-sm"></div></div></div> <div class="mb-4"><div class="text-sm text-base-content/70 mb-2">Quick Colors</div> <div class="flex gap-2 flex-wrap"></div></div> <div class="mt-3 pt-3 border-t border-base-300"><div class="text-xs text-base-content/60 mb-2">Custom Color</div> <div class="flex items-center gap-2 flex-wrap"><input type="color" class="w-8 h-8 rounded border border-base-300 cursor-pointer flex-shrink-0"> <input type="text" class="input input-xs flex-1 min-w-0 text-xs" placeholder="#000000"></div></div></div></div>');function Rs(o,e){Pr(e,!0);let t=Po(e,"show",15),n=Po(e,"selectedColor",7,"#000000");Po(e,"position",19,()=>({x:0,y:0}));let s=Po(e,"opacity",7,100);const r=nc();function a(w){const k=(w||"").trim();if(!k)return null;if(/^#?[0-9A-Fa-f]{6}$/.test(k)){const M=k.startsWith("#")?k.slice(1):k;return{r:parseInt(M.slice(0,2),16),g:parseInt(M.slice(2,4),16),b:parseInt(M.slice(4,6),16)}}const S=k.match(/^rgba?\(([^)]+)\)$/i);if(S){const M=S[1].split(",").map(T=>parseFloat(T.trim()));if(M.length>=3&&M.every(T=>!isNaN(T)))return{r:Math.round(M[0]),g:Math.round(M[1]),b:Math.round(M[2])}}return null}function c(w,k){const S=a(w);if(!S)return null;const M=Math.max(0,Math.min(100,k))/100;return`rgba(${S.r}, ${S.g}, ${S.b}, ${M})`}const d=[["#000000","#1C1C1C","#383838","#545454","#707070","#8C8C8C","#A8A8A8","#C4C4C4","#E0E0E0","#FFFFFF"],["#FF0000","#FF4D4F","#FF7875","#FFA39E","#FFCCC7","#FFF1F0","#FFEDED","#FFF5F5","#FFFAFA","#FFFFFF"],["#FF8C00","#FA541C","#FF7A45","#FF9C6E","#FFBB96","#FFD8BF","#FFE7BA","#FFF2E8","#FFF7E6","#FFFBE6"],["#FFD700","#FADB14","#FFEC3D","#FFF566","#FFFF8F","#FFFFB8","#FFFBE6","#FFFBF0","#FFFBF0","#FFFBF0"],["#32CD32","#52C41A","#73D13D","#95DE64","#B7EB8F","#D9F7BE","#F6FFED","#F6FFED","#F6FFED","#F6FFED"],["#00CED1","#13C2C2","#36CFC9","#5CDBD3","#87E8DE","#B5F5EC","#E6FFFB","#E6FFFB","#E6FFFB","#E6FFFB"],["#1E90FF","#1890FF","#40A9FF","#69C0FF","#91D5FF","#BAE7FF","#E6F7FF","#E6F7FF","#E6F7FF","#E6F7FF"],["#9370DB","#722ED1","#9254DE","#B37FEB","#D3ADF7","#EFDBFF","#F9F0FF","#F9F0FF","#F9F0FF","#F9F0FF"]],u=["#FF4D4F","#1890FF","#52C41A","#FA8C16","#722ED1","#000000"];function p(w){n(w);const k=c(w,s());r("colorChange",{color:w,opacity:s(),rgba:k}),t(!1)}var h=yt(),x=nt(h);xe(x,t,w=>{var k=qD();k.__click=[ED,t];var S=m(k),M=m(S),T=v(m(M),2);T.__click=[jD,t],_(M);var D=v(M,2);Qo(D,21,()=>d,ln,(K,J)=>{var U=OD();Qo(U,21,()=>i(J),ln,(ae,me)=>{var ke=BD();ke.__click=[$D,p,me],Re(()=>{Un(ke,`w-6 h-6 rounded border-2 transition-all hover:scale-110 ${(n()===i(me)?"border-white shadow-lg":"border-base-300")??""}`),lt(ke,"style",`background-color: ${i(me)??""}`),lt(ke,"title",i(me))}),N(ae,ke)}),_(U),N(K,U)}),_(D);var A=v(D,2),j=m(A),F=v(m(j),2),q=m(F);_(F),_(j);var B=v(j,2),O=v(m(B),2);ut(O),O.__input=[FD,s,c,n,r];const z=tt(()=>`background: linear-gradient(to right, rgba(0,0,0,0), ${(c(n(),100)||n())??""});`);var Y=v(O,2);_(B),_(A);var G=v(A,2),oe=v(m(G),2);Qo(oe,21,()=>u,ln,(K,J)=>{var U=ND();U.__click=[RD,p,J],Re(()=>{Un(U,`w-8 h-8 rounded border-2 transition-all hover:scale-110 ${(n()===i(J)?"border-white shadow-lg":"border-base-300")??""}`),lt(U,"style",`background-color: ${i(J)??""}`),lt(U,"title",i(J))}),N(K,U)}),_(oe),_(G);var re=v(G,2),se=v(m(re),2),ie=m(se);ut(ie),ie.__change=[zD,p];var te=v(ie,2);ut(te),te.__change=[VD,p],_(se),_(re),_(S),_(k),Re(()=>{wt(q,`${s()??""}%`),lt(O,"style",i(z)),lt(Y,"style",`left: calc(${s()??""}% - 8px);`),Ud(ie,n()),Ud(te,n())}),Mt(O,s),N(w,k)}),N(o,h),Mr()}Pa(["click","input","change"]);const ec={LAYOUTS:"chart.saves.v1",ACTIVE_SAVE_ID:"chart.activeSaveId",LEGACY_LAYOUTS:"chart.saves.v0"};function Jo(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const e=Math.random()*16|0;return(o==="x"?e:e&3|8).toString(16)})}function Um(o){return o.toUpperCase().trim()}function Ym(o){return o&&typeof o.id=="string"&&typeof o.name=="string"&&typeof o.createdAt=="string"&&typeof o.updatedAt=="string"&&typeof o.timezone=="string"&&typeof o.interval=="string"&&typeof o.chartType=="string"&&typeof o.theme=="string"&&Array.isArray(o.panes)&&Array.isArray(o.indicators)&&typeof o.drawingsBySymbol=="object"}class Lb{constructor(){Wt(this,"initialized",!1);this.initialize()}async initialize(){if(!(this.initialized||!nh))try{await this.migrate(),this.initialized=!0}catch(e){console.error("Failed to initialize storage provider:",e)}}async migrate(){try{const e=localStorage.getItem(ec.LEGACY_LAYOUTS);if(!e)return;console.log("ðŸ”„ Migrating chart saves from v0 to v1...");const t=JSON.parse(e);if(!Array.isArray(t))return;if(localStorage.getItem(ec.LAYOUTS)){localStorage.removeItem(ec.LEGACY_LAYOUTS);return}const s=t.map(r=>({id:r.id||Jo(),name:r.name||"Migrated Layout",createdAt:r.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString(),timezone:r.timezone||"UTC",interval:r.interval||"1h",chartType:r.chartType||"candles",theme:r.theme||"dark",panes:r.panes||[],indicators:r.indicators||[],styles:r.styles||{},options:r.options||{},drawingsBySymbol:r.drawings?{[Um(r.symbol||"DEFAULT")]:r.drawings}:{}}));localStorage.setItem(ec.LAYOUTS,JSON.stringify(s)),localStorage.removeItem(ec.LEGACY_LAYOUTS),console.log(`âœ… Migrated ${s.length} layouts to v1 format`)}catch(e){console.error("Migration failed:",e)}}async listSavedLayouts(){await this.initialize();try{const e=localStorage.getItem(ec.LAYOUTS);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t.filter(Ym).map(n=>({id:n.id,name:n.name,createdAt:n.createdAt,updatedAt:n.updatedAt})).sort((n,s)=>new Date(s.updatedAt).getTime()-new Date(n.updatedAt).getTime()):[]}catch(e){return console.error("Failed to list saved layouts:",e),[]}}async getSavedLayout(e){await this.initialize();try{const t=localStorage.getItem(ec.LAYOUTS);if(!t)return null;const n=JSON.parse(t);if(!Array.isArray(n))return null;const s=n.find(r=>r.id===e);return s&&Ym(s)?s:null}catch(t){return console.error("Failed to get saved layout:",t),null}}async createSavedLayout(e){await this.initialize();try{const t=new Date().toISOString(),n={...e,id:Jo(),createdAt:t,updatedAt:t,drawingsBySymbol:Object.fromEntries(Object.entries(e.drawingsBySymbol).map(([a,c])=>[Um(a),c]))},s=localStorage.getItem(ec.LAYOUTS),r=s?JSON.parse(s):[];return r.push(n),localStorage.setItem(ec.LAYOUTS,JSON.stringify(r)),n}catch(t){throw console.error("Failed to create saved layout:",t),new Error("Failed to save layout")}}async updateSavedLayout(e,t){await this.initialize();try{const n=localStorage.getItem(ec.LAYOUTS);if(!n)throw new Error("Layout not found");const s=JSON.parse(n),r=s.findIndex(c=>c.id===e);if(r===-1)throw new Error("Layout not found");const a={...s[r],...t,id:e,updatedAt:new Date().toISOString(),drawingsBySymbol:t.drawingsBySymbol?Object.fromEntries(Object.entries(t.drawingsBySymbol).map(([c,d])=>[Um(c),d])):s[r].drawingsBySymbol};return s[r]=a,localStorage.setItem(ec.LAYOUTS,JSON.stringify(s)),a}catch(n){throw console.error("Failed to update saved layout:",n),new Error("Failed to update layout")}}async deleteSavedLayout(e){await this.initialize();try{const t=localStorage.getItem(ec.LAYOUTS);if(!t)return;const s=JSON.parse(t).filter(a=>a.id!==e);localStorage.setItem(ec.LAYOUTS,JSON.stringify(s)),await this.getActiveSaveId()===e&&await this.setActiveSaveId(null)}catch(t){throw console.error("Failed to delete saved layout:",t),new Error("Failed to delete layout")}}async setActiveSaveId(e){try{e===null?localStorage.removeItem(ec.ACTIVE_SAVE_ID):localStorage.setItem(ec.ACTIVE_SAVE_ID,e)}catch(t){console.error("Failed to set active save ID:",t)}}async getActiveSaveId(){try{return localStorage.getItem(ec.ACTIVE_SAVE_ID)}catch(e){return console.error("Failed to get active save ID:",e),null}}async layoutNameExists(e,t){return(await this.listSavedLayouts()).some(s=>s.name===e&&s.id!==t)}async cleanup(){try{const e=localStorage.getItem(ec.LAYOUTS);if(!e)return;const t=JSON.parse(e),n=t.filter(Ym);n.length!==t.length&&(localStorage.setItem(ec.LAYOUTS,JSON.stringify(n)),console.log(`ðŸ§¹ Cleaned up ${t.length-n.length} invalid layouts`))}catch(e){console.error("Failed to cleanup storage:",e)}}}const WD=new Lb;function Zc(o,e,t,n,s,r,a){if(!i(e)||!t()||!s().editPaneId)return;const c=[a.zoneLookbackBars,a.minZoneBars,a.maxZoneBars,a.atrPeriod,a.volumeMAPeriod,a.minVolumeFactor,a.maxZoneWidthPct,a.priorTrendLookback,a.minOBVTrendStrength,a.minZoneScore,a.mergeNearbyZones?1:0,a.maxZonesDisplayed,a.showLabels?1:0];try{t().overrideIndicator({name:"SMART_MONEY",calcParams:c,paneId:s().editPaneId})}catch(d){console.error("SMART_MONEY realtime update failed:",d)}}function GD(o,e,t){const n={id:Jo(),deviation:5,depth:5,styles:{color:"#2962FF",thickness:2,lineStyle:"solid"}};b(e,$([...i(e),n])),t()}function n2(o,e,t,n){const s=e();s&&s.setStyles({median:{size:i(t),style:i(n)}})}function s2(o,e,t,n){const s=e();s&&s.setStyles({slLong:{size:i(t),style:i(n)}})}function i2(o,e,t,n){const s=e();s&&s.setStyles({slShort:{size:i(t),style:i(n)}})}function HD(o,e,t){const n=e();n&&n.setShowOutcomeBand(!!i(t))}function UD(o,e,t){const n=e();n&&n.setShowStopLines(!!i(t))}function YD(o,e,t){const n=e();n&&n.updateSettings({showTable:!!i(t)})}function KD(o,e,t){if(i(e))try{if(i(t).length>=10){console.warn("âš ï¸ Maximum number of EMV groups (10) reached");return}const s=i(t).length+1,r={id:Jo(),name:`EMV #${s}`,period:14,period2:9,color:"#2563eb",thickness:2,lineStyle:"solid"};i(t).push(r),console.log("âœ… Added new EMV group:",r.name)}catch(n){console.error("âŒ Error adding EMV group:",n)}}function ZD(o,e,t,n){if(i(e))try{if(i(t).length>=10){console.warn("âš ï¸ Maximum number of MTM groups (10) reached");return}const r=i(t).length+1,a=["#2563eb","#8B5CF6","#F59E0B","#10B981","#EF4444","#EC4899","#06B6D4","#F97316"],c=i(t).length%a.length,d={id:Jo(),name:`MTM #${r}`,period:14,color:a[c],thickness:2,lineStyle:"solid"};i(t).push(d),console.log("âœ… Added new MTM group:",d.name),n()}catch(s){console.error("âŒ Error adding MTM group:",s)}}function XD(o,e,t,n){if(!i(e))return;const s=i(t).length+1;i(t).push({id:Jo(),name:`BIAS${s}`,period:6,color:"#2196F3",thickness:1,lineStyle:"solid"}),n()}function JD(o,e,t,n){if(!i(e))return;const s=i(t).length+1,r=s===1?"CCI":`CCI${s}`;i(t).push({id:Jo(),name:r,period:14,color:"#FF9800",thickness:1,lineStyle:"solid"}),console.log("âž• Added new CCI group:",r),n()}function QD(o,e,t,n){if(!i(e))return;const s=i(t)[i(t).length-1]||i(t)[0],r={id:Jo(),start:(s==null?void 0:s.start)??.02,increment:(s==null?void 0:s.increment)??.02,maxValue:(s==null?void 0:s.maxValue)??.2,color:"#2563eb",dotSize:1};b(t,$([...i(t),r])),n()}function eL(o,e,t,n){if(!i(e))return;const s=["#00FF00","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8"],r=i(t).map(p=>p.styles.uptrend.color),a=s.filter(p=>!r.includes(p)),c=a.length>0?a[0]:s[i(t).length%s.length],d=i(t)[i(t).length-1]||i(t)[0],u={id:Jo(),period:((d==null?void 0:d.period)||10)+2,multiplier:(d==null?void 0:d.multiplier)||3,showLabels:!0,styles:{uptrend:{color:c,thickness:1,lineStyle:"dashed"},downtrend:{color:"#FF0000",thickness:1,lineStyle:"dashed"}}};b(t,$([...i(t),u])),console.log("âœ… Added new Smart Trend group:",u),n()}function tL(o,e,t,n){if(!i(e))return;const s=i(t).length+1;i(t).push({id:Jo(),name:`DMI${s}`,diPeriod:14,adxPeriod:6,styles:{diPlus:{color:"#22c55e",thickness:1,lineStyle:"solid"},diMinus:{color:"#ef4444",thickness:1,lineStyle:"solid"},adx:{color:"#3b82f6",thickness:1,lineStyle:"solid"}}}),console.log("âž• Added new DMI group"),n()}function oL(o,e,t,n){if(!i(e))return;const s=i(t).length+1;i(t).push({id:Jo(),name:`CR${s}`,crPeriod:26,crMa1Period:10,crMa2Period:20,crMa3Period:40,crMa4Period:60,styles:{cr:{color:"#FF6B35",thickness:2,lineStyle:"solid"},ma1:{color:"#2196F3",thickness:1,lineStyle:"solid"},ma2:{color:"#4CAF50",thickness:1,lineStyle:"solid"},ma3:{color:"#FF9800",thickness:1,lineStyle:"solid"},ma4:{color:"#9C27B0",thickness:1,lineStyle:"solid"}}}),console.log("âž• Added new CR group"),n()}function nL(o,e,t,n){if(!i(e))return;const s=["#26A69A","#EF5350","#8B5CF6","#F59E0B","#10B981","#F97316","#06B6D4","#84CC16"],r=i(t).length%s.length;i(t).push({id:Jo(),shortPeriod:5,longPeriod:34,styles:{increasing:{color:s[r]},decreasing:{color:s[(r+1)%s.length]}}}),n()}function sL(o,e,t){b(e,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(t,!0)}function Pg(o,e,t,n,s,r,a,c,d,u,p,h,x,w,k,S,M){if(i(e))return;if(i(t)){n();return}if(i(s)){r();return}if(i(a)){c();return}if(i(d)){u();return}if(p.length>=10)return;const T=p[p.length-1],D={...T,title:`${T.title.replace(/\d+$/,"")}${p.length+1}`};p.push(D),h.push(D.default||0),x.push({color:"#2563eb",thickness:1,lineStyle:"solid"}),i(w)?k():i(S)&&M()}function iL(o,e,t,n,s,r,a,c,d,u,p,h,x,w,k){if(!i(e))return;const S=t().editPaneId||"candle_pane";i(s).push({id:Jo(),paneId:S,period:i(r),stdDev:i(a),styles:{fillColor:i(c),fillOpacity:i(d),upperColor:i(u),middleColor:i(p),lowerColor:i(h),thickness:i(x),lineStyle:i(w)}}),k()}var rL=(o,e,t)=>e(i(t).id),aL=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove MACD"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),lL=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"></span> <!></div> <div class="grid grid-cols-3 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Fast</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Slow</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Signal</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-20 sm:w-24 font-medium svelte-fy2ox8">MACD Line:</span> <button class="btn btn-xs btn-circle svelte-fy2ox8"></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div> <div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-20 sm:w-24 font-medium svelte-fy2ox8">Signal Line:</span> <button class="btn btn-xs btn-circle svelte-fy2ox8"></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div> <div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-20 sm:w-24 font-medium svelte-fy2ox8">Positive Bar:</span> <button class="btn btn-xs btn-circle svelte-fy2ox8"></button></div> <div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-20 sm:w-24 font-medium svelte-fy2ox8">Negative Bar:</span> <button class="btn btn-xs btn-circle svelte-fy2ox8"></button></div></div></div>'),cL=ue('<div class="space-y-2 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center mt-3 svelte-fy2ox8"><button class="btn btn-xs sm:btn-sm btn-outline btn-primary gap-1 svelte-fy2ox8" title="Add More MACD"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> <span class="text-xs sm:text-sm svelte-fy2ox8">Add MACD</span></button></div></div>'),dL=ue('<div class="space-y-3 mt-3 svelte-fy2ox8"><div class="grid grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Zone Lookback Bars</label> <input type="number" min="10" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Prior Trend Lookback</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Zone Bars</label> <input type="number" min="3" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Max Zone Bars</label> <input type="number" min="5" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">ATR Period</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Volume MA Period</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div></div> <div class="grid grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Max Zone Width %</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="0.005" max="0.10" step="0.005" class="range range-xs flex-1 svelte-fy2ox8"> <span class="text-xs w-10 text-right svelte-fy2ox8"> </span></div></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Volume Factor</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="0.5" max="2.0" step="0.05" class="range range-xs flex-1 svelte-fy2ox8"> <span class="text-xs w-10 text-right svelte-fy2ox8"> </span></div></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min OBV Trend</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="0.0" max="0.6" step="0.01" class="range range-xs flex-1 svelte-fy2ox8"> <span class="text-xs w-10 text-right svelte-fy2ox8"> </span></div></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Zone Score</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="0.3" max="0.9" step="0.01" class="range range-xs flex-1 svelte-fy2ox8"> <span class="text-xs w-10 text-right svelte-fy2ox8"> </span></div></div></div> <div class="grid grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex items-center justify-between bg-base-50 border border-base-200 rounded-md p-2 svelte-fy2ox8"><div class="flex flex-col svelte-fy2ox8"><span class="text-xs font-medium svelte-fy2ox8">Merge Nearby Zones</span> <span class="text-[10px] text-base-content/60 svelte-fy2ox8">Overlap/adjacent similar zones merge</span></div> <input type="checkbox" class="toggle toggle-sm svelte-fy2ox8"></div> <div class="flex items-center justify-between bg-base-50 border border-base-200 rounded-md p-2 svelte-fy2ox8"><div class="flex flex-col svelte-fy2ox8"><span class="text-xs font-medium svelte-fy2ox8">Show Labels</span> <span class="text-[10px] text-base-content/60 svelte-fy2ox8">Type + score label</span></div> <input type="checkbox" class="toggle toggle-sm svelte-fy2ox8"></div></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Max Zones Displayed</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm w-28 svelte-fy2ox8"></div></div>'),uL=(o,e,t)=>{e[9]=o.currentTarget.checked?1:0,t()},vL=ue('<div class="space-y-3 mt-3 svelte-fy2ox8"><div class="grid grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Resistance Lookback</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Support Lookback</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Confirmation Bars</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Max Trap Bars</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Volume MA Period</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Volume Spike (x)</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="1.0" max="3.0" step="0.05" class="range range-xs flex-1 svelte-fy2ox8"> <span class="text-xs w-10 text-right svelte-fy2ox8"> </span></div></div></div> <div class="grid grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Breakout Factor (%)</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="number" step="0.0001" min="0.0000" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm w-28 svelte-fy2ox8"> <span class="text-[10px] text-base-content/60 svelte-fy2ox8">e.g. 0.0005 = 0.05%</span></div></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Wick Ratio</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="0.0" max="1.0" step="0.01" class="range range-xs flex-1 svelte-fy2ox8"> <span class="text-xs w-10 text-right svelte-fy2ox8"> </span></div></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Trap Score</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="0.0" max="1.0" step="0.01" class="range range-xs flex-1 svelte-fy2ox8"> <span class="text-xs w-10 text-right svelte-fy2ox8"> </span></div></div></div> <div class="grid grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex items-center justify-between bg-base-50 border border-base-200 rounded-md p-2 svelte-fy2ox8"><div class="flex flex-col svelte-fy2ox8"><span class="text-xs font-medium svelte-fy2ox8">Stable Signal</span> <span class="text-[10px] text-base-content/60 svelte-fy2ox8">Show blue â€œStableâ€ dots</span></div> <input type="checkbox" class="toggle toggle-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Normal Quiet Bars</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm w-28 svelte-fy2ox8"></div></div></div>'),pL=ue('<div class="space-y-3 mt-3 svelte-fy2ox8"><div class="bg-base-50 border border-base-200 rounded-md p-2 svelte-fy2ox8"><div class="text-xs font-medium text-base-content/80 mb-2 svelte-fy2ox8">Compression Inputs</div> <div class="grid grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">BB Period</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">BB StdDev</label> <input type="number" step="0.1" min="0.1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">ATR Period</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Volume MA Period</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Normalize Lookback</label> <input type="number" min="10" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Pressure SMA</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div></div></div> <div class="bg-base-50 border border-base-200 rounded-md p-2 svelte-fy2ox8"><div class="text-xs font-medium text-base-content/80 mb-2 svelte-fy2ox8">Alert & Breakout Behavior</div> <div class="grid grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Pressure for Alert</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="0.0" max="1.0" step="0.01" class="range range-xs flex-1 svelte-fy2ox8"> <span class="text-xs w-10 text-right svelte-fy2ox8"> </span></div></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Confirmation Bars</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Volume Expansion (x)</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="0.8" max="3.0" step="0.05" class="range range-xs flex-1 svelte-fy2ox8"> <span class="text-xs w-10 text-right svelte-fy2ox8"> </span></div></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Range Expansion (x)</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="0.8" max="3.0" step="0.05" class="range range-xs flex-1 svelte-fy2ox8"> <span class="text-xs w-10 text-right svelte-fy2ox8"> </span></div></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Body % of Range</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="0.0" max="1.0" step="0.01" class="range range-xs flex-1 svelte-fy2ox8"> <span class="text-xs w-10 text-right svelte-fy2ox8"> </span></div></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Breakout Lookback</label> <input type="number" min="5" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Bars Between Signals</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div></div></div></div>'),fL=ue('<div class="space-y-3 mt-3 svelte-fy2ox8"><div class="bg-base-50 border border-base-200 rounded-md p-2 svelte-fy2ox8"><div class="text-xs font-medium text-base-content/80 mb-2 svelte-fy2ox8">Detection Parameters</div> <div class="grid grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">BB Period</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">BB StdDev</label> <input type="number" step="0.1" min="0.1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">ATR Period</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Volume MA Period</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Normalize Lookback</label> <input type="number" min="10" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Pressure SMA</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div></div></div> <div class="bg-base-50 border border-base-200 rounded-md p-2 svelte-fy2ox8"><div class="text-xs font-medium text-base-content/80 mb-2 svelte-fy2ox8">Alert & Breakout Filters</div> <div class="grid grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Pressure for Alert</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="0.0" max="1.0" step="0.01" class="range range-xs flex-1 svelte-fy2ox8"> <span class="text-xs w-10 text-right svelte-fy2ox8"> </span></div></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Confirmation Bars</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Volume Expansion (x)</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="0.8" max="3.0" step="0.05" class="range range-xs flex-1 svelte-fy2ox8"> <span class="text-xs w-10 text-right svelte-fy2ox8"> </span></div></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Range Expansion (x)</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="0.8" max="3.0" step="0.05" class="range range-xs flex-1 svelte-fy2ox8"> <span class="text-xs w-10 text-right svelte-fy2ox8"> </span></div></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Body % of Range</label> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="0.0" max="1.0" step="0.01" class="range range-xs flex-1 svelte-fy2ox8"> <span class="text-xs w-10 text-right svelte-fy2ox8"> </span></div></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Breakout Lookback</label> <input type="number" min="5" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Min Bars Between Signals</label> <input type="number" min="1" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8"></div></div></div></div>'),gL=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove RSI"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),_L=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"></span> <!></div> <div class="grid grid-cols-2 gap-2 sm:gap-3 svelte-fy2ox8"><div class="space-y-1 svelte-fy2ox8"><label class="text-xs text-base-content/70 svelte-fy2ox8">Period</label> <input type="number" class="input input-xs w-full bg-base-100 border-base-300 text-xs svelte-fy2ox8" min="1" max="100"></div> <div class="space-y-1 svelte-fy2ox8"><label class="text-xs text-base-content/70 svelte-fy2ox8">Overbought</label> <input type="number" class="input input-xs w-full bg-base-100 border-base-300 text-xs svelte-fy2ox8" min="50" max="100"></div> <div class="space-y-1 svelte-fy2ox8"><label class="text-xs text-base-content/70 svelte-fy2ox8">Middle</label> <input type="number" class="input input-xs w-full bg-base-100 border-base-300 text-xs svelte-fy2ox8" min="0" max="100"></div> <div class="space-y-1 svelte-fy2ox8"><label class="text-xs text-base-content/70 svelte-fy2ox8">Oversold</label> <input type="number" class="input input-xs w-full bg-base-100 border-base-300 text-xs svelte-fy2ox8" min="0" max="50"></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs text-base-content/70 svelte-fy2ox8">RSI Line</span> <div class="flex items-center gap-2 svelte-fy2ox8"><button class="w-6 h-6 rounded border border-base-300 flex-shrink-0 svelte-fy2ox8" title="Change RSI Color"></button> <select class="select select-xs bg-base-100 border-base-300 text-xs min-h-0 h-6 w-12 svelte-fy2ox8"><option class="svelte-fy2ox8">1</option><option class="svelte-fy2ox8">2</option><option class="svelte-fy2ox8">3</option><option class="svelte-fy2ox8">4</option><option class="svelte-fy2ox8">5</option></select> <select class="select select-xs bg-base-100 border-base-300 text-xs min-h-0 h-6 w-16 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div> <div class="space-y-2 border-t border-base-200 pt-2 svelte-fy2ox8"><span class="text-xs text-base-content/70 font-medium svelte-fy2ox8">Level Lines</span> <div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs text-base-content/60 svelte-fy2ox8">Overbought</span> <div class="flex items-center gap-2 svelte-fy2ox8"><button class="w-6 h-6 rounded border border-base-300 flex-shrink-0 svelte-fy2ox8" title="Change Overbought Color"></button> <select class="select select-xs bg-base-100 border-base-300 text-xs min-h-0 h-6 w-12 svelte-fy2ox8"><option class="svelte-fy2ox8">1</option><option class="svelte-fy2ox8">2</option><option class="svelte-fy2ox8">3</option></select> <select class="select select-xs bg-base-100 border-base-300 text-xs min-h-0 h-6 w-16 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dash</option><option class="svelte-fy2ox8">Dot</option></select></div></div> <div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs text-base-content/60 svelte-fy2ox8">Oversold</span> <div class="flex items-center gap-2 svelte-fy2ox8"><button class="w-6 h-6 rounded border border-base-300 flex-shrink-0 svelte-fy2ox8" title="Change Oversold Color"></button> <select class="select select-xs bg-base-100 border-base-300 text-xs min-h-0 h-6 w-12 svelte-fy2ox8"><option class="svelte-fy2ox8">1</option><option class="svelte-fy2ox8">2</option><option class="svelte-fy2ox8">3</option></select> <select class="select select-xs bg-base-100 border-base-300 text-xs min-h-0 h-6 w-16 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dash</option><option class="svelte-fy2ox8">Dot</option></select></div></div> <div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs text-base-content/60 svelte-fy2ox8">Middle Line</span> <div class="flex items-center gap-2 svelte-fy2ox8"><button class="w-6 h-6 rounded border border-base-300 flex-shrink-0 svelte-fy2ox8" title="Change Middle Line Color"></button> <select class="select select-xs bg-base-100 border-base-300 text-xs min-h-0 h-6 w-12 svelte-fy2ox8"><option class="svelte-fy2ox8">1</option><option class="svelte-fy2ox8">2</option><option class="svelte-fy2ox8">3</option></select> <select class="select select-xs bg-base-100 border-base-300 text-xs min-h-0 h-6 w-16 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dash</option><option class="svelte-fy2ox8">Dot</option></select></div></div> <div class="flex items-center justify-between mt-2 svelte-fy2ox8"><span class="text-xs text-base-content/60 svelte-fy2ox8">Fill Opacity</span> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="range" min="0.05" max="0.5" step="0.05" class="range range-xs w-20 svelte-fy2ox8"> <span class="text-xs text-base-content/60 w-8 svelte-fy2ox8"> </span></div></div></div></div>'),mL=ue('<div class="space-y-2 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center mt-3 svelte-fy2ox8"><button class="btn btn-xs btn-outline btn-primary gap-1 sm:gap-2 svelte-fy2ox8" title="Add More RSI"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> <span class="text-xs sm:text-sm svelte-fy2ox8">Add RSI</span></button></div></div>'),hL=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove Stochastic"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),yL=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"></span> <!></div> <div class="grid grid-cols-2 gap-2 sm:gap-3 svelte-fy2ox8"><div class="space-y-1 svelte-fy2ox8"><label class="text-xs text-base-content/70 svelte-fy2ox8">%K Period</label> <input type="number" class="input input-xs w-full bg-base-100 border-base-300 text-xs svelte-fy2ox8" min="1" max="100"></div> <div class="space-y-1 svelte-fy2ox8"><label class="text-xs text-base-content/70 svelte-fy2ox8">%D Period</label> <input type="number" class="input input-xs w-full bg-base-100 border-base-300 text-xs svelte-fy2ox8" min="1" max="50"></div> <div class="space-y-1 svelte-fy2ox8"><label class="text-xs text-base-content/70 svelte-fy2ox8">Overbought</label> <input type="number" class="input input-xs w-full bg-base-100 border-base-300 text-xs svelte-fy2ox8" min="50" max="100"></div> <div class="space-y-1 svelte-fy2ox8"><label class="text-xs text-base-content/70 svelte-fy2ox8">Oversold</label> <input type="number" class="input input-xs w-full bg-base-100 border-base-300 text-xs svelte-fy2ox8" min="0" max="50"></div></div> <div class="grid grid-cols-1 gap-2 sm:gap-3 svelte-fy2ox8"><div class="space-y-1 svelte-fy2ox8"><label class="text-xs text-base-content/70 svelte-fy2ox8">Mid Level</label> <input type="number" class="input input-xs w-full bg-base-100 border-base-300 text-xs svelte-fy2ox8" min="0" max="100"></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs text-base-content/70 svelte-fy2ox8">%K Line</span> <div class="flex items-center gap-2 svelte-fy2ox8"><button class="w-6 h-6 rounded border border-base-300 flex-shrink-0 svelte-fy2ox8" title="Change %K Line Color"></button> <select class="select select-xs bg-base-100 border-base-300 text-xs min-h-0 h-6 w-12 svelte-fy2ox8"><option class="svelte-fy2ox8">1</option><option class="svelte-fy2ox8">2</option><option class="svelte-fy2ox8">3</option><option class="svelte-fy2ox8">4</option><option class="svelte-fy2ox8">5</option></select> <select class="select select-xs bg-base-100 border-base-300 text-xs min-h-0 h-6 w-16 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs text-base-content/70 svelte-fy2ox8">%D Line</span> <div class="flex items-center gap-2 svelte-fy2ox8"><button class="w-6 h-6 rounded border border-base-300 flex-shrink-0 svelte-fy2ox8" title="Change %D Line Color"></button> <select class="select select-xs bg-base-100 border-base-300 text-xs min-h-0 h-6 w-12 svelte-fy2ox8"><option class="svelte-fy2ox8">1</option><option class="svelte-fy2ox8">2</option><option class="svelte-fy2ox8">3</option><option class="svelte-fy2ox8">4</option><option class="svelte-fy2ox8">5</option></select> <select class="select select-xs bg-base-100 border-base-300 text-xs min-h-0 h-6 w-16 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div> <div class="space-y-2 border-t border-base-200 pt-2 svelte-fy2ox8"><span class="text-xs text-base-content/70 font-medium svelte-fy2ox8">Level Colors</span> <div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs text-base-content/60 svelte-fy2ox8">Overbought</span> <button class="w-6 h-6 rounded border border-base-300 flex-shrink-0 svelte-fy2ox8" title="Change Overbought Color"></button></div> <div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs text-base-content/60 svelte-fy2ox8">Oversold</span> <button class="w-6 h-6 rounded border border-base-300 flex-shrink-0 svelte-fy2ox8" title="Change Oversold Color"></button></div> <div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs text-base-content/60 svelte-fy2ox8">Mid Line</span> <button class="w-6 h-6 rounded border border-base-300 flex-shrink-0 svelte-fy2ox8" title="Change Mid Line Color"></button></div></div></div>'),bL=ue('<div class="space-y-2 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center mt-3 svelte-fy2ox8"><button class="btn btn-xs btn-outline btn-primary gap-1 sm:gap-2 svelte-fy2ox8" title="Add More Stochastic"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> <span class="text-xs sm:text-sm svelte-fy2ox8">Add Stochastic</span></button></div></div>'),xL=(o,e,t)=>e(i(t).id),wL=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove DMI"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),kL=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"></span> <!></div> <div class="grid grid-cols-2 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">DI Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">ADX Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-12 font-medium svelte-fy2ox8">DI+:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div> <div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-12 font-medium svelte-fy2ox8">DI-:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div> <div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-12 font-medium svelte-fy2ox8">ADX:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div>'),SL=ue('<div class="space-y-2 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center mt-3 svelte-fy2ox8"><button class="btn btn-xs sm:btn-sm btn-outline btn-primary gap-1 svelte-fy2ox8" title="Add More DMI"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> <span class="text-xs sm:text-sm svelte-fy2ox8">Add DMI</span></button></div></div>'),CL=(o,e,t)=>e(i(t).id),IL=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove Williams %R"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),PL=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"></span> <!></div> <div class="grid grid-cols-2 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Overbought</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="-50" max="0"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Middle Level</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="-70" max="-30"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Oversold</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="-100" max="-50"></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-12 font-medium svelte-fy2ox8">WR Line:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="text-xs font-medium text-base-content/80 border-b border-base-200 pb-1 svelte-fy2ox8">Level Lines</div> <div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-20 font-medium svelte-fy2ox8">Overbought:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div> <div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-20 font-medium svelte-fy2ox8">Middle:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div> <div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-20 font-medium svelte-fy2ox8">Oversold:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div>'),ML=ue('<div class="space-y-2 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center mt-3 svelte-fy2ox8"><button class="btn btn-xs sm:btn-sm btn-outline btn-primary gap-1 svelte-fy2ox8" title="Add More Williams %R"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> <span class="text-xs sm:text-sm svelte-fy2ox8">Add Williams %R</span></button></div></div>'),TL=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove VR"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),AL=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"></span> <!></div> <div class="grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Short Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 sm:col-span-1 col-span-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Long Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="text-xs font-medium text-base-content/70 svelte-fy2ox8">VR Main Line</div> <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs flex-1 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs flex-1 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="text-xs font-medium text-base-content/70 svelte-fy2ox8">VR Short Line</div> <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs flex-1 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs flex-1 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="text-xs font-medium text-base-content/70 svelte-fy2ox8">VR Long Line</div> <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs flex-1 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs flex-1 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div></div>'),DL=ue('<div class="space-y-2 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center mt-3 svelte-fy2ox8"><button class="btn btn-xs sm:btn-sm btn-outline btn-primary gap-1 svelte-fy2ox8" title="Add More VR"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> <span class="text-xs sm:text-sm svelte-fy2ox8">Add More VR</span></button></div></div>'),LL=(o,e,t)=>e(i(t).id),EL=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove BBI"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),FL=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"></span> <!></div> <div class="grid grid-cols-2 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Period 1</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Period 2</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Period 3</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Period 4</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div></div> <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs flex-1 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs flex-1 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div>'),jL=ue('<div class="space-y-2 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center mt-3 svelte-fy2ox8"><button class="btn btn-xs sm:btn-sm btn-outline btn-primary gap-1 svelte-fy2ox8" title="Add More BBI"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> <span class="text-xs sm:text-sm svelte-fy2ox8">Add BBI</span></button></div></div>'),$L=(o,e,t)=>e(i(t).id),BL=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove EMV"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),OL=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"> </span> <!></div> <div class="grid grid-cols-2 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Period 1</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Period 2</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div></div> <div class="flex flex-wrap sm:flex-nowrap items-center gap-2 sm:gap-4 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div>'),RL=ue('<div class="space-y-2 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center mt-3 svelte-fy2ox8"><button class="btn btn-xs sm:btn-sm btn-outline btn-primary gap-1 svelte-fy2ox8" title="Add More EMV"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> <span class="text-xs sm:text-sm svelte-fy2ox8">Add EMV</span></button></div></div>'),NL=(o,e,t)=>e(i(t).id),zL=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove MTM"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),VL=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"> </span> <!></div> <div class="grid grid-cols-1 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div></div> <div class="flex flex-wrap sm:flex-nowrap items-center gap-2 sm:gap-4 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div>'),qL=ue('<div class="space-y-2 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center mt-3 svelte-fy2ox8"><button class="btn btn-xs sm:btn-sm btn-outline btn-primary gap-1 svelte-fy2ox8" title="Add More MTM"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> <span class="text-xs sm:text-sm svelte-fy2ox8">Add MTM</span></button></div></div>'),WL=(o,e,t)=>e(i(t).id),GL=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"></span> <button class="btn btn-xs btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove this AO"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button></div> <div class="grid grid-cols-2 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Short Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Long Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div></div> <div class="border-t border-base-300 pt-2 mt-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 mb-2 block svelte-fy2ox8">Histogram Colors</label> <div class="grid grid-cols-1 gap-2 svelte-fy2ox8"><div class="flex items-center justify-between gap-2 px-2 py-1.5 rounded bg-base-100 border border-base-200 svelte-fy2ox8"><span class="text-xs text-base-content/70 flex-1 svelte-fy2ox8">Increasing Color</span> <div class="flex items-center gap-2 svelte-fy2ox8"><div class="w-6 h-6 rounded border-2 border-base-300 svelte-fy2ox8"></div> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div></div> <div class="flex items-center justify-between gap-2 px-2 py-1.5 rounded bg-base-100 border border-base-200 svelte-fy2ox8"><span class="text-xs text-base-content/70 flex-1 svelte-fy2ox8">Decreasing Color</span> <div class="flex items-center gap-2 svelte-fy2ox8"><div class="w-6 h-6 rounded border-2 border-base-300 svelte-fy2ox8"></div> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div></div></div></div></div>'),HL=ue('<div class="space-y-2 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center mt-3 svelte-fy2ox8"><button class="btn btn-xs sm:btn-sm btn-outline btn-primary gap-1 svelte-fy2ox8" title="Add More Awesome Oscillator"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> <span class="text-xs sm:text-sm svelte-fy2ox8">Add More AO</span></button></div></div>'),UL=(o,e,t)=>e(i(t).id),YL=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove CR"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),KL=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"></span> <!></div> <div class="grid grid-cols-2 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">CR Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">MA1 Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">MA2 Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">MA3 Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">MA4 Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-12 font-medium svelte-fy2ox8">CR:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div> <div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-12 font-medium svelte-fy2ox8">MA1:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div> <div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-12 font-medium svelte-fy2ox8">MA2:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div> <div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-12 font-medium svelte-fy2ox8">MA3:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div> <div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-12 font-medium svelte-fy2ox8">MA4:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div>'),ZL=ue('<div class="space-y-2 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center mt-3 svelte-fy2ox8"><button class="btn btn-xs sm:btn-sm btn-outline btn-primary gap-1 svelte-fy2ox8" title="Add More CR"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> <span class="text-xs sm:text-sm svelte-fy2ox8">Add CR</span></button></div></div>'),XL=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"></span></div> <div class="space-y-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Deviation %</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1" max="50" step="0.1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Depth</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1" max="50"></div></div> <div class="border-t border-base-300 pt-2 mt-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 mb-2 block svelte-fy2ox8">ZigZag Line Style</label> <div class="space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between gap-2 px-2 py-1.5 rounded bg-base-100 border border-base-200 svelte-fy2ox8"><span class="text-xs text-base-content/70 flex-1 svelte-fy2ox8">Line Color</span> <div class="flex items-center gap-2 svelte-fy2ox8"><div class="w-6 h-6 rounded border-2 border-base-300 svelte-fy2ox8"></div> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div></div> <div class="flex items-center justify-between gap-2 px-2 py-1.5 rounded bg-base-100 border border-base-200 svelte-fy2ox8"><span class="text-xs text-base-content/70 flex-1 svelte-fy2ox8">Line Thickness</span> <select class="select select-bordered select-xs w-20 svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center justify-between gap-2 px-2 py-1.5 rounded bg-base-100 border border-base-200 svelte-fy2ox8"><span class="text-xs text-base-content/70 flex-1 svelte-fy2ox8">Line Style</span> <select class="select select-bordered select-xs w-24 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div></div>'),JL=ue('<div class="space-y-2 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center pt-1 svelte-fy2ox8"><button class="btn btn-xs btn-outline btn-primary gap-1 text-xs svelte-fy2ox8" title="Add more ZigZag"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> + Add More ZigZag</button></div></div>'),QL=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Delete this PVT instance">âœ•</button>'),eE=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"> </span> <!></div> <div class="flex flex-wrap sm:flex-nowrap items-center gap-2 sm:gap-4 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs w-20 sm:w-24 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div>'),tE=ue('<div class="space-y-2 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center mt-3 svelte-fy2ox8"><button class="btn btn-sm btn-primary svelte-fy2ox8">âž• Add More PVT</button></div></div>'),oE=(o,e,t)=>e(i(t).id),nE=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove SAR Group"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),sE=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"></span> <!></div> <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Start</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="0.001" max="0.1" step="0.001"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Increment</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="0.001" max="0.1" step="0.001"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Max value</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="0.1" max="1.0" step="0.01"></div></div> <div class="flex flex-wrap sm:flex-nowrap items-center gap-2 sm:gap-4 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Dot size:</label> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div></div></div>'),iE=ue('<div class="space-y-2 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center mt-3 svelte-fy2ox8"><button class="btn btn-sm btn-primary svelte-fy2ox8">âž• Add More SAR</button></div></div>'),rE=(o,e,t)=>e(i(t).id),aE=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove Smart Trend Group"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),lE=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"></span> <!></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1" max="100" step="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Multiplier</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="0.1" max="10" step="0.1"></div></div> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="checkbox" class="checkbox checkbox-sm svelte-fy2ox8"> <label class="text-xs text-base-content/60 svelte-fy2ox8">Show Labels</label></div> <div class="space-y-2 svelte-fy2ox8"><div class="text-xs font-medium text-base-content/80 svelte-fy2ox8">Uptrend Line</div> <div class="flex flex-wrap sm:flex-nowrap items-center gap-2 sm:gap-4 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs w-20 sm:w-24 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option></select></div></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="text-xs font-medium text-base-content/80 svelte-fy2ox8">Downtrend Line</div> <div class="flex flex-wrap sm:flex-nowrap items-center gap-2 sm:gap-4 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs w-20 sm:w-24 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option></select></div></div></div></div>'),cE=ue('<div class="space-y-2 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center mt-2 svelte-fy2ox8"><button class="btn btn-xs btn-outline btn-primary svelte-fy2ox8" title="Add more Smart Trend"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 mr-1 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> Add Smart Trend</button></div></div>'),dE=(o,e)=>e(),uE=ue('<button class="btn btn-sm btn-circle btn-ghost text-error hover:bg-error/10 flex-shrink-0 svelte-fy2ox8" title="Delete EMA parameter"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="0.5" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),vE=ue('<div class="w-8 flex-shrink-0 svelte-fy2ox8"></div>'),pE=(o,e)=>e(),fE=(o,e)=>e(),gE=ue('<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div>'),_E=ue('<div class="border border-base-300 rounded-lg p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 svelte-fy2ox8"><span class="w-full sm:w-20 text-base-content/70 text-sm font-medium min-w-fit svelte-fy2ox8"> </span> <div class="flex items-center gap-2 sm:gap-3 flex-1 min-w-0 svelte-fy2ox8"><input type="number" class="flex-1 input input-bordered input-sm min-w-0 svelte-fy2ox8"> <!></div></div> <!></div>'),mE=ue('<div class="flex justify-center mt-4 svelte-fy2ox8"><button class="btn btn-sm btn-outline btn-primary svelte-fy2ox8" title="Add more EMA"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="0.5" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> Add EMA</button></div>'),hE=ue('<div class="space-y-3 sm:space-y-4 mt-3 sm:mt-5 svelte-fy2ox8"><!> <!></div>'),yE=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Delete this SMA"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),bE=ue('<div class="bg-base-50 border border-base-200 rounded-md p-3 space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-sm font-medium text-base-content/80 svelte-fy2ox8"> </span> <!></div> <div class="flex flex-col gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/70 font-medium svelte-fy2ox8">Period</label> <input type="number" class="input input-bordered input-sm svelte-fy2ox8" min="1" max="500"></div> <div class="space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><label class="text-xs text-base-content/70 svelte-fy2ox8">Color</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center justify-between svelte-fy2ox8"><label class="text-xs text-base-content/70 svelte-fy2ox8">Line Thickness</label> <select class="select select-bordered select-xs w-20 svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center justify-between svelte-fy2ox8"><label class="text-xs text-base-content/70 svelte-fy2ox8">Line Style</label> <select class="select select-bordered select-xs w-24 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div>'),xE=ue('<div class="space-y-3 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center mt-3 svelte-fy2ox8"><button class="btn btn-sm btn-outline btn-primary svelte-fy2ox8" title="Add more SMA"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> Add SMA</button></div></div>'),wE=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove Volume"><span class="text-xs svelte-fy2ox8">Ã—</span></button>'),kE=ue('<div class="w-6 svelte-fy2ox8"></div>'),SE=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"></span> <!></div> <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Period</label> <input type="number" class="input input-bordered input-xs svelte-fy2ox8" min="1" max="200"></div></div> <div class="space-y-2 svelte-fy2ox8"><h4 class="text-xs font-medium text-base-content/70 svelte-fy2ox8">Volume Histogram</h4> <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Up Color:</label> <button class="btn btn-xs btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Down Color:</label> <button class="btn btn-xs btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div></div></div> <div class="space-y-2 svelte-fy2ox8"><h4 class="text-xs font-medium text-base-content/70 svelte-fy2ox8">EMA Line</h4> <div class="flex items-center gap-2 svelte-fy2ox8"><input type="checkbox" class="checkbox checkbox-sm svelte-fy2ox8"> <label class="text-xs text-base-content/60 svelte-fy2ox8">Show EMA with Volume</label></div> <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-xs btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div></div>'),CE=ue('<div class="space-y-3 mt-3 svelte-fy2ox8"></div>'),IE=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove TRIX"><span class="text-xs svelte-fy2ox8">Ã—</span></button>'),PE=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"> </span> <!></div> <div class="grid grid-cols-2 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 sm:gap-3 svelte-fy2ox8"><span class="text-xs sm:text-sm text-base-content/60 w-12 sm:w-16 flex-shrink-0 svelte-fy2ox8">TRIX:</span> <input type="number" class="input input-bordered input-xs sm:input-sm flex-1 max-w-16 sm:max-w-20 text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex items-center gap-2 sm:gap-3 svelte-fy2ox8"><span class="text-xs sm:text-sm text-base-content/60 w-12 sm:w-16 flex-shrink-0 svelte-fy2ox8">Signal:</span> <input type="number" class="input input-bordered input-xs sm:input-sm flex-1 max-w-16 sm:max-w-20 text-xs sm:text-sm svelte-fy2ox8" min="1"></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="flex items-center gap-1 svelte-fy2ox8"><span class="text-xs text-base-content/60 svelte-fy2ox8">TRIX Line:</span> <div class="w-3 h-2 rounded svelte-fy2ox8"></div></div> <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <input type="color" class="w-8 h-6 rounded border border-base-300 cursor-pointer svelte-fy2ox8"></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs w-12 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="flex items-center gap-1 svelte-fy2ox8"><span class="text-xs text-base-content/60 svelte-fy2ox8">Signal Line:</span> <div class="w-3 h-2 rounded svelte-fy2ox8"></div></div> <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <input type="color" class="w-8 h-6 rounded border border-base-300 cursor-pointer svelte-fy2ox8"></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs w-12 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div></div>'),ME=(o,e)=>e(),TE=ue('<div class="space-y-3 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center pt-2 svelte-fy2ox8"><button class="btn btn-xs btn-outline btn-primary gap-1 text-xs svelte-fy2ox8" title="Add More TRIX"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> + Add More TRIX</button></div></div>'),AE=(o,e,t)=>e(i(t).id),DE=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove BIAS"><span class="text-xs svelte-fy2ox8">Ã—</span></button>'),LE=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"></span> <!></div> <div class="flex items-center gap-2 sm:gap-3 svelte-fy2ox8"><span class="text-xs sm:text-sm text-base-content/60 w-12 sm:w-16 flex-shrink-0 svelte-fy2ox8">Period:</span> <input type="number" class="input input-bordered input-xs sm:input-sm flex-1 max-w-16 sm:max-w-20 text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-wrap items-center gap-2 sm:gap-3 text-xs svelte-fy2ox8"><div class="flex items-center gap-1 svelte-fy2ox8"><span class="text-base-content/60 text-xs svelte-fy2ox8">Color:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-1 svelte-fy2ox8"><span class="text-base-content/60 text-xs svelte-fy2ox8">Width:</span> <select class="select select-bordered select-xs w-12 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option></select></div> <div class="flex items-center gap-1 svelte-fy2ox8"><span class="text-base-content/60 text-xs svelte-fy2ox8">Style:</span> <select class="select select-bordered select-xs w-14 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dash</option><option class="svelte-fy2ox8">Dot</option></select></div></div></div>'),EE=ue('<div class="space-y-3 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center pt-2 svelte-fy2ox8"><button class="btn btn-xs btn-outline btn-primary gap-1 svelte-fy2ox8" title="Add More BIAS"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> <span class="text-xs sm:text-sm svelte-fy2ox8">Add BIAS</span></button></div></div>'),FE=(o,e,t)=>e(i(t).id),jE=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove CCI"><span class="text-xs svelte-fy2ox8">Ã—</span></button>'),$E=ue('<div class="bg-base-50 border border-base-200 rounded-md p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-xs sm:text-sm font-medium text-base-content/80 svelte-fy2ox8"></span> <!></div> <div class="flex items-center gap-2 sm:gap-3 svelte-fy2ox8"><span class="text-xs sm:text-sm text-base-content/60 w-12 sm:w-16 flex-shrink-0 svelte-fy2ox8">Period:</span> <input type="number" class="input input-bordered input-xs sm:input-sm flex-1 max-w-16 sm:max-w-20 text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-wrap items-center gap-2 sm:gap-3 text-xs svelte-fy2ox8"><div class="flex items-center gap-1 svelte-fy2ox8"><span class="text-base-content/60 text-xs svelte-fy2ox8">Color:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-1 svelte-fy2ox8"><span class="text-base-content/60 text-xs svelte-fy2ox8">Width:</span> <select class="select select-bordered select-xs w-12 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option></select></div> <div class="flex items-center gap-1 svelte-fy2ox8"><span class="text-base-content/60 text-xs svelte-fy2ox8">Style:</span> <select class="select select-bordered select-xs w-14 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dash</option><option class="svelte-fy2ox8">Dot</option></select></div></div></div>'),BE=ue('<div class="space-y-3 mt-3 svelte-fy2ox8"><!> <div class="flex justify-center pt-2 svelte-fy2ox8"><button class="btn btn-xs btn-outline btn-primary gap-1 svelte-fy2ox8" title="Add More CCI"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> <span class="text-xs sm:text-sm svelte-fy2ox8">Add CCI</span></button></div></div>'),OE=ue('<button class="btn btn-xs btn-circle btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove Ichimoku"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),RE=ue('<div class="grid grid-cols-1 sm:grid-cols-[1.4fr_0.8fr_0.8fr_0.8fr_0.9fr] gap-3 items-center px-1 py-2 border-b border-base-200 last:border-b-0 svelte-fy2ox8"><div class="flex items-center gap-3 svelte-fy2ox8"><div class="w-4 h-4 rounded-full border border-base-300 svelte-fy2ox8"></div> <span class="text-sm font-medium text-base-content svelte-fy2ox8"> </span></div> <div class="flex items-center gap-2 svelte-fy2ox8"><span class="text-xs text-base-content/60 sm:hidden svelte-fy2ox8">Period</span> <input type="number" class="input input-bordered input-sm w-24 text-center svelte-fy2ox8" min="1" max="200"></div> <div class="flex items-center gap-2 svelte-fy2ox8"><span class="text-xs text-base-content/60 sm:hidden svelte-fy2ox8">Color</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-5 h-5 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><span class="text-xs text-base-content/60 sm:hidden svelte-fy2ox8">Thickness</span> <select class="select select-bordered select-xs flex-1 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><span class="text-xs text-base-content/60 sm:hidden svelte-fy2ox8">Style</span> <select class="select select-bordered select-xs flex-1 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div>'),NE=ue('<div class="space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><span class="text-sm sm:text-base font-medium text-base-content/80 svelte-fy2ox8"> </span> <!></div> <div class="hidden sm:grid grid-cols-[1.4fr_0.8fr_0.8fr_0.8fr_0.9fr] gap-3 text-xs text-base-content/60 px-1 svelte-fy2ox8"><div class="svelte-fy2ox8">Component</div> <div class="svelte-fy2ox8">Period</div> <div class="svelte-fy2ox8">Color</div> <div class="svelte-fy2ox8">Thickness</div> <div class="svelte-fy2ox8">Style</div></div> <!></div>'),zE=ue('<div class="mt-3 sm:mt-5 svelte-fy2ox8"><div class="border border-base-300 rounded-lg p-4 bg-base-50/50 svelte-fy2ox8"><div class="flex items-center gap-3 mb-6 pb-4 border-b border-base-200 svelte-fy2ox8"><div class="w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center svelte-fy2ox8"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3" class="svelte-fy2ox8"></path></svg></div> <div class="svelte-fy2ox8"><h3 class="text-lg font-semibold text-base-content svelte-fy2ox8">Ichimoku Kinko Hyo</h3> <p class="text-sm text-base-content/60 svelte-fy2ox8">Complete cloud indicator with all components</p></div></div> <div class="space-y-6 svelte-fy2ox8"></div> <div class="flex justify-center pt-4 svelte-fy2ox8"><button class="btn btn-xs btn-outline btn-primary gap-1 svelte-fy2ox8" title="Add Ichimoku"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> <span class="text-xs sm:text-sm svelte-fy2ox8">Add Ichimoku</span></button></div> <div class="mt-6 pt-4 border-t border-base-200 svelte-fy2ox8"><div class="text-xs text-base-content/60 space-y-1 svelte-fy2ox8"><p class="svelte-fy2ox8"><strong class="svelte-fy2ox8">Components:</strong> Tenkan Sen (Conversion), Kijun Sen (Base), Senkou Span A & B (Cloud)</p> <p class="svelte-fy2ox8"><strong class="svelte-fy2ox8">Usage:</strong> Trend direction, support/resistance levels, and momentum analysis</p></div></div></div></div>'),VE=ue('<button class="btn btn-sm btn-circle btn-ghost text-error hover:bg-error/10 flex-shrink-0 svelte-fy2ox8" title="Delete SMA parameter"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="0.5" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),qE=ue('<div class="w-8 flex-shrink-0 svelte-fy2ox8"></div>'),WE=ue('<div class="border border-base-300 rounded-lg p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 svelte-fy2ox8"><span class="w-full sm:w-20 text-base-content/70 text-sm font-medium min-w-fit svelte-fy2ox8"> </span> <div class="flex items-center gap-2 sm:gap-3 flex-1 min-w-0 svelte-fy2ox8"><input type="number" class="flex-1 input input-bordered input-sm min-w-0 svelte-fy2ox8"> <!></div></div> <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div>'),GE=ue('<div class="flex justify-center mt-4 svelte-fy2ox8"><button class="btn btn-sm btn-outline btn-primary svelte-fy2ox8" title="Add more SMA"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="0.5" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> Add SMA</button></div>'),HE=ue('<div class="space-y-3 sm:space-y-4 mt-3 sm:mt-5 svelte-fy2ox8"><!> <!></div>'),UE=(o,e)=>e(),YE=ue('<button class="btn btn-sm btn-circle btn-ghost text-error hover:bg-error/10 flex-shrink-0 svelte-fy2ox8" title="Delete MA parameter"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="0.5" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),KE=ue('<div class="w-8 flex-shrink-0 svelte-fy2ox8"></div>'),ZE=(o,e)=>e(),XE=(o,e)=>e(),JE=ue('<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div>'),QE=ue('<div class="border border-base-300 rounded-lg p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 svelte-fy2ox8"><span class="w-full sm:w-20 text-base-content/70 text-sm font-medium min-w-fit svelte-fy2ox8"> </span> <div class="flex items-center gap-2 sm:gap-3 flex-1 min-w-0 svelte-fy2ox8"><input type="number" class="flex-1 input input-bordered input-sm min-w-0 svelte-fy2ox8"> <!></div></div> <!></div>'),eF=ue('<div class="flex justify-center mt-4 svelte-fy2ox8"><button class="btn btn-sm btn-outline btn-primary svelte-fy2ox8" title="Add more MA"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="0.5" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> Add MA</button></div>'),tF=ue('<div class="space-y-3 sm:space-y-4 mt-3 sm:mt-5 svelte-fy2ox8"><!> <!></div>'),oF=(o,e,t)=>e(i(t).id),nF=ue('<button class="btn btn-xs btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove ROC"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),sF=ue('<div class="border border-base-300 rounded-lg p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><h4 class="text-sm font-medium text-base-content/80 svelte-fy2ox8"></h4> <!></div> <div class="space-y-3 svelte-fy2ox8"><div class="flex flex-col gap-2 svelte-fy2ox8"><span class="text-base-content/70 text-xs font-medium svelte-fy2ox8">Period</span> <input type="number" class="input input-bordered input-xs text-xs w-full max-w-24 svelte-fy2ox8"></div> <div class="grid grid-cols-1 md:grid-cols-3 gap-3 svelte-fy2ox8"><div class="flex items-center gap-3 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-[45px] svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-3 svelte-fy2ox8"><span class="text-base-content/60 text-xs min-w-[60px] svelte-fy2ox8">Thickness:</span> <select class="select select-bordered select-xs w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-3 svelte-fy2ox8"><span class="text-base-content/60 text-xs min-w-[35px] svelte-fy2ox8">Style:</span> <select class="select select-bordered select-xs w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div></div>'),iF=ue('<div class="space-y-2 sm:space-y-3 mt-2 sm:mt-3 svelte-fy2ox8"><!> <div class="flex justify-center pt-1 svelte-fy2ox8"><button class="btn btn-xs btn-outline btn-primary gap-1 text-xs svelte-fy2ox8" title="Add more ROC"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> + Add More ROC</button></div></div>'),rF=(o,e,t)=>e(i(t).id),aF=ue('<button class="btn btn-xs btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove PSY"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),lF=ue('<div class="border border-base-300 rounded-lg p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><h4 class="text-sm font-medium text-base-content/80 svelte-fy2ox8"></h4> <!></div> <div class="space-y-3 svelte-fy2ox8"><div class="flex flex-col gap-2 svelte-fy2ox8"><span class="text-base-content/70 text-xs font-medium svelte-fy2ox8">Param 1 (PSY Period)</span> <input type="number" class="input input-bordered input-xs text-xs w-full max-w-24 svelte-fy2ox8"></div> <div class="space-y-2 svelte-fy2ox8"><span class="text-base-content/70 text-xs font-medium svelte-fy2ox8">PSY Line Style</span> <div class="grid grid-cols-1 md:grid-cols-3 gap-3 svelte-fy2ox8"><div class="flex items-center gap-3 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-[45px] svelte-fy2ox8">Color:</label> <button class="btn btn-xs btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-3 svelte-fy2ox8"><span class="text-base-content/60 text-xs min-w-[60px] svelte-fy2ox8">Thickness:</span> <select class="select select-bordered select-xs w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-3 svelte-fy2ox8"><span class="text-base-content/60 text-xs min-w-[35px] svelte-fy2ox8">Style:</span> <select class="select select-bordered select-xs w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div> <div class="flex flex-col gap-2 svelte-fy2ox8"><span class="text-base-content/70 text-xs font-medium svelte-fy2ox8">Param 2 (MAPSY Period)</span> <input type="number" class="input input-bordered input-xs text-xs w-full max-w-24 svelte-fy2ox8"></div> <div class="space-y-2 svelte-fy2ox8"><span class="text-base-content/70 text-xs font-medium svelte-fy2ox8">MAPSY Line Style</span> <div class="grid grid-cols-1 md:grid-cols-3 gap-3 svelte-fy2ox8"><div class="flex items-center gap-3 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-[45px] svelte-fy2ox8">Color:</label> <button class="btn btn-xs btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-3 svelte-fy2ox8"><span class="text-base-content/60 text-xs min-w-[60px] svelte-fy2ox8">Thickness:</span> <select class="select select-bordered select-xs w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-3 svelte-fy2ox8"><span class="text-base-content/60 text-xs min-w-[35px] svelte-fy2ox8">Style:</span> <select class="select select-bordered select-xs w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div> <div class="flex items-center gap-2 pt-2 svelte-fy2ox8"><input type="checkbox" class="checkbox checkbox-primary checkbox-sm svelte-fy2ox8"> <label class="text-sm text-base-content/80 cursor-pointer svelte-fy2ox8">Show MAPSY</label></div></div></div>'),cF=ue('<div class="space-y-2 sm:space-y-3 mt-2 sm:mt-3 svelte-fy2ox8"><!> <div class="flex justify-center pt-1 svelte-fy2ox8"><button class="btn btn-xs btn-outline btn-primary gap-1 text-xs svelte-fy2ox8" title="Add more PSY"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> + Add More PSY</button></div></div>'),dF=(o,e,t)=>e(i(t).id),uF=ue('<button class="btn btn-xs btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove OBV"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),vF=ue('<div class="border border-base-300 rounded-lg p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><h4 class="text-sm font-medium text-base-content/80 svelte-fy2ox8"></h4> <!></div> <div class="space-y-3 svelte-fy2ox8"><div class="flex flex-col gap-2 svelte-fy2ox8" style="display: none;"><span class="text-base-content/70 text-xs font-medium svelte-fy2ox8">Param 1 (OBV Period)</span> <input type="number" class="input input-bordered input-xs text-xs w-full max-w-24 svelte-fy2ox8"></div> <div class="space-y-2 svelte-fy2ox8"><span class="text-base-content/70 text-xs font-medium svelte-fy2ox8">OBV Line Style</span> <div class="grid grid-cols-1 md:grid-cols-3 gap-3 svelte-fy2ox8"><div class="flex items-center gap-3 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-[45px] svelte-fy2ox8">Color:</label> <button class="btn btn-xs btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-3 svelte-fy2ox8"><span class="text-base-content/60 text-xs min-w-[60px] svelte-fy2ox8">Thickness:</span> <select class="select select-bordered select-xs w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-3 svelte-fy2ox8"><span class="text-base-content/60 text-xs min-w-[35px] svelte-fy2ox8">Style:</span> <select class="select select-bordered select-xs w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div> <div class="flex flex-col gap-2 svelte-fy2ox8"><span class="text-base-content/70 text-xs font-medium svelte-fy2ox8">MAOBV Period</span> <input type="number" class="input input-bordered input-xs text-xs w-full max-w-24 svelte-fy2ox8"> <span class="text-xs text-base-content/50 svelte-fy2ox8">Moving average period for OBV smoothing</span></div> <div class="space-y-2 svelte-fy2ox8"><span class="text-base-content/70 text-xs font-medium svelte-fy2ox8">MAOBV Line Style</span> <div class="grid grid-cols-1 md:grid-cols-3 gap-3 svelte-fy2ox8"><div class="flex items-center gap-3 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-[45px] svelte-fy2ox8">Color:</label> <button class="btn btn-xs btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-3 svelte-fy2ox8"><span class="text-base-content/60 text-xs min-w-[60px] svelte-fy2ox8">Thickness:</span> <select class="select select-bordered select-xs w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-3 svelte-fy2ox8"><span class="text-base-content/60 text-xs min-w-[35px] svelte-fy2ox8">Style:</span> <select class="select select-bordered select-xs w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div></div></div>'),pF=ue('<div class="space-y-2 sm:space-y-3 mt-2 sm:mt-3 svelte-fy2ox8"><!> <div class="flex justify-center pt-1 svelte-fy2ox8"><button class="btn btn-xs btn-outline btn-primary gap-1 text-xs svelte-fy2ox8" title="Add more OBV"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> + Add More OBV</button></div></div>'),fF=(o,e,t)=>e(i(t).id),gF=ue('<button class="btn btn-xs btn-ghost text-error hover:bg-error/10 svelte-fy2ox8" title="Remove KDJ"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),_F=ue('<div class="border border-base-300 rounded-lg p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><h4 class="text-sm font-medium text-base-content/80 svelte-fy2ox8"></h4> <!></div> <div class="space-y-3 svelte-fy2ox8"><div class="grid grid-cols-2 gap-2 sm:gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">K Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">D Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1"></div></div> <div class="space-y-2 svelte-fy2ox8"><span class="text-base-content/70 text-xs font-medium svelte-fy2ox8">K Line Style</span> <div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-12 font-medium svelte-fy2ox8">K:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div> <div class="space-y-2 svelte-fy2ox8"><span class="text-base-content/70 text-xs font-medium svelte-fy2ox8">D Line Style</span> <div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-12 font-medium svelte-fy2ox8">D:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div> <div class="space-y-2 svelte-fy2ox8"><span class="text-base-content/70 text-xs font-medium svelte-fy2ox8">J Line Style</span> <div class="flex items-center gap-2 text-xs text-base-content/70 svelte-fy2ox8"><span class="w-12 font-medium svelte-fy2ox8">J:</span> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button> <select class="select select-bordered select-xs w-14 sm:w-16 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select> <select class="select select-bordered select-xs w-16 sm:w-20 text-xs svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div></div>'),mF=ue('<div class="space-y-2 sm:space-y-3 mt-2 sm:mt-3 svelte-fy2ox8"><!> <div class="flex justify-center pt-1 svelte-fy2ox8"><button class="btn btn-xs btn-outline btn-primary gap-1 text-xs svelte-fy2ox8" title="Add more KDJ"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> + Add More KDJ</button></div></div>'),hF=(o,e)=>e("band"),yF=(o,e)=>e("slLong"),bF=(o,e)=>e("slShort"),xF=(o,e)=>e("median"),wF=ue('<div class="space-y-4 mt-3 svelte-fy2ox8"><div class="bg-base-50 border border-base-200 rounded-md p-3 space-y-3 svelte-fy2ox8"><h4 class="text-sm font-medium text-base-content/80 svelte-fy2ox8">Outcome Band</h4> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Show Band:</label> <input type="checkbox" class="toggle toggle-xs svelte-fy2ox8"></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Fill Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><label class="text-xs text-base-content/70 svelte-fy2ox8">Opacity</label> <span class="text-xs font-medium text-primary svelte-fy2ox8"> </span></div> <input type="range" class="range range-primary range-xs svelte-fy2ox8" min="0" max="100" step="1"></div></div> <div class="bg-base-50 border border-base-200 rounded-md p-3 space-y-3 svelte-fy2ox8"><h4 class="text-sm font-medium text-base-content/80 svelte-fy2ox8">Stop Lines</h4> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Show Stops:</label> <input type="checkbox" class="toggle toggle-xs svelte-fy2ox8"></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Long SL Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Short SL Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Long Thickness:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Long Style:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Short Thickness:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Short Style:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option></select></div></div></div> <div class="bg-base-50 border border-base-200 rounded-md p-3 space-y-3 svelte-fy2ox8"><h4 class="text-sm font-medium text-base-content/80 svelte-fy2ox8">Median Path</h4> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option></select></div></div></div> <div class="bg-base-50 border border-base-200 rounded-md p-3 space-y-3 svelte-fy2ox8"><h4 class="text-sm font-medium text-base-content/80 svelte-fy2ox8">EV Table</h4> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Show Table:</label> <input type="checkbox" class="toggle toggle-xs svelte-fy2ox8"></div></div></div>'),kF=(o,e)=>e("fill",0),SF=(o,e)=>e("upper",0),CF=(o,e)=>e("middle",0),IF=(o,e)=>e("lower",0),PF=(o,e)=>e(0),MF=ue('<button class="btn btn-xs btn-outline btn-error gap-1 text-xs svelte-fy2ox8" title="Remove BOLL 1"><svg class="w-3 h-3 svelte-fy2ox8" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg> Remove BOLL 1</button>'),TF=(o,e,t)=>e(i(t)),AF=(o,e,t)=>e("fill",i(t)),DF=(o,e,t)=>e("upper",i(t)),LF=(o,e,t)=>e("middle",i(t)),EF=(o,e,t)=>e("lower",i(t)),FF=ue('<div class="bg-base-50 border border-primary/20 rounded-md p-3 space-y-3 mt-3 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><h4 class="text-sm font-semibold text-primary svelte-fy2ox8"> </h4> <button class="btn btn-xs btn-ghost text-error svelte-fy2ox8"><svg class="w-3.5 h-3.5 svelte-fy2ox8" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1" max="200"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Standard Deviation</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="0.1" max="10" step="0.1"></div></div> <div class="bg-base-50 border border-base-200 rounded-md p-3 space-y-3 svelte-fy2ox8"><h5 class="text-xs font-medium text-base-content/70 svelte-fy2ox8">Fill Area</h5> <div class="flex items-center justify-between gap-2 px-2 py-1.5 rounded bg-base-100 border border-base-200 svelte-fy2ox8"><span class="text-xs text-base-content/70 flex-1 svelte-fy2ox8">Fill Color</span> <div class="flex items-center gap-2 svelte-fy2ox8"><div class="w-6 h-6 rounded border-2 border-base-300 svelte-fy2ox8"></div> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><label class="text-xs text-base-content/70 svelte-fy2ox8">Opacity</label> <span class="text-xs font-medium text-primary svelte-fy2ox8"> </span></div> <input type="range" class="range range-primary range-xs svelte-fy2ox8" min="0" max="100" step="1"></div></div> <div class="bg-base-50 border border-base-200 rounded-md p-3 space-y-3 svelte-fy2ox8"><h5 class="text-xs font-medium text-base-content/70 svelte-fy2ox8">Line Colors</h5> <div class="space-y-2 svelte-fy2ox8"><div class="flex items-center justify-between gap-2 px-2 py-1.5 rounded bg-base-100 border border-base-200 svelte-fy2ox8"><span class="text-xs text-base-content/70 flex-1 svelte-fy2ox8">Upper Band</span> <div class="flex items-center gap-2 svelte-fy2ox8"><div class="w-6 h-6 rounded border-2 border-base-300 svelte-fy2ox8"></div> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div></div> <div class="flex items-center justify-between gap-2 px-2 py-1.5 rounded bg-base-100 border border-base-200 svelte-fy2ox8"><span class="text-xs text-base-content/70 flex-1 svelte-fy2ox8">Middle Line (SMA)</span> <div class="flex items-center gap-2 svelte-fy2ox8"><div class="w-6 h-6 rounded border-2 border-base-300 svelte-fy2ox8"></div> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div></div> <div class="flex items-center justify-between gap-2 px-2 py-1.5 rounded bg-base-100 border border-base-200 svelte-fy2ox8"><span class="text-xs text-base-content/70 flex-1 svelte-fy2ox8">Lower Band</span> <div class="flex items-center gap-2 svelte-fy2ox8"><div class="w-6 h-6 rounded border-2 border-base-300 svelte-fy2ox8"></div> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div></div></div></div> <div class="bg-base-50 border border-base-200 rounded-md p-3 space-y-3 svelte-fy2ox8"><h5 class="text-xs font-medium text-base-content/70 svelte-fy2ox8">Line Style</h5> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div></div>'),jF=ue('<div class="space-y-4 mt-3 svelte-fy2ox8"><div class="bg-base-50 border border-base-200 rounded-md p-3 space-y-3 svelte-fy2ox8"><h4 class="text-sm font-medium text-base-content/80 svelte-fy2ox8">Parameters</h4> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Period</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="1" max="200"></div> <div class="flex flex-col gap-1 svelte-fy2ox8"><label class="text-xs text-base-content/60 svelte-fy2ox8">Standard Deviation</label> <input type="number" class="input input-bordered input-xs sm:input-sm text-xs sm:text-sm svelte-fy2ox8" min="0.1" max="10" step="0.1"></div></div></div> <div class="bg-base-50 border border-base-200 rounded-md p-3 space-y-3 svelte-fy2ox8"><h4 class="text-sm font-medium text-base-content/80 svelte-fy2ox8">Fill Area Settings</h4> <div class="flex items-center justify-between gap-2 px-2 py-1.5 rounded bg-base-100 border border-base-200 svelte-fy2ox8"><span class="text-xs text-base-content/70 flex-1 svelte-fy2ox8">Fill Color</span> <div class="flex items-center gap-2 svelte-fy2ox8"><div class="w-6 h-6 rounded border-2 border-base-300 svelte-fy2ox8"></div> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div></div> <div class="space-y-2 svelte-fy2ox8"><div class="flex items-center justify-between svelte-fy2ox8"><label class="text-xs text-base-content/70 svelte-fy2ox8">Opacity</label> <span class="text-xs font-medium text-primary svelte-fy2ox8"> </span></div> <input type="range" class="range range-primary range-xs svelte-fy2ox8" min="0" max="100" step="1"> <div class="flex justify-between text-xs text-base-content/50 svelte-fy2ox8"><span class="svelte-fy2ox8">0%</span> <span class="svelte-fy2ox8">50%</span> <span class="svelte-fy2ox8">100%</span></div></div></div> <div class="bg-base-50 border border-base-200 rounded-md p-3 space-y-3 svelte-fy2ox8"><h4 class="text-sm font-medium text-base-content/80 svelte-fy2ox8">Line Colors</h4> <div class="space-y-2 svelte-fy2ox8"><div class="flex items-center justify-between gap-2 px-2 py-1.5 rounded bg-base-100 border border-base-200 svelte-fy2ox8"><span class="text-xs text-base-content/70 flex-1 svelte-fy2ox8">Upper Band</span> <div class="flex items-center gap-2 svelte-fy2ox8"><div class="w-6 h-6 rounded border-2 border-base-300 svelte-fy2ox8"></div> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div></div> <div class="flex items-center justify-between gap-2 px-2 py-1.5 rounded bg-base-100 border border-base-200 svelte-fy2ox8"><span class="text-xs text-base-content/70 flex-1 svelte-fy2ox8">Middle Line (SMA)</span> <div class="flex items-center gap-2 svelte-fy2ox8"><div class="w-6 h-6 rounded border-2 border-base-300 svelte-fy2ox8"></div> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div></div> <div class="flex items-center justify-between gap-2 px-2 py-1.5 rounded bg-base-100 border border-base-200 svelte-fy2ox8"><span class="text-xs text-base-content/70 flex-1 svelte-fy2ox8">Lower Band</span> <div class="flex items-center gap-2 svelte-fy2ox8"><div class="w-6 h-6 rounded border-2 border-base-300 svelte-fy2ox8"></div> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div></div></div></div> <div class="bg-base-50 border border-base-200 rounded-md p-3 space-y-3 svelte-fy2ox8"><h4 class="text-sm font-medium text-base-content/80 svelte-fy2ox8">Line Style</h4> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div> <div class="flex justify-center gap-2 pt-1 svelte-fy2ox8"><button class="btn btn-xs btn-outline btn-primary gap-1 text-xs svelte-fy2ox8" title="Add more BOLL"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg> + Add More BOLL</button> <!></div> <!></div>'),$F=ue('<div class="flex justify-center items-center min-h-[120px] svelte-fy2ox8"><div class="text-base-content/70 svelte-fy2ox8"> </div></div>'),BF=ue('<button class="btn btn-sm btn-circle btn-ghost text-error hover:bg-error/10 flex-shrink-0 svelte-fy2ox8" title="Delete parameter"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="0.5" d="M6 18L18 6M6 6l12 12" class="svelte-fy2ox8"></path></svg></button>'),OF=ue('<div class="w-8 flex-shrink-0 svelte-fy2ox8"></div>'),RF=ue('<div class="border border-base-300 rounded-lg p-2 sm:p-3 space-y-2 sm:space-y-3 svelte-fy2ox8"><div class="flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 svelte-fy2ox8"><span class="w-full sm:w-16 text-base-content/70 text-sm font-medium min-w-fit svelte-fy2ox8"> </span> <div class="flex items-center gap-2 sm:gap-3 flex-1 min-w-0 svelte-fy2ox8"><input type="number" class="flex-1 input input-bordered input-sm min-w-0 svelte-fy2ox8"> <!></div></div> <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 svelte-fy2ox8"><div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Color:</label> <button class="btn btn-sm btn-outline svelte-fy2ox8"><div class="w-4 h-4 rounded border border-base-300 svelte-fy2ox8"></div></button></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Thickness:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">1px</option><option class="svelte-fy2ox8">2px</option><option class="svelte-fy2ox8">3px</option><option class="svelte-fy2ox8">4px</option><option class="svelte-fy2ox8">5px</option></select></div> <div class="flex items-center gap-2 svelte-fy2ox8"><label class="text-xs text-base-content/60 min-w-fit svelte-fy2ox8">Style:</label> <select class="select select-bordered select-xs flex-1 min-w-0 svelte-fy2ox8"><option class="svelte-fy2ox8">Solid</option><option class="svelte-fy2ox8">Dashed</option><option class="svelte-fy2ox8">Dotted</option></select></div></div></div>'),NF=ue('<div class="flex justify-center mt-4 svelte-fy2ox8"><button class="btn btn-sm btn-outline btn-primary svelte-fy2ox8"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 svelte-fy2ox8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="0.5" d="M12 4v16m8-8H4" class="svelte-fy2ox8"></path></svg></button></div>'),zF=ue('<div class="space-y-3 sm:space-y-4 mt-3 sm:mt-5 svelte-fy2ox8"><!> <!></div>'),VF=ue('<div class="ai-branding-container svelte-fy2ox8"><div class="ai-branding-badge svelte-fy2ox8"><svg class="ai-branding-icon svelte-fy2ox8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" class="svelte-fy2ox8"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96" class="svelte-fy2ox8"></polyline><line x1="12" y1="22.08" x2="12" y2="12" class="svelte-fy2ox8"></line></svg> <div class="ai-branding-text svelte-fy2ox8"><div class="ai-branding-main svelte-fy2ox8">Duty AI Algorithm Included</div> <div class="ai-branding-sub svelte-fy2ox8">Powered by Duty AI</div></div> <div class="ai-branding-glow svelte-fy2ox8"></div></div></div>'),qF=ue('<div class="responsive-modal-content svelte-fy2ox8"><!> <!></div>'),WF=ue("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function GF(o,e){Pr(e,!0);const t=El(),n=()=>ti(u,"$chart",t),s=()=>ti(c,"$ctx",t),r=()=>ti(d,"$save",t);let a=Po(e,"show",15);const c=ur("ctx"),d=ur("save"),u=ur("chart");let p=$([]),h=$([]),x=$([]);function w(g){const y=(g||"").trim();if(!y)return null;if(/^#?[0-9A-Fa-f]{6}$/.test(y)){const I=y.startsWith("#")?y.slice(1):y;return{r:parseInt(I.slice(0,2),16),g:parseInt(I.slice(2,4),16),b:parseInt(I.slice(4,6),16)}}const P=y.match(/^rgba?\(([^)]+)\)$/i);if(P){const I=P[1].split(",").map(L=>parseFloat(L.trim()));if(I.length>=3&&I.every(L=>!isNaN(L)))return{r:Math.round(I[0]),g:Math.round(I[1]),b:Math.round(I[2])}}return null}function k(g,y){const P=w(g);if(!P)return g;const I=Math.max(0,Math.min(100,y))/100;return`rgba(${P.r}, ${P.g}, ${P.b}, ${I})`}let S=Z("#2196F3"),M=Z(5),T=Z("#f23645"),D=Z("#2962ff"),A=Z("#089981"),j=Z(1),F=Z("solid"),q=Z(20),B=Z(2),O=Z(!1),z=Z($({x:0,y:0})),Y=Z(0),G=Z("macdLine"),oe=Z(!1),re=Z($({x:0,y:0})),se=Z(0),ie=Z(!1),te=Z($({x:0,y:0})),K=Z(0),J=Z("diPlus"),U=Z(!1),ae=Z($({x:0,y:0})),me=Z(!1),ke=Z($({x:0,y:0})),Ae=Z(!1),Le=Z($({x:0,y:0})),He=Z(0),it=Z(!1),Ne=Z($({x:0,y:0})),we=Z(0),je=Z(!1),Te=Z($({x:0,y:0})),Se=Z($([])),Ue=Z(!1),Be=Z($({x:0,y:0})),le=Z(0),ye=Z("histogram"),Ee=Z(!1),Je=Z($({x:0,y:0})),be=Z(!1),X=Z($({x:0,y:0})),H=Z(!1),Ce=Z($({x:0,y:0})),Qe=Z(!1),mt=Z($({x:0,y:0})),bt=Z(0),ct=Z(!1),yo=Z($({x:0,y:0})),Kt=Z(0),to=Z("vr"),io=Z(!1),ro=Z($({x:0,y:0})),Uo=Z(0),an=Z(!1),Mn=Z($({x:0,y:0})),uo=Z(0),Do=Z(!1),Zt=Z($({x:0,y:0})),Go=Z(0),cn=Z(!1),sn=Z($({x:0,y:0})),Tr=Z(!1),zi=Z($({x:0,y:0})),Ki=Z(0),wa=Z(!1),Ei=Z($({x:0,y:0})),Za=Z(0),Xa=Z(!1),sl=$({x:0,y:0}),Ja=Z(0),pl=Z("uptrend"),il=Z(!1),Qa=Z($({x:0,y:0})),Ma=Z(0),ka=Z(!1),zr=Z($({x:0,y:0})),oa=Z(!1),fl=Z($({x:0,y:0})),bl=Z(!1),rl=Z($({x:0,y:0})),Ta=Z(0),al=Z(!1),xl=Z($({x:0,y:0})),Gr=Z(0),Kl=Z("cr"),gl=Z(!1),el=Z($({x:0,y:0})),_l=Z(!1),Ba=Z($({x:0,y:0})),ll=Z(!1),Kr=Z($({x:0,y:0})),yr=Z(0),Oa=Z(!1),wl=Z($({x:0,y:0})),Vr=Z(!1),tl=Z($({x:0,y:0})),Ra=Z(!1),ol=$({x:0,y:0}),Na=Z(!1),pt=$({x:0,y:0}),At=Z(!1),Bt=Z($({x:0,y:0})),dt=Z(!1),Vt=Z($({x:0,y:0})),Tt=Z(!1),Co=Z($({x:0,y:0})),Ro=Z(!1),Tn=Z($({x:0,y:0})),jo=Z(!1),En=Z($({x:0,y:0})),mo=Z(!1),Es=Z($({x:0,y:0})),zn=Z(!1),Vi=Z($({x:0,y:0})),Rn=Z(!1),Fs=Z($({x:0,y:0})),Fi=Z(!1),vr=Z($({x:0,y:0})),js=Z(1),qi=Z("solid"),Ti=Z(1),xi=Z("dashed"),oi=Z(1),ir=Z("dashed"),Ws=Z(22),di=Z("#66c2a5"),Ps=Z("#66c2a5"),ps=Z("#e67e22"),ni=Z("#c0392b"),Zi=Z(!0),ui=Z(!0),pr=Z(!0),Hr=Z(!1),ge=Z($({x:0,y:0})),We=Z(0),ft=Z(!1),Ht=Z($({x:0,y:0})),jt=Z(0),go=Z(0),Rt=Z(0),To=Z(!1),Lo=Z($({x:0,y:0})),Mo=Z(0),Fn=Z(!1),fs=Z($({x:0,y:0})),si=Z(0),ji=Z(!1),Ai=Z($({x:0,y:0})),$i=Z(0),_i=Z(!1),br=Z(!1),bs=Z(!1),Xi=Z(!1),xr=Z(!1),Ge=Z($({x:0,y:0})),Xe=Z(0);function eo(g,y){if(n()){try{n().removeIndicator({paneId:g,name:y})}catch(P){console.log("Error removing indicator:",P)}d.update(P=>{const I=`${g}_${y}`;return delete P.saveInds[I],P})}}const Et=tt(()=>s().editIndName==="BOLL"),xo=tt(()=>s().editIndName==="MACD"),Eo=tt(()=>s().editIndName==="BIAS"),Vo=tt(()=>s().editIndName==="AO"),$o=tt(()=>s().editIndName==="WR"),un=tt(()=>s().editIndName==="VR"),Yo=tt(()=>s().editIndName==="BBI"),vn=tt(()=>s().editIndName==="EMA"),ii=tt(()=>s().editIndName==="SMA"),fr=tt(()=>s().editIndName==="MA"),Ar=tt(()=>s().editIndName==="ICHIMOKU"),rr=tt(()=>s().editIndName==="PVT"),Zr=tt(()=>s().editIndName==="VOL"),qr=tt(()=>s().editIndName==="SAR"),Ii=tt(()=>s().editIndName==="DMI"),Ur=tt(()=>s().editIndName==="TRIX"),_a=tt(()=>s().editIndName==="ROC"),Nc=tt(()=>s().editIndName==="ZIGZAG"),kl=tt(()=>s().editIndName==="PSY"),nl=tt(()=>s().editIndName==="OBV"),Fl=tt(()=>s().editIndName==="CR"),Ad=tt(()=>s().editIndName==="NPO_MAE"),Vl=tt(()=>s().editIndName==="KDJ"),Sl=tt(()=>s().editIndName==="CCI"),Cl=tt(()=>s().editIndName==="EMV"),Il=tt(()=>s().editIndName==="MTM"),sc=tt(()=>s().editIndName==="RSI"),ic=tt(()=>s().editIndName==="STOCH"),jl=tt(()=>s().editIndName==="SMARTTREND"),Sa=tt(()=>s().editIndName==="SMART_MONEY"),sd=tt(()=>s().editIndName==="TRAP_HUNTER"),W=tt(()=>s().editIndName==="VOLCANIC"),ve=tt(()=>s().editIndName==="VOLCANIC_SIG"),he=tt(()=>i(Sa)||i(sd)||i(W)||i(ve));function Me(){if(!(s().editIndName!=="TRAP_HUNTER"||!n()))try{const g=(p||[]).map(y=>Number(y));n().overrideIndicator({name:"TRAP_HUNTER",calcParams:g,paneId:s().editPaneId})}catch(g){console.error("âŒ Error updating Trap Hunter:",g)}}function Oe(){if(!(s().editIndName!=="VOLCANIC"||!n()))try{const g=(p||[]).map(y=>Number(y));n().overrideIndicator({name:"VOLCANIC",calcParams:g,paneId:s().editPaneId})}catch(g){console.error("âŒ Error updating VOLCANIC:",g)}}function $e(){if(!(s().editIndName!=="VOLCANIC_SIG"||!n()))try{const g=(p||[]).map(y=>Number(y));n().overrideIndicator({name:"VOLCANIC_SIG",calcParams:g,paneId:s().editPaneId})}catch(g){console.error("âŒ Error updating VOLCANIC_SIG:",g)}}let Ve=Z("");Ds(()=>{if(!i(W))return;const g=JSON.stringify(p??[]);g!==i(Ve)&&(b(Ve,$(g)),Oe())});let vt=Z("");Ds(()=>{if(!i(ve))return;const g=JSON.stringify(p??[]);g!==i(vt)&&(b(vt,$(g)),$e())});const ot=tt(()=>s().editIndName==="SMARTTREND"?"Smart Trend":s().editIndName);let et=Z("#2962FF"),kt=Z(2),vo=Z("solid"),qe=Z(26),$t=Z(10),oo=Z(20),Ko=Z(40),Ut=Z(60),ht=$({zoneLookbackBars:40,minZoneBars:5,maxZoneBars:25,atrPeriod:14,volumeMAPeriod:20,minVolumeFactor:1.2,maxZoneWidthPct:.03,priorTrendLookback:20,minOBVTrendStrength:.2,minZoneScore:.6,mergeNearbyZones:!0,maxZonesDisplayed:20,showLabels:!0});function bn(){if(!i(Sa)||!Array.isArray(p))return;const g=p;ht.zoneLookbackBars=Number(g[0]??ht.zoneLookbackBars),ht.minZoneBars=Number(g[1]??ht.minZoneBars),ht.maxZoneBars=Number(g[2]??ht.maxZoneBars),ht.atrPeriod=Number(g[3]??ht.atrPeriod),ht.volumeMAPeriod=Number(g[4]??ht.volumeMAPeriod),ht.minVolumeFactor=Number(g[5]??ht.minVolumeFactor),ht.maxZoneWidthPct=Number(g[6]??ht.maxZoneWidthPct),ht.priorTrendLookback=Number(g[7]??ht.priorTrendLookback),ht.minOBVTrendStrength=Number(g[8]??ht.minOBVTrendStrength),ht.minZoneScore=Number(g[9]??ht.minZoneScore),ht.mergeNearbyZones=Number(g[10]??(ht.mergeNearbyZones?1:0))>0,ht.maxZonesDisplayed=Number(g[11]??ht.maxZonesDisplayed),ht.showLabels=Number(g[12]??(ht.showLabels?1:0))>0}Ds(()=>{i(Sa)&&bn()});function rn(){var y;const g=[ht.zoneLookbackBars,ht.minZoneBars,ht.maxZoneBars,ht.atrPeriod,ht.volumeMAPeriod,ht.minVolumeFactor,ht.maxZoneWidthPct,ht.priorTrendLookback,ht.minOBVTrendStrength,ht.minZoneScore,ht.mergeNearbyZones?1:0,ht.maxZonesDisplayed,ht.showLabels?1:0];(y=n())==null||y.overrideIndicator({name:"SMART_MONEY",calcParams:g,paneId:s().editPaneId}),d.update(P=>(P.saveInds[`${s().editPaneId}_SMART_MONEY`]={name:"SMART_MONEY",params:g,pane_id:s().editPaneId},P))}let Ms=Z("#FF6B35"),Zo=Z("#2196F3"),Cs=Z("#4CAF50"),tr=Z("#FF9800"),Us=Z("#9C27B0"),pe=Z(2),Ct=Z(1),Pe=Z(1),pn=Z(1),qo=Z(1),Bi=Z("solid"),gr=Z("solid"),gs=Z("solid"),Ts=Z("solid"),Ke=Z("solid");Ds(()=>{i(_a)&&!i(yv)?(console.log("ðŸŽ¯ ROC modal opened, initializing..."),b(yv,!0),W0(),setTimeout(()=>{Zu()},100)):!i(_a)&&i(yv)&&b(yv,!1)});let It=Z(!1),Q=Z(!1);Ds(()=>{i(sc)&&!i(It)?(console.log("ðŸŽ¯ RSI modal opened, initializing..."),b(It,!0),r_()):!i(sc)&&i(It)&&b(It,!1)}),Ds(()=>{i(ic)&&!i(Q)?(console.log("ðŸŽ¯ Stochastic modal opened, initializing..."),b(Q,!0),c_()):!i(ic)&&i(Q)&&b(Q,!1)}),Ds(()=>{i(Ur)&&!i(bv)?(console.log("ðŸŽ¯ TRIX modal opened, initializing..."),b(bv,!0),vp()):!i(Ur)&&i(bv)&&b(bv,!1)});let gt=Z(!1);Ds(()=>{i(ii)&&!i(gt)?(console.log("ðŸŽ¯ SMA modal opened, initializing..."),b(gt,!0),b_()):!i(ii)&&i(gt)&&b(gt,!1)});let De=Z(!1);Ds(()=>{i(un)&&!i(De)?(console.log("ðŸŽ¯ VR modal opened, initializing..."),b(De,!0),O0()):!i(un)&&i(De)&&b(De,!1)});let Ie=Z(!1);Ds(()=>{i(Zr)&&!i(Ie)?(console.log("ðŸŽ¯ Volume modal opened, initializing..."),b(Ie,!0),h_()):!i(Zr)&&i(Ie)&&b(Ie,!1)});let rt=Z(!1);Ds(()=>{i(Yo)&&!i(rt)?(console.log("ðŸŽ¯ BBI modal opened, initializing..."),b(rt,!0),Ld()):!i(Yo)&&i(rt)&&b(rt,!1)}),Ds(()=>{i(Yo)&&i(rt)&&n()&&i(vi).forEach((g,y)=>{const{period1:P,period2:I,period3:L,period4:E,color:V,thickness:ne,lineStyle:_e}=g;if(P&&I&&L&&E&&V&&ne&&_e){const ze=setTimeout(()=>{rd(y)},100);return()=>clearTimeout(ze)}})});let Ze=Z(!1);Ds(()=>{i(Et)&&!i(Ze)?(console.log("ðŸŽ¯ Bollinger Bands modal opened, initializing..."),b(Ze,!0),Z0()):!i(Et)&&i(Ze)&&b(Ze,!1)}),Ds(()=>{if(i(Et)&&i(Ze)&&n()){const g=i(q),y=i(B),P=i(S),I=i(M),L=i(T),E=i(D),V=i(A),ne=i(j),_e=i(F);if(g&&y&&P&&L&&E&&V&&ne&&_e){const ze=setTimeout(()=>{i(An).length===0?b(An,$([{id:Jo(),paneId:s().editPaneId||"candle_pane",period:g,stdDev:y,styles:{fillColor:P,fillOpacity:I,upperColor:L,middleColor:E,lowerColor:V,thickness:ne,lineStyle:_e}}])):(i(An)[0].period=g,i(An)[0].stdDev=y,i(An)[0].styles.fillColor=P,i(An)[0].styles.fillOpacity=I,i(An)[0].styles.upperColor=L,i(An)[0].styles.middleColor=E,i(An)[0].styles.lowerColor=V,i(An)[0].styles.thickness=ne,i(An)[0].styles.lineStyle=_e),Aa()},100);return()=>clearTimeout(ze)}}});let Ft=Z(!1);Ds(()=>{i(qr)&&!i(Ft)?(console.log("ðŸŽ¯ SAR modal opened, initializing..."),b(Ft,!0),Bl()):!i(qr)&&i(Ft)&&b(Ft,!1)}),Ds(()=>{i(qr)&&i(Ft)&&n()&&i(cl).forEach((g,y)=>{const{start:P,increment:I,maxValue:L,color:E,dotSize:V}=g;if(P!==void 0&&I!==void 0&&L!==void 0&&E&&V){const ne=setTimeout(()=>{q0(y)},100);return()=>clearTimeout(ne)}})});let Pt=Z(!1);Ds(()=>{i(Vo)&&!i(Pt)?(console.log("ðŸŽ¯ AO modal opened, initializing..."),b(Pt,!0),hp()):!i(Vo)&&i(Pt)&&b(Pt,!1)}),Ds(()=>{i(Vo)&&i(Pt)&&n()&&i(co).forEach((g,y)=>{const{shortPeriod:P,longPeriod:I,styles:L}=g;if(P&&I&&L){const E=setTimeout(()=>{ru()},100);return()=>clearTimeout(E)}})});let Yt=Z(!1);Ds(()=>{i(Eo)&&!i(Yt)?(console.log("ðŸŽ¯ BIAS modal opened, initializing..."),b(Yt,!0),wd()):!i(Eo)&&i(Yt)&&b(Yt,!1)}),Ds(()=>{i(Eo)&&i(Yt)&&n()&&i(Jr).forEach((g,y)=>{const{period:P,color:I,thickness:L,lineStyle:E}=g;if(P&&I&&L&&E){const V=setTimeout(()=>{Ed()},100);return()=>clearTimeout(V)}})});let po=Z(!1);Ds(()=>{i(Il)&&!i(po)?(console.log("ðŸŽ¯ MTM modal opened, initializing..."),b(po,!0),B0()):!i(Il)&&i(po)&&b(po,!1)}),Ds(()=>{i(Il)&&i(po)&&n()&&i(Qi).forEach((g,y)=>{const{period:P,color:I,thickness:L,lineStyle:E}=g;if(P&&I&&L&&E){const V=setTimeout(()=>{nu()},100);return()=>clearTimeout(V)}})});let so=Z(!1),wo=Z(!1);Ds(()=>{i(nl)&&!i(so)?(console.log("ðŸŽ¯ OBV modal opened, initializing..."),b(so,!0),_p()):!i(nl)&&i(so)&&b(so,!1)}),Ds(()=>{if(i(wo)){console.log("â¸ï¸ Skipping OBV effect - removal in progress");return}i(nl)&&i(so)&&n()&&i(pi).forEach((g,y)=>{const{obvPeriod:P,maobvPeriod:I,showMaobv:L,styles:E}=g;if(P&&I&&E){const V=setTimeout(()=>{kd()},100);return()=>clearTimeout(V)}})});let dn=Z(!1);Ds(()=>{i(Sl)&&!i(dn)?(console.log("ðŸŽ¯ CCI modal opened, initializing..."),b(dn,!0),Ku()):!i(Sl)&&i(dn)&&b(dn,!1)}),Ds(()=>{i(Sl)&&i(dn)&&n()&&i(sa).forEach((g,y)=>{const{period:P,color:I,thickness:L,lineStyle:E}=g;if(P&&I&&L&&E){const V=setTimeout(()=>{su()},100);return()=>clearTimeout(V)}})});let fn=Z(!1);Ds(()=>{i(Fl)&&!i(fn)?(console.log("ðŸŽ¯ CR modal opened, initializing..."),b(fn,!0),Cv()):!i(Fl)&&i(fn)&&b(fn,!1)}),Ds(()=>{i(Fl)&&i(fn)&&n()&&i(na).forEach((g,y)=>{const{crPeriod:P,crMa1Period:I,crMa2Period:L,crMa3Period:E,crMa4Period:V,styles:ne}=g;if(P&&I&&L&&E&&V&&ne){const _e=setTimeout(()=>{Pl()},100);return()=>clearTimeout(_e)}})});let Dt=Z(!1);Ds(()=>{i(Ii)&&!i(Dt)?(console.log("ðŸŽ¯ DMI modal opened, initializing..."),b(Dt,!0),Zl()):!i(Ii)&&i(Dt)&&b(Dt,!1)}),Ds(()=>{i(Ii)&&i(Dt)&&n()&&i(ar).forEach((g,y)=>{const{diPeriod:P,adxPeriod:I,styles:L}=g;if(P&&I&&L){const E=setTimeout(()=>{jc()},100);return()=>clearTimeout(E)}})}),Ds(()=>{i(un)&&i(De)&&n()&&i(Nt).forEach((g,y)=>{const{period:P,shortPeriod:I,longPeriod:L,styles:E}=g;if(P&&I&&L&&E){const V=setTimeout(()=>{Dd(y)},100);return()=>clearTimeout(V)}})}),Ds(()=>{i(xo)&&n()&&i(xt).length>0&&i(xt).forEach((g,y)=>{const{fastPeriod:P,slowPeriod:I,signalPeriod:L,styles:E}=g;if(P&&I&&L&&E){const V=setTimeout(()=>{tu(y)},100);return()=>clearTimeout(V)}})});let xt=Z($([])),lo=Z($([])),Nt=Z($([])),co=Z($([])),vi=Z($([])),An=Z($([])),Wi=Z(0),Xr=Z($([])),Is=Z(0);function wi(g){b(Is,$(g)),b(sn,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(cn,!0)}function Gs(){if(!n())return;const g=s().editPaneId||"candle_pane";for(let y=0;y<6;(y+=1)-1)try{n().removeIndicator({paneId:g,name:"ZIGZAG"})}catch{}i(Xr).forEach((y,P)=>{const I=y.styles.lineStyle==="solid"?de.Solid:de.Dashed,L=y.styles.lineStyle==="dashed"?[4,4]:y.styles.lineStyle==="dotted"?[2,6]:[2,2],E={lines:[{color:y.styles.color,size:y.styles.thickness,style:I,dashedValue:L,smooth:!1}]};n().createIndicator({name:"ZIGZAG",calcParams:[y.deviation,y.depth],styles:E},!0,{id:g});const V=P===0?`${g}_ZIGZAG`:`${g}_ZIGZAG_${P+1}`;d.update(ne=>(ne.saveInds[V]={name:"ZIGZAG",pane_id:g,params:[y.deviation,y.depth],styles:E},ne))}),d.update(y=>{const P=`${g}_ZIGZAG`;return Object.keys(y.saveInds).filter(L=>L.startsWith(P)).forEach(L=>{const E=L.match(/_ZIGZAG(?:_(\d+))?$/);(E&&E[1]?parseInt(E[1],10):1)>i(Xr).length&&delete y.saveInds[L]}),y})}function Ji(g,y){b(Wi,$(y));const P={x:window.innerWidth/2,y:window.innerHeight/2};g==="fill"&&(b(Vt,$(P)),b(dt,!0)),g==="upper"&&(b(Co,$(P)),b(Tt,!0)),g==="middle"&&(b(Tn,$(P)),b(Ro,!0)),g==="lower"&&(b(En,$(P)),b(jo,!0))}function mi(){return window.__npoMaeApi}function ra(g){const y={x:window.innerWidth/2,y:window.innerHeight/2};g==="median"&&(b(Es,$(y)),b(mo,!0)),g==="band"&&(b(Vi,$(y)),b(zn,!0)),g==="slLong"&&(b(Fs,$(y)),b(Rn,!0)),g==="slShort"&&(b(vr,$(y)),b(Fi,!0))}function ml(){const g=mi();if(!g)return;g.updateSettings({bandAlpha:Math.max(0,Math.min(100,i(Ws)))/100});const y=k(i(di),i(Ws));g.setColors({band:y})}let id=Z(!1);Ds(()=>{var g,y;if(!(!i(Ad)||i(id)||!n()))try{const I=(((y=(g=n()).getOverlays)==null?void 0:y.call(g))??[]).find(ne=>(ne==null?void 0:ne.name)==="NearestPatternOutcomeMaeStop"),L=(I==null?void 0:I.extendData)||{},E=L.colors||{};E.median&&b(Ps,$(E.median)),E.band&&b(di,$(E.band)),E.slLong&&b(ps,$(E.slLong)),E.slShort&&b(ni,$(E.slShort)),typeof L.showOutcomeBand=="boolean"&&b(Zi,$(L.showOutcomeBand)),typeof L.showStopLines=="boolean"&&b(ui,$(L.showStopLines)),typeof L.showTable=="boolean"&&b(pr,$(L.showTable));const V=L.styles||{};V.median&&(typeof V.median.size=="number"&&b(js,$(V.median.size)),typeof V.median.style=="string"&&b(qi,$(V.median.style))),V.slLong&&(typeof V.slLong.size=="number"&&b(Ti,$(V.slLong.size)),typeof V.slLong.style=="string"&&b(xi,$(V.slLong.style))),V.slShort&&(typeof V.slShort.size=="number"&&b(oi,$(V.slShort.size)),typeof V.slShort.style=="string"&&b(ir,$(V.slShort.style))),typeof L.bandAlpha=="number"&&b(Ws,$(Math.round((L.bandAlpha||0)*100))),b(id,!0)}catch{}});function Aa(){if(!n())return;const g=s().editPaneId||"candle_pane";for(let y=0;y<6;(y+=1)-1)try{n().removeIndicator({paneId:g,name:"BOLL"})}catch{}i(An).forEach((y,P)=>{const I=y.styles.lineStyle==="solid"?de.Solid:de.Dashed,L=y.styles.lineStyle==="dashed"?[4,4]:[0,0],E={lines:[{color:y.styles.upperColor,size:y.styles.thickness,style:I,dashedValue:L},{color:y.styles.middleColor,size:y.styles.thickness,style:I,dashedValue:L},{color:y.styles.lowerColor,size:y.styles.thickness,style:I,dashedValue:L}],fill:{color:y.styles.fillColor,opacity:(y.styles.fillOpacity||0)/100}};n().createIndicator({name:"BOLL",calcParams:[y.period,y.stdDev],styles:E},!0,{id:g});const V=P===0?`${g}_BOLL`:`${g}_BOLL_${P+1}`;d.update(ne=>(ne.saveInds[V]={name:"BOLL",pane_id:g,params:[y.period,y.stdDev],bollingerStyles:{fillColor:y.styles.fillColor,fillOpacity:y.styles.fillOpacity,upperColor:y.styles.upperColor,middleColor:y.styles.middleColor,lowerColor:y.styles.lowerColor,thickness:y.styles.thickness,lineStyle:y.styles.lineStyle}},ne))}),d.update(y=>{const P=`${g}_BOLL`;return Object.keys(y.saveInds).filter(L=>L.startsWith(P)).forEach(L=>{const E=L.match(/_BOLL(?:_(\d+))?$/);(E&&E[1]?parseInt(E[1],10):1)>i(An).length&&delete y.saveInds[L]}),y})}function Dc(g){if(i(An).length<=1)return;b(An,$(i(An).filter((P,I)=>I!==g)));const y=i(An)[0];y&&(b(q,$(y.period)),b(B,$(y.stdDev)),b(S,$(y.styles.fillColor)),b(M,$(y.styles.fillOpacity)),b(T,$(y.styles.upperColor)),b(D,$(y.styles.middleColor)),b(A,$(y.styles.lowerColor)),b(j,$(y.styles.thickness)),b(F,$(y.styles.lineStyle))),Aa()}let Jr=Z($([])),Or=Z($([])),cl=Z($([])),za=Z($([])),ar=Z($([])),Va=Z($([])),na=Z($([])),Rr=Z($([])),yv=Z(!1),bv=Z(!1),Ys=Z($([])),pi=Z($([])),jr=Z($([])),sa=Z($([]));function lp(){b(sa,$([])),console.log("âœ… CCI groups cleared from modal state")}let qa=Z($([]));function xv(){b(qa,$([])),console.log("âœ… EMV groups cleared from modal state")}let Qi=Z($([]));function wv(){b(Qi,$([])),console.log("âœ… MTM groups cleared from modal state")}function Xd(){b(pi,$([])),console.log("âœ… OBV groups cleared from modal state")}function Pu(){b(Ys,$([])),console.log("âœ… PSY groups cleared from modal state")}let ua=Z($([]));function Wu(){b(ua,$([])),console.log("âœ… PVT groups cleared from modal state")}function Jd(){b(Se,$([])),console.log("âœ… VOL groups cleared from modal state")}function j0(){b(lo,$([])),console.log("âœ… WR groups cleared from modal state")}function n_(){if(!i(rr))return;const g=`${s().editPaneId}_PVT`,y=r().saveInds[g];y&&y.pvtGroups&&y.pvtGroups.length>0?b(ua,$([...y.pvtGroups])):i(ua).length===0&&b(ua,$([{id:Jo(),name:"PVT #1",color:"#2563eb",thickness:1,lineStyle:"solid"}]))}function s_(){var y;if(!i(rr))return;const g={id:Jo(),name:`PVT #${i(ua).length+1}`,color:"#2563eb",thickness:1,lineStyle:"solid"};if(i(ua).push(g),n()){let P=de.Solid,I=[2,2];g.lineStyle==="dashed"?(P=de.Dashed,I=[4,4]):g.lineStyle==="dotted"&&(P=de.Dashed,I=[2,2]);const L={lines:[{color:g.color,size:g.thickness,style:P,dashedValue:I}]},E=(y=n())==null?void 0:y.createIndicator({name:"PVT",styles:L,figures:[{key:"pvt",title:"PVT: ",type:"line"}]},!1);console.log("âœ… Created PVT indicator on pane:",E),E&&d.update(V=>{const ne=`${E}_PVT`;return V.saveInds[ne]||(V.saveInds[ne]={name:"PVT",pane_id:E,pvtGroups:[]}),V.saveInds[ne].pvtGroups||(V.saveInds[ne].pvtGroups=[]),V.saveInds[ne].pvtGroups.push({...g}),console.log("ðŸ’¾ Saved new PVT group to storage:",ne,g),V})}console.log("âž• Added new PVT group:",g.name,"ID:",g.id)}function i_(g){var P,I;if(!i(rr)||i(ua).length<=1||g<0||g>=i(ua).length)return;console.log("ðŸ—‘ï¸ Removing PVT group at index:",g);const y=i(ua).length;if(i(ua)[g],i(ua).splice(g,1),console.log(`ðŸ“ Removed group: ${y} -> ${i(ua).length}`),i(ua).forEach((L,E)=>{L.name=`PVT #${E+1}`}),n())try{const E=((P=n())==null?void 0:P.getIndicators()).filter(V=>V.name==="PVT");console.log("ðŸ“ˆ PVT indicators found:",E.length);for(const V of E)console.log("ðŸ—‘ï¸ Removing PVT from pane:",V.paneId),(I=n())==null||I.removeIndicator({paneId:V.paneId,name:"PVT"});i(ua).forEach((V,ne)=>{var st;let _e=de.Solid,ze=[2,2];V.lineStyle==="dashed"?(_e=de.Dashed,ze=[4,4]):V.lineStyle==="dotted"&&(_e=de.Dashed,ze=[2,2]);const Lt={lines:[{color:V.color,size:V.thickness,style:_e,dashedValue:ze}]};console.log("âž• Re-adding PVT group:",V.name,"at index:",ne);const St=(st=n())==null?void 0:st.createIndicator({name:"PVT",styles:Lt,figures:[{key:"pvt",title:"PVT: ",type:"line"}]},!1);St&&d.update(ko=>{const gn=`${St}_PVT`;return ko.saveInds[gn]||(ko.saveInds[gn]={name:"PVT",pane_id:St,pvtGroups:[]}),ko.saveInds[gn].pvtGroups||(ko.saveInds[gn].pvtGroups=[]),ko.saveInds[gn].pvtGroups[ne]={...V},ko})}),console.log("âœ… Successfully updated PVT indicators on chart")}catch(L){console.error("âŒ Error updating PVT indicators:",L)}console.log("âœ… PVT group removed. Remaining groups:",i(ua).length)}function $0(){b(Rr,$([])),console.log("âœ… ROC groups cleared from modal state")}let Dn=Z($([]));function Gu(){b(Dn,$([])),console.log("âœ… RSI groups cleared from modal state")}function kv(){const g=new Set,y=n();if(!(y!=null&&y.getIndicators))return g;try{y.getIndicators().forEach(I=>{(I==null?void 0:I.name)==="RSI"&&(I!=null&&I.paneId)&&g.add(I.paneId)})}catch(P){console.warn("âš ï¸ Failed to read RSI pane IDs from chart:",P)}return g}function ce(g,y){const P=kv();for(const I of P)if(!g.has(I))return I;return y}function Mu(g){const y="pane_RSI";if(!g.has(y))return y;let P=2;for(;g.has(`${y}_${P}`)&&P<1e3;)P+=1;if(!g.has(`${y}_${P}`))return`${y}_${P}`;let I=`${y}_${Date.now()}_${Math.random().toString(36).slice(2,7)}`;for(;g.has(I);)I=`${y}_${Date.now()}_${Math.random().toString(36).slice(2,7)}`;return I}function Hu(g,y={}){return{...g,...y,styles:{...g.styles,rsi:{...g.styles.rsi}}}}function Lc(g){var L,E,V;if(!g||g.name!=="RSI")return null;const y=Array.isArray(g.rsiGroups)&&g.rsiGroups.length>0?g.rsiGroups[0]:null;if(!y)return null;const P=y.actualPaneId||y.paneId||g.pane_id,I=y.styles||{};return{id:y.id||Jo(),period:y.period??(Array.isArray(g.params)?g.params[0]:14),overboughtLevel:y.overboughtLevel??70,middleLevel:y.middleLevel??50,oversoldLevel:y.oversoldLevel??30,fillOpacity:y.fillOpacity??.15,paneId:P||g.pane_id,actualPaneId:P||g.pane_id,styles:{rsi:{color:((L=I.rsi)==null?void 0:L.color)??"#8B5CF6",thickness:((E=I.rsi)==null?void 0:E.thickness)??2,lineStyle:((V=I.rsi)==null?void 0:V.lineStyle)??"solid"},overboughtColor:I.overboughtColor??"#EF4444",overboughtThickness:I.overboughtThickness??1,overboughtLineStyle:I.overboughtLineStyle??"dashed",oversoldColor:I.oversoldColor??"#22C55E",oversoldThickness:I.oversoldThickness??1,oversoldLineStyle:I.oversoldLineStyle??"dashed",middleLineColor:I.middleLineColor??"#6B7280",middleLineThickness:I.middleLineThickness??1,middleLineStyle:I.middleLineStyle??"dashed"}}}function wr(){const g=new Map;Object.values(r().saveInds||{}).forEach(P=>{if(!P||P.name!=="RSI")return;const I=Lc(P);I!=null&&I.actualPaneId&&!g.has(I.actualPaneId)&&g.set(I.actualPaneId,I)});const y=Array.from(g.values());return s().editPaneId&&y.sort((P,I)=>P.actualPaneId===s().editPaneId?-1:I.actualPaneId===s().editPaneId?1:(P.actualPaneId||"").localeCompare(I.actualPaneId||"")),y}function Qd(){if(!i(sc))return;const g=i(Dn).map(y=>{const P=y.actualPaneId||y.paneId||s().editPaneId;return Hu(y,{paneId:P,actualPaneId:P})});d.update(y=>(Object.keys(y.saveInds||{}).forEach(P=>{var I;((I=y.saveInds[P])==null?void 0:I.name)==="RSI"&&delete y.saveInds[P]}),g.forEach(P=>{const I=P.actualPaneId;if(!I)return;const L=`${I}_RSI`;y.saveInds[L]={name:"RSI",pane_id:I,params:[P.period],rsiGroups:[Hu(P)]}}),y))}function r_(){if(!i(sc))return;const g=wr(),y=kv();if(y.size>0&&g.length<y.size){const P=[];if(y.forEach(I=>{try{const L=Vd.getInstance(I)||Vd.getInstanceConfig(I);if(!L)return;const E={id:Jo(),period:L.period??14,overboughtLevel:L.overboughtLevel??70,middleLevel:L.middleLevel??50,oversoldLevel:L.oversoldLevel??30,fillOpacity:L.fillOpacity??.15,paneId:I,actualPaneId:I,styles:{rsi:{color:L.lineColor??"#8B5CF6",thickness:L.lineThickness??2,lineStyle:L.lineStyle??"solid"},overboughtColor:L.overboughtColor??"#EF4444",overboughtThickness:L.overboughtThickness??1,overboughtLineStyle:L.overboughtLineStyle??"dashed",oversoldColor:L.oversoldColor??"#22C55E",oversoldThickness:L.oversoldThickness??1,oversoldLineStyle:L.oversoldLineStyle??"dashed",middleLineColor:L.middleLineColor??"#6B7280",middleLineThickness:L.middleLineThickness??1,middleLineStyle:L.middleLineStyle??"dashed"}};P.push(E)}catch(L){console.warn("âš ï¸ Failed to reconstruct RSI group from instance:",L)}}),P.length>0){b(Dn,$(P)),Qd();return}}if(g.length>0){b(Dn,$(g)),Qd();return}if(i(Dn).length===0){const P={id:Jo(),period:14,overboughtLevel:70,middleLevel:50,oversoldLevel:30,fillOpacity:.15,paneId:s().editPaneId,actualPaneId:s().editPaneId,styles:{rsi:{color:"#8B5CF6",thickness:2,lineStyle:"solid"},overboughtColor:"#EF4444",overboughtThickness:1,overboughtLineStyle:"dashed",oversoldColor:"#22C55E",oversoldThickness:1,oversoldLineStyle:"dashed",middleLineColor:"#6B7280",middleLineThickness:1,middleLineStyle:"dashed"}};b(Dn,$([P])),Vd.createInstance(P.actualPaneId,{period:P.period,lineColor:P.styles.rsi.color,lineThickness:P.styles.rsi.thickness,lineStyle:P.styles.rsi.lineStyle,overboughtLevel:P.overboughtLevel,oversoldLevel:P.oversoldLevel,middleLevel:P.middleLevel,overboughtColor:P.styles.overboughtColor,overboughtThickness:P.styles.overboughtThickness??1,overboughtLineStyle:P.styles.overboughtLineStyle||"dashed",oversoldColor:P.styles.oversoldColor,oversoldThickness:P.styles.oversoldThickness??1,oversoldLineStyle:P.styles.oversoldLineStyle||"dashed",overboughtFillColor:P.styles.overboughtColor,oversoldFillColor:P.styles.oversoldColor,middleLineColor:P.styles.middleLineColor,middleLineThickness:P.styles.middleLineThickness??1,middleLineStyle:P.styles.middleLineStyle||"dashed",fillOpacity:P.fillOpacity,showLevels:!0,showFill:!0,levels:[{id:"overbought",value:P.overboughtLevel,color:P.styles.overboughtColor,lineStyle:P.styles.overboughtLineStyle||"dashed",thickness:P.styles.overboughtThickness??1,label:"70",visible:!0},{id:"middle",value:P.middleLevel,color:P.styles.middleLineColor,lineStyle:P.styles.middleLineStyle||"dashed",thickness:P.styles.middleLineThickness??1,label:"50",visible:!0},{id:"oversold",value:P.oversoldLevel,color:P.styles.oversoldColor,lineStyle:P.styles.oversoldLineStyle||"dashed",thickness:P.styles.oversoldThickness??1,label:"30",visible:!0}]}),Qd()}}function a_(){if(!i(sc))return;const g=kv(),y=new Set(g);i(Dn).forEach(E=>{const V=E.actualPaneId||E.paneId;V&&y.add(V)});const P=Mu(y),I={id:Jo(),period:14,overboughtLevel:70,middleLevel:50,oversoldLevel:30,fillOpacity:.15,paneId:P,actualPaneId:P,styles:{rsi:{color:"#8B5CF6",thickness:2,lineStyle:"solid"},overboughtColor:"#EF4444",overboughtThickness:1,overboughtLineStyle:"dashed",oversoldColor:"#22C55E",oversoldThickness:1,oversoldLineStyle:"dashed",middleLineColor:"#6B7280",middleLineThickness:1,middleLineStyle:"dashed"}};i(Dn).push(I);let L=P;if(n()){const E=n(),V=new Set(g);let ne=de.Solid,_e=[2,2];I.styles.rsi.lineStyle==="dashed"?(ne=de.Dashed,_e=[6,4]):I.styles.rsi.lineStyle==="dotted"&&(ne=de.Dashed,_e=[2,2]);const ze=E.createIndicator({name:"RSI",calcParams:[I.period],styles:{lines:[{color:I.styles.rsi.color,size:I.styles.rsi.thickness,style:ne,dashedValue:_e}]}},!1,{id:P,axis:{gap:{bottom:2}}});if(L=ce(V,P),I.paneId=L,I.actualPaneId=L,Vd.createInstance(L,{period:I.period,lineColor:I.styles.rsi.color,lineThickness:I.styles.rsi.thickness,lineStyle:I.styles.rsi.lineStyle,overboughtLevel:I.overboughtLevel,oversoldLevel:I.oversoldLevel,middleLevel:I.middleLevel,overboughtColor:I.styles.overboughtColor,overboughtThickness:I.styles.overboughtThickness??1,overboughtLineStyle:I.styles.overboughtLineStyle||"dashed",oversoldColor:I.styles.oversoldColor,oversoldThickness:I.styles.oversoldThickness??1,oversoldLineStyle:I.styles.oversoldLineStyle||"dashed",overboughtFillColor:I.styles.overboughtColor,oversoldFillColor:I.styles.oversoldColor,middleLineColor:I.styles.middleLineColor,middleLineThickness:I.styles.middleLineThickness??1,middleLineStyle:I.styles.middleLineStyle||"dashed",fillOpacity:I.fillOpacity,showLevels:!0,showFill:!0,levels:[{id:"overbought",value:I.overboughtLevel,color:I.styles.overboughtColor,lineStyle:I.styles.overboughtLineStyle||"dashed",thickness:I.styles.overboughtThickness??1,label:"70",visible:!0},{id:"middle",value:I.middleLevel,color:I.styles.middleLineColor,lineStyle:I.styles.middleLineStyle||"dashed",thickness:I.styles.middleLineThickness??1,label:"50",visible:!0},{id:"oversold",value:I.oversoldLevel,color:I.styles.oversoldColor,lineStyle:I.styles.oversoldLineStyle||"dashed",thickness:I.styles.oversoldThickness??1,label:"30",visible:!0}]}),ze){const Lt=`${L}_RSI`;d.update(St=>(St.saveInds[Lt]={name:"RSI",pane_id:L,params:[I.period],rsiGroups:[{id:I.id,period:I.period,overboughtLevel:I.overboughtLevel,middleLevel:I.middleLevel,oversoldLevel:I.oversoldLevel,paneId:L,actualPaneId:L,styles:I.styles}]},St))}}else Vd.createInstance(L,{period:I.period,lineColor:I.styles.rsi.color,lineThickness:I.styles.rsi.thickness,lineStyle:I.styles.rsi.lineStyle,overboughtLevel:I.overboughtLevel,oversoldLevel:I.oversoldLevel,middleLevel:I.middleLevel,overboughtColor:I.styles.overboughtColor,overboughtThickness:I.styles.overboughtThickness??1,overboughtLineStyle:I.styles.overboughtLineStyle||"dashed",oversoldColor:I.styles.oversoldColor,oversoldThickness:I.styles.oversoldThickness??1,oversoldLineStyle:I.styles.oversoldLineStyle||"dashed",overboughtFillColor:I.styles.overboughtColor,oversoldFillColor:I.styles.oversoldColor,middleLineColor:I.styles.middleLineColor,middleLineThickness:I.styles.middleLineThickness??1,middleLineStyle:I.styles.middleLineStyle||"dashed",fillOpacity:I.fillOpacity,showLevels:!0,showFill:!0,levels:[{id:"overbought",value:I.overboughtLevel,color:I.styles.overboughtColor,lineStyle:I.styles.overboughtLineStyle||"dashed",thickness:I.styles.overboughtThickness??1,label:"70",visible:!0},{id:"middle",value:I.middleLevel,color:I.styles.middleLineColor,lineStyle:I.styles.middleLineStyle||"dashed",thickness:I.styles.middleLineThickness??1,label:"50",visible:!0},{id:"oversold",value:I.oversoldLevel,color:I.styles.oversoldColor,lineStyle:I.styles.oversoldLineStyle||"dashed",thickness:I.styles.oversoldThickness??1,label:"30",visible:!0}]});Qd()}function eu(g){var L;if(!i(sc)||i(Dn).length<=1||g<0||g>=i(Dn).length)return;console.log("ðŸ—‘ï¸ Removing RSI group at index:",g);const y=i(Dn)[g];let P=y.actualPaneId||y.paneId||s().editPaneId;if(!P&&((L=n())!=null&&L.getIndicators))try{const E=new Set(i(Dn).filter((_e,ze)=>ze!==g).map(_e=>_e.actualPaneId||_e.paneId).filter(_e=>!!_e)),ne=n().getIndicators().find(_e=>(_e==null?void 0:_e.name)==="RSI"&&(_e==null?void 0:_e.paneId)&&!E.has(_e.paneId));ne!=null&&ne.paneId&&(P=ne.paneId)}catch(E){console.warn("âš ï¸ Failed to resolve RSI pane ID for removal:",E)}const I=i(Dn).length;if(i(Dn).splice(g,1),console.log(`ðŸ“ Removed group: ${I} -> ${i(Dn).length}`),n()&&P)try{console.log("ðŸ—‘ï¸ Removing RSI from pane:",P),Vd.deleteInstance(P),eo(P,"RSI")}catch(E){console.error("âŒ Error removing RSI indicator:",E)}Qd(),console.log("âœ… RSI group removed. Remaining groups:",i(Dn).length)}function $l(g){if(!i(sc)||!n()||g<0||g>=i(Dn).length)return;const y=i(Dn)[g],P=y.actualPaneId||y.paneId||s().editPaneId;if(!P){console.warn("âš ï¸ Unable to resolve pane ID for RSI update");return}try{Vd.updateInstance(P,{period:y.period,lineColor:y.styles.rsi.color,lineThickness:y.styles.rsi.thickness,lineStyle:y.styles.rsi.lineStyle,overboughtLevel:y.overboughtLevel,oversoldLevel:y.oversoldLevel,middleLevel:y.middleLevel,overboughtColor:y.styles.overboughtColor||"#EF4444",overboughtThickness:y.styles.overboughtThickness??1,overboughtLineStyle:y.styles.overboughtLineStyle||"dashed",oversoldColor:y.styles.oversoldColor||"#22C55E",oversoldThickness:y.styles.oversoldThickness??1,oversoldLineStyle:y.styles.oversoldLineStyle||"dashed",overboughtFillColor:y.styles.overboughtColor||"#EF4444",oversoldFillColor:y.styles.oversoldColor||"#22C55E",middleLineColor:y.styles.middleLineColor||"#6B7280",middleLineThickness:y.styles.middleLineThickness??1,middleLineStyle:y.styles.middleLineStyle||"dashed",fillOpacity:y.fillOpacity??.15,showLevels:!0,showFill:!0,levels:[{id:"overbought",value:y.overboughtLevel,color:y.styles.overboughtColor||"#EF4444",lineStyle:y.styles.overboughtLineStyle||"dashed",thickness:y.styles.overboughtThickness??1,label:String(y.overboughtLevel),visible:!0},{id:"middle",value:y.middleLevel,color:y.styles.middleLineColor||"#6B7280",lineStyle:y.styles.middleLineStyle||"dashed",thickness:y.styles.middleLineThickness??1,label:String(y.middleLevel),visible:!0},{id:"oversold",value:y.oversoldLevel,color:y.styles.oversoldColor||"#22C55E",lineStyle:y.styles.oversoldLineStyle||"dashed",thickness:y.styles.oversoldThickness??1,label:String(y.oversoldLevel),visible:!0}]}),n().removeIndicator({paneId:P,name:"RSI"});let I=de.Solid,L=[2,2];y.styles.rsi.lineStyle==="dashed"?(I=de.Dashed,L=[6,4]):y.styles.rsi.lineStyle==="dotted"&&(I=de.Dashed,L=[2,2]);const E=n().createIndicator({name:"RSI",calcParams:[y.period],styles:{lines:[{color:y.styles.rsi.color,size:y.styles.rsi.thickness,style:I,dashedValue:L}]}},!1,{id:P,axis:{gap:{bottom:2}}});try{typeof n().resize=="function"&&n().resize()}catch{}if(y.actualPaneId=P,y.paneId=P,E){const V=`${P}_RSI`;d.update(ne=>{const _e=(i(Dn)||[]).filter(ze=>(ze.actualPaneId||ze.paneId)===P);return ne.saveInds[V]={name:"RSI",pane_id:P,params:[y.period],rsiGroups:_e},ne})}Qd()}catch(I){console.error("âŒ Error updating RSI indicator:",I)}}let Wr=Z($([]));function l_(){b(Wr,$([])),console.log("âœ… Stochastic groups cleared from modal state")}function c_(){if(!i(ic))return;const g=`${s().editPaneId}_STOCH`,y=r().saveInds[g];if(y&&y.stochasticGroups&&y.stochasticGroups.length>0)b(Wr,$([...y.stochasticGroups]));else if(i(Wr).length===0){const P={id:Jo(),kPeriod:14,dPeriod:3,overboughtLevel:80,oversoldLevel:20,midLevel:50,paneId:s().editPaneId,styles:{kLine:{color:"#1E90FF",thickness:2,lineStyle:"solid"},dLine:{color:"#FF1493",thickness:2,lineStyle:"dashed"},overboughtColor:"#EF4444",oversoldColor:"#10B981",midLineColor:"#6B7280"}};b(Wr,$([P])),kg.createInstance(s().editPaneId,{kPeriod:P.kPeriod,dPeriod:P.dPeriod,kLineColor:P.styles.kLine.color,kLineThickness:P.styles.kLine.thickness,kLineStyle:P.styles.kLine.lineStyle,dLineColor:P.styles.dLine.color,dLineThickness:P.styles.dLine.thickness,dLineStyle:P.styles.dLine.lineStyle,levels:[{id:"overbought",value:P.overboughtLevel,color:P.styles.overboughtColor,lineStyle:"dashed",thickness:1,label:"Overbought",visible:!0},{id:"oversold",value:P.oversoldLevel,color:P.styles.oversoldColor,lineStyle:"dashed",thickness:1,label:"Oversold",visible:!0},{id:"mid",value:P.midLevel,color:P.styles.midLineColor,lineStyle:"dashed",thickness:1,label:"Mid",visible:!0}]})}}function d_(){var y;if(!i(ic))return;const g={id:Jo(),kPeriod:14,dPeriod:3,overboughtLevel:80,oversoldLevel:20,midLevel:50,paneId:void 0,styles:{kLine:{color:"#1E90FF",thickness:2,lineStyle:"solid"},dLine:{color:"#FF1493",thickness:2,lineStyle:"dashed"},overboughtColor:"#EF4444",oversoldColor:"#10B981",midLineColor:"#6B7280"}};if(b(Wr,$([...i(Wr),g])),i(Wr).length>1){const P=Object.values(r().saveInds).filter(ze=>ze.name==="STOCH"&&ze.pane_id).map(ze=>ze.pane_id);let I=2;for(;P.includes(`pane_STOCH_${I}`);)I+=1;const L=i(Wr).length-1,E=[g.kPeriod,g.dPeriod,1],V={lines:[{color:g.styles.kLine.color,size:g.styles.kLine.thickness,style:g.styles.kLine.lineStyle==="dashed"||g.styles.kLine.lineStyle==="dotted"?de.Dashed:de.Solid,dashedValue:g.styles.kLine.lineStyle==="dashed"?[4,4]:g.styles.kLine.lineStyle==="dotted"?[2,2]:[2,2]},{color:g.styles.dLine.color,size:g.styles.dLine.thickness,style:g.styles.dLine.lineStyle==="dashed"||g.styles.dLine.lineStyle==="dotted"?de.Dashed:de.Solid,dashedValue:g.styles.dLine.lineStyle==="dashed"?[4,4]:g.styles.dLine.lineStyle==="dotted"?[2,2]:[2,2]}]},ne=`pane_STOCH_${I}`;console.log(`ðŸ†• Immediately creating Stochastic ${I} with pane ID:`,ne),((y=n())==null?void 0:y.createIndicator({name:"STOCH",calcParams:E,styles:V},!1,{id:ne,axis:{gap:{bottom:2}}}))&&(console.log(`âœ… Stochastic ${I} created with pane ID:`,ne),g.paneId=ne,kg.updateInstance(ne,{kPeriod:g.kPeriod,dPeriod:g.dPeriod,levels:[{id:"overbought",value:g.overboughtLevel,color:g.styles.overboughtColor,lineStyle:"solid",thickness:1,label:"Overbought",visible:!0},{id:"oversold",value:g.oversoldLevel,color:g.styles.oversoldColor,lineStyle:"solid",thickness:1,label:"Oversold",visible:!0},{id:"midline",value:g.midLevel,color:g.styles.midLineColor,lineStyle:"solid",thickness:1,label:"Midline",visible:!0}],zones:[{id:"overbought_zone",type:"overbought",topLevel:100,bottomLevel:g.overboughtLevel,fillColor:g.styles.overboughtColor,fillOpacity:.1,visible:!0},{id:"oversold_zone",type:"oversold",topLevel:g.oversoldLevel,bottomLevel:0,fillColor:g.styles.oversoldColor,fillOpacity:.1,visible:!0}],kLineColor:g.styles.kLine.color,dLineColor:g.styles.dLine.color,showLevels:!0,showZones:!0,overboughtLevel:g.overboughtLevel,oversoldLevel:g.oversoldLevel,midlineLevel:g.midLevel}),d.update(ze=>{const Lt=`pane_STOCH_${I}_STOCH`;return ze.saveInds[Lt]={name:"STOCH",stochasticGroup:g,pane_id:ne,groupIndex:L,params:[g.kPeriod,g.dPeriod,1]},ze}))}console.log("âœ… New Stochastic group added:",g)}function yd(g){if(!i(ic)||g<0||g>=i(Wr).length)return;const P=i(Wr)[g].paneId||s().editPaneId;try{kg.deleteInstance(P),n()&&n().removeIndicator({paneId:P,name:"STOCH"}),d.update(I=>(Object.keys(I.saveInds).filter(E=>I.saveInds[E].name==="STOCH"&&I.saveInds[E].pane_id===P).forEach(E=>{delete I.saveInds[E]}),I)),b(Wr,$(i(Wr).filter((I,L)=>L!==g))),console.log("âœ… Stochastic group removed successfully")}catch(I){console.error("âŒ Error removing Stochastic group:",I)}}function uc(g){if(!i(ic)||g<0||g>=i(Wr).length)return;const y=i(Wr)[g],P=y.paneId||s().editPaneId;try{kg.updateInstance(P,{kPeriod:y.kPeriod,dPeriod:y.dPeriod,kLineColor:y.styles.kLine.color,kLineThickness:y.styles.kLine.thickness,kLineStyle:y.styles.kLine.lineStyle,dLineColor:y.styles.dLine.color,dLineThickness:y.styles.dLine.thickness,dLineStyle:y.styles.dLine.lineStyle,overboughtLevel:y.overboughtLevel,oversoldLevel:y.oversoldLevel,midlineLevel:y.midLevel,showZones:!0,zones:[{id:"overbought-zone",topLevel:100,bottomLevel:y.overboughtLevel,fillColor:y.styles.overboughtColor||"#EF4444",fillOpacity:.1,visible:!0,type:"overbought"},{id:"oversold-zone",topLevel:y.oversoldLevel,bottomLevel:0,fillColor:y.styles.oversoldColor||"#10B981",fillOpacity:.1,visible:!0,type:"oversold"}],levels:[{id:"overbought",value:y.overboughtLevel,color:y.styles.overboughtColor||"#EF4444",lineStyle:"dashed",thickness:1,label:"Overbought",visible:!0},{id:"oversold",value:y.oversoldLevel,color:y.styles.oversoldColor||"#10B981",lineStyle:"dashed",thickness:1,label:"Oversold",visible:!0},{id:"mid",value:y.midLevel,color:y.styles.midLineColor||"#6B7280",lineStyle:"dashed",thickness:1,label:"Mid",visible:!0}]}),n()&&n().removeIndicator({paneId:P,name:"STOCH"});let I=de.Solid,L=[2,2],E=de.Solid,V=[2,2];if(y.styles.kLine.lineStyle==="dashed"?(I=de.Dashed,L=[4,4]):y.styles.kLine.lineStyle==="dotted"&&(I=de.Dashed,L=[2,2]),y.styles.dLine.lineStyle==="dashed"?(E=de.Dashed,V=[4,4]):y.styles.dLine.lineStyle==="dotted"&&(E=de.Dashed,V=[2,2]),n()?n().createIndicator({name:"STOCH",calcParams:[y.kPeriod,y.dPeriod],styles:{lines:[{color:y.styles.kLine.color,size:y.styles.kLine.thickness,style:I,dashedValue:L},{color:y.styles.dLine.color,size:y.styles.dLine.thickness,style:E,dashedValue:V}]}},P===s().editPaneId,{id:P}):null){const _e=`${P}_STOCH`;d.update(ze=>(ze.saveInds[_e]={name:"STOCH",pane_id:P,params:[y.kPeriod,y.dPeriod],stochasticGroups:i(Wr)},ze))}console.log("âœ… Stochastic indicator and levels updated successfully")}catch(I){console.error("âŒ Error updating Stochastic indicator:",I)}}function u_(){if(!i(xo))return;const g=Object.keys(r().saveInds).filter(y=>r().saveInds[y].name==="MACD").sort();console.log("ðŸ” Found existing MACD keys:",g),g.length>0?(b(xt,$([])),g.forEach((y,P)=>{const I=r().saveInds[y];if(I){if(I.macdGroup){const L={...I.macdGroup};P>0&&I.pane_id&&(L.actualPaneId=I.pane_id),i(xt).push(L)}else if(I.params&&I.params.length>=3){const L={id:Jo(),fastPeriod:I.params[0]||12,slowPeriod:I.params[1]||26,signalPeriod:I.params[2]||9,actualPaneId:void 0,styles:{macdLine:{color:"#2563eb",thickness:1,lineStyle:"solid"},signalLine:{color:"#dc2626",thickness:1,lineStyle:"solid"},positiveHistogram:{color:"#22c55e"},negativeHistogram:{color:"#ef4444"}}};P>0&&I.pane_id&&(L.actualPaneId=I.pane_id),i(xt).push(L)}}}),console.log("âœ… Loaded",i(xt).length,"existing MACD groups")):i(xt).length===0&&(b(xt,$([{id:Jo(),fastPeriod:12,slowPeriod:26,signalPeriod:9,styles:{macdLine:{color:"#2563eb",thickness:1,lineStyle:"solid"},signalLine:{color:"#dc2626",thickness:1,lineStyle:"solid"},positiveHistogram:{color:"#22c55e"},negativeHistogram:{color:"#ef4444"}}}])),console.log("ðŸ†• Created default MACD group"))}function v_(){var I;if(!i(xo))return;const g=[{macdLine:"#2563eb",signalLine:"#dc2626",positiveHistogram:"#22c55e",negativeHistogram:"#ef4444"},{macdLine:"#9333ea",signalLine:"#ea580c",positiveHistogram:"#059669",negativeHistogram:"#dc2626"},{macdLine:"#ec4899",signalLine:"#f59e0b",positiveHistogram:"#0891b2",negativeHistogram:"#f97316"}],y=i(xt).length%g.length,P={id:Jo(),fastPeriod:12,slowPeriod:26,signalPeriod:9,actualPaneId:void 0,styles:{macdLine:{color:g[y].macdLine,thickness:1,lineStyle:"solid"},signalLine:{color:g[y].signalLine,thickness:1,lineStyle:"solid"},positiveHistogram:{color:g[y].positiveHistogram},negativeHistogram:{color:g[y].negativeHistogram}}};if(i(xt).push(P),i(xt).length>1){const L=Object.values(r().saveInds).filter(St=>St.name==="MACD"&&St.pane_id).map(St=>St.pane_id);let E=2;for(;L.includes(`pane_MACD_${E}`);)E+=1;const V=i(xt).length-1,ne=[P.fastPeriod,P.slowPeriod,P.signalPeriod],_e={lines:[{color:P.styles.macdLine.color,size:P.styles.macdLine.thickness,style:P.styles.macdLine.lineStyle==="dashed"||P.styles.macdLine.lineStyle==="dotted"?de.Dashed:de.Solid,dashedValue:P.styles.macdLine.lineStyle==="dashed"?[4,4]:P.styles.macdLine.lineStyle==="dotted"?[2,2]:[2,2]},{color:P.styles.signalLine.color,size:P.styles.signalLine.thickness,style:P.styles.signalLine.lineStyle==="dashed"||P.styles.signalLine.lineStyle==="dotted"?de.Dashed:de.Solid,dashedValue:P.styles.signalLine.lineStyle==="dashed"?[4,4]:P.styles.signalLine.lineStyle==="dotted"?[2,2]:[2,2]}],bars:[{upColor:P.styles.positiveHistogram.color,downColor:P.styles.negativeHistogram.color,noChangeColor:P.styles.positiveHistogram.color,borderSize:0,borderColor:P.styles.positiveHistogram.color}]},ze=`pane_MACD_${E}`;console.log(`ðŸ†• Immediately creating MACD ${E} with pane ID:`,ze),((I=n())==null?void 0:I.createIndicator({name:"MACD",calcParams:ne,styles:_e},!1,{id:ze,axis:{gap:{bottom:2}}}))&&(console.log(`âœ… MACD ${E} created with pane ID:`,ze),P.actualPaneId=ze,d.update(St=>{const st=`pane_MACD_${E}_MACD`;return St.saveInds[st]={name:"MACD",macdGroup:P,pane_id:ze,groupIndex:V,params:[P.fastPeriod,P.slowPeriod,P.signalPeriod]},St}))}}function p_(g){var P,I;if(!i(xo)||i(xt).length<=1)return;const y=i(xt).findIndex(L=>L.id===g);if(y!==-1){console.log("ðŸ—‘ï¸ Removing MACD group at index:",y,"ID:",g);try{if(y===0&&i(xt).length>1){console.log("ðŸ”„ Special handling: First MACD removed, promoting second MACD to first position"),b(xt,$(i(xt).filter(E=>E.id!==g))),console.log("âœ… MACD group removed from array. Remaining groups:",i(xt).length);const L=i(xt)[0];L.actualPaneId&&(console.log("ðŸ—‘ï¸ Removing old second MACD from sub-pane:",L.actualPaneId),(P=n())==null||P.removeIndicator({paneId:L.actualPaneId,name:"MACD"})),L.actualPaneId=void 0,console.log("ðŸ“Š Updating MACD in edit pane with new first group settings"),tu(0)}else{const L=i(xt)[y];L.actualPaneId&&(console.log("ðŸ—‘ï¸ Removing MACD from actual pane:",L.actualPaneId),(I=n())==null||I.removeIndicator({paneId:L.actualPaneId,name:"MACD"}),console.log("âœ… Successfully removed MACD from actual pane:",L.actualPaneId)),b(xt,$(i(xt).filter(E=>E.id!==g))),console.log("âœ… MACD group removed from array. Remaining groups:",i(xt).length)}d.update(L=>(Object.keys(L.saveInds).forEach(E=>{L.saveInds[E].name==="MACD"&&(console.log("ðŸ§¹ Cleaning saved state for key:",E),delete L.saveInds[E])}),i(xt).forEach((E,V)=>{const ne=V===0?`${s().editPaneId}_MACD`:`pane_MACD_${V+1}_MACD`,_e=V===0?s().editPaneId:E.actualPaneId||`pane_MACD_${V+1}`;console.log(`ðŸ’¾ Re-saving MACD group ${V+1} with key:`,ne,"pane ID:",_e),L.saveInds[ne]={name:"MACD",macdGroup:E,pane_id:_e,groupIndex:V,macdGroups:V===0?[...i(xt)]:void 0,params:[E.fastPeriod,E.slowPeriod,E.signalPeriod]}}),L)),console.log("ðŸ”„ MACD groups reindexed successfully")}catch(L){console.log("âŒ Error removing MACD indicator:",L)}}}function tu(g){var E;const y=i(xt)[g];if(!y||!n())return;const P=g===0?s().editPaneId:y.actualPaneId||`pane_MACD_${g+1}`,I={lines:[{color:y.styles.macdLine.color,size:y.styles.macdLine.thickness,style:y.styles.macdLine.lineStyle==="dashed"||y.styles.macdLine.lineStyle==="dotted"?de.Dashed:de.Solid,dashedValue:y.styles.macdLine.lineStyle==="dashed"?[4,4]:y.styles.macdLine.lineStyle==="dotted"?[2,2]:[2,2]},{color:y.styles.signalLine.color,size:y.styles.signalLine.thickness,style:y.styles.signalLine.lineStyle==="dashed"||y.styles.signalLine.lineStyle==="dotted"?de.Dashed:de.Solid,dashedValue:y.styles.signalLine.lineStyle==="dashed"?[4,4]:y.styles.signalLine.lineStyle==="dotted"?[2,2]:[2,2]}],bars:[{upColor:y.styles.positiveHistogram.color,downColor:y.styles.negativeHistogram.color,noChangeColor:y.styles.positiveHistogram.color,borderSize:0,borderColor:y.styles.positiveHistogram.color}]};(E=n())==null||E.overrideIndicator({name:"MACD",paneId:P,styles:I,calcParams:[y.fastPeriod,y.slowPeriod,y.signalPeriod]});const L=g===0?`${s().editPaneId}_MACD`:`pane_MACD_${g+1}_MACD`;d.update(V=>(V.saveInds[L]&&(V.saveInds[L].params=[y.fastPeriod,y.slowPeriod,y.signalPeriod],V.saveInds[L].macdGroup={...y},console.log("ðŸ’¾ Persisted MACD changes to save data:",L,y)),V)),console.log("ðŸ”„ Updated MACD indicator:",g,y)}function bd(g,y){var E;const P=i(xt)[g];if(!P||!n())return;const I=g===0?s().editPaneId:P.actualPaneId||`pane_MACD_${g+1}`,L={lines:[{color:P.styles.macdLine.color,size:P.styles.macdLine.thickness,style:P.styles.macdLine.lineStyle==="dashed"||P.styles.macdLine.lineStyle==="dotted"?de.Dashed:de.Solid,dashedValue:P.styles.macdLine.lineStyle==="dashed"?[4,4]:P.styles.macdLine.lineStyle==="dotted"?[2,2]:[2,2]},{color:P.styles.signalLine.color,size:P.styles.signalLine.thickness,style:P.styles.signalLine.lineStyle==="dashed"||P.styles.signalLine.lineStyle==="dotted"?de.Dashed:de.Solid,dashedValue:P.styles.signalLine.lineStyle==="dashed"?[4,4]:P.styles.signalLine.lineStyle==="dotted"?[2,2]:[2,2]}],bars:[{upColor:P.styles.positiveHistogram.color,downColor:P.styles.negativeHistogram.color,noChangeColor:P.styles.positiveHistogram.color,borderSize:0,borderColor:P.styles.positiveHistogram.color}]};(E=n())==null||E.overrideIndicator({name:"MACD",paneId:I,styles:L}),console.log("ðŸŽ¨ Updated MACD color:",y,P.styles[y].color)}function f_(){if(i(Cl))try{const g=`${s().editPaneId}_EMV`,y=r().saveInds[g];if(y&&y.emvGroups&&Array.isArray(y.emvGroups)&&y.emvGroups.length>0){const P=y.emvGroups.filter(I=>I&&typeof I.id=="string"&&typeof I.name=="string"&&typeof I.period=="number"&&I.period>0&&typeof I.period2=="number"&&I.period2>0&&typeof I.color=="string"&&typeof I.thickness=="number"&&I.thickness>0&&typeof I.lineStyle=="string");P.length>0?(b(qa,$([...P])),console.log("âœ… Loaded",P.length,"valid EMV groups")):(console.warn("âš ï¸ No valid EMV groups found in saved data, creating default"),cp())}else i(qa).length===0&&cp()}catch(g){console.error("âŒ Error initializing EMV groups:",g),cp()}}function cp(){b(qa,$([{id:Jo(),name:"EMV #1",period:14,period2:9,color:"#2563eb",thickness:2,lineStyle:"solid"}])),console.log("âœ… Created default EMV group")}function g_(g){if(!i(Cl)||i(qa).length<=1){console.warn("âš ï¸ Cannot remove EMV group: minimum one group required");return}try{if(!g||typeof g!="string"){console.error("âŒ Invalid group ID provided for EMV group removal");return}const y=i(qa).length;b(qa,$(i(qa).filter(P=>P.id!==g))),i(qa).length<y?console.log("âœ… Removed EMV group with ID:",g):console.warn("âš ï¸ EMV group not found for removal:",g)}catch(y){console.error("âŒ Error removing EMV group:",y)}}function B0(){if(i(Il))try{const g=Object.keys(r().saveInds).filter(y=>r().saveInds[y]&&r().saveInds[y].name==="MTM").sort((y,P)=>y===`${s().editPaneId}_MTM`?-1:P===`${s().editPaneId}_MTM`?1:y.localeCompare(P));g.length>0?(b(Qi,$([])),g.forEach((y,P)=>{const I=r().saveInds[y];if(I){if(I.mtmGroup){const L={...I.mtmGroup};P>0&&I.pane_id&&(L.actualPaneId=I.pane_id),i(Qi).push(L)}else if(I.mtmGroups&&Array.isArray(I.mtmGroups)&&P===0){const L=I.mtmGroups.filter(E=>E&&typeof E.id=="string"&&typeof E.name=="string"&&typeof E.period=="number"&&E.period>0&&typeof E.color=="string"&&typeof E.thickness=="number"&&E.thickness>0&&typeof E.lineStyle=="string");b(Qi,$([...L]))}}}),i(Qi).length>0?console.log("âœ… Loaded",i(Qi).length,"MTM groups from saved data"):(console.warn("âš ï¸ No valid MTM groups found, creating default"),dp())):i(Qi).length===0&&dp()}catch(g){console.error("âŒ Error initializing MTM groups:",g),dp()}}function dp(){b(Qi,$([{id:Jo(),name:"MTM #1",period:14,color:"#2563eb",thickness:2,lineStyle:"solid"}])),console.log("âœ… Created default MTM group")}function ou(g){if(!i(Il)||i(Qi).length<=1){console.warn("âš ï¸ Cannot remove MTM group: minimum one group required");return}try{if(!g||typeof g!="string"){console.error("âŒ Invalid group ID provided for MTM group removal");return}const y=i(Qi).length;b(Qi,$(i(Qi).filter(P=>P.id!==g))),i(Qi).length<y?(console.log("âœ… Removed MTM group with ID:",g),nu()):console.warn("âš ï¸ MTM group not found for removal:",g)}catch(y){console.error("âŒ Error removing MTM group:",y)}}function nu(){var g;if(!(!i(Il)||!n()))try{console.log("ðŸ”„ Applying MTM changes to chart...");const y=Object.keys(r().saveInds).filter(I=>r().saveInds[I]&&r().saveInds[I].name==="MTM").sort((I,L)=>I===`${s().editPaneId}_MTM`?-1:L===`${s().editPaneId}_MTM`?1:I.localeCompare(L));console.log("ðŸ”§ Applying MTM changes. Existing keys:",y),console.log("ðŸ”§ Current MTM groups:",i(Qi).length);const P=i(Qi).length;if(y.length>P)for(let I=P;I<y.length;(I+=1)-1){const L=y[I],E=r().saveInds[L];if(E&&E.pane_id)try{console.log("ðŸ—‘ï¸ Removing excess MTM indicator from pane:",E.pane_id),(g=n())==null||g.removeIndicator({paneId:E.pane_id,name:"MTM"})}catch(V){console.log("âŒ Error removing excess MTM indicator:",V)}}i(Qi).forEach((I,L)=>{var ne,_e,ze;const E=[I.period],V={lines:[{color:I.color,size:I.thickness,style:I.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:I.lineStyle==="dashed"?[4,4]:I.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1}]};if(L===0)console.log("ðŸ”„ Updating first MTM in pane:",s().editPaneId),(ne=n())==null||ne.overrideIndicator({name:"MTM",calcParams:E,styles:V,paneId:s().editPaneId});else{const Lt=`pane_MTM_${L+1}_MTM`,St=y.find(st=>st===Lt);if(St){const st=r().saveInds[St];st&&st.pane_id&&(console.log("ðŸ”„ Updating existing MTM in pane:",st.pane_id),(_e=n())==null||_e.overrideIndicator({name:"MTM",calcParams:E,styles:V,paneId:st.pane_id}),I.actualPaneId=st.pane_id)}else{const st=`pane_MTM_${L+1}`;console.log("ðŸ†• Creating new MTM in pane:",st);const ko=(ze=n())==null?void 0:ze.createIndicator({name:"MTM",calcParams:E,styles:V},!0,{id:st,axis:{gap:{bottom:2}}});ko&&(I.actualPaneId=st,console.log("âœ… Created new MTM indicator with ID:",ko,"in pane:",st))}}}),d.update(I=>{try{Object.keys(I.saveInds).forEach(L=>{I.saveInds[L]&&I.saveInds[L].name==="MTM"&&delete I.saveInds[L]}),i(Qi).forEach((L,E)=>{try{const V=E===0?`${s().editPaneId}_MTM`:`pane_MTM_${E+1}_MTM`,ne=E===0?s().editPaneId:L.actualPaneId||`pane_MTM_${E+1}`;if(!V||!ne){console.error(`âŒ Invalid save key or pane ID for MTM group ${E}`);return}const _e={name:"MTM",mtmGroup:L,pane_id:ne,groupIndex:E,mtmGroups:E===0?[...i(Qi)]:void 0,params:[L.period]};I.saveInds[V]=_e,console.log("ðŸ’¾ Saved MTM group",E,"with key:",V,"and pane ID:",ne)}catch(V){console.error(`âŒ Error saving MTM group ${E}:`,V)}})}catch(L){console.error("âŒ Error in MTM save operation:",L)}return I}),console.log("âœ… MTM changes applied successfully")}catch(y){console.error("âŒ Critical error in applyMtm:",y)}}function __(){if(!i($o))return;const g=`${s().editPaneId}_WR`,y=r().saveInds[g];if(y&&y.wrGroups&&y.wrGroups.length>0){b(lo,$([...y.wrGroups]));return}const P=[];Object.keys(r().saveInds).forEach(I=>{if((I.includes("_WR")||I.startsWith("WR_"))&&I!==g){const L=r().saveInds[I];L&&L.wrGroup&&P.push(L.wrGroup)}}),y&&y.wrGroup&&P.unshift(y.wrGroup),P.length>0?b(lo,$([...P])):i(lo).length===0&&b(lo,$([{id:Jo(),period:14,overboughtLevel:-20,middleLevel:-50,oversoldLevel:-80,paneId:s().editPaneId,styles:{wr:{color:"#2563eb",thickness:1,lineStyle:"solid"},overbought:{color:"#EF4444",thickness:1,lineStyle:"solid"},oversold:{color:"#10B981",thickness:1,lineStyle:"solid"},middleLine:{color:"#6B7280",thickness:1,lineStyle:"solid"}}}]))}function zc(){if(!i($o))return;const g=`pane_WR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,y={id:Jo(),period:14,overboughtLevel:-20,middleLevel:-50,oversoldLevel:-80,paneId:g,styles:{wr:{color:"#2563eb",thickness:1,lineStyle:"solid"},overbought:{color:"#EF4444",thickness:1,lineStyle:"solid"},oversold:{color:"#10B981",thickness:1,lineStyle:"solid"},middleLine:{color:"#6B7280",thickness:1,lineStyle:"solid"}}};if(i(lo).push(y),$m.createInstance(g,{period:y.period,lineColor:y.styles.wr.color,lineThickness:y.styles.wr.thickness,lineStyle:y.styles.wr.lineStyle,levels:[{id:"overbought",value:y.overboughtLevel,color:y.styles.overbought.color,lineStyle:y.styles.overbought.lineStyle,thickness:y.styles.overbought.thickness,label:"Overbought",visible:!0},{id:"middle",value:y.middleLevel,color:y.styles.middleLine.color,lineStyle:y.styles.middleLine.lineStyle,thickness:y.styles.middleLine.thickness,label:"Middle",visible:!0},{id:"oversold",value:y.oversoldLevel,color:y.styles.oversold.color,lineStyle:y.styles.oversold.lineStyle,thickness:y.styles.oversold.thickness,label:"Oversold",visible:!0}]}),n()){let P=de.Solid,I=[2,2];if(y.styles.wr.lineStyle==="dashed"?(P=de.Dashed,I=[4,4]):y.styles.wr.lineStyle==="dotted"&&(P=de.Dashed,I=[2,2]),n().createIndicator({name:"WR",calcParams:[y.period],styles:{lines:[{color:y.styles.wr.color,size:y.styles.wr.thickness,style:P,dashedValue:I}]}},!1,{id:g})){const E=`${g}_WR`;d.update(V=>(V.saveInds[E]={name:"WR",pane_id:g,params:[y.period]},V))}}console.log("âž• Added new WR group in new pane:",y.id,g)}function m_(g){if(!i($o)||i(lo).length<=1)return;const y=i(lo).find(I=>I.id===g);if(!y)return;i(lo).findIndex(I=>I.id===g);const P=y.paneId;b(lo,$(i(lo).filter(I=>I.id!==g))),P&&$m.deleteInstance(P),P&&eo(P,"WR"),console.log("ðŸ—‘ï¸ Removed WR group from pane:",P)}function ql(g){if(!i($o)||!n()||g<0||g>=i(lo).length)return;const y=i(lo)[g],P=y.paneId||s().editPaneId;console.log("ðŸ”„ Updating WR indicator:",g,P);try{$m.updateInstance(P,{period:y.period,lineColor:y.styles.wr.color,lineThickness:y.styles.wr.thickness,lineStyle:y.styles.wr.lineStyle,enableDynamicColoring:!0,overboughtColor:y.styles.overbought.color||"#EF4444",oversoldColor:y.styles.oversold.color||"#10B981",overboughtThreshold:y.overboughtLevel,oversoldThreshold:y.oversoldLevel,levels:[{id:"overbought",value:y.overboughtLevel,color:y.styles.overbought.color||"#EF4444",lineStyle:y.styles.overbought.lineStyle,thickness:y.styles.overbought.thickness,label:"Overbought",visible:!0},{id:"middle",value:y.middleLevel,color:y.styles.middleLine.color||"#6B7280",lineStyle:y.styles.middleLine.lineStyle,thickness:y.styles.middleLine.thickness,label:"Middle",visible:!0},{id:"oversold",value:y.oversoldLevel,color:y.styles.oversold.color||"#10B981",lineStyle:y.styles.oversold.lineStyle,thickness:y.styles.oversold.thickness,label:"Oversold",visible:!0}]}),n().removeIndicator({paneId:P,name:"WR"});let I=de.Solid,L=[2,2];if(y.styles.wr.lineStyle==="dashed"?(I=de.Dashed,L=[4,4]):y.styles.wr.lineStyle==="dotted"&&(I=de.Dashed,L=[2,2]),n().createIndicator({name:"WR",calcParams:[y.period],styles:{lines:[{color:y.styles.wr.color,size:y.styles.wr.thickness,style:I,dashedValue:L}]}},P===s().editPaneId,{id:P})){const V=`${P}_WR`;d.update(ne=>(ne.saveInds[V]={name:"WR",pane_id:P,params:[y.period]},ne))}console.log("âœ… WR indicator and levels updated successfully")}catch(I){console.error("âŒ Error updating WR indicator:",I)}}function O0(){if(!i(un))return;const g=Object.entries(r().saveInds).filter(([y,P])=>P.name==="VR");if(g.length>0)b(Nt,$(g.map(([y,P])=>{var I,L,E;return P.vrGroups&&P.vrGroups.length>0?P.vrGroups[0]:P.vrGroup?P.vrGroup:{id:Jo(),paneId:P.pane_id,period:((I=P.params)==null?void 0:I[0])||26,shortPeriod:((L=P.params)==null?void 0:L[1])||6,longPeriod:((E=P.params)==null?void 0:E[2])||12,styles:{vr:{color:"#FF6B35",thickness:2,lineStyle:"solid"},vrShort:{color:"#2196F3",thickness:1,lineStyle:"solid"},vrLong:{color:"#4CAF50",thickness:1,lineStyle:"solid"}}}}))),console.log("âœ… Loaded VR groups from save system:",i(Nt).length);else if(i(Nt).length===0){const y={id:Jo(),paneId:s().editPaneId,period:26,shortPeriod:6,longPeriod:12,styles:{vr:{color:"#FF6B35",thickness:2,lineStyle:"solid"},vrShort:{color:"#2196F3",thickness:1,lineStyle:"solid"},vrLong:{color:"#4CAF50",thickness:1,lineStyle:"solid"}}};b(Nt,$([y])),console.log("âœ… Created default VR group with pane ID:",s().editPaneId)}}function h_(){if(!i(Zr))return;const g=Object.entries(r().saveInds).filter(([y,P])=>P.name==="VOL");if(g.length>0)b(Se,$(g.map(([y,P])=>{var I,L,E,V,ne;if(P.volGroups&&P.volGroups.length>0){const _e=P.volGroups[0];return{..._e,paneId:"candle_pane",styles:{..._e.styles,ema:{visible:((L=(I=_e.styles)==null?void 0:I.ema)==null?void 0:L.visible)??!1,..._e.styles.ema}}}}else if(P.volGroup){const _e=P.volGroup;return{..._e,paneId:"candle_pane",styles:{..._e.styles,ema:{visible:((V=(E=_e.styles)==null?void 0:E.ema)==null?void 0:V.visible)??!1,..._e.styles.ema}}}}else return{id:Jo(),paneId:"candle_pane",period:((ne=P.params)==null?void 0:ne[0])||20,styles:{histogram:{upColor:"#26a69a",downColor:"#ef5350",thickness:1,lineStyle:"solid"},ema:{color:"#8B5CF6",thickness:1,lineStyle:"dotted",visible:!1}}}}))),console.log("âœ… Loaded Volume groups from save system:",i(Se).length);else if(i(Se).length===0){const y={id:Jo(),paneId:"candle_pane",period:20,styles:{histogram:{upColor:"#26a69a",downColor:"#ef5350",thickness:1,lineStyle:"solid"},ema:{color:"#8B5CF6",thickness:1,lineStyle:"dotted",visible:!1}}};b(Se,$([y])),console.log("âœ… Created default Volume group:",y)}}function y_(){if(!i(un))return;const g=`pane_VR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,y={id:Jo(),paneId:g,period:26,shortPeriod:6,longPeriod:12,styles:{vr:{color:"#FF6B35",thickness:2,lineStyle:"solid"},vrShort:{color:"#2196F3",thickness:1,lineStyle:"solid"},vrLong:{color:"#4CAF50",thickness:1,lineStyle:"solid"}}};if(i(Nt).push(y),n()){let P=de.Solid,I=[2,2];if(y.styles.vr.lineStyle==="dashed"?(P=de.Dashed,I=[4,4]):y.styles.vr.lineStyle==="dotted"&&(P=de.Dashed,I=[2,2]),n().createIndicator({name:"VR",calcParams:[y.period,y.shortPeriod,y.longPeriod],styles:{lines:[{color:y.styles.vr.color,size:y.styles.vr.thickness,style:P,dashedValue:I}]}},!1,{id:g})){const E=`${g}_VR`;d.update(V=>(V.saveInds[E]={name:"VR",pane_id:g,params:[y.period,y.shortPeriod,y.longPeriod]},V))}}console.log("âž• Added new VR group in new pane:",y.id,g)}function R0(g){if(!i(un)||i(Nt).length<=1||g<0||g>=i(Nt).length)return;console.log("ðŸ—‘ï¸ Removing VR group at index:",g);const P=i(Nt)[g].paneId,I=i(Nt).length;if(i(Nt).splice(g,1),console.log(`ðŸ“ Removed group: ${I} -> ${i(Nt).length}`),n()&&P)try{console.log("ðŸ—‘ï¸ Removing VR from pane:",P),eo(P,"VR")}catch(L){console.error("âŒ Error removing VR indicator:",L)}console.log("âœ… VR group removed. Remaining groups:",i(Nt).length),console.log("ðŸ—‘ï¸ Removed VR group from list (will be applied on confirm)")}function N0(g){if(!i(Zr)||i(Se).length<=1||g<0||g>=i(Se).length)return;console.log("ðŸ—‘ï¸ Removing Volume group at index:",g),i(Se)[g];const y="candle_pane",P=i(Se).length;if(i(Se).splice(g,1),console.log(`ðŸ“ Removed group: ${P} -> ${i(Se).length}`),n()&&y)try{console.log("ðŸ—‘ï¸ Removing Volume from pane:",y),eo(y,"VOL")}catch(I){console.error("âŒ Error removing Volume indicator:",I)}console.log("âœ… Volume group removed. Remaining groups:",i(Se).length),console.log("ðŸ—‘ï¸ Removed Volume group from list (will be applied on confirm)")}function Dd(g){if(s().editIndName!=="VR"||!n()||g<0||g>=i(Nt).length)return;const y=i(Nt)[g],P=y.paneId||s().editPaneId;console.log("ðŸ”„ Updating VR indicator:",g,P);try{n().removeIndicator({paneId:P,name:"VR"});const I=_e=>{switch(_e){case"dashed":return{style:de.Dashed,dashedValue:[4,4]};case"dotted":return{style:de.Dashed,dashedValue:[2,2]};default:return{style:de.Solid,dashedValue:[2,2]}}},L=I(y.styles.vr.lineStyle),E=I(y.styles.vrShort.lineStyle),V=I(y.styles.vrLong.lineStyle);if(n().createIndicator({name:"VR",calcParams:[y.period,y.shortPeriod,y.longPeriod],styles:{lines:[{color:y.styles.vr.color,size:y.styles.vr.thickness,style:L.style,dashedValue:L.dashedValue},{color:y.styles.vrShort.color,size:y.styles.vrShort.thickness,style:E.style,dashedValue:E.dashedValue},{color:y.styles.vrLong.color,size:y.styles.vrLong.thickness,style:V.style,dashedValue:V.dashedValue}]}},P===s().editPaneId,{id:P})){const _e=`${P}_VR`;d.update(ze=>(ze.saveInds[_e]={name:"VR",pane_id:P,params:[y.period,y.shortPeriod,y.longPeriod]},ze))}console.log("âœ… VR indicator updated successfully")}catch(I){console.error("âŒ Error updating VR indicator:",I)}}function Tu(g){if(s().editIndName!=="VOL"||!n()||g<0||g>=i(Se).length)return;const y=i(Se)[g],P="candle_pane";try{console.log("ðŸ”„ Updating Volume indicator for group:",g,"paneId:",P),n().removeIndicator({paneId:P,name:"VOL"});let I=de.Solid,L=[2,2];if(y.styles.ema.lineStyle==="dashed"?(I=de.Dashed,L=[4,4]):y.styles.ema.lineStyle==="dotted"&&(I=de.Dashed,L=[2,2]),console.log("updateVolIndicator - Colors being applied:",{upColor:y.styles.histogram.upColor,downColor:y.styles.histogram.downColor,noChangeColor:y.styles.histogram.upColor,emaColor:y.styles.ema.color}),n().createIndicator({name:"VOL",calcParams:[y.period],styles:{bars:[{upColor:y.styles.histogram.upColor,downColor:y.styles.histogram.downColor,noChangeColor:y.styles.histogram.upColor}],lines:[{color:y.styles.ema.color,size:y.styles.ema.thickness,style:I,dashedValue:L}]}},!0,{id:P})){const V=`${P}_VOL`;d.update(ne=>(ne.saveInds[V]={name:"VOL",pane_id:P,params:[y.period],volGroup:y},ne))}console.log("âœ… Volume indicator updated successfully")}catch(I){console.error("âŒ Error updating Volume indicator:",I)}}function rd(g){if(s().editIndName!=="BBI"||!n()||g<0||g>=i(vi).length)return;const y=i(vi)[g],P=y.paneId||s().editPaneId;console.log("ðŸ”„ Updating BBI indicator:",g,P);try{n().removeIndicator({paneId:P,name:"BBI"});const L=(V=>{switch(V){case"dashed":return{style:de.Dashed,dashedValue:[4,4]};case"dotted":return{style:de.Dashed,dashedValue:[2,2]};default:return{style:de.Solid,dashedValue:[2,2]}}})(y.lineStyle);if(n().createIndicator({name:"BBI",calcParams:[y.period1,y.period2,y.period3,y.period4],styles:{lines:[{color:y.color,size:y.thickness,style:L.style,dashedValue:L.dashedValue}]}},P===s().editPaneId,{id:P})){const V=`${P}_BBI`;d.update(ne=>(ne.saveInds[V]={name:"BBI",pane_id:P,params:[y.period1,y.period2,y.period3,y.period4],bbiGroup:y},ne))}console.log("âœ… BBI indicator updated successfully")}catch(I){console.error("âŒ Error updating BBI indicator:",I)}}function kc(){if(!(s().editIndName!=="EMA"||!n()))try{console.log("ðŸ”„ Updating EMA indicator"),n().removeIndicator({paneId:s().editPaneId,name:"EMA"});const g=n().createIndicator({name:"EMA",calcParams:p,styles:{lines:p.map((y,P)=>{const I=x[P];let L=de.Solid,E=[2,2];return(I==null?void 0:I.lineStyle)==="dashed"?(L=de.Dashed,E=[4,4]):(I==null?void 0:I.lineStyle)==="dotted"&&(L=de.Dashed,E=[2,2]),{color:(I==null?void 0:I.color)||"#FF6B6B",size:(I==null?void 0:I.thickness)||1,style:L,dashedValue:E}})}},!0,{id:s().editPaneId});console.log("âœ… EMA indicator updated successfully")}catch(g){console.error("âŒ Error updating EMA indicator:",g)}}function Ec(){if(!(s().editIndName!=="MA"||!n()))try{console.log("ðŸ”„ Updating MA indicator"),n().removeIndicator({paneId:s().editPaneId,name:"MA"});const g=n().createIndicator({name:"MA",calcParams:p,styles:{lines:p.map((P,I)=>{const L=x[I];let E=de.Solid,V=[2,2];return(L==null?void 0:L.lineStyle)==="dashed"?(E=de.Dashed,V=[4,4]):(L==null?void 0:L.lineStyle)==="dotted"&&(E=de.Dashed,V=[2,2]),{color:(L==null?void 0:L.color)||"#2563eb",size:(L==null?void 0:L.thickness)||1,style:E,dashedValue:V}})}},!0,{id:s().editPaneId}),y=`${s().editPaneId}_MA`;d.update(P=>(P.saveInds[y]&&(P.saveInds[y].params=[...p],P.saveInds[y].styles=x.map(I=>({...I}))),P)),console.log("âœ… MA indicator updated successfully")}catch(g){console.error("âŒ Error updating MA indicator:",g)}}function b_(){var P,I,L;if(!i(ii))return;const g=`${s().editPaneId}_SMA`,y=r().saveInds[g];y&&y.smaGroups&&y.smaGroups.length>0?(b(Or,$([...y.smaGroups])),console.log("âœ… Loaded",i(Or).length,"SMA groups from saved data")):y&&y.params&&y.params.length>0&&y.styles?(b(Or,$([{id:Jo(),name:"SMA",period:y.params[0]||20,color:((P=y.styles[0])==null?void 0:P.color)||"#FF6C37",thickness:((I=y.styles[0])==null?void 0:I.thickness)||2,lineStyle:((L=y.styles[0])==null?void 0:L.lineStyle)||"solid"}])),console.log("âœ… Loaded SMA from saved data (old format)")):i(Or).length===0&&(b(Or,$([{id:Jo(),name:"SMA",period:20,color:"#FF6C37",thickness:2,lineStyle:"solid"}])),console.log("âœ… Created default SMA group"))}function Uu(g){var y,P;if(!(s().editIndName!=="SMA"||!n()||i(Or).length===0||g>=i(Or).length))try{console.log("ðŸ”„ Updating SMA indicator at index:",g);const I=i(Or)[g],E=((y=n())==null?void 0:y.getIndicators()).filter(ne=>ne.name==="SMA");for(const ne of E)(P=n())==null||P.removeIndicator({paneId:ne.paneId,name:"SMA"});i(Or).forEach((ne,_e)=>{var St;let ze=de.Solid,Lt=[2,2];ne.lineStyle==="dashed"?(ze=de.Dashed,Lt=[8,4]):ne.lineStyle==="dotted"&&(ze=de.Dashed,Lt=[2,2]),(St=n())==null||St.createIndicator({name:"SMA",calcParams:[ne.period],styles:{lines:[{color:ne.color,size:ne.thickness,style:ze,dashedValue:Lt}]}},!0,{id:s().editPaneId})});const V=`${s().editPaneId}_SMA`;d.update(ne=>(ne.saveInds[V]={name:"SMA",pane_id:s().editPaneId,smaGroups:i(Or).map(_e=>({..._e}))},ne)),console.log("âœ… SMA indicators updated successfully")}catch(I){console.error("âŒ Error updating SMA indicator:",I)}}function x_(){if(!i(ii))return;const g=i(Or).length>0?i(Or)[i(Or).length-1].period+10:20,y=["#FF6C37","#2563eb","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"],P=y[i(Or).length%y.length],I={id:Jo(),name:"SMA",period:g,color:P,thickness:2,lineStyle:"solid"};if(i(Or).push(I),n()){n().createIndicator({name:"SMA",calcParams:[I.period],styles:{lines:[{color:I.color,size:I.thickness,style:de.Solid,dashedValue:[2,2]}]}},!0,{id:s().editPaneId});const L=`${s().editPaneId}_SMA`;d.update(E=>(E.saveInds[L]={name:"SMA",pane_id:s().editPaneId,smaGroups:i(Or).map(V=>({...V}))},E))}console.log("âž• Added new SMA group:",I)}function xd(g){var y,P;if(!(!i(ii)||i(Or).length<=1||g<0||g>=i(Or).length)&&(console.log("ðŸ—‘ï¸ Removing SMA group at index:",g),i(Or).splice(g,1),n()))try{const L=((y=n())==null?void 0:y.getIndicators()).filter(V=>V.name==="SMA");for(const V of L)(P=n())==null||P.removeIndicator({paneId:V.paneId,name:"SMA"});i(Or).forEach(V=>{var ze;let ne=de.Solid,_e=[2,2];V.lineStyle==="dashed"?(ne=de.Dashed,_e=[8,4]):V.lineStyle==="dotted"&&(ne=de.Dashed,_e=[2,2]),(ze=n())==null||ze.createIndicator({name:"SMA",calcParams:[V.period],styles:{lines:[{color:V.color,size:V.thickness,style:ne,dashedValue:_e}]}},!0,{id:s().editPaneId})});const E=`${s().editPaneId}_SMA`;d.update(V=>(i(Or).length>0?V.saveInds[E]={name:"SMA",pane_id:s().editPaneId,smaGroups:i(Or).map(ne=>({...ne}))}:delete V.saveInds[E],V)),console.log("âœ… SMA group removed and chart updated")}catch(I){console.error("âŒ Error removing SMA group:",I)}}function up(){var g,y;if(i(ii)){console.log("ðŸ”§ SMA Confirm: Saving",i(Or).length,"SMA groups");try{const P=(g=n())==null?void 0:g.getIndicators(),I=(P==null?void 0:P.filter(E=>E.name==="SMA"))||[];for(const E of I)(y=n())==null||y.removeIndicator({paneId:E.paneId,name:"SMA"});i(Or).forEach(E=>{var _e;let V=de.Solid,ne=[2,2];E.lineStyle==="dashed"?(V=de.Dashed,ne=[8,4]):E.lineStyle==="dotted"&&(V=de.Dashed,ne=[2,2]),(_e=n())==null||_e.createIndicator({name:"SMA",calcParams:[E.period],styles:{lines:[{color:E.color,size:E.thickness,style:V,dashedValue:ne}]}},!0,{id:s().editPaneId}),console.log("âœ… Created SMA with period:",E.period)});const L=`${s().editPaneId}_SMA`;d.update(E=>(E.saveInds[L]={name:"SMA",pane_id:s().editPaneId,smaGroups:i(Or).map(V=>({...V}))},console.log("ðŸ’¾ Saved",i(Or).length,"SMA groups to:",L),E)),console.log("âœ… SMA confirm completed successfully"),c.update(E=>(E.editIndName="",E.editPaneId="",E.modalIndCfg=!1,E))}catch(P){console.error("âŒ Error in SMA confirm:",P)}}}function Ld(){if(!i(Yo))return;const g=Object.keys(r().saveInds).filter(y=>r().saveInds[y].name==="BBI").sort((y,P)=>y===`${s().editPaneId}_BBI`?-1:P===`${s().editPaneId}_BBI`?1:y.localeCompare(P));console.log("ðŸ” Found existing BBI keys:",g),g.length>0?(b(vi,$([])),g.forEach((y,P)=>{const I=r().saveInds[y];if(I){const L=I.pane_id||y.replace("_BBI","");if(I.bbiGroup){const E={...I.bbiGroup};E.paneId||(E.paneId=L),i(vi).push(E)}else I.params&&I.params.length===4&&i(vi).push({id:Jo(),name:`BBI${P+1}`,paneId:L,period1:I.params[0]||3,period2:I.params[1]||6,period3:I.params[2]||12,period4:I.params[3]||24,color:"#8B5CF6",thickness:1,lineStyle:"solid"})}}),console.log("âœ… Loaded",i(vi).length,"existing BBI groups")):i(vi).length===0&&(b(vi,$([{id:Jo(),name:"BBI",paneId:s().editPaneId,period1:3,period2:6,period3:12,period4:24,color:"#8B5CF6",thickness:1,lineStyle:"solid"}])),console.log("ðŸ†• Created default BBI group"))}function Fc(){if(!i(Yo))return;const g=`pane_BBI_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,y=i(vi).length+1,P={id:Jo(),name:`BBI${y}`,paneId:g,period1:3,period2:6,period3:12,period4:24,color:"#8B5CF6",thickness:1,lineStyle:"solid"};if(i(vi).push(P),n()){const L=(V=>{switch(V){case"dashed":return{style:de.Dashed,dashedValue:[4,4]};case"dotted":return{style:de.Dashed,dashedValue:[2,2]};default:return{style:de.Solid,dashedValue:[2,2]}}})(P.lineStyle);if(n().createIndicator({name:"BBI",calcParams:[P.period1,P.period2,P.period3,P.period4],styles:{lines:[{color:P.color,size:P.thickness,style:L.style,dashedValue:L.dashedValue}]}},!1,{id:g})){const V=`${g}_BBI`;d.update(ne=>(ne.saveInds[V]={name:"BBI",pane_id:g,params:[P.period1,P.period2,P.period3,P.period4],bbiGroup:P},ne))}}console.log("âž• Added new BBI group in new pane:",P.id,g)}function w_(g){var L;if(!i(Yo)||i(vi).length<=1)return;const y=i(vi).findIndex(E=>E.id===g);if(y===-1)return;const P=i(vi)[y];console.log("ðŸ—‘ï¸ Removing BBI group at index:",y,"ID:",g,"paneId:",P.paneId);const I=P.paneId||(y===0?s().editPaneId:null);if(n()&&I){try{console.log("ðŸ—‘ï¸ Removing BBI from pane:",I),(L=n())==null||L.removeIndicator({paneId:I,name:"BBI"}),console.log("âœ… Successfully removed BBI from pane:",I)}catch(E){console.log("âŒ Error removing BBI indicator from pane:",I,E)}d.update(E=>{const V=`${I}_BBI`;return console.log("ðŸ§¹ Cleaning saved state key:",V),delete E.saveInds[V],E})}else console.log("âŒ Cannot remove BBI: no valid paneId found for group:",P);b(vi,$(i(vi).filter(E=>E.id!==g))),console.log("âœ… BBI group removed from array. Remaining groups:",i(vi).length)}function vp(){if(!i(Ur))return;const g=Object.keys(r().saveInds).filter(y=>r().saveInds[y].name==="TRIX").sort((y,P)=>y===`${s().editPaneId}_TRIX`?-1:P===`${s().editPaneId}_TRIX`?1:y.localeCompare(P));console.log("ðŸ” Found existing TRIX keys:",g),g.length>0?(b(Va,$([])),g.forEach((y,P)=>{const I=r().saveInds[y];if(I)if(I.trixGroup){const L={...I.trixGroup};L.paneId||(L.paneId=I.pane_id||s().editPaneId),i(Va).push(L)}else I.params&&I.params.length>=2&&i(Va).push({id:Jo(),name:`TRIX${P+1}`,trixPeriod:I.params[0]||15,signalPeriod:I.params[1]||9,paneId:I.pane_id||s().editPaneId,styles:{trix:{color:"#2563eb",thickness:2,lineStyle:"solid"},signal:{color:"#dc2626",thickness:1,lineStyle:"solid"}}})}),console.log("âœ… Loaded",i(Va).length,"existing TRIX groups")):i(Va).length===0&&(b(Va,$([{id:Jo(),name:"TRIX",trixPeriod:15,signalPeriod:9,paneId:s().editPaneId,styles:{trix:{color:"#2563eb",thickness:2,lineStyle:"solid"},signal:{color:"#dc2626",thickness:1,lineStyle:"solid"}}}])),console.log("ðŸ†• Created default TRIX group"))}function z0(){if(!i(Ur))return;const g=`pane_TRIX_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,y={id:Jo(),name:`TRIX${i(Va).length+1}`,trixPeriod:15,signalPeriod:9,paneId:g,styles:{trix:{color:"#2563eb",thickness:2,lineStyle:"solid"},signal:{color:"#dc2626",thickness:1,lineStyle:"solid"}}};if(i(Va).push(y),n()){let P=de.Solid,I=[2,2],L=de.Solid,E=[2,2];if(y.styles.trix.lineStyle==="dashed"?(P=de.Dashed,I=[4,4]):y.styles.trix.lineStyle==="dotted"&&(P=de.Dashed,I=[2,2]),y.styles.signal.lineStyle==="dashed"?(L=de.Dashed,E=[4,4]):y.styles.signal.lineStyle==="dotted"&&(L=de.Dashed,E=[2,2]),n().createIndicator({name:"TRIX",calcParams:[y.trixPeriod,y.signalPeriod],styles:{lines:[{color:y.styles.trix.color,size:y.styles.trix.thickness,style:P,dashedValue:I},{color:y.styles.signal.color,size:y.styles.signal.thickness,style:L,dashedValue:E}]}},!1,{id:g})){const ne=`${g}_TRIX`;d.update(_e=>(_e.saveInds[ne]={name:"TRIX",pane_id:g,params:[y.trixPeriod,y.signalPeriod]},_e))}}console.log("âž• Added new TRIX group in new pane:",y.id,g)}function Yu(g){if(!i(Ur)||i(Va).length<=1||g<0||g>=i(Va).length)return;console.log("ðŸ—‘ï¸ Removing TRIX group at index:",g);const P=i(Va)[g].paneId||s().editPaneId,I=i(Va).length;if(i(Va).splice(g,1),console.log(`ðŸ“ Removed group: ${I} -> ${i(Va).length}`),n()&&P)try{console.log("ðŸ—‘ï¸ Removing TRIX from pane:",P),eo(P,"TRIX")}catch(L){console.error("âŒ Error removing TRIX indicator:",L)}console.log("âœ… TRIX group removed. Remaining groups:",i(Va).length)}function wd(){if(!i(Eo))return;const g=Object.keys(r().saveInds).filter(y=>r().saveInds[y].name==="BIAS").sort((y,P)=>y===`${s().editPaneId}_BIAS`?-1:P===`${s().editPaneId}_BIAS`?1:y.localeCompare(P));console.log("ðŸ” Found existing BIAS keys:",g),g.length>0?(b(Jr,$([])),g.forEach((y,P)=>{const I=r().saveInds[y];I&&(I.biasGroup?i(Jr).push({...I.biasGroup}):I.params&&I.params.length>=1&&i(Jr).push({id:Jo(),name:`BIAS${P+1}`,period:I.params[0]||6,color:"#2196F3",thickness:1,lineStyle:"solid"}))}),console.log("âœ… Loaded",i(Jr).length,"existing BIAS groups")):i(Jr).length===0&&(b(Jr,$([{id:Jo(),name:"BIAS",period:6,color:"#2196F3",thickness:1,lineStyle:"solid"}])),console.log("ðŸ†• Created default BIAS group"))}function Ed(){var P;if(!i(Eo)||!n())return;console.log("ðŸ”„ Applying BIAS changes in real-time, groups:",i(Jr).length);const g=Object.keys(r().saveInds).filter(I=>r().saveInds[I].name==="BIAS").sort((I,L)=>I===`${s().editPaneId}_BIAS`?-1:L===`${s().editPaneId}_BIAS`?1:I.localeCompare(L));console.log("ðŸ” Existing BIAS keys:",g);const y=i(Jr).length;if(g.length>y){console.log(`ðŸ—‘ï¸ Removing ${g.length-y} excess BIAS indicators`);for(let I=y;I<g.length;(I+=1)-1){const L=g[I],E=r().saveInds[L];if(E&&E.pane_id){console.log("ðŸ—‘ï¸ Removing BIAS indicator from pane:",E.pane_id);try{(P=n())==null||P.removeIndicator({paneId:E.pane_id,name:"BIAS"})}catch(V){console.log("Error removing excess BIAS indicator:",V)}}}}i(Jr).forEach((I,L)=>{var ne,_e,ze;const E=[I.period],V={lines:[{color:I.color,size:I.thickness,style:I.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:I.lineStyle==="dashed"?[4,4]:I.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1}]};if(L===0)console.log("ðŸ”„ Updating first BIAS indicator in pane:",s().editPaneId),(ne=n())==null||ne.overrideIndicator({name:"BIAS",calcParams:E,styles:V,paneId:s().editPaneId});else{const Lt=`pane_BIAS_${L+1}_BIAS`,St=g.find(st=>st===Lt);if(St){const st=r().saveInds[St];st&&st.pane_id&&(console.log(`ðŸ”„ Updating existing BIAS ${L+1} in pane:`,st.pane_id),(_e=n())==null||_e.overrideIndicator({name:"BIAS",calcParams:E,styles:V,paneId:st.pane_id}))}else{const st=`pane_BIAS_${L+1}`;console.log(`ðŸ†• Creating new BIAS ${L+1} with pane ID:`,st),(ze=n())==null||ze.createIndicator({name:"BIAS",calcParams:E,styles:V},!0,{id:st})}}}),d.update(I=>(Object.keys(I.saveInds).forEach(L=>{I.saveInds[L].name==="BIAS"&&delete I.saveInds[L]}),i(Jr).forEach((L,E)=>{const V=E===0?`${s().editPaneId}_BIAS`:`pane_BIAS_${E+1}_BIAS`,ne=E===0?s().editPaneId:`pane_BIAS_${E+1}`;console.log(`ðŸ’¾ Saving BIAS group ${E+1} with key:`,V),I.saveInds[V]={name:"BIAS",biasGroup:L,pane_id:ne,groupIndex:E,biasGroups:E===0?[...i(Jr)]:void 0,params:[L.period]}}),I))}function k_(g){if(!i(Eo)||i(Jr).length<=1)return;const y=i(Jr).findIndex(P=>P.id===g);y!==-1&&(console.log("ðŸ—‘ï¸ Removing BIAS group at index:",y,"ID:",g),b(Jr,$(i(Jr).filter(P=>P.id!==g))),Ed(),console.log("âœ… BIAS group removed. Remaining groups:",i(Jr).length))}function Ku(){if(!i(Sl))return;const g=Object.keys(r().saveInds).filter(y=>r().saveInds[y].name==="CCI").sort((y,P)=>y===`${s().editPaneId}_CCI`?-1:P===`${s().editPaneId}_CCI`?1:y.localeCompare(P));if(console.log("ðŸ” Found existing CCI keys:",g),g.length>0){b(sa,$([]));let y=1;g.forEach((P,I)=>{const L=r().saveInds[P];if(L)if(L.cciGroup){const E={...L.cciGroup};E.name=y===1?"CCI":`CCI${y}`,i(sa).push(E),y+=1}else L.params&&L.params.length>=1&&(i(sa).push({id:Jo(),name:y===1?"CCI":`CCI${y}`,period:L.params[0]||14,color:"#FF9800",thickness:1,lineStyle:"solid"}),y+=1)}),console.log("âœ… Loaded",i(sa).length,"existing CCI groups with proper naming")}else i(sa).length===0&&(b(sa,$([{id:Jo(),name:"CCI",period:14,color:"#FF9800",thickness:1,lineStyle:"solid"}])),console.log("ðŸ†• Created default CCI group"))}function su(){if(!i(Sl)||!n())return;console.log("ðŸ”„ Applying CCI changes in real-time, groups:",i(sa).length);const g=Object.keys(r().saveInds).filter(E=>r().saveInds[E].name==="CCI").sort((E,V)=>E===`${s().editPaneId}_CCI`?-1:V===`${s().editPaneId}_CCI`?1:E.localeCompare(V));console.log("ðŸ” Existing CCI keys:",g);const y=new Map,P=new Set;i(sa).forEach((E,V)=>{let ne=null;for(const _e of g){if(P.has(_e))continue;const ze=r().saveInds[_e];if(ze&&ze.cciGroup&&ze.cciGroup.id===E.id){ne=_e,P.add(_e);break}}if(!ne){if(V===0&&!P.has(`${s().editPaneId}_CCI`))ne=`${s().editPaneId}_CCI`;else{let _e=2;for(;P.has(`pane_CCI_${_e}_CCI`)||g.includes(`pane_CCI_${_e}_CCI`);)_e+=1;ne=`pane_CCI_${_e}_CCI`}P.add(ne)}y.set(E.id,ne)});const I=Array.from(y.values()),L=g.filter(E=>!I.includes(E));L.forEach(E=>{var ne;const V=r().saveInds[E];if(V&&V.pane_id){console.log("ðŸ—‘ï¸ Removing CCI indicator from pane:",V.pane_id,"key:",E);try{(ne=n())==null||ne.removeIndicator({paneId:V.pane_id,name:"CCI"})}catch(_e){console.log("Error removing excess CCI indicator:",_e)}}}),i(sa).forEach((E,V)=>{var St,st;const ne=[E.period],_e=y.get(E.id),ze={lines:[{color:E.color,size:E.thickness,style:E.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:E.lineStyle==="dashed"?[4,4]:E.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1}]},Lt=g.includes(_e)?r().saveInds[_e]:null;if(Lt&&Lt.pane_id)console.log("ðŸ”„ Updating existing CCI in pane:",Lt.pane_id),(St=n())==null||St.overrideIndicator({name:"CCI",calcParams:ne,styles:ze,paneId:Lt.pane_id});else{const ko=_e===`${s().editPaneId}_CCI`?s().editPaneId:_e.replace("_CCI","");console.log("ðŸ†• Creating new CCI with pane ID:",ko,"key:",_e),(st=n())==null||st.createIndicator({name:"CCI",calcParams:ne,styles:ze},!0,{id:ko})}}),d.update(E=>(L.forEach(V=>{delete E.saveInds[V],console.log("ðŸ—‘ï¸ Deleted save data for key:",V)}),i(sa).forEach((V,ne)=>{const _e=y.get(V.id),ze=_e===`${s().editPaneId}_CCI`?s().editPaneId:_e.replace("_CCI","");console.log(`ðŸ’¾ Saving CCI group ${ne+1} with key:`,_e),E.saveInds[_e]={name:"CCI",cciGroup:V,pane_id:ze,groupIndex:ne,cciGroups:ne===0?[...i(sa)]:void 0,params:[V.period]}}),E))}function V0(g){if(!i(Sl)||i(sa).length<=1)return;const y=i(sa).findIndex(P=>P.id===g);y!==-1&&(console.log("ðŸ—‘ï¸ Removing CCI group at index:",y,"ID:",g),b(sa,$(i(sa).filter(P=>P.id!==g))),su(),console.log("âœ… CCI group removed. Remaining groups:",i(sa).length))}function Bl(){if(!i(qr))return;const y=Object.values(r().saveInds||{}).filter(P=>(P==null?void 0:P.name)==="SAR").filter(P=>(P==null?void 0:P.pane_id)==="candle_pane");if(y.length>0){const P=y[0];P.sarGroups&&Array.isArray(P.sarGroups)&&P.sarGroups.length>0?b(cl,$([...P.sarGroups])):b(cl,$(y.map(I=>{const[L=.02,E=.02,V=.2]=I.params||[];return{id:Jo(),start:L,increment:E,maxValue:V,color:"#2563eb",dotSize:1}})))}else b(cl,$([{id:Jo(),start:.02,increment:.02,maxValue:.2,color:"#2563eb",dotSize:1}]));n()&&i(cl).length>0&&vc()}function pp(g){!i(qr)||i(cl).length<=1||(b(cl,$(i(cl).filter(y=>y.id!==g))),vc())}function q0(g){!i(qr)||!n()||g>=i(cl).length||vc()}function vc(){if(!n()||!i(qr))return;const g="candle_pane";for(let y=0;y<6;(y+=1)-1)try{n().removeIndicator({paneId:g,name:"SAR"})}catch{}i(cl).forEach(y=>{var L;const P=[y.start,y.increment,y.maxValue],I={lines:[{color:y.color,size:y.dotSize,style:de.Solid}]};(L=n())==null||L.createIndicator({name:"SAR",calcParams:P,styles:I},!0,{id:g})})}function fp(){if(!i(jl))return;const g=`${s().editPaneId}_SMARTTREND`,y=r().saveInds[g];if(y&&y.superTrendGroups&&y.superTrendGroups.length>0)b(za,$([...y.superTrendGroups]));else if(y&&Array.isArray(y.params)){const P=Number(y.params[0]??10),I=Number(y.params[1]??3);b(za,$([{id:Jo(),period:P,multiplier:I,showLabels:!0,styles:{uptrend:{color:"#00FF00",thickness:1,lineStyle:"dashed"},downtrend:{color:"#FF0000",thickness:1,lineStyle:"dashed"}}}]))}else i(za).length===0&&b(za,$([{id:Jo(),period:10,multiplier:3,showLabels:!0,styles:{uptrend:{color:"#00FF00",thickness:1,lineStyle:"dashed"},downtrend:{color:"#FF0000",thickness:1,lineStyle:"dashed"}}}]));iu()}function Sv(g){!i(jl)||i(za).length<=1||(b(za,$(i(za).filter(y=>y.id!==g))),iu())}function Sc(g){!i(jl)||!n()||g>=i(za).length||(i(za)[g],iu())}function iu(){if(!n()||!i(jl))return;const g="candle_pane";for(let y=0;y<6;(y+=1)-1)try{n().removeIndicator({paneId:g,name:"SMARTTREND"})}catch{}i(za).forEach((y,P)=>{var E;const I=[y.period,y.multiplier],L={lines:[{color:y.styles.uptrend.color,size:y.styles.uptrend.thickness,style:y.styles.uptrend.lineStyle==="dashed"?de.Dashed:de.Solid}]};(E=n())==null||E.createIndicator({name:"SMARTTREND",calcParams:I,styles:L,extendData:{showLabels:y.showLabels,uptrendColor:y.styles.uptrend.color,downtrendColor:y.styles.downtrend.color,uptrendThickness:y.styles.uptrend.thickness,downtrendThickness:y.styles.downtrend.thickness,uptrendLineStyle:y.styles.uptrend.lineStyle,downtrendLineStyle:y.styles.downtrend.lineStyle}},!0,{id:g})}),d.update(y=>(Object.keys(y.saveInds).forEach(P=>{y.saveInds[P].name==="SMARTTREND"&&delete y.saveInds[P]}),i(za).forEach((P,I)=>{const L=I===0?`${g}_SMARTTREND`:`${g}_SMARTTREND_${I+1}`;y.saveInds[L]={name:"SMARTTREND",pane_id:g,params:[P.period,P.multiplier],superTrendGroup:P,groupIndex:I}}),y))}function Zl(){if(!i(Ii))return;const g=Object.keys(r().saveInds).filter(y=>r().saveInds[y].name==="DMI").sort((y,P)=>y===`${s().editPaneId}_DMI`?-1:P===`${s().editPaneId}_DMI`?1:y.localeCompare(P));if(console.log("ðŸ” Found existing DMI keys:",g),g.length>0){b(ar,$([]));let y=1;g.forEach((P,I)=>{const L=r().saveInds[P];if(L.dmiGroup){const E={...L.dmiGroup};E.name=y===1?"DMI":`DMI${y}`,i(ar).push(E),y+=1}else L.params&&L.params.length>=2&&(i(ar).push({id:Jo(),name:y===1?"DMI":`DMI${y}`,diPeriod:L.params[0]||14,adxPeriod:L.params[1]||6,styles:{diPlus:{color:"#22c55e",thickness:1,lineStyle:"solid"},diMinus:{color:"#ef4444",thickness:1,lineStyle:"solid"},adx:{color:"#3b82f6",thickness:1,lineStyle:"solid"}}}),y+=1)}),console.log("âœ… Loaded",i(ar).length,"existing DMI groups with proper naming")}else i(ar).length===0&&(b(ar,$([{id:Jo(),name:"DMI",diPeriod:14,adxPeriod:6,styles:{diPlus:{color:"#22c55e",thickness:1,lineStyle:"solid"},diMinus:{color:"#ef4444",thickness:1,lineStyle:"solid"},adx:{color:"#3b82f6",thickness:1,lineStyle:"solid"}}}])),console.log("ðŸ†• Created default DMI group"))}function Cv(){if(!i(Fl))return;const g=Object.keys(r().saveInds).filter(y=>r().saveInds[y].name==="CR").sort((y,P)=>y===`${s().editPaneId}_CR`?-1:P===`${s().editPaneId}_CR`?1:y.localeCompare(P));console.log("ðŸ” Found existing CR keys:",g),g.length>0?(b(na,$([])),g.forEach((y,P)=>{var L,E,V,ne,_e;const I=r().saveInds[y];I.crGroup?i(na).push({...I.crGroup}):i(na).push({id:Jo(),name:`CR${P+1}`,crPeriod:((L=I.params)==null?void 0:L[0])||26,crMa1Period:((E=I.params)==null?void 0:E[1])||10,crMa2Period:((V=I.params)==null?void 0:V[2])||20,crMa3Period:((ne=I.params)==null?void 0:ne[3])||40,crMa4Period:((_e=I.params)==null?void 0:_e[4])||60,styles:{cr:{color:"#FF6B35",thickness:2,lineStyle:"solid"},ma1:{color:"#2196F3",thickness:1,lineStyle:"solid"},ma2:{color:"#4CAF50",thickness:1,lineStyle:"solid"},ma3:{color:"#FF9800",thickness:1,lineStyle:"solid"},ma4:{color:"#9C27B0",thickness:1,lineStyle:"solid"}}})}),console.log("âœ… Loaded",i(na).length,"existing CR groups")):i(na).length===0&&(b(na,$([{id:Jo(),name:"CR",crPeriod:26,crMa1Period:10,crMa2Period:20,crMa3Period:40,crMa4Period:60,styles:{cr:{color:"#FF6B35",thickness:2,lineStyle:"solid"},ma1:{color:"#2196F3",thickness:1,lineStyle:"solid"},ma2:{color:"#4CAF50",thickness:1,lineStyle:"solid"},ma3:{color:"#FF9800",thickness:1,lineStyle:"solid"},ma4:{color:"#9C27B0",thickness:1,lineStyle:"solid"}}}])),console.log("ðŸ†• Created default CR group"))}function jc(){if(!i(Ii)||!n())return;console.log("ðŸ”„ Applying DMI changes in real-time, groups:",i(ar).length);const g=Object.keys(r().saveInds).filter(E=>r().saveInds[E].name==="DMI").sort((E,V)=>E===`${s().editPaneId}_DMI`?-1:V===`${s().editPaneId}_DMI`?1:E.localeCompare(V));console.log("ðŸ” Existing DMI keys:",g);const y=new Map,P=new Set;i(ar).forEach((E,V)=>{for(const ne of g){if(P.has(ne))continue;const _e=r().saveInds[ne];if(_e&&_e.dmiGroup&&_e.dmiGroup.id===E.id){y.set(E.id,ne),P.add(ne),console.log(`âœ… Matched group ${V+1} (ID: ${E.id}) to existing key: ${ne}`);break}}}),i(ar).forEach((E,V)=>{if(y.has(E.id))return;let ne=null;if(V===0&&!P.has(`${s().editPaneId}_DMI`)&&!g.includes(`${s().editPaneId}_DMI`))ne=`${s().editPaneId}_DMI`;else{let _e=2;for(;P.has(`pane_DMI_${_e}_DMI`)||g.includes(`pane_DMI_${_e}_DMI`);)_e+=1;ne=`pane_DMI_${_e}_DMI`}y.set(E.id,ne),P.add(ne),console.log(`ðŸ†• Assigned new key for group ${V+1} (ID: ${E.id}): ${ne}`)});const I=Array.from(y.values()),L=g.filter(E=>!I.includes(E));L.forEach(E=>{var ne;const V=r().saveInds[E];if(V&&V.pane_id){console.log("ðŸ—‘ï¸ Removing DMI indicator from pane:",V.pane_id,"key:",E);try{(ne=n())==null||ne.removeIndicator({paneId:V.pane_id,name:"DMI"})}catch(_e){console.log("Error removing excess DMI indicator:",_e)}}}),i(ar).forEach((E,V)=>{var ko,gn,er,aa;const ne=[E.diPeriod,E.adxPeriod],_e=y.get(E.id),ze=V===0?s().editPaneId:`pane_DMI_${V+1}`;console.log(`ðŸ“ Group ${V+1} (ID: ${E.id}) -> Target pane: ${ze}, Save key: ${_e}`);const Lt={lines:[{color:E.styles.diPlus.color,size:E.styles.diPlus.thickness,style:E.styles.diPlus.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:E.styles.diPlus.lineStyle==="dashed"?[4,4]:E.styles.diPlus.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1},{color:E.styles.diMinus.color,size:E.styles.diMinus.thickness,style:E.styles.diMinus.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:E.styles.diMinus.lineStyle==="dashed"?[4,4]:E.styles.diMinus.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1},{color:E.styles.adx.color,size:E.styles.adx.thickness,style:E.styles.adx.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:E.styles.adx.lineStyle==="dashed"?[4,4]:E.styles.adx.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1}]},St=g.includes(_e)?r().saveInds[_e]:null,st=St==null?void 0:St.pane_id;if(st&&st!==ze){console.log(`ðŸ”€ Moving DMI from pane ${st} to ${ze}`);try{(ko=n())==null||ko.removeIndicator({paneId:st,name:"DMI"})}catch(dl){console.log("Note: Indicator may not exist in old pane:",dl)}(gn=n())==null||gn.createIndicator({name:"DMI",calcParams:ne,styles:Lt},!0,{id:ze})}else st?(console.log(`ðŸ”„ Updating existing DMI in pane: ${ze}`),(er=n())==null||er.overrideIndicator({name:"DMI",calcParams:ne,styles:Lt,paneId:ze})):(console.log(`ðŸ†• Creating new DMI in pane: ${ze}`),(aa=n())==null||aa.createIndicator({name:"DMI",calcParams:ne,styles:Lt},!0,{id:ze}))}),d.update(E=>(L.forEach(V=>{delete E.saveInds[V],console.log("ðŸ—‘ï¸ Deleted save data for key:",V)}),i(ar).forEach((V,ne)=>{const _e=y.get(V.id),ze=ne===0?s().editPaneId:`pane_DMI_${ne+1}`;console.log(`ðŸ’¾ Saving DMI group ${ne+1} with key: ${_e}, pane: ${ze}`),E.saveInds[_e]={name:"DMI",dmiGroup:V,pane_id:ze,groupIndex:ne,dmiGroups:ne===0?[...i(ar)]:void 0,params:[V.diPeriod,V.adxPeriod]}}),E))}function S_(g){if(!i(Ii)||i(ar).length<=1)return;const y=i(ar).findIndex(P=>P.id===g);y!==-1&&(console.log("ðŸ—‘ï¸ Removing DMI group at index:",y,"ID:",g),b(ar,$(i(ar).filter(P=>P.id!==g))),jc(),console.log("âœ… DMI group removed. Remaining groups:",i(ar).length))}function Pl(){if(!i(Fl)||!n())return;console.log("ðŸ”„ Applying CR changes in real-time, groups:",i(na).length);const g=Object.keys(r().saveInds).filter(E=>r().saveInds[E].name==="CR").sort((E,V)=>E===`${s().editPaneId}_CR`?-1:V===`${s().editPaneId}_CR`?1:E.localeCompare(V));console.log("ðŸ” Existing CR keys:",g);const y=new Map,P=new Set;i(na).forEach((E,V)=>{let ne=null;for(const _e of g){if(P.has(_e))continue;const ze=r().saveInds[_e];if(ze&&ze.crGroup&&ze.crGroup.id===E.id){ne=_e,P.add(_e);break}}if(!ne){if(V===0&&!P.has(`${s().editPaneId}_CR`))ne=`${s().editPaneId}_CR`;else{let _e=2;for(;P.has(`pane_CR_${_e}_CR`)||g.includes(`pane_CR_${_e}_CR`);)_e+=1;ne=`pane_CR_${_e}_CR`}P.add(ne)}y.set(E.id,ne)});const I=Array.from(y.values()),L=g.filter(E=>!I.includes(E));L.forEach(E=>{var ne;const V=r().saveInds[E];if(V&&V.pane_id){console.log("ðŸ—‘ï¸ Removing CR indicator from pane:",V.pane_id,"key:",E);try{(ne=n())==null||ne.removeIndicator({paneId:V.pane_id,name:"CR"})}catch(_e){console.log("Error removing excess CR indicator:",_e)}}}),i(na).forEach((E,V)=>{var St,st;const ne=[E.crPeriod,E.crMa1Period,E.crMa2Period,E.crMa3Period,E.crMa4Period],_e=y.get(E.id),ze={lines:[{color:E.styles.cr.color,size:E.styles.cr.thickness,style:E.styles.cr.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:E.styles.cr.lineStyle==="dashed"?[4,4]:E.styles.cr.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1},{color:E.styles.ma1.color,size:E.styles.ma1.thickness,style:E.styles.ma1.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:E.styles.ma1.lineStyle==="dashed"?[4,4]:E.styles.ma1.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1},{color:E.styles.ma2.color,size:E.styles.ma2.thickness,style:E.styles.ma2.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:E.styles.ma2.lineStyle==="dashed"?[4,4]:E.styles.ma2.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1},{color:E.styles.ma3.color,size:E.styles.ma3.thickness,style:E.styles.ma3.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:E.styles.ma3.lineStyle==="dashed"?[4,4]:E.styles.ma3.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1},{color:E.styles.ma4.color,size:E.styles.ma4.thickness,style:E.styles.ma4.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:E.styles.ma4.lineStyle==="dashed"?[4,4]:E.styles.ma4.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1}]},Lt=g.includes(_e)?r().saveInds[_e]:null;if(Lt&&Lt.pane_id)console.log("ðŸ”„ Updating existing CR in pane:",Lt.pane_id),(St=n())==null||St.overrideIndicator({name:"CR",calcParams:ne,styles:ze,paneId:Lt.pane_id});else{const ko=_e===`${s().editPaneId}_CR`?s().editPaneId:_e.replace("_CR","");console.log("ðŸ†• Creating new CR with pane ID:",ko,"key:",_e),(st=n())==null||st.createIndicator({name:"CR",calcParams:ne,styles:ze},!0,{id:ko})}}),d.update(E=>(L.forEach(V=>{delete E.saveInds[V],console.log("ðŸ—‘ï¸ Deleted save data for key:",V)}),i(na).forEach((V,ne)=>{const _e=y.get(V.id),ze=_e===`${s().editPaneId}_CR`?s().editPaneId:_e.replace("_CR","");console.log(`ðŸ’¾ Saving CR group ${ne+1} with key:`,_e),E.saveInds[_e]={name:"CR",crGroup:V,pane_id:ze,groupIndex:ne,crGroups:ne===0?[...i(na)]:void 0,params:[V.crPeriod,V.crMa1Period,V.crMa2Period,V.crMa3Period,V.crMa4Period]}}),E))}function gp(g){if(!i(Fl)||i(na).length<=1)return;const y=i(na).findIndex(P=>P.id===g);y!==-1&&(console.log("ðŸ—‘ï¸ Removing CR group at index:",y,"ID:",g),b(na,$(i(na).filter(P=>P.id!==g))),Pl(),console.log("âœ… CR group removed. Remaining groups:",i(na).length))}function W0(){if(!i(_a))return;const g=`${s().editPaneId}_ROC`,y=r().saveInds[g];y&&y.rocGroups&&y.rocGroups.length>0?(b(Rr,$([...y.rocGroups])),i(Rr).forEach((P,I)=>{P.paneId||(P.paneId=I===0?s().editPaneId:void 0)})):y&&y.rocGroup?(b(Rr,$([y.rocGroup])),i(Rr)[0]&&!i(Rr)[0].paneId&&(i(Rr)[0].paneId=s().editPaneId)):i(Rr).length===0&&b(Rr,$([{id:Jo(),period:14,period2:21,paneId:s().editPaneId,styles:{roc:{color:"#2563eb",thickness:1,lineStyle:"solid"},roc2:{color:"#dc2626",thickness:1,lineStyle:"solid",visible:!1}}}]))}function Zu(){var g;if(!(!n()||!i(_a)))try{const P=((g=n())==null?void 0:g.getIndicators()).filter(I=>I.name==="ROC");console.log("ðŸ” Detecting paneIds for ROC indicators:",P.length),P.forEach((I,L)=>{L<i(Rr).length&&!i(Rr)[L].paneId&&(i(Rr)[L].paneId=I.paneId,console.log(`ðŸ“ Set paneId ${I.paneId} for ROC group ${L}`))})}catch(y){console.error("âŒ Error detecting ROC paneIds:",y)}}function G0(){var ze,Lt;if(!i(_a)||!n())return;const g=["#2563eb","#dc2626","#16a34a","#ca8a04","#9333ea","#c2410c"],y=i(Rr).length%g.length,P={id:Jo(),period:14,period2:21,paneId:void 0,styles:{roc:{color:g[y],thickness:1,lineStyle:"solid"},roc2:{color:g[(y+1)%g.length],thickness:1,lineStyle:"solid",visible:!1}}};i(Rr).push(P);const I=[P.period];let L=de.Solid,E=[2,2];P.styles.roc.lineStyle==="dashed"?(L=de.Dashed,E=[4,4]):P.styles.roc.lineStyle==="dotted"&&(L=de.Dashed,E=[2,2]);const V={lines:[{color:P.styles.roc.color,size:P.styles.roc.thickness,style:L,dashedValue:E,smooth:!1}]},ne={name:"ROC",calcParams:I,styles:V,figures:[{key:"roc",title:"ROC: ",type:"line"}]};let _e;i(Rr).length===1?((ze=n())==null||ze.overrideIndicator({...ne,paneId:s().editPaneId}),_e=s().editPaneId):_e=(Lt=n())==null?void 0:Lt.createIndicator(ne,!1,{axis:{gap:{bottom:2}}}),P.paneId=_e??void 0,d.update(St=>{const st=`${s().editPaneId}_ROC`;return St.saveInds[st]||(St.saveInds[st]={name:"ROC",pane_id:s().editPaneId,params:[P.period],rocGroups:[]}),St.saveInds[st].rocGroups||(St.saveInds[st].rocGroups=[]),St.saveInds[st].rocGroups=[...i(Rr)],St})}function C_(g){var I,L;if(!i(_a)||i(Rr).length<=1)return;const y=i(Rr).findIndex(E=>E.id===g);if(y===-1)return;console.log("ðŸ—‘ï¸ Removing ROC group at index:",y,"with ID:",g);const P=i(Rr).length;if(i(Rr).splice(y,1),console.log(`ðŸ“ Removed ROC group: ${P} -> ${i(Rr).length}`),i(Rr).forEach((E,V)=>{E.name=`ROC #${V+1}`}),n())try{const V=((I=n())==null?void 0:I.getIndicators()).filter(ne=>ne.name==="ROC");console.log("ðŸ“ˆ ROC indicators found:",V.length);for(const ne of V)console.log("ðŸ—‘ï¸ Removing ROC from pane:",ne.paneId),(L=n())==null||L.removeIndicator({paneId:ne.paneId,name:"ROC"});i(Rr).forEach((ne,_e)=>{var ko;let ze=de.Solid,Lt=[2,2];ne.styles.roc.lineStyle==="dashed"?(ze=de.Dashed,Lt=[4,4]):ne.styles.roc.lineStyle==="dotted"&&(ze=de.Dashed,Lt=[2,2]);const St={lines:[{color:ne.styles.roc.color,size:ne.styles.roc.thickness,style:ze,dashedValue:Lt}]};console.log("âž• Re-adding ROC group:",`ROC_${_e+1}`,"at index:",_e);const st=(ko=n())==null?void 0:ko.createIndicator({name:"ROC",calcParams:[ne.period],styles:St,figures:[{key:"roc",title:"ROC: ",type:"line"}]},!1);st&&(ne.paneId=st,d.update(gn=>{const er=`${st}_ROC`;return gn.saveInds[er]||(gn.saveInds[er]={name:"ROC",pane_id:st,rocGroups:[]}),gn.saveInds[er].rocGroups||(gn.saveInds[er].rocGroups=[]),gn.saveInds[er].rocGroups[_e]={...ne},gn}))}),console.log("âœ… Successfully updated ROC indicators on chart")}catch(E){console.error("âŒ Error updating ROC indicators:",E)}console.log("âœ… ROC group removed. Remaining groups:",i(Rr).length)}function Iv(g){var V,ne;const y=i(Rr)[g];if(!y||!n()){console.warn("âŒ updateRocIndicator: Missing group or chart",{group:y,chart:!!n()});return}console.log("ðŸ”„ updateRocIndicator called:",{groupIndex:g,group:y});let P=de.Solid,I=[2,2];y.styles.roc.lineStyle==="dashed"?(P=de.Dashed,I=[4,4]):y.styles.roc.lineStyle==="dotted"&&(P=de.Dashed,I=[2,2]);const E=((V=n())==null?void 0:V.getIndicators()).filter(_e=>_e.name==="ROC");if(console.log("ðŸ“Š Found ROC indicators on chart:",E.length),console.log("ðŸ“Š Looking for group index:",g),E.length>g){const _e=E[g];console.log("âœ… Found matching ROC indicator by index, updating styles...");const ze=(ne=n())==null?void 0:ne.overrideIndicator({name:"ROC",paneId:_e.paneId,calcParams:[y.period],styles:{lines:[{color:y.styles.roc.color,size:y.styles.roc.thickness,style:P,dashedValue:I,smooth:!1}]},figures:[{key:"roc",title:"ROC: ",type:"line"}]});console.log("ðŸŽ¨ overrideIndicator result:",ze),console.log("ðŸŽ¨ Applied styles:",{color:y.styles.roc.color,size:y.styles.roc.thickness,style:P,dashedValue:I});const Lt=`${_e.paneId}_ROC`;console.log("ðŸ’¾ Using save key:",Lt),d.update(St=>{St.saveInds[Lt]||(St.saveInds[Lt]={name:"ROC",pane_id:_e.paneId,params:[y.period],rocGroups:[]}),St.saveInds[Lt].rocGroups||(St.saveInds[Lt].rocGroups=[]);const st=St.saveInds[Lt].rocGroups||[];for(;st.length<=g;)st.push({});return st[g]={...y},St.saveInds[Lt].rocGroups=st,St.saveInds[Lt].params=[y.period],console.log("ðŸ’¾ Persisted ROC changes to save data:",Lt,y),St}),console.log("âœ… ROC indicator updated successfully:",g,y)}else console.error("âŒ ROC indicator not found on chart for group index:",g),console.log("ðŸ“Š Available ROC indicators:",E.length),console.log("ðŸ“Š Requested group index:",g)}function Xu(){if(!i(kl))return;b(Ys,$([]));const g=Object.keys(r().saveInds).filter(y=>r().saveInds[y].name==="PSY").sort((y,P)=>y===`${s().editPaneId}_PSY`?-1:P===`${s().editPaneId}_PSY`?1:y.localeCompare(P));g.length>0?b(Ys,$(g.map((y,P)=>{const I=r().saveInds[y];if(I.psyGroup)return{...I.psyGroup,id:I.psyGroup.id||Jo(),actualPaneId:I.pane_id};if(I.psyGroups){const L=I.psyGroups[P]||I.psyGroups[0];return{...L,id:L.id||Jo(),actualPaneId:I.pane_id}}else{const[L=12,E=6]=I.params||[12,6],V=["#2563eb","#dc2626","#16a34a","#ca8a04","#9333ea","#c2410c"];return{id:Jo(),psyPeriod:L,mapsyPeriod:E,showMapsy:!0,actualPaneId:I.pane_id,styles:{psy:{color:V[P%V.length],thickness:1,lineStyle:"solid"},mapsy:{color:V[(P+1)%V.length],thickness:1,lineStyle:"solid"}}}}}))):i(Ys).push({id:Jo(),psyPeriod:12,mapsyPeriod:6,showMapsy:!0,styles:{psy:{color:"#2563eb",thickness:1,lineStyle:"solid"},mapsy:{color:"#dc2626",thickness:1,lineStyle:"solid"}}}),b(Ys,$(i(Ys).map(y=>({...y,id:y.id||Jo()}))))}function I_(){var L;if(!i(kl))return;const g=["#2563eb","#dc2626","#16a34a","#ca8a04","#9333ea","#c2410c"],y=i(Ys).length%g.length,P={id:Jo(),psyPeriod:12,mapsyPeriod:6,showMapsy:!0,actualPaneId:void 0,styles:{psy:{color:g[y],thickness:1,lineStyle:"solid"},mapsy:{color:g[(y+1)%g.length],thickness:1,lineStyle:"solid"}}};if(i(Ys).push(P),i(Ys).length>1){let E=2;for(;Object.keys(r().saveInds).some(gn=>gn===`psy_${String(E).padStart(3,"0")}_PSY`);)E+=1;const V=i(Ys).length-1,ne=[P.psyPeriod,P.mapsyPeriod],_e=[{key:"psy",title:"PSY: ",type:"line"}];P.showMapsy&&_e.push({key:"mapsy",title:"MAPSY: ",type:"line"});const ze={lines:[]};let Lt=de.Solid,St=[2,2];if(P.styles.psy.lineStyle==="dashed"?(Lt=de.Dashed,St=[4,4]):P.styles.psy.lineStyle==="dotted"&&(Lt=de.Dashed,St=[2,2]),ze.lines.push({color:P.styles.psy.color,size:P.styles.psy.thickness,style:Lt,dashedValue:St,smooth:!1}),P.showMapsy){let gn=de.Solid,er=[2,2];P.styles.mapsy.lineStyle==="dashed"?(gn=de.Dashed,er=[4,4]):P.styles.mapsy.lineStyle==="dotted"&&(gn=de.Dashed,er=[2,2]),ze.lines.push({color:P.styles.mapsy.color,size:P.styles.mapsy.thickness,style:gn,dashedValue:er,smooth:!1})}const st=`psy_${String(E).padStart(3,"0")}`;console.log(`ðŸ†• Immediately creating PSY ${E} with pane ID:`,st),((L=n())==null?void 0:L.createIndicator({name:"PSY",calcParams:ne,styles:ze,figures:_e},!1,{id:st,axis:{gap:{bottom:2}}}))&&(console.log(`âœ… PSY ${E} created with pane ID:`,st),P.actualPaneId=st,d.update(gn=>{const er=`psy_${String(E).padStart(3,"0")}_PSY`;return gn.saveInds[er]={name:"PSY",psyGroup:P,pane_id:st,groupIndex:V,params:[P.psyPeriod,P.mapsyPeriod]},gn}))}else console.log("ðŸ“ New PSY group will be added to edit pane on confirm")}function P_(g){var P,I,L;if(!i(kl)||i(Ys).length<=1)return;const y=i(Ys).findIndex(E=>E.id===g);if(y!==-1){console.log("ðŸ—‘ï¸ Removing PSY group at index:",y,"ID:",g);try{if(y===0&&i(Ys).length>1){console.log("ðŸ”„ Special handling: First PSY removed, promoting second PSY to first position"),b(Ys,$(i(Ys).filter(V=>V.id!==g))),console.log("âœ… PSY group removed from array. Remaining groups:",i(Ys).length);const E=i(Ys)[0];E.actualPaneId&&(console.log("ðŸ—‘ï¸ Removing old second PSY from sub-pane:",E.actualPaneId),(P=n())==null||P.removeIndicator({paneId:E.actualPaneId,name:"PSY"})),E.actualPaneId=void 0,console.log("ðŸ“Š Updating PSY in edit pane with new first group settings"),Vc(0)}else{const E=`pane_PSY_${y+1}_PSY`;if(r().saveInds[E]){const V=r().saveInds[E];console.log("ðŸ—‘ï¸ Removing PSY from pane:",V.pane_id),(I=n())==null||I.removeIndicator({paneId:V.pane_id,name:"PSY"}),console.log("âœ… Successfully removed PSY from pane:",V.pane_id)}else{const V=i(Ys)[y];V.actualPaneId&&(console.log("ðŸ—‘ï¸ Removing PSY from actual pane:",V.actualPaneId),(L=n())==null||L.removeIndicator({paneId:V.actualPaneId,name:"PSY"}),console.log("âœ… Successfully removed PSY from actual pane:",V.actualPaneId))}b(Ys,$(i(Ys).filter(V=>V.id!==g))),console.log("âœ… PSY group removed from array. Remaining groups:",i(Ys).length)}d.update(E=>(Object.keys(E.saveInds).forEach(V=>{E.saveInds[V].name==="PSY"&&(console.log("ðŸ§¹ Cleaning saved state for key:",V),delete E.saveInds[V])}),i(Ys).forEach((V,ne)=>{const _e=ne===0?`${s().editPaneId}_PSY`:`pane_PSY_${ne+1}_PSY`,ze=ne===0?s().editPaneId:V.actualPaneId||`pane_PSY_${ne+1}`;E.saveInds[_e]={name:"PSY",psyGroup:V,pane_id:ze,groupIndex:ne,psyGroups:ne===0?[...i(Ys)]:void 0,params:[V.psyPeriod,V.mapsyPeriod]},console.log("ðŸ’¾ Re-saved PSY group",ne,"with key:",_e,"and pane ID:",ze)}),E))}catch(E){console.error("âŒ Error removing PSY group:",E)}}}function Vc(g){var _e;const y=i(Ys)[g];if(!y||!n())return;const P=g===0?s().editPaneId:y.actualPaneId||`psy_${String(g+1).padStart(3,"0")}`,I=[{key:"psy",title:"PSY: ",type:"line"}];y.showMapsy&&I.push({key:"mapsy",title:"MAPSY: ",type:"line"});const L={lines:[]};let E=de.Solid,V=[2,2];if(y.styles.psy.lineStyle==="dashed"?(E=de.Dashed,V=[4,4]):y.styles.psy.lineStyle==="dotted"&&(E=de.Dashed,V=[2,2]),L.lines.push({color:y.styles.psy.color,size:y.styles.psy.thickness,style:E,dashedValue:V,smooth:!1}),y.showMapsy){let ze=de.Solid,Lt=[2,2];y.styles.mapsy.lineStyle==="dashed"?(ze=de.Dashed,Lt=[4,4]):y.styles.mapsy.lineStyle==="dotted"&&(ze=de.Dashed,Lt=[2,2]),L.lines.push({color:y.styles.mapsy.color,size:y.styles.mapsy.thickness,style:ze,dashedValue:Lt,smooth:!1})}(_e=n())==null||_e.overrideIndicator({name:"PSY",paneId:P,styles:L,calcParams:[y.psyPeriod,y.mapsyPeriod],figures:I});const ne=g===0?`${s().editPaneId}_PSY`:`psy_${String(g+1).padStart(3,"0")}_PSY`;d.update(ze=>(ze.saveInds[ne]&&(ze.saveInds[ne].params=[y.psyPeriod,y.mapsyPeriod],ze.saveInds[ne].psyGroup={...y},console.log("ðŸ’¾ Persisted PSY changes to save data:",ne,y)),ze)),console.log("ðŸ”„ Updated PSY indicator:",g,y)}function _p(){if(!i(nl))return;b(pi,$([]));const g=Object.entries(r().saveInds).filter(([y,P])=>P.name==="OBV");g.length>0?(g.sort(([y,P],[I,L])=>{const E=P.groupIndex||0,V=L.groupIndex||0;return E-V}),g.forEach(([y,P])=>{var L,E;const I=P;if(I.obvGroup){const V=I.obvGroup;I.pane_id&&(V.actualPaneId=I.pane_id),i(pi).push(V)}else if(I.obvGroups&&I.obvGroups.length>0)b(pi,$([...I.obvGroups])),i(pi).forEach((V,ne)=>{V.actualPaneId||(ne===0?V.actualPaneId=s().editPaneId:I.pane_id&&(V.actualPaneId=I.pane_id))});else{const V={id:Jo(),obvPeriod:((L=I.params)==null?void 0:L[0])||30,maobvPeriod:((E=I.params)==null?void 0:E[1])||10,showMaobv:!0,actualPaneId:void 0,styles:{obv:{color:"#FF6B35",thickness:2,lineStyle:"solid"},maobv:{color:"#2196F3",thickness:1,lineStyle:"solid"}}};I.pane_id&&(V.actualPaneId=I.pane_id),i(pi).push(V)}})):i(pi).push({id:Jo(),obvPeriod:30,maobvPeriod:10,showMaobv:!0,actualPaneId:s().editPaneId,styles:{obv:{color:"#FF6B35",thickness:2,lineStyle:"solid"},maobv:{color:"#2196F3",thickness:1,lineStyle:"solid"}}})}function M_(){if(!i(nl))return;const g=["#FF6B35","#2196F3","#16a34a","#ca8a04","#9333ea","#c2410c"],y=i(pi).length%g.length,P={id:Jo(),obvPeriod:30,maobvPeriod:10,showMaobv:!0,actualPaneId:void 0,styles:{obv:{color:g[y],thickness:2,lineStyle:"solid"},maobv:{color:g[(y+1)%g.length],thickness:1,lineStyle:"solid"}}},I=new Set;i(pi).forEach(V=>{V.actualPaneId&&I.add(V.actualPaneId)}),Object.keys(r().saveInds).forEach(V=>{r().saveInds[V]&&r().saveInds[V].name==="OBV"&&r().saveInds[V].pane_id&&I.add(r().saveInds[V].pane_id)}),console.log("ðŸ” Existing OBV pane IDs:",Array.from(I));let L=2;for(;I.has(`pane_OBV_${L}`);)L+=1;const E=`pane_OBV_${L}`;P.actualPaneId=E,console.log("âœ… Adding new OBV group with pane ID:",E),i(pi).push(P),kd()}function T_(g){var I;if(!i(nl)||i(pi).length<=1)return;b(wo,!0),console.log("ðŸš« Set obvRemovalInProgress = true");const y=i(pi).findIndex(L=>L.id===g);if(y===-1){b(wo,!1);return}const P=i(pi)[y];console.log("ðŸ—‘ï¸ Removing OBV group at index:",y,"ID:",g),console.log("ðŸ—‘ï¸ Group to remove:",P);try{let L;L=P.actualPaneId,L||Object.keys(r().saveInds).forEach(E=>{const V=r().saveInds[E];V&&V.name==="OBV"&&V.groupIndex===y&&(L=V.pane_id)}),!L&&y===0&&(L=s().editPaneId),console.log("ðŸ—‘ï¸ Removing OBV at index",y,"from pane:",L),L&&(console.log("ðŸ—‘ï¸ Removing OBV indicator from pane:",L),(I=n())==null||I.removeIndicator({paneId:L,name:"OBV"}),console.log("âœ… Successfully removed OBV from pane:",L)),b(pi,$(i(pi).filter(E=>E.id!==g))),console.log("âœ… OBV group removed from array. Remaining groups:",i(pi).length),d.update(E=>{const V=[];return Object.keys(E.saveInds).forEach(ne=>{E.saveInds[ne]&&E.saveInds[ne].name==="OBV"&&V.push(ne)}),console.log("ðŸ§¹ Clearing all OBV save data:",V),V.forEach(ne=>delete E.saveInds[ne]),i(pi).forEach((ne,_e)=>{const ze=ne.actualPaneId||s().editPaneId;if(!ze){console.error(`âŒ No pane ID for OBV group ${_e} during removal cleanup`);return}const Lt=`${ze}_OBV`;E.saveInds[Lt]={name:"OBV",obvGroup:ne,pane_id:ze,groupIndex:_e,obvGroups:_e===0?[...i(pi)]:void 0,params:[ne.obvPeriod,ne.maobvPeriod]},console.log("ðŸ’¾ Re-saved OBV group",_e,"with key:",Lt,"pane:",ze)}),E}),console.log("âœ… OBV removal and reindexing completed"),setTimeout(()=>{b(wo,!1),console.log("âœ… Reset obvRemovalInProgress = false")},200)}catch(L){console.error("âŒ Error removing OBV group:",L)}}function kd(){if(!(!i(nl)||!n()))try{console.log("ðŸ”„ Applying OBV changes to chart..."),console.log("ðŸ”§ Current OBV groups:",i(pi).length);const g=Object.keys(r().saveInds).filter(P=>r().saveInds[P]&&r().saveInds[P].name==="OBV");console.log("ðŸ”§ Existing OBV keys in save data:",g);const y=new Set;i(pi).forEach((P,I)=>{const L=P.actualPaneId||s().editPaneId;y.add(L)}),console.log("ðŸ”§ Pane IDs that should exist:",Array.from(y)),g.forEach(P=>{var L;const I=r().saveInds[P];if(I&&I.pane_id&&!y.has(I.pane_id))try{console.log("ðŸ—‘ï¸ Removing stale OBV indicator from pane:",I.pane_id),(L=n())==null||L.removeIndicator({paneId:I.pane_id,name:"OBV"})}catch(E){console.log("âŒ Error removing stale OBV indicator:",E)}}),i(pi).forEach((P,I)=>{var V,ne,_e;const L=[P.obvPeriod,P.maobvPeriod],E={lines:[{color:P.styles.obv.color,size:P.styles.obv.thickness,style:P.styles.obv.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:P.styles.obv.lineStyle==="dashed"?[4,4]:P.styles.obv.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1},{color:P.styles.maobv.color,size:P.styles.maobv.thickness,style:P.styles.maobv.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:P.styles.maobv.lineStyle==="dashed"?[4,4]:P.styles.maobv.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1}]};if(I===0){const ze=P.actualPaneId||s().editPaneId;P.actualPaneId||(P.actualPaneId=s().editPaneId),console.log("ðŸ”„ Updating first OBV in pane:",ze),(V=n())==null||V.overrideIndicator({name:"OBV",calcParams:L,styles:E,paneId:ze})}else{const ze=P.actualPaneId||`pane_OBV_${I+1}`;if(g.find(St=>{const st=r().saveInds[St];return st&&st.pane_id===ze}))console.log("ðŸ”„ Updating existing OBV in pane:",ze),(ne=n())==null||ne.overrideIndicator({name:"OBV",calcParams:L,styles:E,paneId:ze}),P.actualPaneId=ze;else{const St=P.actualPaneId||`pane_OBV_${I+1}`;console.log("ðŸ†• Creating new OBV in pane:",St);const st=(_e=n())==null?void 0:_e.createIndicator({name:"OBV",calcParams:L,styles:E},!0,{id:St,axis:{gap:{bottom:2}}});st&&(P.actualPaneId=St,console.log("âœ… Created new OBV indicator with ID:",st,"in pane:",St))}}}),d.update(P=>{try{Object.keys(P.saveInds).forEach(I=>{P.saveInds[I]&&P.saveInds[I].name==="OBV"&&delete P.saveInds[I]}),i(pi).forEach((I,L)=>{try{const E=I.actualPaneId||s().editPaneId;if(!E){console.error(`âŒ No pane ID for OBV group ${L}`);return}const V=`${E}_OBV`,ne={name:"OBV",obvGroup:I,pane_id:E,groupIndex:L,obvGroups:L===0?[...i(pi)]:void 0,params:[I.obvPeriod,I.maobvPeriod]};P.saveInds[V]=ne,console.log("ðŸ’¾ Saved OBV group",L,"with key:",V,"and pane ID:",E)}catch(E){console.error(`âŒ Error saving OBV group ${L}:`,E)}})}catch(I){console.error("âŒ Error in OBV save operation:",I)}return P}),console.log("âœ… OBV changes applied successfully")}catch(g){console.error("âŒ Critical error in applyObv:",g)}}function H0(){if(!i(Vl))return;console.log("ðŸ”„ Initializing KDJ groups for edit pane:",s().editPaneId);const g=Object.keys(r().saveInds).filter(y=>r().saveInds[y].name==="KDJ").sort((y,P)=>y===`${s().editPaneId}_KDJ`?-1:P===`${s().editPaneId}_KDJ`?1:y.localeCompare(P));console.log("ðŸ” Found KDJ keys:",g),g.length>0?(b(jr,$([])),g.forEach((y,P)=>{const I=r().saveInds[y];if(console.log(`ðŸ”„ Loading KDJ group ${P+1} from key:`,y,I),I){if(I.kdjGroup){const L={...I.kdjGroup};P>0&&I.pane_id&&(L.actualPaneId=I.pane_id),i(jr).push(L)}else if(I.params&&I.params.length>=2){const L={id:Jo(),kPeriod:I.params[0]||9,dPeriod:I.params[1]||3,actualPaneId:void 0,styles:{k:{color:"#FF6B35",thickness:1,lineStyle:"solid"},d:{color:"#2196F3",thickness:1,lineStyle:"solid"},j:{color:"#9C27B0",thickness:1,lineStyle:"solid"}}};P>0&&I.pane_id&&(L.actualPaneId=I.pane_id),i(jr).push(L)}}}),console.log("âœ… Loaded",i(jr).length,"existing KDJ groups")):i(jr).length===0&&(b(jr,$([{id:Jo(),kPeriod:9,dPeriod:3,styles:{k:{color:"#FF6B35",thickness:1,lineStyle:"solid"},d:{color:"#2196F3",thickness:1,lineStyle:"solid"},j:{color:"#9C27B0",thickness:1,lineStyle:"solid"}}}])),console.log("ðŸ†• Created default KDJ group"))}function mp(){var I;if(!i(Vl))return;const g=["#FF6B35","#2196F3","#9C27B0","#16a34a","#ca8a04","#dc2626"],y=i(jr).length%g.length,P={id:Jo(),kPeriod:9,dPeriod:3,actualPaneId:void 0,styles:{k:{color:g[y],thickness:1,lineStyle:"solid"},d:{color:g[(y+1)%g.length],thickness:1,lineStyle:"solid"},j:{color:g[(y+2)%g.length],thickness:1,lineStyle:"solid"}}};if(i(jr).push(P),i(jr).length>1){const L=Object.values(r().saveInds).filter(St=>St.name==="KDJ"&&St.pane_id).map(St=>St.pane_id);let E=2;for(;L.includes(`pane_KDJ_${E}`);)E+=1;const V=i(jr).length-1,ne=[P.kPeriod,P.dPeriod,3],_e={lines:[{color:P.styles.k.color,size:P.styles.k.thickness,style:P.styles.k.lineStyle==="dashed"?de.Dashed:de.Solid,dashedValue:P.styles.k.lineStyle==="dashed"?[4,4]:[2,2]},{color:P.styles.d.color,size:P.styles.d.thickness,style:P.styles.d.lineStyle==="dashed"?de.Dashed:de.Solid,dashedValue:P.styles.d.lineStyle==="dashed"?[4,4]:[2,2]},{color:P.styles.j.color,size:P.styles.j.thickness,style:P.styles.j.lineStyle==="dashed"?de.Dashed:de.Solid,dashedValue:P.styles.j.lineStyle==="dashed"?[4,4]:[2,2]}]},ze=`pane_KDJ_${E}`;console.log(`ðŸ†• Immediately creating KDJ ${E} with pane ID:`,ze),((I=n())==null?void 0:I.createIndicator({name:"KDJ",calcParams:ne,styles:_e},!1,{id:ze,axis:{gap:{bottom:2}}}))&&(console.log(`âœ… KDJ ${E} created with pane ID:`,ze),P.actualPaneId=ze,d.update(St=>{const st=`pane_KDJ_${E}_KDJ`;return St.saveInds[st]={name:"KDJ",kdjGroup:P,pane_id:ze,groupIndex:V,params:[P.kPeriod,P.dPeriod,3]},St}))}}function qc(g){var E;const y=i(jr)[g];if(!y||!n())return;const P=g===0?s().editPaneId:y.actualPaneId||`pane_KDJ_${g+1}`,I={lines:[{color:y.styles.k.color,size:y.styles.k.thickness,style:y.styles.k.lineStyle==="dashed"?de.Dashed:de.Solid,dashedValue:y.styles.k.lineStyle==="dashed"?[4,4]:[2,2]},{color:y.styles.d.color,size:y.styles.d.thickness,style:y.styles.d.lineStyle==="dashed"?de.Dashed:de.Solid,dashedValue:y.styles.d.lineStyle==="dashed"?[4,4]:[2,2]},{color:y.styles.j.color,size:y.styles.j.thickness,style:y.styles.j.lineStyle==="dashed"?de.Dashed:de.Solid,dashedValue:y.styles.j.lineStyle==="dashed"?[4,4]:[2,2]}]};(E=n())==null||E.overrideIndicator({name:"KDJ",paneId:P,styles:I,calcParams:[y.kPeriod,y.dPeriod,3]});const L=g===0?`${s().editPaneId}_KDJ`:`pane_KDJ_${g+1}_KDJ`;d.update(V=>(V.saveInds[L]&&(V.saveInds[L].params=[y.kPeriod,y.dPeriod,3],V.saveInds[L].kdjGroup={...y},console.log("ðŸ’¾ Persisted KDJ changes to save data:",L,y)),V)),console.log("ðŸ”„ Updated KDJ indicator:",g,y)}let Da=Z($([]));function U0(){if(!i(Ar)||i(Da).length>0)return;const g=`${s().editPaneId}_ICHIMOKU`,y=r().saveInds[g];if(y&&Array.isArray(y.ichimokuGroups)&&y.ichimokuGroups.length>0)b(Da,$(y.ichimokuGroups.map((P,I)=>{var L;return{id:P.id||Jo(),name:P.name||`Ichimoku #${I+1}`,params:P.params||[9,26,52],styles:((L=P.styles)==null?void 0:L.map(E=>({color:E.color||"#2563eb",thickness:E.thickness??1,lineStyle:E.lineStyle||"solid"})))||[{color:"#ef4444",thickness:1,lineStyle:"solid"},{color:"#3b82f6",thickness:1,lineStyle:"solid"},{color:"#10b981",thickness:1,lineStyle:"solid"}]}})));else{const P=[p[0]||9,p[1]||26,p[2]||52],I=[0,1,2].map(L=>{var E,V,ne;return{color:((E=x[L])==null?void 0:E.color)||["#ef4444","#3b82f6","#10b981"][L]||"#2563eb",thickness:((V=x[L])==null?void 0:V.thickness)??1,lineStyle:((ne=x[L])==null?void 0:ne.lineStyle)||"solid"}});b(Da,$([{id:Jo(),name:"Ichimoku #1",params:P,styles:I}]))}}function Y0(){var L;if(!i(Ar))return;const g=i(Da).length+1,y=[["#ef4444","#3b82f6","#10b981"],["#f59e0b","#8b5cf6","#06b6d4"],["#22c55e","#e11d48","#0ea5e9"]],P=y[(g-1)%y.length],I={id:Jo(),name:`Ichimoku #${g}`,params:[9,26,52],styles:[{color:P[0],thickness:1,lineStyle:"solid"},{color:P[1],thickness:1,lineStyle:"solid"},{color:P[2],thickness:1,lineStyle:"solid"}]};b(Da,$([...i(Da),I]));try{const E={lines:I.styles.map(ne=>({color:ne.color,size:ne.thickness,style:ne.lineStyle==="dashed"||ne.lineStyle==="dotted"?de.Dashed:de.Solid,dashedValue:ne.lineStyle==="dashed"?[4,4]:ne.lineStyle==="dotted"?[2,2]:[2,2]}))};(L=n())==null||L.createIndicator({name:"ICHIMOKU",calcParams:I.params,styles:E},!0,{id:s().editPaneId});const V=`${s().editPaneId}_ICHIMOKU`;d.update(ne=>{var _e;return ne.saveInds[V]={name:"ICHIMOKU",pane_id:s().editPaneId,params:((_e=i(Da)[0])==null?void 0:_e.params)||[9,26,52],ichimokuGroups:i(Da).map(ze=>({...ze}))},ne})}catch(E){console.error("âŒ Error adding Ichimoku group:",E)}}function Au(g){var y,P,I;if(!(!i(Ar)||!n()))try{const E=(((P=(y=n())==null?void 0:y.getIndicators)==null?void 0:P.call(y))||[]).filter(ne=>ne.name==="ICHIMOKU"&&ne.paneId===s().editPaneId);for(const ne of E)(I=n())==null||I.removeIndicator({paneId:ne.paneId,name:"ICHIMOKU"});i(Da).forEach(ne=>{var ze;const _e={lines:ne.styles.map(Lt=>({color:Lt.color,size:Lt.thickness,style:Lt.lineStyle==="dashed"||Lt.lineStyle==="dotted"?de.Dashed:de.Solid,dashedValue:Lt.lineStyle==="dashed"?[4,4]:Lt.lineStyle==="dotted"?[2,2]:[2,2]}))};(ze=n())==null||ze.createIndicator({name:"ICHIMOKU",calcParams:ne.params,styles:_e},!0,{id:s().editPaneId})});const V=`${s().editPaneId}_ICHIMOKU`;d.update(ne=>{var _e;return ne.saveInds[V]={name:"ICHIMOKU",pane_id:s().editPaneId,params:((_e=i(Da)[0])==null?void 0:_e.params)||[9,26,52],ichimokuGroups:i(Da).map(ze=>({...ze}))},ne}),console.log("ðŸ”„ Updated Ichimoku groups")}catch(L){console.error("âŒ Error updating Ichimoku groups:",L)}}function Pv(g){if(i(Ar)&&!(i(Da).length<=1)&&!(g<0||g>=i(Da).length))try{b(Da,$(i(Da).filter((y,P)=>P!==g))),Au(0),console.log("ðŸ—‘ï¸ Removed Ichimoku group at index:",g)}catch(y){console.error("âŒ Error removing Ichimoku group:",y)}}function A_(){var g,y,P;if(!(!i(Ar)||!n()))try{const L=(((y=(g=n())==null?void 0:g.getIndicators)==null?void 0:y.call(g))||[]).filter(V=>V.name==="ICHIMOKU"&&V.paneId===s().editPaneId);for(const V of L)(P=n())==null||P.removeIndicator({paneId:V.paneId,name:"ICHIMOKU"});i(Da).forEach(V=>{var _e;const ne={lines:V.styles.map(ze=>({color:ze.color,size:ze.thickness,style:ze.lineStyle==="dashed"||ze.lineStyle==="dotted"?de.Dashed:de.Solid,dashedValue:ze.lineStyle==="dashed"?[4,4]:ze.lineStyle==="dotted"?[2,2]:[2,2]}))};(_e=n())==null||_e.createIndicator({name:"ICHIMOKU",calcParams:V.params,styles:ne},!0,{id:s().editPaneId})});const E=`${s().editPaneId}_ICHIMOKU`;d.update(V=>{var ne;return V.saveInds[E]={name:"ICHIMOKU",pane_id:s().editPaneId,params:((ne=i(Da)[0])==null?void 0:ne.params)||[9,26,52],ichimokuGroups:i(Da).map(_e=>({..._e}))},V}),c.update(V=>(V.editIndName="",V.editPaneId="",V.modalIndCfg=!1,V)),a(!1),console.log("âœ… Ichimoku confirm applied")}catch(I){console.error("âŒ Error confirming Ichimoku groups:",I)}}function K0(g){var P,I;if(!i(Vl)||i(jr).length<=1)return;const y=i(jr).findIndex(L=>L.id===g);if(y!==-1){console.log("ðŸ—‘ï¸ Removing KDJ group at index:",y,"ID:",g);try{if(y===0&&i(jr).length>1){console.log("ðŸ”„ Special handling: First KDJ removed, promoting second KDJ to first position"),b(jr,$(i(jr).filter(E=>E.id!==g))),console.log("âœ… KDJ group removed from array. Remaining groups:",i(jr).length);const L=i(jr)[0];L.actualPaneId&&(console.log("ðŸ—‘ï¸ Removing old second KDJ from sub-pane:",L.actualPaneId),(P=n())==null||P.removeIndicator({paneId:L.actualPaneId,name:"KDJ"})),L.actualPaneId=void 0,console.log("ðŸ“Š Updating KDJ in edit pane with new first group settings"),qc(0)}else{const L=i(jr)[y];L.actualPaneId&&(console.log("ðŸ—‘ï¸ Removing KDJ from actual pane:",L.actualPaneId),(I=n())==null||I.removeIndicator({paneId:L.actualPaneId,name:"KDJ"}),console.log("âœ… Successfully removed KDJ from actual pane:",L.actualPaneId)),b(jr,$(i(jr).filter(E=>E.id!==g))),console.log("âœ… KDJ group removed from array. Remaining groups:",i(jr).length)}d.update(L=>(Object.keys(L.saveInds).forEach(E=>{L.saveInds[E].name==="KDJ"&&(console.log("ðŸ§¹ Cleaning saved state for key:",E),delete L.saveInds[E])}),i(jr).forEach((E,V)=>{const ne=V===0?`${s().editPaneId}_KDJ`:`pane_KDJ_${V+1}_KDJ`,_e=V===0?s().editPaneId:E.actualPaneId||`pane_KDJ_${V+1}`;console.log(`ðŸ’¾ Re-saving KDJ group ${V+1} with key:`,ne,"pane ID:",_e),L.saveInds[ne]={name:"KDJ",kdjGroup:E,pane_id:_e,groupIndex:V,kdjGroups:V===0?[...i(jr)]:void 0,params:[E.kPeriod,E.dPeriod,3]}}),L)),console.log("ðŸ”„ KDJ groups reindexed successfully")}catch(L){console.log("âŒ Error removing KDJ indicator:",L)}}}function hp(){var y,P;if(!i(Vo))return;console.log("ðŸ”„ Initializing AO groups for edit pane:",s().editPaneId);const g=Object.keys(r().saveInds).filter(I=>r().saveInds[I].name==="AO").sort((I,L)=>I===`${s().editPaneId}_AO`?-1:L===`${s().editPaneId}_AO`?1:I.localeCompare(L));if(console.log("ðŸ” Found AO keys:",g),g.length>0)b(co,$([])),g.forEach((I,L)=>{const E=r().saveInds[I];console.log(`ðŸ”„ Loading AO group ${L+1} from key:`,I,E),E&&(E.aoGroup?i(co).push({...E.aoGroup}):E.params&&E.params.length===2&&i(co).push({id:Jo(),shortPeriod:E.params[0]||5,longPeriod:E.params[1]||34,styles:{increasing:{color:"#26A69A"},decreasing:{color:"#EF5350"}}}))}),console.log("âœ… Loaded AO groups:",i(co).length);else{const I=Object.entries(r().saveInds).find(([L,E])=>E.name==="AO"&&L.includes(s().editPaneId||""));if(I){const[,L]=I;console.log("ðŸ”„ Found existing AO indicator, creating group from it"),b(co,$([{id:Jo(),shortPeriod:((y=L.params)==null?void 0:y[0])||5,longPeriod:((P=L.params)==null?void 0:P[1])||34,styles:{increasing:{color:"#26A69A"},decreasing:{color:"#EF5350"}}}]))}else console.log("ðŸ”„ Creating default AO group"),b(co,$([{id:Jo(),shortPeriod:5,longPeriod:34,styles:{increasing:{color:"#26A69A"},decreasing:{color:"#EF5350"}}}]))}}function Z0(){if(!i(Et))return;const g=s().editPaneId||"candle_pane",y=Object.entries(r().saveInds).filter(([I,L])=>L&&L.name==="BOLL"&&L.pane_id===g);if(y.length>0){const I=y.sort(([L],[E])=>{var _e,ze;const V=(_e=L.match(/_BOLL_(\d+)$/))!=null&&_e[1]?parseInt(L.match(/_BOLL_(\d+)$/)[1],10):1,ne=(ze=E.match(/_BOLL_(\d+)$/))!=null&&ze[1]?parseInt(E.match(/_BOLL_(\d+)$/)[1],10):1;return V-ne});b(An,$(I.map(([L,E])=>{var V,ne,_e,ze,Lt,St,st;return{id:Jo(),paneId:g,period:E.params&&E.params[0]||20,stdDev:E.params&&E.params[1]||2,styles:{fillColor:((V=E.bollingerStyles)==null?void 0:V.fillColor)||"#2196F3",fillOpacity:((ne=E.bollingerStyles)==null?void 0:ne.fillOpacity)??5,upperColor:((_e=E.bollingerStyles)==null?void 0:_e.upperColor)||"#f23645",middleColor:((ze=E.bollingerStyles)==null?void 0:ze.middleColor)||"#2962ff",lowerColor:((Lt=E.bollingerStyles)==null?void 0:Lt.lowerColor)||"#089981",thickness:((St=E.bollingerStyles)==null?void 0:St.thickness)||1,lineStyle:((st=E.bollingerStyles)==null?void 0:st.lineStyle)||"solid"}}})))}else b(An,$([{id:Jo(),paneId:g,period:i(q)||20,stdDev:i(B)||2,styles:{fillColor:i(S)||"#2196F3",fillOpacity:i(M)??5,upperColor:i(T)||"#f23645",middleColor:i(D)||"#2962ff",lowerColor:i(A)||"#089981",thickness:i(j)||1,lineStyle:i(F)||"solid"}}]));const P=i(An)[0];P&&(b(q,$(P.period)),b(B,$(P.stdDev)),b(S,$(P.styles.fillColor)),b(M,$(P.styles.fillOpacity)),b(T,$(P.styles.upperColor)),b(D,$(P.styles.middleColor)),b(A,$(P.styles.lowerColor)),b(j,$(P.styles.thickness)),b(F,$(P.styles.lineStyle))),Aa()}function ru(){var P;if(!i(Vo)||!n())return;console.log("ðŸ”„ Applying AO changes in real-time, groups:",i(co).length);const g=Object.keys(r().saveInds).filter(I=>r().saveInds[I].name==="AO").sort((I,L)=>I===`${s().editPaneId}_AO`?-1:L===`${s().editPaneId}_AO`?1:I.localeCompare(L));console.log("ðŸ” Existing AO keys:",g);const y=i(co).length;if(g.length>y){console.log(`ðŸ—‘ï¸ Removing ${g.length-y} excess AO indicators`);for(let I=y;I<g.length;(I+=1)-1){const L=g[I],E=r().saveInds[L];if(E&&E.pane_id){console.log("ðŸ—‘ï¸ Removing AO indicator from pane:",E.pane_id);try{(P=n())==null||P.removeIndicator({paneId:E.pane_id,name:"AO"})}catch(V){console.log("Error removing excess AO indicator:",V)}}}}i(co).forEach((I,L)=>{var ne,_e,ze;const E=[I.shortPeriod,I.longPeriod],V={bars:[{upColor:I.styles.increasing.color,downColor:I.styles.decreasing.color,noChangeColor:"#888888"}]};if(L===0)console.log("ðŸ”„ Updating first AO indicator in pane:",s().editPaneId),(ne=n())==null||ne.overrideIndicator({name:"AO",calcParams:E,styles:V,paneId:s().editPaneId});else{const Lt=`pane_AO_${L+1}_AO`,St=g.find(st=>st===Lt);if(St){const st=r().saveInds[St];st&&st.pane_id&&(console.log(`ðŸ”„ Updating existing AO ${L+1} in pane:`,st.pane_id),(_e=n())==null||_e.overrideIndicator({name:"AO",calcParams:E,styles:V,paneId:st.pane_id}))}else{const st=`pane_AO_${L+1}`;console.log(`ðŸ†• Creating new AO ${L+1} with pane ID:`,st),(ze=n())==null||ze.createIndicator({name:"AO",calcParams:E,styles:V},!0,{id:st})}}}),d.update(I=>(Object.keys(I.saveInds).forEach(L=>{I.saveInds[L].name==="AO"&&delete I.saveInds[L]}),i(co).forEach((L,E)=>{const V=E===0?`${s().editPaneId}_AO`:`pane_AO_${E+1}_AO`,ne=E===0?s().editPaneId:`pane_AO_${E+1}`;console.log(`ðŸ’¾ Saving AO group ${E+1} with key:`,V),I.saveInds[V]={name:"AO",aoGroup:L,pane_id:ne,groupIndex:E,aoGroups:E===0?[...i(co)]:void 0,params:[L.shortPeriod,L.longPeriod]}}),I))}function D_(g){!i(Vo)||i(co).length<=1||!i(co).find(P=>P.id===g)||(i(co).findIndex(P=>P.id===g),b(co,$(i(co).filter(P=>P.id!==g))),ru())}function yp(){const g=`${s().editPaneId}_CR`,y=r().saveInds[g];y&&(b(qe,$(y.crPeriod||26)),b($t,$(y.crMa1Period||10)),b(oo,$(y.crMa2Period||20)),b(Ko,$(y.crMa3Period||40)),b(Ut,$(y.crMa4Period||60)),b(Ms,$(y.crColor||"#FF6B35")),b(Zo,$(y.crMa1Color||"#2196F3")),b(Cs,$(y.crMa2Color||"#4CAF50")),b(tr,$(y.crMa3Color||"#FF9800")),b(Us,$(y.crMa4Color||"#9C27B0")),b(pe,$(y.crThickness||2)),b(Ct,$(y.crMa1Thickness||1)),b(Pe,$(y.crMa2Thickness||1)),b(pn,$(y.crMa3Thickness||1)),b(qo,$(y.crMa4Thickness||1)),b(Bi,$(y.crLineStyle||"solid")),b(gr,$(y.crMa1LineStyle||"solid")),b(gs,$(y.crMa2LineStyle||"solid")),b(Ts,$(y.crMa3LineStyle||"solid")),b(Ke,$(y.crMa4LineStyle||"solid")))}function Ju(g,y){return P=>{b(Y,$(g)),b(G,$(y)),b(z,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(O,!0)}}function Mv(g){return y=>{b(se,$(g)),b(re,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(oe,!0)}}function bp(g,y){return P=>{b(K,$(g)),b(J,$(y)),b(te,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(ie,!0)}}function xp(g){return y=>{b(we,$(g)),b(Ne,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(it,!0)}}function Oi(g,y){return P=>{b(Gr,$(g)),b(Kl,$(y)),b(xl,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(al,!0)}}function wp(g,y){return P=>{b(He,g*3+y),b(Le,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(Ae,!0)}}function kp(g,y){return P=>{if(b(le,$(g)),b(ye,$(y)),b(Be,$({x:P.clientX,y:P.clientY})),b(Ue,!0),i(Se).length>g&&(y==="histogram"||y==="histogram-down")){const I=i(Se)[g];y==="histogram"?I.styles.histogram.upColor=k(I.styles.histogram.upColor||"#26a69a",70):I.styles.histogram.downColor=k(I.styles.histogram.downColor||"#ef5350",70),Tu(g)}}}function Qu(g){return y=>{if(b(bt,$(g)),y.currentTarget&&y.currentTarget instanceof Element){const P=y.currentTarget.getBoundingClientRect();b(Je,$({x:P.left+P.width/2,y:P.bottom+5}))}else b(Je,$({x:window.innerWidth/2,y:window.innerHeight/2}));b(Ee,!0)}}function X0(g){return y=>{if(b(bt,$(g)),y.currentTarget&&y.currentTarget instanceof Element){const P=y.currentTarget.getBoundingClientRect();b(X,$({x:P.left+P.width/2,y:P.bottom+5}))}else b(X,$({x:window.innerWidth/2,y:window.innerHeight/2}));b(be,!0)}}function L_(g){return y=>{if(b(bt,$(g)),y.currentTarget&&y.currentTarget instanceof Element){const P=y.currentTarget.getBoundingClientRect();b(Ce,$({x:P.left+P.width/2,y:P.bottom+5}))}else b(Ce,$({x:window.innerWidth/2,y:window.innerHeight/2}));b(H,!0)}}function E_(g){return y=>{if(b(bt,$(g)),y.currentTarget&&y.currentTarget instanceof Element){const P=y.currentTarget.getBoundingClientRect();b(mt,$({x:P.left+P.width/2,y:P.bottom+5}))}else b(mt,$({x:window.innerWidth/2,y:window.innerHeight/2}));b(Qe,!0)}}function pc(g,y){return P=>{b(Kt,$(g)),b(to,$(y)),b(yo,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(ct,!0)}}function F_(g){return y=>{b(Uo,$(g)),b(ro,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(io,!0)}}function ev(g){return y=>{b(uo,$(g)),b(Mn,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(an,!0)}}function Tv(g){return y=>{b(Go,$(g)),b(Zt,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(Do,!0)}}function J0(g){return y=>{b(Ki,$(g)),b(zi,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(Tr,!0)}}function Q0(g){return y=>{b(Za,$(g)),b(Ei,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(wa,!0)}}function fc(g){return y=>{b(Ta,$(g)),b(rl,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(bl,!0)}}function Fd(g){return y=>{b(Ma,$(g)),b(Qa,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(il,!0)}}function Sp(g){return y=>{b(We,$(g)),b(ge,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(Hr,!0)}}function ef(g){return y=>{b(jt,$(g)),b(Ht,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(ft,!0)}}function Av(g,y=0){return P=>{b(Rt,$(y)),b(go,$(g)),b(zr,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(ka,!0)}}function tf(g){return y=>{b(Mo,$(g)),b(Lo,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(To,!0)}}function Cp(g){return y=>{b(si,$(g)),b(fs,$({x:window.innerWidth/2,y:window.innerHeight/2})),b(Fn,!0)}}ja(c,g=>g.modalIndCfg).subscribe(()=>{if(!s().editIndName)return;if(i(Ar)){U0();const P=yh.ICHIMOKU||[];h.splice(0,h.length,...P);return}if(i(Nc)){const I=`${s().editPaneId||"candle_pane"}_ZIGZAG`,L=Object.keys(r().saveInds).filter(V=>{var ne;return V.startsWith(I)&&((ne=r().saveInds[V])==null?void 0:ne.name)==="ZIGZAG"}).sort((V,ne)=>{const _e=ze=>{const Lt=ze.match(/_ZIGZAG(?:_(\d+))?$/);return Lt&&Lt[1]?parseInt(Lt[1],10):1};return _e(V)-_e(ne)});b(Xr,$([])),L.length>0?L.forEach(V=>{var St,st,ko,gn;const ne=r().saveInds[V],_e=((st=(St=ne==null?void 0:ne.styles)==null?void 0:St.lines)==null?void 0:st[0])||{},ze=Array.isArray(_e.dashedValue)?_e.dashedValue.join(","):"",Lt=_e.style===de.Solid?"solid":ze==="2,6"?"dotted":"dashed";i(Xr).push({id:Jo(),deviation:Number(((ko=ne==null?void 0:ne.params)==null?void 0:ko[0])??5),depth:Number(((gn=ne==null?void 0:ne.params)==null?void 0:gn[1])??5),styles:{color:_e.color??"#2962FF",thickness:Number(_e.size??2),lineStyle:Lt}})}):b(Xr,$([{id:Jo(),deviation:5,depth:5,styles:{color:"#2962FF",thickness:2,lineStyle:"solid"}}]));const E=i(Xr)[0];p.splice(0,p.length,E.deviation,E.depth),b(et,$(E.styles.color)),b(kt,$(E.styles.thickness)),b(vo,$(E.styles.lineStyle));return}if(i(xo)){u_();return}if(i(rr)){n_();return}if(i(Cl)){f_();return}if(i(Il)){B0();return}if(i($o)){__();return}if(i(un)){O0();return}if(i(Yo)){Ld();return}if(i(Ur)){vp();return}if(i(Eo)){wd();return}if(i(Sl)){Ku();return}if(i(qr)){Bl();return}if(i(jl)){fp();return}if(i(Ii)){Zl();return}if(i(Fl)){Cv();return}if(i(_a)){W0();return}if(i(kl)){Xu();return}if(i(nl)){_p();return}if(i(Vl)){H0();return}if(i(Vo)){hp();return}if(i(Fl)){yp();return}if(i(Et)){Z0();return}const g=`${s().editPaneId}_${s().editIndName}`,y=r().saveInds[g];if(y&&y.fields&&!i(Et))h.splice(0,h.length,...y.fields),p.splice(0,p.length,...y.params||[]),x.splice(0,x.length,...y.styles||[]);else{const P=yh[s().editIndName]||[];if(i(Et)){h.splice(0,h.length,...P);const I=P.map(L=>L.default);p.splice(0,p.length,...I),y&&y.params&&y.params.length>=2&&(p[0]=y.params[0],p[1]=y.params[1])}else if(h.splice(0,h.length,...P),y&&y.params)p.splice(0,p.length,...y.params),x.splice(0,x.length,...y.styles||[]),(i(fr)||i(vn))&&h.length>p.length&&h.splice(p.length,h.length-p.length);else{const I=P.filter(L=>L.type!=="color").map(L=>L.default);p.splice(0,p.length,...I)}}if(i(Ur)){for(;x.length<2;)x.length===0?x.push({color:"#2563eb",thickness:1,lineStyle:"solid"}):x.push({color:"#dc2626",thickness:1,lineStyle:"solid"});for(;x.length>2;)x.pop()}else{for(;x.length<p.length;)x.push({color:"#2563eb",thickness:1,lineStyle:"solid"});for(;x.length>p.length;)x.pop()}}),ja(c,g=>g.clearCciGroups).subscribe(g=>{g>0&&lp()}),ja(c,g=>g.clearEmvGroups).subscribe(g=>{g>0&&xv()}),ja(c,g=>g.clearMtmGroups).subscribe(g=>{g>0&&wv()}),ja(c,g=>g.clearObvGroups).subscribe(g=>{g>0&&Xd()}),ja(c,g=>g.clearPsyGroups).subscribe(g=>{g>0&&Pu()}),ja(c,g=>g.clearPvtGroups).subscribe(g=>{g>0&&Wu()}),ja(c,g=>g.clearRocGroups).subscribe(g=>{g>0&&$0()}),ja(c,g=>g.clearVolGroups).subscribe(g=>{g>0&&Jd()}),ja(c,g=>g.clearWrGroups).subscribe(g=>{g>0&&j0()});function Dv(g){i(Et)||p.length<=1||(p.splice(g,1),h.splice(g,1),x.splice(g,1),i(fr)?Ec():i(vn)&&kc())}function Lv(){const g=n();if(!g)return;const y=[6],P=g.createIndicator({name:"BIAS",calcParams:y,createTooltipDataSource:({indicator:V})=>{const ne=[V.visible?1:0,2,3],_e=g.getStyles().indicator.tooltip;return{icons:ne.map(Lt=>_e.features[Lt])}}},!1,{axis:{gap:{bottom:2}}});if(!P)return;const I=P,L={name:"BIAS",pane_id:I,params:y},E=`${I}_BIAS`;d.update(V=>(V.saveInds[E]=L,V)),a(!1)}function tv(){const g=n();if(!g)return;const y=[5,34],P=g.createIndicator({name:"AO",calcParams:y,createTooltipDataSource:({indicator:V})=>{const ne=[V.visible?1:0,2,3],_e=g.getStyles().indicator.tooltip;return{icons:ne.map(Lt=>_e.features[Lt])}}},!1,{axis:{gap:{bottom:2}}});if(P){const V=g.getStyles();g.setStyles({...V,indicator:{...V.indicator,bars:[{upColor:"#8B5CF6",downColor:"#EF4444",noChangeColor:"#8B5CF6"}]}})}if(!P)return;const I=P,L={name:"AO",pane_id:I,params:y},E=`${I}_AO`;d.update(V=>(V.saveInds[E]=L,V)),a(!1)}function ov(){const g=n();if(!g)return;const y=[14],P=g.createIndicator({name:"WR",calcParams:y,createTooltipDataSource:({indicator:V})=>{const ne=[V.visible?1:0,2,3],_e=g.getStyles().indicator.tooltip;return{icons:ne.map(Lt=>_e.features[Lt])}}},!1,{axis:{gap:{bottom:2}}});if(!P)return;const I=P,L={name:"WR",pane_id:I,params:y},E=`${I}_WR`;d.update(V=>(V.saveInds[E]=L,V)),a(!1)}function Ev(){const g=n();if(!g)return;const y=[15,9],P=g.createIndicator({name:"TRIX",calcParams:y,createTooltipDataSource:({indicator:V})=>{const ne=[V.visible?1:0,2,3],_e=g.getStyles().indicator.tooltip;return{icons:ne.map(Lt=>_e.features[Lt])}}},!1,{axis:{gap:{bottom:2}}});if(!P)return;const I=P,L={name:"TRIX",pane_id:I,params:y},E=`${I}_TRIX`;d.update(V=>(V.saveInds[E]=L,V)),a(!1)}function rf(){var P;if(!i(Fl))return;const g=Object.keys(r().saveInds).filter(I=>r().saveInds[I].name==="CR").sort((I,L)=>I===`${s().editPaneId}_CR`?-1:L===`${s().editPaneId}_CR`?1:I.localeCompare(L));console.log("ðŸ”§ Applying CR changes. Existing keys:",g),console.log("ðŸ”§ Current CR groups:",i(na).length);const y=i(na).length;if(g.length>y)for(let I=y;I<g.length;(I+=1)-1){const L=g[I],E=r().saveInds[L];try{console.log("ðŸ—‘ï¸ Removing excess CR indicator from pane:",E.pane_id),(P=n())==null||P.removeIndicator({paneId:E.pane_id,name:"CR"})}catch(V){console.log("âŒ Error removing excess CR indicator:",V)}delete r().saveInds[L]}i(na).forEach((I,L)=>{var ne,_e,ze;const E=[I.crPeriod,I.crMa1Period,I.crMa2Period,I.crMa3Period,I.crMa4Period],V={lines:[{color:I.styles.cr.color,size:I.styles.cr.thickness,style:I.styles.cr.lineStyle==="dashed"?de.Dashed:de.Solid,dashedValue:I.styles.cr.lineStyle==="dashed"?[4,4]:[2,2],smooth:!1},{color:I.styles.ma1.color,size:I.styles.ma1.thickness,style:I.styles.ma1.lineStyle==="dashed"?de.Dashed:de.Solid,dashedValue:I.styles.ma1.lineStyle==="dashed"?[4,4]:[2,2],smooth:!1},{color:I.styles.ma2.color,size:I.styles.ma2.thickness,style:I.styles.ma2.lineStyle==="dashed"?de.Dashed:de.Solid,dashedValue:I.styles.ma2.lineStyle==="dashed"?[4,4]:[2,2],smooth:!1},{color:I.styles.ma3.color,size:I.styles.ma3.thickness,style:I.styles.ma3.lineStyle==="dashed"?de.Dashed:de.Solid,dashedValue:I.styles.ma3.lineStyle==="dashed"?[4,4]:[2,2],smooth:!1},{color:I.styles.ma4.color,size:I.styles.ma4.thickness,style:I.styles.ma4.lineStyle==="dashed"?de.Dashed:de.Solid,dashedValue:I.styles.ma4.lineStyle==="dashed"?[4,4]:[2,2],smooth:!1}]};if(L===0)console.log("ðŸ”„ Updating first CR in pane:",s().editPaneId),(ne=n())==null||ne.overrideIndicator({name:"CR",calcParams:E,styles:V,paneId:s().editPaneId});else{const Lt=`pane_CR_${L+1}_CR`,St=g.find(st=>st===Lt);if(St){const st=r().saveInds[St];console.log("ðŸ”„ Updating existing CR in pane:",st.pane_id),(_e=n())==null||_e.overrideIndicator({name:"CR",calcParams:E,styles:V,paneId:st.pane_id})}else{const st=`pane_CR_${L+1}`;console.log("ðŸ†• Creating new CR in pane:",st);const ko=(ze=n())==null?void 0:ze.createIndicator({name:"CR",calcParams:E,styles:V},!0,{id:st});console.log("âœ… Created new CR indicator with ID:",ko,"in pane:",st)}}}),d.update(I=>(Object.keys(I.saveInds).forEach(L=>{I.saveInds[L].name==="CR"&&delete I.saveInds[L]}),i(na).forEach((L,E)=>{const V=E===0?`${s().editPaneId}_CR`:`pane_CR_${E+1}_CR`,ne=E===0?s().editPaneId:`pane_CR_${E+1}`,_e={name:"CR",crGroup:L,pane_id:ne,groupIndex:E,crGroups:E===0?[...i(na)]:void 0,params:[L.crPeriod,L.crMa1Period,L.crMa2Period,L.crMa3Period,L.crMa4Period]};I.saveInds[V]=_e,console.log("ðŸ’¾ Saved CR group",E,"with key:",V,"and pane ID:",ne)}),I)),c.update(I=>(I.editIndName="",I.editPaneId="",I.modalIndCfg=!1,I)),a(!1)}function af(){i(xt).forEach((g,y)=>{tu(y)}),d.update(g=>(Object.keys(g.saveInds).forEach(y=>{g.saveInds[y].name==="MACD"&&delete g.saveInds[y]}),i(xt).forEach((y,P)=>{const I=P===0?`${s().editPaneId}_MACD`:`pane_MACD_${P+1}_MACD`,L=P===0?s().editPaneId:y.actualPaneId||`pane_MACD_${P+1}`;g.saveInds[I]={name:"MACD",macdGroup:y,pane_id:L,groupIndex:P,params:[y.fastPeriod,y.slowPeriod,y.signalPeriod]}}),g)),console.log("ðŸ”„ Clearing edit state and closing popup..."),c.update(g=>(g.editIndName="",g.editPaneId="",g.modalIndCfg=!1,console.log("âœ… Context updated - modalIndCfg set to false"),g)),a(!1)}function gc(){if(i($o)){i(lo).forEach((g,y)=>{g.paneId&&ql(y)}),d.update(g=>{const y=`${s().editPaneId}_WR`,P={name:"WR",wrGroups:i(lo),pane_id:s().editPaneId};return g.saveInds[y]=P,i(lo).forEach((I,L)=>{const E=L===0?`${s().editPaneId}_WR_single`:`WR_${L+1}`,V={name:"WR",wrGroup:I,pane_id:L===0?s().editPaneId:`new_pane_${L}`,groupIndex:L};g.saveInds[E]=V}),g});try{console.log("ðŸ”„ Clearing edit state and closing popup..."),c.update(g=>(g.editIndName="",g.editPaneId="",g.modalIndCfg=!1,console.log("âœ… Context updated - modalIndCfg set to false"),g)),a(!1),console.log("âœ… Popup show flag set to false - handleKdjConfirm completed successfully")}catch(g){console.error("âŒ Error in handleKdjConfirm:",g),console.log("ðŸ”„ Forcing popup close due to error..."),c.update(y=>(y.editIndName="",y.editPaneId="",y.modalIndCfg=!1,y)),a(!1),console.log("âœ… Popup forcefully closed after error")}}}function ad(){i(un)&&(i(Nt).forEach((g,y)=>{var L;const P=[g.period,g.shortPeriod,g.longPeriod],I={lines:[{color:g.styles.vr.color,size:g.styles.vr.thickness,style:g.styles.vr.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:g.styles.vr.lineStyle==="dashed"?[4,4]:[2,2],smooth:!1},{color:g.styles.vrShort.color,size:g.styles.vrShort.thickness,style:g.styles.vrShort.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:g.styles.vrShort.lineStyle==="dashed"?[4,4]:[2,2],smooth:!1},{color:g.styles.vrLong.color,size:g.styles.vrLong.thickness,style:g.styles.vrLong.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:g.styles.vrLong.lineStyle==="dashed"?[4,4]:[2,2],smooth:!1}]};g.paneId&&((L=n())==null||L.overrideIndicator({name:"VR",calcParams:P,styles:I,paneId:g.paneId}),console.log(`âœ… Updated VR indicator in pane: ${g.paneId}`))}),d.update(g=>(i(Nt).forEach((y,P)=>{const I=`${y.paneId}_VR`,L={name:"VR",vrGroup:y,pane_id:y.paneId,params:[y.period,y.shortPeriod,y.longPeriod],groupIndex:P};g.saveInds[I]=L,console.log(`ðŸ’¾ Saved VR group to: ${I}`)}),g)),c.update(g=>(g.editIndName="",g.editPaneId="",g.modalIndCfg=!1,g)),a(!1))}function O_(){i(Zr)&&(i(Se).forEach((g,y)=>{var L;const P=[g.period],I={bars:[{upColor:g.styles.histogram.upColor,downColor:g.styles.histogram.downColor,noChangeColor:g.styles.histogram.upColor}],lines:[{color:g.styles.ema.color,size:g.styles.ema.thickness,style:g.styles.ema.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:g.styles.ema.lineStyle==="dashed"?[4,4]:[2,2],smooth:!1,visible:g.styles.ema.visible===!0}]};g.paneId&&((L=n())==null||L.overrideIndicator({name:"VOL",calcParams:P,styles:I,paneId:g.paneId}),console.log(`âœ… Updated Volume indicator in pane: ${g.paneId}`))}),d.update(g=>(i(Se).forEach((y,P)=>{const I=`${y.paneId}_VOL`,L={name:"VOL",volGroup:y,pane_id:y.paneId,params:[y.period],groupIndex:P};g.saveInds[I]=L,console.log(`ðŸ’¾ Saved Volume group to: ${I}`)}),g)),c.update(g=>(g.editIndName="",g.editPaneId="",g.modalIndCfg=!1,g)),a(!1))}function R_(){i(Yo)&&(console.log("ðŸ”§ Applying BBI changes. Current BBI groups:",i(vi).length),i(vi).forEach((g,y)=>{var ne;const P=[g.period1,g.period2,g.period3,g.period4],L=(_e=>{switch(_e){case"dashed":return{style:de.Dashed,dashedValue:[4,4]};case"dotted":return{style:de.Dashed,dashedValue:[2,2]};default:return{style:de.Solid,dashedValue:[2,2]}}})(g.lineStyle),E={lines:[{color:g.color,size:g.thickness,style:L.style,dashedValue:L.dashedValue,smooth:!1}]},V=g.paneId||(y===0?s().editPaneId:`pane_BBI_${y+1}`);console.log("ðŸ”„ Updating BBI group",y,"in pane:",V),(ne=n())==null||ne.overrideIndicator({name:"BBI",calcParams:P,styles:E,paneId:V}),g.paneId||(g.paneId=V)}),d.update(g=>(Object.keys(g.saveInds).forEach(y=>{g.saveInds[y].name==="BBI"&&delete g.saveInds[y]}),i(vi).forEach((y,P)=>{const I=`${y.paneId}_BBI`,L={name:"BBI",bbiGroup:y,pane_id:y.paneId,groupIndex:P,bbiGroups:P===0?[...i(vi)]:void 0,params:[y.period1,y.period2,y.period3,y.period4]};g.saveInds[I]=L,console.log("ðŸ’¾ Saved BBI group",P,"with key:",I,"and pane ID:",y.paneId)}),g)),c.update(g=>(g.editIndName="",g.editPaneId="",g.modalIndCfg=!1,g)),a(!1))}function Fv(){var g;if(!i(Cl)){console.warn("âš ï¸ handleEmvConfirm called but not in EMV mode");return}try{if(!i(qa)||i(qa).length===0){console.error("âŒ No EMV groups to process");return}const y=i(qa).filter(L=>!(!L||typeof L!="object"||typeof L.period!="number"||L.period<=0||typeof L.period2!="number"||L.period2<=0||typeof L.color!="string"||!L.color||typeof L.thickness!="number"||L.thickness<=0||typeof L.lineStyle!="string"||!L.lineStyle));if(y.length===0){console.error("âŒ No valid EMV groups found");return}y.length!==i(qa).length&&(console.warn(`âš ï¸ ${i(qa).length-y.length} invalid EMV groups filtered out`),b(qa,$(y)));const P=Object.keys(r().saveInds).filter(L=>r().saveInds[L]&&r().saveInds[L].name==="EMV").sort((L,E)=>L===`${s().editPaneId}_EMV`?-1:E===`${s().editPaneId}_EMV`?1:L.localeCompare(E));console.log("ðŸ”§ Applying EMV changes. Existing keys:",P),console.log("ðŸ”§ Current EMV groups:",i(qa).length);const I=i(qa).length;if(P.length>I)for(let L=I;L<P.length;(L+=1)-1){const E=P[L],V=r().saveInds[E];if(V&&V.pane_id)try{console.log("ðŸ—‘ï¸ Removing excess EMV indicator from pane:",V.pane_id),(g=n())==null||g.removeIndicator({paneId:V.pane_id,name:"EMV"})}catch(ne){console.log("âŒ Error removing excess EMV indicator:",ne)}}i(qa).forEach((L,E)=>{var _e,ze,Lt;const V=[L.period,L.period2],ne={lines:[{color:L.color,size:L.thickness,style:L.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:L.lineStyle==="dashed"?[4,4]:L.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1}]};if(E===0)console.log("ðŸ”„ Updating first EMV in pane:",s().editPaneId),(_e=n())==null||_e.overrideIndicator({name:"EMV",calcParams:V,styles:ne,paneId:s().editPaneId});else{const St=`pane_EMV_${E+1}_EMV`,st=P.find(ko=>ko===St);if(st){const ko=r().saveInds[st];ko&&ko.pane_id&&(console.log("ðŸ”„ Updating existing EMV in pane:",ko.pane_id),(ze=n())==null||ze.overrideIndicator({name:"EMV",calcParams:V,styles:ne,paneId:ko.pane_id}))}else{const ko=`pane_EMV_${E+1}`;console.log("ðŸ†• Creating new EMV in pane:",ko);const gn=(Lt=n())==null?void 0:Lt.createIndicator({name:"EMV",calcParams:V,styles:ne},!0,{id:ko});gn&&console.log("âœ… Created new EMV indicator with ID:",gn,"in pane:",ko)}}}),d.update(L=>{try{Object.keys(L.saveInds).forEach(E=>{L.saveInds[E]&&L.saveInds[E].name==="EMV"&&delete L.saveInds[E]}),i(qa).forEach((E,V)=>{try{const ne=V===0?`${s().editPaneId}_EMV`:`pane_EMV_${V+1}_EMV`,_e=V===0?s().editPaneId:`pane_EMV_${V+1}`;if(!ne||!_e){console.error(`âŒ Invalid save key or pane ID for EMV group ${V}`);return}const ze={name:"EMV",emvGroup:E,pane_id:_e,groupIndex:V,emvGroups:V===0?[...i(qa)]:void 0,params:[E.period,E.period2]};L.saveInds[ne]=ze,console.log("ðŸ’¾ Saved EMV group",V,"with key:",ne,"and pane ID:",_e)}catch(ne){console.error(`âŒ Error saving EMV group ${V}:`,ne)}})}catch(E){console.error("âŒ Error in EMV save operation:",E)}return L}),c.update(L=>(L.editIndName="",L.editPaneId="",L.modalIndCfg=!1,L)),a(!1),console.log("âœ… EMV configuration completed successfully")}catch(y){console.error("âŒ Critical error in handleEmvConfirm:",y)}}function Du(){var g;if(!i(Il)){console.warn("âš ï¸ handleMtmConfirm called but not in MTM mode");return}try{if(!i(Qi)||i(Qi).length===0){console.error("âŒ No MTM groups to process");return}const y=i(Qi).filter(L=>!(!L||typeof L!="object"||typeof L.period!="number"||L.period<=0||typeof L.color!="string"||!L.color||typeof L.thickness!="number"||L.thickness<=0||typeof L.lineStyle!="string"||!L.lineStyle));if(y.length===0){console.error("âŒ No valid MTM groups found");return}y.length!==i(Qi).length&&(console.warn(`âš ï¸ ${i(Qi).length-y.length} invalid MTM groups filtered out`),b(Qi,$(y)));const P=Object.keys(r().saveInds).filter(L=>r().saveInds[L]&&r().saveInds[L].name==="MTM").sort((L,E)=>L===`${s().editPaneId}_MTM`?-1:E===`${s().editPaneId}_MTM`?1:L.localeCompare(E));console.log("ðŸ”§ Applying MTM changes. Existing keys:",P),console.log("ðŸ”§ Current MTM groups:",i(Qi).length);const I=i(Qi).length;if(P.length>I)for(let L=I;L<P.length;(L+=1)-1){const E=P[L],V=r().saveInds[E];if(V&&V.pane_id)try{console.log("ðŸ—‘ï¸ Removing excess MTM indicator from pane:",V.pane_id),(g=n())==null||g.removeIndicator({paneId:V.pane_id,name:"MTM"})}catch(ne){console.log("âŒ Error removing excess MTM indicator:",ne)}}i(Qi).forEach((L,E)=>{var _e,ze,Lt;const V=[L.period],ne={lines:[{color:L.color,size:L.thickness,style:L.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:L.lineStyle==="dashed"?[4,4]:L.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1}]};if(E===0)console.log("ðŸ”„ Updating first MTM in pane:",s().editPaneId),(_e=n())==null||_e.overrideIndicator({name:"MTM",calcParams:V,styles:ne,paneId:s().editPaneId});else{const St=`pane_MTM_${E+1}_MTM`,st=P.find(ko=>ko===St);if(st){const ko=r().saveInds[st];ko&&ko.pane_id&&(console.log("ðŸ”„ Updating existing MTM in pane:",ko.pane_id),(ze=n())==null||ze.overrideIndicator({name:"MTM",calcParams:V,styles:ne,paneId:ko.pane_id}))}else{const ko=`pane_MTM_${E+1}`;console.log("ðŸ†• Creating new MTM in pane:",ko);const gn=(Lt=n())==null?void 0:Lt.createIndicator({name:"MTM",calcParams:V,styles:ne},!0,{id:ko});gn&&console.log("âœ… Created new MTM indicator with ID:",gn,"in pane:",ko)}}}),d.update(L=>{try{Object.keys(L.saveInds).forEach(E=>{L.saveInds[E]&&L.saveInds[E].name==="MTM"&&delete L.saveInds[E]}),i(Qi).forEach((E,V)=>{try{const ne=V===0?`${s().editPaneId}_MTM`:`pane_MTM_${V+1}_MTM`,_e=V===0?s().editPaneId:`pane_MTM_${V+1}`;if(!ne||!_e){console.error(`âŒ Invalid save key or pane ID for MTM group ${V}`);return}const ze={name:"MTM",mtmGroup:E,pane_id:_e,groupIndex:V,mtmGroups:V===0?[...i(Qi)]:void 0,params:[E.period]};L.saveInds[ne]=ze,console.log("ðŸ’¾ Saved MTM group",V,"with key:",ne,"and pane ID:",_e)}catch(ne){console.error(`âŒ Error saving MTM group ${V}:`,ne)}})}catch(E){console.error("âŒ Error in MTM save operation:",E)}return L}),c.update(L=>(L.editIndName="",L.editPaneId="",L.modalIndCfg=!1,L)),a(!1),console.log("âœ… MTM configuration completed successfully")}catch(y){console.error("âŒ Critical error in handleMtmConfirm:",y)}}function lf(){var P;if(!i(Eo))return;const g=Object.keys(r().saveInds).filter(I=>r().saveInds[I].name==="BIAS").sort((I,L)=>I===`${s().editPaneId}_BIAS`?-1:L===`${s().editPaneId}_BIAS`?1:I.localeCompare(L));console.log("ðŸ”§ Applying BIAS changes. Existing keys:",g),console.log("ðŸ”§ Current BIAS groups:",i(Jr).length);const y=i(Jr).length;if(g.length>y)for(let I=y;I<g.length;(I+=1)-1){const L=g[I],E=r().saveInds[L];if(E&&E.pane_id)try{console.log("ðŸ—‘ï¸ Removing excess BIAS indicator from pane:",E.pane_id),(P=n())==null||P.removeIndicator({paneId:E.pane_id,name:"BIAS"})}catch(V){console.log("âŒ Error removing excess BIAS indicator:",V)}}i(Jr).forEach((I,L)=>{var ne,_e,ze;const E=[I.period],V={lines:[{color:I.color,size:I.thickness,style:I.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:I.lineStyle==="dashed"?[4,4]:I.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1}]};if(L===0)console.log("ðŸ”„ Updating first BIAS in pane:",s().editPaneId),(ne=n())==null||ne.overrideIndicator({name:"BIAS",calcParams:E,styles:V,paneId:s().editPaneId});else{const Lt=`pane_BIAS_${L+1}_BIAS`,St=g.find(st=>st===Lt);if(St){const st=r().saveInds[St];st&&st.pane_id&&(console.log("ðŸ”„ Updating existing BIAS in pane:",st.pane_id),(_e=n())==null||_e.overrideIndicator({name:"BIAS",calcParams:E,styles:V,paneId:st.pane_id}))}else{const st=`pane_BIAS_${L+1}`;console.log("ðŸ†• Creating new BIAS in pane:",st);const ko=(ze=n())==null?void 0:ze.createIndicator({name:"BIAS",calcParams:E,styles:V},!0,{id:st});ko&&console.log("âœ… Created new BIAS indicator with ID:",ko,"in pane:",st)}}}),d.update(I=>(Object.keys(I.saveInds).forEach(L=>{I.saveInds[L].name==="BIAS"&&delete I.saveInds[L]}),i(Jr).forEach((L,E)=>{const V=E===0?`${s().editPaneId}_BIAS`:`pane_BIAS_${E+1}_BIAS`,ne=E===0?s().editPaneId:`pane_BIAS_${E+1}`,_e={name:"BIAS",biasGroup:L,pane_id:ne,groupIndex:E,biasGroups:E===0?[...i(Jr)]:void 0,params:[L.period]};I.saveInds[V]=_e,console.log("ðŸ’¾ Saved BIAS group",E,"with key:",V,"and pane ID:",ne)}),I)),c.update(I=>(I.editIndName="",I.editPaneId="",I.modalIndCfg=!1,I)),a(!1),console.log("âœ… BIAS configuration saved successfully")}function cf(){if(!i(Sl))return;const g=Object.keys(r().saveInds).filter(E=>r().saveInds[E].name==="CCI").sort((E,V)=>E===`${s().editPaneId}_CCI`?-1:V===`${s().editPaneId}_CCI`?1:E.localeCompare(V));console.log("ðŸ”§ Applying CCI changes. Existing keys:",g),console.log("ðŸ”§ Current CCI groups:",i(sa).length);const y=new Map,P=[],I=new Set;i(sa).forEach((E,V)=>{let ne=null;for(const _e of g){if(I.has(_e))continue;const ze=r().saveInds[_e];if(ze&&ze.cciGroup&&(ze.cciGroup.id===E.id||ze.cciGroup.period===E.period&&ze.cciGroup.color===E.color&&ze.cciGroup.thickness===E.thickness&&ze.cciGroup.lineStyle===E.lineStyle)){ne=_e,I.add(_e);break}}if(!ne){let _e=V+1,ze;do ze=_e===1?`${s().editPaneId}_CCI`:`pane_CCI_${_e}_CCI`,_e+=1;while(I.has(ze)||g.includes(ze));ne=ze,I.add(ne)}y.set(E.id,ne),P.push(ne)});const L=g.filter(E=>!P.includes(E));L.forEach(E=>{var ne;const V=r().saveInds[E];if(V&&V.pane_id)try{console.log("ðŸ—‘ï¸ Removing CCI indicator from pane:",V.pane_id,"key:",E),(ne=n())==null||ne.removeIndicator({paneId:V.pane_id,name:"CCI"})}catch(_e){console.log("âŒ Error removing CCI indicator:",_e)}}),i(sa).forEach((E,V)=>{var St,st;const ne=[E.period],_e={lines:[{color:E.color,size:E.thickness,style:E.lineStyle==="solid"?de.Solid:de.Dashed,dashedValue:E.lineStyle==="dashed"?[4,4]:E.lineStyle==="dotted"?[2,6]:[2,2],smooth:!1}]},ze=y.get(E.id),Lt=r().saveInds[ze];if(Lt&&Lt.pane_id)console.log("ðŸ”„ Updating existing CCI in pane:",Lt.pane_id,"with key:",ze),(St=n())==null||St.overrideIndicator({name:"CCI",calcParams:ne,styles:_e,paneId:Lt.pane_id});else{const ko=ze===`${s().editPaneId}_CCI`?s().editPaneId:ze.replace("_CCI","");console.log("ðŸ†• Creating new CCI in pane:",ko,"with key:",ze);const gn=(st=n())==null?void 0:st.createIndicator({name:"CCI",calcParams:ne,styles:_e},!0,{id:ko});gn&&console.log("âœ… Created new CCI indicator with ID:",gn,"in pane:",ko)}}),d.update(E=>(L.forEach(V=>{delete E.saveInds[V],console.log("ðŸ—‘ï¸ Deleted save data for key:",V)}),i(sa).forEach((V,ne)=>{const _e=y.get(V.id),ze=_e===`${s().editPaneId}_CCI`?s().editPaneId:_e.replace("_CCI",""),Lt={name:"CCI",cciGroup:V,pane_id:ze,groupIndex:ne,cciGroups:ne===0?[...i(sa)]:void 0,params:[V.period]};E.saveInds[_e]=Lt,console.log("ðŸ’¾ Saved CCI group",ne,"with key:",_e,"and pane ID:",ze)}),E)),c.update(E=>(E.editIndName="",E.editPaneId="",E.modalIndCfg=!1,E)),a(!1),console.log("âœ… CCI configuration saved successfully")}function N_(){i(qr)&&(vc(),d.update(g=>(Object.keys(g.saveInds).forEach(y=>{g.saveInds[y].name==="SAR"&&delete g.saveInds[y]}),i(cl).forEach((y,P)=>{const I=P===0?"candle_pane_SAR":`SAR_${P+1}`,L={name:"SAR",sarGroup:y,pane_id:"candle_pane",groupIndex:P,sarGroups:P===0?[...i(cl)]:void 0,params:[y.start,y.increment,y.maxValue]};g.saveInds[I]=L}),g)),c.update(g=>(g.editIndName="",g.editPaneId="",g.modalIndCfg=!1,g)),a(!1))}function df(){i(jl)&&(iu(),c.update(g=>(g.editIndName="",g.editPaneId="",g.modalIndCfg=!1,g)),a(!1))}function Lu(){var P;if(!i(Ii))return;const g=Object.keys(r().saveInds).filter(I=>r().saveInds[I].name==="DMI").sort((I,L)=>I===`${s().editPaneId}_DMI`?-1:L===`${s().editPaneId}_DMI`?1:I.localeCompare(L));console.log("ðŸ”§ Applying DMI changes. Existing keys:",g),console.log("ðŸ”§ Current DMI groups:",i(ar).length);const y=i(ar).length;if(g.length>y)for(let I=y;I<g.length;(I+=1)-1){const L=g[I],E=r().saveInds[L];try{console.log("ðŸ—‘ï¸ Removing excess DMI indicator from pane:",E.pane_id),(P=n())==null||P.removeIndicator({paneId:E.pane_id,name:"DMI"})}catch(V){console.log("âŒ Error removing excess DMI indicator:",V)}delete r().saveInds[L]}i(ar).forEach((I,L)=>{var ne,_e,ze;const E=[I.diPeriod,I.adxPeriod],V={lines:[{color:I.styles.diPlus.color,size:I.styles.diPlus.thickness,style:I.styles.diPlus.lineStyle==="dashed"?de.Dashed:de.Solid,dashedValue:I.styles.diPlus.lineStyle==="dashed"?[4,4]:[2,2],smooth:!1},{color:I.styles.diMinus.color,size:I.styles.diMinus.thickness,style:I.styles.diMinus.lineStyle==="dashed"?de.Dashed:de.Solid,dashedValue:I.styles.diMinus.lineStyle==="dashed"?[4,4]:[2,2],smooth:!1},{color:I.styles.adx.color,size:I.styles.adx.thickness,style:I.styles.adx.lineStyle==="dashed"?de.Dashed:de.Solid,dashedValue:I.styles.adx.lineStyle==="dashed"?[4,4]:[2,2],smooth:!1}]};if(L===0)console.log("ðŸ”„ Updating first DMI in pane:",s().editPaneId),(ne=n())==null||ne.overrideIndicator({name:"DMI",calcParams:E,styles:V,paneId:s().editPaneId});else{const Lt=`pane_DMI_${L+1}_DMI`,St=g.find(st=>st===Lt);if(St){const st=r().saveInds[St];console.log("ðŸ”„ Updating existing DMI in pane:",st.pane_id),(_e=n())==null||_e.overrideIndicator({name:"DMI",calcParams:E,styles:V,paneId:st.pane_id})}else{const st=`pane_DMI_${L+1}`;console.log("ðŸ†• Creating new DMI in pane:",st);const ko=(ze=n())==null?void 0:ze.createIndicator({name:"DMI",calcParams:E,styles:V},!0,{id:st});console.log("âœ… Created new DMI indicator with ID:",ko,"in pane:",st)}}}),d.update(I=>(Object.keys(I.saveInds).forEach(L=>{I.saveInds[L].name==="DMI"&&delete I.saveInds[L]}),i(ar).forEach((L,E)=>{const V=E===0?`${s().editPaneId}_DMI`:`pane_DMI_${E+1}_DMI`,ne=E===0?s().editPaneId:`pane_DMI_${E+1}`,_e={name:"DMI",dmiGroup:L,pane_id:ne,groupIndex:E,dmiGroups:E===0?[...i(ar)]:void 0,params:[L.diPeriod,L.adxPeriod]};I.saveInds[V]=_e,console.log("ðŸ’¾ Saved DMI group",E,"with key:",V,"and pane ID:",ne)}),I)),c.update(I=>(I.editIndName="",I.editPaneId="",I.modalIndCfg=!1,I)),a(!1)}function jd(g){var V,ne;const y=i(ua)[g];if(!y||!n()){console.warn("âŒ updatePvtIndicator: Missing group or chart",{group:y,chart:!!n()});return}console.log("ðŸ”„ updatePvtIndicator called:",{groupIndex:g,group:y});let P=de.Solid,I=[2,2];y.lineStyle==="dashed"?(P=de.Dashed,I=[4,4]):y.lineStyle==="dotted"&&(P=de.Dashed,I=[2,2]);const E=((V=n())==null?void 0:V.getIndicators()).filter(_e=>_e.name==="PVT");if(console.log("ðŸ“Š Found PVT indicators on chart:",E.length),console.log("ðŸ“Š Looking for group index:",g),E.length>g){const _e=E[g];console.log("âœ… Found matching PVT indicator by index, updating styles...");const ze=(ne=n())==null?void 0:ne.overrideIndicator({name:"PVT",paneId:_e.paneId,styles:{lines:[{color:y.color,size:y.thickness,style:P,dashedValue:I,smooth:!1}]},figures:[{key:"pvt",title:"PVT: ",type:"line"}]});console.log("ðŸŽ¨ overrideIndicator result:",ze),console.log("ðŸŽ¨ Applied styles:",{color:y.color,size:y.thickness,style:P,dashedValue:I});const Lt=`${_e.paneId}_PVT`;console.log("ðŸ’¾ Using save key:",Lt),d.update(St=>{St.saveInds[Lt]||(St.saveInds[Lt]={name:"PVT",pane_id:_e.paneId,pvtGroups:[]}),St.saveInds[Lt].pvtGroups||(St.saveInds[Lt].pvtGroups=[]);const st=St.saveInds[Lt].pvtGroups||[];for(;st.length<=g;)st.push({});return st[g]={...y},St.saveInds[Lt].pvtGroups=st,console.log("ðŸ’¾ Persisted PVT changes to save data:",Lt,y),St}),console.log("âœ… PVT indicator updated successfully:",g,y)}else console.error("âŒ PVT indicator not found on chart for group index:",g),console.log("ðŸ“Š Available PVT indicators:",E.length),console.log("ðŸ“Š Requested group index:",g)}function $d(g){if(!i(Ur)||!n()||g<0||g>=i(Va).length)return;const y=i(Va)[g];console.log("ðŸ”„ Updating TRIX indicator:",g,y);try{let I=function(ne){let _e=de.Solid,ze=[2,2];return ne==="dashed"?(_e=de.Dashed,ze=[4,4]):ne==="dotted"&&(_e=de.Dashed,ze=[2,2]),{lineStyle:_e,dashedValue:ze}},P=y.paneId||s().editPaneId;console.log("ðŸ” Using pane ID for TRIX update:",P,"for group:",g),n().removeIndicator({paneId:P,name:"TRIX"});const L=I(y.styles.trix.lineStyle),E=I(y.styles.signal.lineStyle);if(n().createIndicator({name:"TRIX",calcParams:[y.trixPeriod,y.signalPeriod],styles:{lines:[{color:y.styles.trix.color,size:y.styles.trix.thickness,style:L.lineStyle,dashedValue:L.dashedValue},{color:y.styles.signal.color,size:y.styles.signal.thickness,style:E.lineStyle,dashedValue:E.dashedValue}]}},P===s().editPaneId,{id:P})){const ne=`${P}_TRIX`;d.update(_e=>(_e.saveInds[ne]?_e.saveInds[ne].params=[y.trixPeriod,y.signalPeriod]:_e.saveInds[ne]={name:"TRIX",pane_id:P,params:[y.trixPeriod,y.signalPeriod]},_e.saveInds[ne].trixGroup={...y},_e))}console.log("âœ… TRIX indicator updated successfully:",g)}catch(P){console.error("âŒ Error updating TRIX indicator:",P)}}function uf(){var P;if(!i(_a)||!n())return;const y=((P=n())==null?void 0:P.getIndicators()).filter(I=>I.name==="ROC");console.log("ðŸ“Š Found ROC indicators on chart:",y.length),console.log("ðŸ“Š ROC groups to apply:",i(Rr).length),i(Rr).forEach((I,L)=>{var ze,Lt;const E=[I.period];let V=de.Solid,ne=[2,2];I.styles.roc.lineStyle==="dashed"?(V=de.Dashed,ne=[4,4]):I.styles.roc.lineStyle==="dotted"&&(V=de.Dashed,ne=[2,2]);const _e=y[L];if(_e){console.log(`ðŸŽ¨ Updating existing ROC indicator ${L} in pane:`,_e.paneId);const St=(ze=n())==null?void 0:ze.overrideIndicator({name:"ROC",paneId:_e.paneId,calcParams:E,styles:{lines:[{color:I.styles.roc.color,size:I.styles.roc.thickness,style:V,dashedValue:ne,smooth:!1}]},figures:[{key:"roc",title:"ROC: ",type:"line"}]});console.log("ðŸŽ¨ overrideIndicator result:",St);const st=`${_e.paneId}_ROC`;d.update(ko=>{ko.saveInds[st]||(ko.saveInds[st]={name:"ROC",pane_id:_e.paneId,params:E,rocGroups:[]}),ko.saveInds[st].rocGroups||(ko.saveInds[st].rocGroups=[]);const gn=ko.saveInds[st].rocGroups||[];for(;gn.length<=L;)gn.push({});return gn[L]={...I},ko.saveInds[st].rocGroups=gn,ko.saveInds[st].params=E,console.log("ðŸ’¾ Persisted ROC changes to save data:",st,I),ko}),console.log("âœ… ROC indicator updated successfully:",L,I)}else{console.log(`âž• Creating new ROC indicator for group ${L}`);const St={name:"ROC",calcParams:E,styles:{lines:[{color:I.styles.roc.color,size:I.styles.roc.thickness,style:V,dashedValue:ne,smooth:!1}]},figures:[{key:"roc",title:"ROC: ",type:"line"}]};(Lt=n())==null||Lt.createIndicator(St,!1,{axis:{gap:{bottom:2}}})}}),c.update(I=>(I.editIndName="",I.editPaneId="",I.modalIndCfg=!1,I)),a(!1)}function vf(){var P;if(!i(kl))return;const g=Object.keys(r().saveInds).filter(I=>r().saveInds[I].name==="PSY").sort((I,L)=>I===`${s().editPaneId}_PSY`?-1:L===`${s().editPaneId}_PSY`?1:I.localeCompare(L)),y=i(Ys).length;if(g.length>y)for(let I=y;I<g.length;(I+=1)-1){const L=g[I],E=r().saveInds[L];if(E&&E.pane_id)try{(P=n())==null||P.removeIndicator({paneId:E.pane_id,name:"PSY"})}catch(V){console.log("Error removing excess PSY indicator:",V)}}i(Ys).forEach((I,L)=>{var St,st,ko;const E=[I.psyPeriod,I.mapsyPeriod],V=[{key:"psy",title:"PSY: ",type:"line"}];I.showMapsy&&V.push({key:"mapsy",title:"MAPSY: ",type:"line"});const ne={lines:[]};let _e=de.Solid,ze=[2,2];if(I.styles.psy.lineStyle==="dashed"?(_e=de.Dashed,ze=[4,4]):I.styles.psy.lineStyle==="dotted"&&(_e=de.Dashed,ze=[2,2]),ne.lines.push({color:I.styles.psy.color,size:I.styles.psy.thickness,style:_e,dashedValue:ze,smooth:!1}),I.showMapsy){let gn=de.Solid,er=[2,2];I.styles.mapsy.lineStyle==="dashed"?(gn=de.Dashed,er=[4,4]):I.styles.mapsy.lineStyle==="dotted"&&(gn=de.Dashed,er=[2,2]),ne.lines.push({color:I.styles.mapsy.color,size:I.styles.mapsy.thickness,style:gn,dashedValue:er,smooth:!1})}const Lt={name:"PSY",calcParams:E,styles:ne,figures:V};if(L===0)(St=n())==null||St.overrideIndicator({...Lt,paneId:s().editPaneId});else{const gn=`psy_${String(L+1).padStart(3,"0")}_PSY`,er=g.find(aa=>aa===gn);if(er){const aa=r().saveInds[er];aa&&aa.pane_id&&((st=n())==null||st.overrideIndicator({...Lt,paneId:aa.pane_id}))}else{const aa=`psy_${String(L+1).padStart(3,"0")}`;((ko=n())==null?void 0:ko.createIndicator(Lt,!1,{id:aa,axis:{gap:{bottom:2}}}))&&(console.log(`âœ… PSY ${L+1} created with pane ID:`,aa),I.actualPaneId=aa)}}}),d.update(I=>(Object.keys(I.saveInds).forEach(L=>{I.saveInds[L].name==="PSY"&&delete I.saveInds[L]}),i(Ys).forEach((L,E)=>{const V=E===0?`${s().editPaneId}_PSY`:`psy_${String(E+1).padStart(3,"0")}_PSY`,ne=E===0?s().editPaneId:L.actualPaneId||`psy_${String(E+1).padStart(3,"0")}`;I.saveInds[V]={name:"PSY",psyGroup:L,pane_id:ne,groupIndex:E,params:[L.psyPeriod,L.mapsyPeriod]}}),I)),c.update(I=>(I.editIndName="",I.editPaneId="",I.modalIndCfg=!1,I)),a(!1)}function jv(){if(!i(nl))return;const g=Object.keys(r().saveInds).filter(y=>r().saveInds[y].name==="OBV");i(pi).forEach((y,P)=>{var ze,Lt,St;const I=[y.obvPeriod,y.maobvPeriod],L=[{key:"obv",title:"OBV: ",type:"line"}];y.showMaobv&&L.push({key:"maobv",title:"MAOBV: ",type:"line"});const E={lines:[]};let V=de.Solid,ne=[2,2];if(y.styles.obv.lineStyle==="dashed"?(V=de.Dashed,ne=[4,4]):y.styles.obv.lineStyle==="dotted"&&(V=de.Dashed,ne=[2,2]),E.lines.push({color:y.styles.obv.color,size:y.styles.obv.thickness,style:V,dashedValue:ne,smooth:!1}),y.showMaobv){let st=de.Solid,ko=[2,2];y.styles.maobv.lineStyle==="dashed"?(st=de.Dashed,ko=[4,4]):y.styles.maobv.lineStyle==="dotted"&&(st=de.Dashed,ko=[2,2]),E.lines.push({color:y.styles.maobv.color,size:y.styles.maobv.thickness,style:st,dashedValue:ko,smooth:!1})}const _e={name:"OBV",calcParams:I,styles:E,figures:L};if(P===0)(ze=n())==null||ze.overrideIndicator({..._e,paneId:s().editPaneId});else{const st=`pane_OBV_${P+1}_OBV`,ko=g.find(gn=>gn===st);if(ko){const gn=r().saveInds[ko];gn&&gn.pane_id&&((Lt=n())==null||Lt.overrideIndicator({..._e,paneId:gn.pane_id}))}else{const gn=`pane_OBV_${P+1}`;((St=n())==null?void 0:St.createIndicator(_e,!1,{id:gn,axis:{gap:{bottom:2}}}))&&(console.log(`âœ… OBV ${P+1} created with pane ID:`,gn),y.actualPaneId=gn)}}}),d.update(y=>(Object.keys(y.saveInds).forEach(P=>{y.saveInds[P].name==="OBV"&&delete y.saveInds[P]}),i(pi).forEach((P,I)=>{const L=I===0?`${s().editPaneId}_OBV`:`pane_OBV_${I+1}_OBV`,E=I===0?s().editPaneId:P.actualPaneId||`pane_OBV_${I+1}`,V={name:"OBV",obvGroup:P,pane_id:E,groupIndex:I,obvGroups:I===0?[...i(pi)]:void 0,params:[P.obvPeriod,P.maobvPeriod]};y.saveInds[L]=V}),y)),c.update(y=>(y.editIndName="",y.editPaneId="",y.modalIndCfg=!1,y)),a(!1)}function pf(){if(console.log("ðŸš€ handleKdjConfirm started"),!i(Vl)){console.log("âŒ Not KDJ indicator, returning early");return}try{console.log("ðŸ”„ Applying KDJ changes, groups:",i(jr).length),console.log("ðŸ“Š Current KDJ groups data:",JSON.parse(JSON.stringify(i(jr)))),console.log("ðŸ”„ Preserving existing indicators and updating with current values"),i(jr).forEach((g,y)=>{console.log(`ðŸ”„ Applying KDJ group ${y+1} with current values`),qc(y)}),d.update(g=>(i(jr).forEach((y,P)=>{const I=P===0?`${s().editPaneId}_KDJ`:`pane_KDJ_${P+1}_KDJ`,L=P===0?s().editPaneId:y.actualPaneId||`pane_KDJ_${P+1}`;console.log(`ðŸ’¾ Updating saved KDJ group ${P+1} with key:`,I,"pane ID:",L),g.saveInds[I]={name:"KDJ",kdjGroup:y,pane_id:L,groupIndex:P,kdjGroups:P===0?[...i(jr)]:void 0,params:[y.kPeriod,y.dPeriod,3]}}),g)),c.update(g=>(g.editIndName="",g.editPaneId="",g.modalIndCfg=!1,g)),a(!1)}catch(g){console.error("âŒ Error in handleKdjConfirm main logic:",g),console.log("ðŸ”„ Forcing popup close due to error in main logic..."),c.update(y=>(y.editIndName="",y.editPaneId="",y.modalIndCfg=!1,y)),a(!1),console.log("âœ… Popup forcefully closed after error in main logic")}}function $v(){i(Nc)&&(Gs(),b(cn,!1),c.update(g=>(g.editIndName="",g.editPaneId="",g.modalIndCfg=!1,g)),a(!1))}function Ip(){var P;if(!i(Vo))return;console.log("ðŸ”„ Applying AO changes, groups:",i(co).length);const g=Object.keys(r().saveInds).filter(I=>r().saveInds[I].name==="AO").sort((I,L)=>I===`${s().editPaneId}_AO`?-1:L===`${s().editPaneId}_AO`?1:I.localeCompare(L));console.log("ðŸ” Existing AO keys:",g);const y=i(co).length;if(g.length>y){console.log(`ðŸ—‘ï¸ Removing ${g.length-y} excess AO indicators`);for(let I=y;I<g.length;(I+=1)-1){const L=g[I],E=r().saveInds[L];if(E&&E.pane_id){console.log("ðŸ—‘ï¸ Removing AO indicator from pane:",E.pane_id);try{(P=n())==null||P.removeIndicator({paneId:E.pane_id,name:"AO"})}catch(V){console.log("Error removing excess AO indicator:",V)}}}}i(co).forEach((I,L)=>{var ne,_e,ze;const E=[I.shortPeriod,I.longPeriod],V={bars:[{upColor:I.styles.increasing.color,downColor:I.styles.decreasing.color,noChangeColor:"#888888"}]};if(L===0)console.log("ðŸ”„ Updating first AO indicator in pane:",s().editPaneId),(ne=n())==null||ne.overrideIndicator({name:"AO",calcParams:E,styles:V,paneId:s().editPaneId});else{const Lt=`pane_AO_${L+1}_AO`,St=g.find(st=>st===Lt);if(St){const st=r().saveInds[St];st&&st.pane_id&&(console.log(`ðŸ”„ Updating existing AO ${L+1} in pane:`,st.pane_id),(_e=n())==null||_e.overrideIndicator({name:"AO",calcParams:E,styles:V,paneId:st.pane_id}))}else{const st=`pane_AO_${L+1}`;console.log(`ðŸ†• Creating new AO ${L+1} with pane ID:`,st),(ze=n())==null||ze.createIndicator({name:"AO",calcParams:E,styles:V},!0,{id:st})}}}),d.update(I=>(Object.keys(I.saveInds).forEach(L=>{I.saveInds[L].name==="AO"&&delete I.saveInds[L]}),i(co).forEach((L,E)=>{const V=E===0?`${s().editPaneId}_AO`:`pane_AO_${E+1}_AO`,ne=E===0?s().editPaneId:`pane_AO_${E+1}`;console.log(`ðŸ’¾ Saving AO group ${E+1} with key:`,V),I.saveInds[V]={name:"AO",aoGroup:L,pane_id:ne,groupIndex:E,aoGroups:E===0?[...i(co)]:void 0,params:[L.shortPeriod,L.longPeriod]}}),I)),c.update(I=>(I.editIndName="",I.editPaneId="",I.modalIndCfg=!1,I)),a(!1)}function Bv(){i(Et)&&(i(An).length===0?b(An,$([{id:Jo(),paneId:s().editPaneId||"candle_pane",period:i(q),stdDev:i(B),styles:{fillColor:i(S),fillOpacity:i(M),upperColor:i(T),middleColor:i(D),lowerColor:i(A),thickness:i(j),lineStyle:i(F)}}])):(i(An)[0].period=i(q),i(An)[0].stdDev=i(B),i(An)[0].styles.fillColor=i(S),i(An)[0].styles.fillOpacity=i(M),i(An)[0].styles.upperColor=i(T),i(An)[0].styles.middleColor=i(D),i(An)[0].styles.lowerColor=i(A),i(An)[0].styles.thickness=i(j),i(An)[0].styles.lineStyle=i(F)),Aa(),c.update(g=>(g.editIndName="",g.editPaneId="",g.modalIndCfg=!1,g)),a(!1))}function z_(g){var I;if(console.log("ðŸ”„ handleConfirm called with:",g),console.log("ðŸ“Š Current context:",{editIndName:s().editIndName,editPaneId:s().editPaneId,isKdj:i(Vl),kdjGroups:i(jr)}),g==="close"||g==="cancel"){c.update(L=>(L.editIndName="",L.editPaneId="",L.modalIndCfg=!1,L)),b(cn,!1),a(!1);return}if(g==="confirm"&&i(xo)&&s().editIndName&&s().editPaneId){af();return}if(g==="confirm"&&i(Sa)&&s().editIndName&&s().editPaneId){rn(),c.update(L=>(L.editIndName="",L.editPaneId="",L.modalIndCfg=!1,L)),a(!1);return}if(g==="confirm"&&i(rr)&&s().editIndName&&s().editPaneId){console.log("ðŸ”„ PVT Confirm: Applying all changes to chart"),i(ua).forEach((L,E)=>{console.log(`ðŸ”„ Applying PVT group ${E}:`,L),jd(E)}),d.update(L=>{const E=`${s().editPaneId}_PVT`;return L.saveInds[E]={...L.saveInds[E],pvtGroups:[...i(ua)]},console.log("ðŸ’¾ Saved PVT groups to:",E),L}),c.update(L=>(L.editIndName="",L.editPaneId="",L.modalIndCfg=!1,L)),a(!1);return}if(g==="confirm"&&i(Fl)&&s().editIndName&&s().editPaneId){rf();return}if(g==="confirm"&&i($o)&&s().editIndName&&s().editPaneId){gc();return}if(g==="confirm"&&i(un)&&s().editIndName&&s().editPaneId){ad();return}if(g==="confirm"&&i(Zr)&&s().editIndName&&s().editPaneId){O_();return}if(g==="confirm"&&i(Yo)&&s().editIndName&&s().editPaneId){R_();return}if(g==="confirm"&&i(sc)&&s().editIndName&&s().editPaneId){i(Dn).forEach((L,E)=>{$l(E)}),Qd(),c.update(L=>(L.editIndName="",L.editPaneId="",L.modalIndCfg=!1,L)),a(!1);return}if(g==="confirm"&&i(Cl)&&s().editIndName&&s().editPaneId){Fv();return}if(g==="confirm"&&i(Il)&&s().editIndName&&s().editPaneId){Du();return}if(g==="confirm"&&i(Eo)&&s().editIndName&&s().editPaneId){lf();return}if(g==="confirm"&&i(ii)&&s().editIndName&&s().editPaneId){up();return}if(g==="confirm"&&i(Sl)&&s().editIndName&&s().editPaneId){cf();return}if(g==="confirm"&&i(qr)&&s().editIndName&&s().editPaneId){N_();return}if(g==="confirm"&&i(jl)&&s().editIndName&&s().editPaneId){df();return}if(g==="confirm"&&i(Ii)&&s().editIndName&&s().editPaneId){Lu();return}if(g==="confirm"&&i(_a)&&s().editIndName&&s().editPaneId){uf();return}if(g==="confirm"&&i(kl)&&s().editIndName&&s().editPaneId){vf();return}if(g==="confirm"&&i(nl)&&s().editIndName&&s().editPaneId){jv();return}if(g==="confirm"&&i(Ar)&&s().editIndName&&s().editPaneId){A_();return}if(g==="confirm"&&i(Vl)&&s().editIndName&&s().editPaneId){console.log("âœ… KDJ confirm condition met, calling handleKdjConfirm"),pf();return}if(g==="confirm"&&i(Vo)&&s().editIndName&&s().editPaneId){Ip();return}if(g==="confirm"&&i(Et)&&s().editIndName&&s().editPaneId){Bv();return}if(g==="confirm"&&i(Nc)&&s().editIndName&&s().editPaneId){$v();return}if(g!=="confirm"||!s().editIndName||!s().editPaneId||h.length===0){a(!1);return}const y=[],P={lines:[],bars:[]};p.forEach((L,E)=>{const V=h[E];if(V&&V.type==="color"){const ne=V.styleKey;if(ne){const _e=ne.match(/^(\w+)\[(\d+)\]\.(\w+)$/);if(_e){const[,ze,Lt,St]=_e,st=parseInt(Lt);P[ze]||(P[ze]=[]),P[ze][st]||(P[ze][st]={}),P[ze][st][St]=L||V.default}}}else(!mv.isValid(L)||L==="")&&V&&V.default&&(L=V.default),y.push(Number(L))}),x.forEach((L,E)=>{let V=de.Solid,ne=[2,2];L.lineStyle==="dashed"?(V=de.Dashed,ne=[4,4]):L.lineStyle==="dotted"&&(V=de.Dashed,ne=[2,6]),P.lines[E]={color:L.color,size:L.thickness,style:V,dashedValue:ne}}),(I=n())==null||I.overrideIndicator({name:s().editIndName,calcParams:y,styles:P,paneId:s().editPaneId}),d.update(L=>{const E={name:s().editIndName,params:y,pane_id:s().editPaneId,styles:[...x]};return i(Et)||(E.fields=[...h]),L.saveInds[`${s().editPaneId}_${s().editIndName}`]=E,L}),c.update(L=>(L.editIndName="",L.editPaneId="",L.modalIndCfg=!1,L)),a(!1)}T0();var Pp=WF(),nv=nt(Pp);nd(nv,{get title(){return i(ot)},width:600,maxWidth:"min(600px, 95vw)",maxHeight:"90vh",get show(){return a()},set show(g){a(g)},get theme(){return r().theme},click:z_,children:(g,y)=>{var P=qF(),I=m(P);xe(I,()=>i(xo),E=>{var V=cL(),ne=m(V);Qo(ne,17,()=>i(xt),ln,(Lt,St,st)=>{var ko=lL(),gn=m(ko),er=m(gn);er.textContent=`MACD ${st+1}`;var aa=v(er,2);xe(aa,()=>i(xt).length>1,Wo=>{var ho=aL();ho.__click=[rL,p_,St],N(Wo,ho)}),_(gn);var dl=v(gn,2),Wa=m(dl),hl=v(m(Wa),2);ut(hl),_(Wa);var Ca=v(Wa,2),La=v(m(Ca),2);ut(La),_(Ca);var Ga=v(Ca,2),Ia=v(m(Ga),2);ut(Ia),_(Ga),_(dl);var ma=v(dl,2),Ea=m(ma),cs=v(m(Ea),2),Di=tt(()=>Ju(st,"macdLine"));cs.__click=function(...Wo){var ho;(ho=i(Di))==null||ho.apply(this,Wo)};var va=v(cs,2);va.__change=()=>tu(st);var Ns=m(va);Ns.value=(Ns.__value=1)==null?"":1;var ki=v(Ns);ki.value=(ki.__value=2)==null?"":2;var Qr=v(ki);Qr.value=(Qr.__value=3)==null?"":3;var zs=v(Qr);zs.value=(zs.__value=4)==null?"":4;var Dr=v(zs);Dr.value=(Dr.__value=5)==null?"":5,_(va);var kr=v(va,2);kr.__change=()=>tu(st);var Nn=m(kr);Nn.value=(Nn.__value="solid")==null?"":"solid";var Vs=v(Nn);Vs.value=(Vs.__value="dashed")==null?"":"dashed";var lr=v(Vs);lr.value=(lr.__value="dotted")==null?"":"dotted",_(kr),_(Ea);var rs=v(Ea,2),ai=v(m(rs),2),Hi=tt(()=>Ju(st,"signalLine"));ai.__click=function(...Wo){var ho;(ho=i(Hi))==null||ho.apply(this,Wo)};var Zn=v(ai,2);Zn.__change=()=>tu(st);var li=m(Zn);li.value=(li.__value=1)==null?"":1;var Ri=v(li);Ri.value=(Ri.__value=2)==null?"":2;var Xn=v(Ri);Xn.value=(Xn.__value=3)==null?"":3;var $s=v(Xn);$s.value=($s.__value=4)==null?"":4;var Si=v($s);Si.value=(Si.__value=5)==null?"":5,_(Zn);var as=v(Zn,2);as.__change=()=>tu(st);var jn=m(as);jn.value=(jn.__value="solid")==null?"":"solid";var ci=v(jn);ci.value=(ci.__value="dashed")==null?"":"dashed";var _s=v(ci);_s.value=(_s.__value="dotted")==null?"":"dotted",_(as),_(rs);var Bo=v(rs,2),fi=v(m(Bo),2),Ho=tt(()=>Ju(st,"positiveHistogram"));fi.__click=function(...Wo){var ho;(ho=i(Ho))==null||ho.apply(this,Wo)},_(Bo);var xs=v(Bo,2),qs=v(m(xs),2),ds=tt(()=>Ju(st,"negativeHistogram"));qs.__click=function(...Wo){var ho;(ho=i(ds))==null||ho.apply(this,Wo)},_(xs),_(ma),_(ko),Re(()=>{lt(cs,"style",`background-color: ${i(St).styles.macdLine.color??""}; border: 1px solid #ddd;`),lt(ai,"style",`background-color: ${i(St).styles.signalLine.color??""}; border: 1px solid #ddd;`),lt(fi,"style",`background-color: ${i(St).styles.positiveHistogram.color??""}; border: 1px solid #ddd;`),lt(qs,"style",`background-color: ${i(St).styles.negativeHistogram.color??""}; border: 1px solid #ddd;`)}),Mt(hl,()=>i(St).fastPeriod,Wo=>i(St).fastPeriod=Wo),Mt(La,()=>i(St).slowPeriod,Wo=>i(St).slowPeriod=Wo),Mt(Ia,()=>i(St).signalPeriod,Wo=>i(St).signalPeriod=Wo),qt(va,()=>i(St).styles.macdLine.thickness,Wo=>i(St).styles.macdLine.thickness=Wo),qt(kr,()=>i(St).styles.macdLine.lineStyle,Wo=>i(St).styles.macdLine.lineStyle=Wo),qt(Zn,()=>i(St).styles.signalLine.thickness,Wo=>i(St).styles.signalLine.thickness=Wo),qt(as,()=>i(St).styles.signalLine.lineStyle,Wo=>i(St).styles.signalLine.lineStyle=Wo),N(Lt,ko)});var _e=v(ne,2),ze=m(_e);ze.__click=v_,_(_e),_(V),N(E,V)},E=>{var V=yt(),ne=nt(V);xe(ne,()=>i(Sa),_e=>{var ze=dL(),Lt=m(ze),St=m(Lt),st=v(m(St),2);ut(st),st.__input=[Zc,Sa,n,u,s,c,ht],_(St);var ko=v(St,2),gn=v(m(ko),2);ut(gn),gn.__input=[Zc,Sa,n,u,s,c,ht],_(ko);var er=v(ko,2),aa=v(m(er),2);ut(aa),aa.__input=[Zc,Sa,n,u,s,c,ht],_(er);var dl=v(er,2),Wa=v(m(dl),2);ut(Wa),Wa.__input=[Zc,Sa,n,u,s,c,ht],_(dl);var hl=v(dl,2),Ca=v(m(hl),2);ut(Ca),Ca.__input=[Zc,Sa,n,u,s,c,ht],_(hl);var La=v(hl,2),Ga=v(m(La),2);ut(Ga),Ga.__input=[Zc,Sa,n,u,s,c,ht],_(La),_(Lt);var Ia=v(Lt,2),ma=m(Ia),Ea=v(m(ma),2),cs=m(Ea);ut(cs),cs.__input=[Zc,Sa,n,u,s,c,ht];var Di=v(cs,2),va=m(Di);Re(()=>wt(va,`${(ht.maxZoneWidthPct*100).toFixed(1)??""}%`)),_(Di),_(Ea),_(ma);var Ns=v(ma,2),ki=v(m(Ns),2),Qr=m(ki);ut(Qr),Qr.__input=[Zc,Sa,n,u,s,c,ht];var zs=v(Qr,2),Dr=m(zs);Re(()=>wt(Dr,`${ht.minVolumeFactor.toFixed(2)??""}x`)),_(zs),_(ki),_(Ns);var kr=v(Ns,2),Nn=v(m(kr),2),Vs=m(Nn);ut(Vs),Vs.__input=[Zc,Sa,n,u,s,c,ht];var lr=v(Vs,2),rs=m(lr,!0);Re(()=>wt(rs,ht.minOBVTrendStrength.toFixed(2))),_(lr),_(Nn),_(kr);var ai=v(kr,2),Hi=v(m(ai),2),Zn=m(Hi);ut(Zn),Zn.__input=[Zc,Sa,n,u,s,c,ht];var li=v(Zn,2),Ri=m(li,!0);Re(()=>wt(Ri,ht.minZoneScore.toFixed(2))),_(li),_(Hi),_(ai),_(Ia);var Xn=v(Ia,2),$s=m(Xn),Si=v(m($s),2);ut(Si),Si.__change=[Zc,Sa,n,u,s,c,ht],_($s);var as=v($s,2),jn=v(m(as),2);ut(jn),jn.__change=[Zc,Sa,n,u,s,c,ht],_(as),_(Xn);var ci=v(Xn,2),_s=v(m(ci),2);ut(_s),_s.__input=[Zc,Sa,n,u,s,c,ht],_(ci),_(ze),Mt(st,()=>ht.zoneLookbackBars,Bo=>ht.zoneLookbackBars=Bo),Mt(gn,()=>ht.priorTrendLookback,Bo=>ht.priorTrendLookback=Bo),Mt(aa,()=>ht.minZoneBars,Bo=>ht.minZoneBars=Bo),Mt(Wa,()=>ht.maxZoneBars,Bo=>ht.maxZoneBars=Bo),Mt(Ca,()=>ht.atrPeriod,Bo=>ht.atrPeriod=Bo),Mt(Ga,()=>ht.volumeMAPeriod,Bo=>ht.volumeMAPeriod=Bo),Mt(cs,()=>ht.maxZoneWidthPct,Bo=>ht.maxZoneWidthPct=Bo),Mt(Qr,()=>ht.minVolumeFactor,Bo=>ht.minVolumeFactor=Bo),Mt(Vs,()=>ht.minOBVTrendStrength,Bo=>ht.minOBVTrendStrength=Bo),Mt(Zn,()=>ht.minZoneScore,Bo=>ht.minZoneScore=Bo),fd(Si,()=>ht.mergeNearbyZones,Bo=>ht.mergeNearbyZones=Bo),fd(jn,()=>ht.showLabels,Bo=>ht.showLabels=Bo),Mt(_s,()=>ht.maxZonesDisplayed,Bo=>ht.maxZonesDisplayed=Bo),N(_e,ze)},_e=>{var ze=yt(),Lt=nt(ze);xe(Lt,()=>i(sd),St=>{var st=vL(),ko=m(st),gn=m(ko),er=v(m(gn),2);ut(er),er.__input=Me,_(gn);var aa=v(gn,2),dl=v(m(aa),2);ut(dl),dl.__input=Me,_(aa);var Wa=v(aa,2),hl=v(m(Wa),2);ut(hl),hl.__input=Me,_(Wa);var Ca=v(Wa,2),La=v(m(Ca),2);ut(La),La.__input=Me,_(Ca);var Ga=v(Ca,2),Ia=v(m(Ga),2);ut(Ia),Ia.__input=Me,_(Ga);var ma=v(Ga,2),Ea=v(m(ma),2),cs=m(Ea);ut(cs),cs.__input=Me;var Di=v(cs,2),va=m(Di);Re(()=>wt(va,`${Number(p[5]??1.2).toFixed(2)??""}x`)),_(Di),_(Ea),_(ma),_(ko);var Ns=v(ko,2),ki=m(Ns),Qr=v(m(ki),2),zs=m(Qr);ut(zs),zs.__input=Me,ei(2),_(Qr),_(ki);var Dr=v(ki,2),kr=v(m(Dr),2),Nn=m(kr);ut(Nn),Nn.__input=Me;var Vs=v(Nn,2),lr=m(Vs,!0);Re(()=>wt(lr,Number(p[7]??.35).toFixed(2))),_(Vs),_(kr),_(Dr);var rs=v(Dr,2),ai=v(m(rs),2),Hi=m(ai);ut(Hi),Hi.__input=Me;var Zn=v(Hi,2),li=m(Zn,!0);Re(()=>wt(li,Number(p[8]??.5).toFixed(2))),_(Zn),_(ai),_(rs),_(Ns);var Ri=v(Ns,2),Xn=m(Ri),$s=v(m(Xn),2);ut($s),Re(()=>Yd($s,Number(p[9]??1)>0)),$s.__change=[uL,p,Me],_(Xn);var Si=v(Xn,2),as=v(m(Si),2);ut(as),as.__input=Me,_(Si),_(Ri),_(st),Mt(er,()=>p[0],jn=>p[0]=jn),Mt(dl,()=>p[1],jn=>p[1]=jn),Mt(hl,()=>p[2],jn=>p[2]=jn),Mt(La,()=>p[3],jn=>p[3]=jn),Mt(Ia,()=>p[4],jn=>p[4]=jn),Mt(cs,()=>p[5],jn=>p[5]=jn),Mt(zs,()=>p[6],jn=>p[6]=jn),Mt(Nn,()=>p[7],jn=>p[7]=jn),Mt(Hi,()=>p[8],jn=>p[8]=jn),Mt(as,()=>p[10],jn=>p[10]=jn),N(St,st)},St=>{var st=yt(),ko=nt(st);xe(ko,()=>i(W),gn=>{var er=pL(),aa=m(er),dl=v(m(aa),2),Wa=m(dl),hl=v(m(Wa),2);ut(hl),hl.__input=Oe,_(Wa);var Ca=v(Wa,2),La=v(m(Ca),2);ut(La),La.__input=Oe,_(Ca);var Ga=v(Ca,2),Ia=v(m(Ga),2);ut(Ia),Ia.__input=Oe,_(Ga);var ma=v(Ga,2),Ea=v(m(ma),2);ut(Ea),Ea.__input=Oe,_(ma);var cs=v(ma,2),Di=v(m(cs),2);ut(Di),Di.__input=Oe,_(cs);var va=v(cs,2),Ns=v(m(va),2);ut(Ns),Ns.__input=Oe,_(va),_(dl),_(aa);var ki=v(aa,2),Qr=v(m(ki),2),zs=m(Qr),Dr=v(m(zs),2),kr=m(Dr);ut(kr),kr.__input=Oe;var Nn=v(kr,2),Vs=m(Nn,!0);Re(()=>wt(Vs,Number(p[6]??.7).toFixed(2))),_(Nn),_(Dr),_(zs);var lr=v(zs,2),rs=v(m(lr),2);ut(rs),rs.__input=Oe,_(lr);var ai=v(lr,2),Hi=v(m(ai),2),Zn=m(Hi);ut(Zn),Zn.__input=Oe;var li=v(Zn,2),Ri=m(li);Re(()=>wt(Ri,`${Number(p[8]??1.3).toFixed(2)??""}x`)),_(li),_(Hi),_(ai);var Xn=v(ai,2),$s=v(m(Xn),2),Si=m($s);ut(Si),Si.__input=Oe;var as=v(Si,2),jn=m(as);Re(()=>wt(jn,`${Number(p[9]??1.3).toFixed(2)??""}x`)),_(as),_($s),_(Xn);var ci=v(Xn,2),_s=v(m(ci),2),Bo=m(_s);ut(Bo),Bo.__input=Oe;var fi=v(Bo,2),Ho=m(fi,!0);Re(()=>wt(Ho,Number(p[10]??.6).toFixed(2))),_(fi),_(_s),_(ci);var xs=v(ci,2),qs=v(m(xs),2);ut(qs),qs.__input=Oe,_(xs);var ds=v(xs,2),Wo=v(m(ds),2);ut(Wo),Wo.__input=Oe,_(ds),_(Qr),_(ki),_(er),Mt(hl,()=>p[0],ho=>p[0]=ho),Mt(La,()=>p[1],ho=>p[1]=ho),Mt(Ia,()=>p[2],ho=>p[2]=ho),Mt(Ea,()=>p[3],ho=>p[3]=ho),Mt(Di,()=>p[4],ho=>p[4]=ho),Mt(Ns,()=>p[5],ho=>p[5]=ho),Mt(kr,()=>p[6],ho=>p[6]=ho),Mt(rs,()=>p[7],ho=>p[7]=ho),Mt(Zn,()=>p[8],ho=>p[8]=ho),Mt(Si,()=>p[9],ho=>p[9]=ho),Mt(Bo,()=>p[10],ho=>p[10]=ho),Mt(qs,()=>p[11],ho=>p[11]=ho),Mt(Wo,()=>p[12],ho=>p[12]=ho),N(gn,er)},gn=>{var er=yt(),aa=nt(er);xe(aa,()=>i(ve),dl=>{var Wa=fL(),hl=m(Wa),Ca=v(m(hl),2),La=m(Ca),Ga=v(m(La),2);ut(Ga),Ga.__input=$e,_(La);var Ia=v(La,2),ma=v(m(Ia),2);ut(ma),ma.__input=$e,_(Ia);var Ea=v(Ia,2),cs=v(m(Ea),2);ut(cs),cs.__input=$e,_(Ea);var Di=v(Ea,2),va=v(m(Di),2);ut(va),va.__input=$e,_(Di);var Ns=v(Di,2),ki=v(m(Ns),2);ut(ki),ki.__input=$e,_(Ns);var Qr=v(Ns,2),zs=v(m(Qr),2);ut(zs),zs.__input=$e,_(Qr),_(Ca),_(hl);var Dr=v(hl,2),kr=v(m(Dr),2),Nn=m(kr),Vs=v(m(Nn),2),lr=m(Vs);ut(lr),lr.__input=$e;var rs=v(lr,2),ai=m(rs,!0);Re(()=>wt(ai,Number(p[6]??.7).toFixed(2))),_(rs),_(Vs),_(Nn);var Hi=v(Nn,2),Zn=v(m(Hi),2);ut(Zn),Zn.__input=$e,_(Hi);var li=v(Hi,2),Ri=v(m(li),2),Xn=m(Ri);ut(Xn),Xn.__input=$e;var $s=v(Xn,2),Si=m($s);Re(()=>wt(Si,`${Number(p[8]??1.3).toFixed(2)??""}x`)),_($s),_(Ri),_(li);var as=v(li,2),jn=v(m(as),2),ci=m(jn);ut(ci),ci.__input=$e;var _s=v(ci,2),Bo=m(_s);Re(()=>wt(Bo,`${Number(p[9]??1.3).toFixed(2)??""}x`)),_(_s),_(jn),_(as);var fi=v(as,2),Ho=v(m(fi),2),xs=m(Ho);ut(xs),xs.__input=$e;var qs=v(xs,2),ds=m(qs,!0);Re(()=>wt(ds,Number(p[10]??.6).toFixed(2))),_(qs),_(Ho),_(fi);var Wo=v(fi,2),ho=v(m(Wo),2);ut(ho),ho.__input=$e,_(Wo);var Gn=v(Wo,2),Zs=v(m(Gn),2);ut(Zs),Zs.__input=$e,_(Gn),_(kr),_(Dr),_(Wa),Mt(Ga,()=>p[0],en=>p[0]=en),Mt(ma,()=>p[1],en=>p[1]=en),Mt(cs,()=>p[2],en=>p[2]=en),Mt(va,()=>p[3],en=>p[3]=en),Mt(ki,()=>p[4],en=>p[4]=en),Mt(zs,()=>p[5],en=>p[5]=en),Mt(lr,()=>p[6],en=>p[6]=en),Mt(Zn,()=>p[7],en=>p[7]=en),Mt(Xn,()=>p[8],en=>p[8]=en),Mt(ci,()=>p[9],en=>p[9]=en),Mt(xs,()=>p[10],en=>p[10]=en),Mt(ho,()=>p[11],en=>p[11]=en),Mt(Zs,()=>p[12],en=>p[12]=en),N(dl,Wa)},dl=>{var Wa=yt(),hl=nt(Wa);xe(hl,()=>i(sc),Ca=>{var La=mL(),Ga=m(La);Qo(Ga,17,()=>i(Dn),ln,(Ea,cs,Di)=>{var va=_L(),Ns=m(va),ki=m(Ns);ki.textContent=`RSI ${Di+1}`;var Qr=v(ki,2);xe(Qr,()=>i(Dn).length>1,_o=>{var Fo=gL();Fo.__click=()=>eu(Di),N(_o,Fo)}),_(Ns);var zs=v(Ns,2),Dr=m(zs),kr=v(m(Dr),2);ut(kr),kr.__change=()=>{b(Dn,$([...i(Dn)])),$l(Di)},_(Dr);var Nn=v(Dr,2),Vs=v(m(Nn),2);ut(Vs),Vs.__change=()=>{b(Dn,$([...i(Dn)])),$l(Di)},_(Nn);var lr=v(Nn,2),rs=v(m(lr),2);ut(rs),rs.__change=()=>{b(Dn,$([...i(Dn)])),$l(Di)},_(lr);var ai=v(lr,2),Hi=v(m(ai),2);ut(Hi),Hi.__change=()=>{b(Dn,$([...i(Dn)])),$l(Di)},_(ai),_(zs);var Zn=v(zs,2),li=m(Zn),Ri=v(m(li),2),Xn=m(Ri);Xn.__click=_o=>{b($i,$(Di));const Fo=_o.currentTarget.getBoundingClientRect();b(Ai,$({x:Fo.left+Fo.width/2,y:Fo.bottom+5})),b(ji,!0)};var $s=v(Xn,2);$s.__change=()=>{b(Dn,$([...i(Dn)])),$l(Di)};var Si=m($s);Si.value=(Si.__value=1)==null?"":1;var as=v(Si);as.value=(as.__value=2)==null?"":2;var jn=v(as);jn.value=(jn.__value=3)==null?"":3;var ci=v(jn);ci.value=(ci.__value=4)==null?"":4;var _s=v(ci);_s.value=(_s.__value=5)==null?"":5,_($s);var Bo=v($s,2);Bo.__change=()=>{b(Dn,$([...i(Dn)])),$l(Di)};var fi=m(Bo);fi.value=(fi.__value="solid")==null?"":"solid";var Ho=v(fi);Ho.value=(Ho.__value="dashed")==null?"":"dashed";var xs=v(Ho);xs.value=(xs.__value="dotted")==null?"":"dotted",_(Bo),_(Ri),_(li),_(Zn);var qs=v(Zn,2),ds=v(m(qs),2),Wo=v(m(ds),2),ho=m(Wo);ho.__click=_o=>{b(yr,$(Di));const Fo=_o.currentTarget.getBoundingClientRect();b(el,$({x:Fo.left+Fo.width/2,y:Fo.bottom+5})),b(gl,!0)};var Gn=v(ho,2);Gn.__change=()=>{b(Dn,$([...i(Dn)])),$l(Di)};var Zs=m(Gn);Zs.value=(Zs.__value=1)==null?"":1;var en=v(Zs);en.value=(en.__value=2)==null?"":2;var Vn=v(en);Vn.value=(Vn.__value=3)==null?"":3,_(Gn);var us=v(Gn,2);us.__change=()=>{b(Dn,$([...i(Dn)])),$l(Di)};var Xs=m(us);Xs.value=(Xs.__value="solid")==null?"":"solid";var _n=v(Xs);_n.value=(_n.__value="dashed")==null?"":"dashed";var $n=v(_n);$n.value=($n.__value="dotted")==null?"":"dotted",_(us),_(Wo),_(ds);var Jn=v(ds,2),Sn=v(m(Jn),2),ls=m(Sn);ls.__click=_o=>{b(yr,$(Di));const Fo=_o.currentTarget.getBoundingClientRect();b(Ba,$({x:Fo.left+Fo.width/2,y:Fo.bottom+5})),b(_l,!0)};var ms=v(ls,2);ms.__change=()=>{b(Dn,$([...i(Dn)])),$l(Di)};var So=m(ms);So.value=(So.__value=1)==null?"":1;var tn=v(So);tn.value=(tn.__value=2)==null?"":2;var xn=v(tn);xn.value=(xn.__value=3)==null?"":3,_(ms);var Cn=v(ms,2);Cn.__change=()=>{b(Dn,$([...i(Dn)])),$l(Di)};var Bn=m(Cn);Bn.value=(Bn.__value="solid")==null?"":"solid";var os=v(Bn);os.value=(os.__value="dashed")==null?"":"dashed";var on=v(os);on.value=(on.__value="dotted")==null?"":"dotted",_(Cn),_(Sn),_(Jn);var wn=v(Jn,2),As=v(m(wn),2),qn=m(As);qn.__click=_o=>{b(yr,$(Di));const Fo=_o.currentTarget.getBoundingClientRect();b(Kr,$({x:Fo.left+Fo.width/2,y:Fo.bottom+5})),b(ll,!0)};var Wn=v(qn,2);Wn.__change=()=>{b(Dn,$([...i(Dn)])),$l(Di)};var No=m(Wn);No.value=(No.__value=1)==null?"":1;var fo=v(No);fo.value=(fo.__value=2)==null?"":2;var On=v(fo);On.value=(On.__value=3)==null?"":3,_(Wn);var mn=v(Wn,2);mn.__change=()=>{b(Dn,$([...i(Dn)])),$l(Di)};var nn=m(mn);nn.value=(nn.__value="solid")==null?"":"solid";var zo=v(nn);zo.value=(zo.__value="dashed")==null?"":"dashed";var vs=v(zo);vs.value=(vs.__value="dotted")==null?"":"dotted",_(mn),_(As),_(wn);var no=v(wn,2),ws=v(m(no),2),In=m(ws);ut(In),In.__change=()=>{b(Dn,$([...i(Dn)])),$l(Di)};var Oo=v(In,2),Bs=m(Oo);Re(()=>wt(Bs,`${Math.round((i(cs).fillOpacity??.15)*100)??""}%`)),_(Oo),_(ws),_(no),_(qs),_(va),Re(()=>{lt(Xn,"style",`background-color: ${i(cs).styles.rsi.color??""}`),lt(ho,"style",`background-color: ${(i(cs).styles.overboughtColor||"#EF4444")??""}`),lt(ls,"style",`background-color: ${(i(cs).styles.oversoldColor||"#22C55E")??""}`),lt(qn,"style",`background-color: ${(i(cs).styles.middleLineColor||"#6B7280")??""}`)}),Mt(kr,()=>i(cs).period,_o=>i(cs).period=_o),Mt(Vs,()=>i(cs).overboughtLevel,_o=>i(cs).overboughtLevel=_o),Mt(rs,()=>i(cs).middleLevel,_o=>i(cs).middleLevel=_o),Mt(Hi,()=>i(cs).oversoldLevel,_o=>i(cs).oversoldLevel=_o),qt($s,()=>i(cs).styles.rsi.thickness,_o=>i(cs).styles.rsi.thickness=_o),qt(Bo,()=>i(cs).styles.rsi.lineStyle,_o=>i(cs).styles.rsi.lineStyle=_o),qt(Gn,()=>i(cs).styles.overboughtThickness,_o=>i(cs).styles.overboughtThickness=_o),qt(us,()=>i(cs).styles.overboughtLineStyle,_o=>i(cs).styles.overboughtLineStyle=_o),qt(ms,()=>i(cs).styles.oversoldThickness,_o=>i(cs).styles.oversoldThickness=_o),qt(Cn,()=>i(cs).styles.oversoldLineStyle,_o=>i(cs).styles.oversoldLineStyle=_o),qt(Wn,()=>i(cs).styles.middleLineThickness,_o=>i(cs).styles.middleLineThickness=_o),qt(mn,()=>i(cs).styles.middleLineStyle,_o=>i(cs).styles.middleLineStyle=_o),Mt(In,()=>i(cs).fillOpacity,_o=>i(cs).fillOpacity=_o),N(Ea,va)});var Ia=v(Ga,2),ma=m(Ia);ma.__click=a_,_(Ia),_(La),N(Ca,La)},Ca=>{var La=yt(),Ga=nt(La);xe(Ga,()=>i(ic),Ia=>{var ma=bL(),Ea=m(ma);Qo(Ea,17,()=>i(Wr),ln,(va,Ns,ki)=>{var Qr=yL(),zs=m(Qr),Dr=m(zs);Dr.textContent=`Stochastic ${ki+1}`;var kr=v(Dr,2);xe(kr,()=>i(Wr).length>1,No=>{var fo=hL();fo.__click=()=>yd(ki),N(No,fo)}),_(zs);var Nn=v(zs,2),Vs=m(Nn),lr=v(m(Vs),2);ut(lr),lr.__change=()=>uc(ki),_(Vs);var rs=v(Vs,2),ai=v(m(rs),2);ut(ai),ai.__change=()=>uc(ki),_(rs);var Hi=v(rs,2),Zn=v(m(Hi),2);ut(Zn),Zn.__change=()=>uc(ki),_(Hi);var li=v(Hi,2),Ri=v(m(li),2);ut(Ri),Ri.__change=()=>uc(ki),_(li),_(Nn);var Xn=v(Nn,2),$s=m(Xn),Si=v(m($s),2);ut(Si),Si.__change=()=>uc(ki),_($s),_(Xn);var as=v(Xn,2),jn=m(as),ci=v(m(jn),2),_s=m(ci);_s.__click=No=>{const fo=No.currentTarget.getBoundingClientRect();b(Ge,$({x:fo.left,y:fo.bottom+5})),b(Xe,$(ki)),b(_i,!0)};var Bo=v(_s,2);Bo.__change=()=>uc(ki);var fi=m(Bo);fi.value=(fi.__value=1)==null?"":1;var Ho=v(fi);Ho.value=(Ho.__value=2)==null?"":2;var xs=v(Ho);xs.value=(xs.__value=3)==null?"":3;var qs=v(xs);qs.value=(qs.__value=4)==null?"":4;var ds=v(qs);ds.value=(ds.__value=5)==null?"":5,_(Bo);var Wo=v(Bo,2);Wo.__change=()=>uc(ki);var ho=m(Wo);ho.value=(ho.__value="solid")==null?"":"solid";var Gn=v(ho);Gn.value=(Gn.__value="dashed")==null?"":"dashed";var Zs=v(Gn);Zs.value=(Zs.__value="dotted")==null?"":"dotted",_(Wo),_(ci),_(jn),_(as);var en=v(as,2),Vn=m(en),us=v(m(Vn),2),Xs=m(us);Xs.__click=No=>{const fo=No.currentTarget.getBoundingClientRect();b(Ge,$({x:fo.left,y:fo.bottom+5})),b(Xe,$(ki)),b(br,!0)};var _n=v(Xs,2);_n.__change=()=>uc(ki);var $n=m(_n);$n.value=($n.__value=1)==null?"":1;var Jn=v($n);Jn.value=(Jn.__value=2)==null?"":2;var Sn=v(Jn);Sn.value=(Sn.__value=3)==null?"":3;var ls=v(Sn);ls.value=(ls.__value=4)==null?"":4;var ms=v(ls);ms.value=(ms.__value=5)==null?"":5,_(_n);var So=v(_n,2);So.__change=()=>uc(ki);var tn=m(So);tn.value=(tn.__value="solid")==null?"":"solid";var xn=v(tn);xn.value=(xn.__value="dashed")==null?"":"dashed";var Cn=v(xn);Cn.value=(Cn.__value="dotted")==null?"":"dotted",_(So),_(us),_(Vn),_(en);var Bn=v(en,2),os=v(m(Bn),2),on=v(m(os),2);on.__click=No=>{const fo=No.currentTarget.getBoundingClientRect();b(Ge,$({x:fo.left,y:fo.bottom+5})),b(Xe,$(ki)),b(bs,!0)},_(os);var wn=v(os,2),As=v(m(wn),2);As.__click=No=>{const fo=No.currentTarget.getBoundingClientRect();b(Ge,$({x:fo.left,y:fo.bottom+5})),b(Xe,$(ki)),b(Xi,!0)},_(wn);var qn=v(wn,2),Wn=v(m(qn),2);Wn.__click=No=>{const fo=No.currentTarget.getBoundingClientRect();b(Ge,$({x:fo.left,y:fo.bottom+5})),b(Xe,$(ki)),b(xr,!0)},_(qn),_(Bn),_(Qr),Re(()=>{lt(_s,"style",`background-color: ${i(Ns).styles.kLine.color??""}`),lt(Xs,"style",`background-color: ${i(Ns).styles.dLine.color??""}`),lt(on,"style",`background-color: ${(i(Ns).styles.overboughtColor||"#EF4444")??""}`),lt(As,"style",`background-color: ${(i(Ns).styles.oversoldColor||"#10B981")??""}`),lt(Wn,"style",`background-color: ${(i(Ns).styles.midLineColor||"#6B7280")??""}`)}),Mt(lr,()=>i(Ns).kPeriod,No=>i(Ns).kPeriod=No),Mt(ai,()=>i(Ns).dPeriod,No=>i(Ns).dPeriod=No),Mt(Zn,()=>i(Ns).overboughtLevel,No=>i(Ns).overboughtLevel=No),Mt(Ri,()=>i(Ns).oversoldLevel,No=>i(Ns).oversoldLevel=No),Mt(Si,()=>i(Ns).midLevel,No=>i(Ns).midLevel=No),qt(Bo,()=>i(Ns).styles.kLine.thickness,No=>i(Ns).styles.kLine.thickness=No),qt(Wo,()=>i(Ns).styles.kLine.lineStyle,No=>i(Ns).styles.kLine.lineStyle=No),qt(_n,()=>i(Ns).styles.dLine.thickness,No=>i(Ns).styles.dLine.thickness=No),qt(So,()=>i(Ns).styles.dLine.lineStyle,No=>i(Ns).styles.dLine.lineStyle=No),N(va,Qr)});var cs=v(Ea,2),Di=m(cs);Di.__click=d_,_(cs),_(ma),N(Ia,ma)},Ia=>{var ma=yt(),Ea=nt(ma);xe(Ea,()=>i(Ii),cs=>{var Di=SL(),va=m(Di);Qo(va,17,()=>i(ar),ln,(Qr,zs,Dr)=>{var kr=kL(),Nn=m(kr),Vs=m(Nn);Vs.textContent=`DMI ${Dr+1}`;var lr=v(Vs,2);xe(lr,()=>i(ar).length>1,nn=>{var zo=wL();zo.__click=[xL,S_,zs],N(nn,zo)}),_(Nn);var rs=v(Nn,2),ai=m(rs),Hi=v(m(ai),2);ut(Hi),Hi.__input=jc,_(ai);var Zn=v(ai,2),li=v(m(Zn),2);ut(li),li.__input=jc,_(Zn),_(rs);var Ri=v(rs,2),Xn=m(Ri),$s=v(m(Xn),2),Si=tt(()=>bp(Dr,"diPlus"));$s.__click=function(...nn){var zo;(zo=i(Si))==null||zo.apply(this,nn)};var as=m($s);_($s);var jn=v($s,2);jn.__change=jc;var ci=m(jn);ci.value=(ci.__value=1)==null?"":1;var _s=v(ci);_s.value=(_s.__value=2)==null?"":2;var Bo=v(_s);Bo.value=(Bo.__value=3)==null?"":3;var fi=v(Bo);fi.value=(fi.__value=4)==null?"":4;var Ho=v(fi);Ho.value=(Ho.__value=5)==null?"":5,_(jn);var xs=v(jn,2);xs.__change=jc;var qs=m(xs);qs.value=(qs.__value="solid")==null?"":"solid";var ds=v(qs);ds.value=(ds.__value="dashed")==null?"":"dashed";var Wo=v(ds);Wo.value=(Wo.__value="dotted")==null?"":"dotted",_(xs),_(Xn);var ho=v(Xn,2),Gn=v(m(ho),2),Zs=tt(()=>bp(Dr,"diMinus"));Gn.__click=function(...nn){var zo;(zo=i(Zs))==null||zo.apply(this,nn)};var en=m(Gn);_(Gn);var Vn=v(Gn,2);Vn.__change=jc;var us=m(Vn);us.value=(us.__value=1)==null?"":1;var Xs=v(us);Xs.value=(Xs.__value=2)==null?"":2;var _n=v(Xs);_n.value=(_n.__value=3)==null?"":3;var $n=v(_n);$n.value=($n.__value=4)==null?"":4;var Jn=v($n);Jn.value=(Jn.__value=5)==null?"":5,_(Vn);var Sn=v(Vn,2);Sn.__change=jc;var ls=m(Sn);ls.value=(ls.__value="solid")==null?"":"solid";var ms=v(ls);ms.value=(ms.__value="dashed")==null?"":"dashed";var So=v(ms);So.value=(So.__value="dotted")==null?"":"dotted",_(Sn),_(ho);var tn=v(ho,2),xn=v(m(tn),2),Cn=tt(()=>bp(Dr,"adx"));xn.__click=function(...nn){var zo;(zo=i(Cn))==null||zo.apply(this,nn)};var Bn=m(xn);_(xn);var os=v(xn,2);os.__change=jc;var on=m(os);on.value=(on.__value=1)==null?"":1;var wn=v(on);wn.value=(wn.__value=2)==null?"":2;var As=v(wn);As.value=(As.__value=3)==null?"":3;var qn=v(As);qn.value=(qn.__value=4)==null?"":4;var Wn=v(qn);Wn.value=(Wn.__value=5)==null?"":5,_(os);var No=v(os,2);No.__change=jc;var fo=m(No);fo.value=(fo.__value="solid")==null?"":"solid";var On=v(fo);On.value=(On.__value="dashed")==null?"":"dashed";var mn=v(On);mn.value=(mn.__value="dotted")==null?"":"dotted",_(No),_(tn),_(Ri),_(kr),Re(()=>{lt(as,"style",`background-color: ${i(zs).styles.diPlus.color??""}`),lt(en,"style",`background-color: ${i(zs).styles.diMinus.color??""}`),lt(Bn,"style",`background-color: ${i(zs).styles.adx.color??""}`)}),Mt(Hi,()=>i(zs).diPeriod,nn=>i(zs).diPeriod=nn),Mt(li,()=>i(zs).adxPeriod,nn=>i(zs).adxPeriod=nn),qt(jn,()=>i(zs).styles.diPlus.thickness,nn=>i(zs).styles.diPlus.thickness=nn),qt(xs,()=>i(zs).styles.diPlus.lineStyle,nn=>i(zs).styles.diPlus.lineStyle=nn),qt(Vn,()=>i(zs).styles.diMinus.thickness,nn=>i(zs).styles.diMinus.thickness=nn),qt(Sn,()=>i(zs).styles.diMinus.lineStyle,nn=>i(zs).styles.diMinus.lineStyle=nn),qt(os,()=>i(zs).styles.adx.thickness,nn=>i(zs).styles.adx.thickness=nn),qt(No,()=>i(zs).styles.adx.lineStyle,nn=>i(zs).styles.adx.lineStyle=nn),N(Qr,kr)});var Ns=v(va,2),ki=m(Ns);ki.__click=[tL,Ii,ar,jc],_(Ns),_(Di),N(cs,Di)},cs=>{var Di=yt(),va=nt(Di);xe(va,()=>i($o),Ns=>{var ki=ML(),Qr=m(ki);Qo(Qr,17,()=>i(lo),ln,(kr,Nn,Vs)=>{var lr=PL(),rs=m(lr),ai=m(rs);ai.textContent=`Williams %R ${Vs+1}`;var Hi=v(ai,2);xe(Hi,()=>i(lo).length>1,bo=>{var es=IL();es.__click=[CL,m_,Nn],N(bo,es)}),_(rs);var Zn=v(rs,2),li=m(Zn),Ri=v(m(li),2);ut(Ri),Ri.__change=()=>ql(Vs),_(li);var Xn=v(li,2),$s=v(m(Xn),2);ut($s),$s.__change=()=>ql(Vs),_(Xn);var Si=v(Xn,2),as=v(m(Si),2);ut(as),as.__change=()=>ql(Vs),_(Si);var jn=v(Si,2),ci=v(m(jn),2);ut(ci),ci.__change=()=>ql(Vs),_(jn),_(Zn);var _s=v(Zn,2),Bo=m(_s),fi=v(m(Bo),2),Ho=tt(()=>Qu(Vs));fi.__click=function(...bo){var es;(es=i(Ho))==null||es.apply(this,bo)};var xs=m(fi);_(fi);var qs=v(fi,2);qs.__change=()=>ql(Vs);var ds=m(qs);ds.value=(ds.__value=1)==null?"":1;var Wo=v(ds);Wo.value=(Wo.__value=2)==null?"":2;var ho=v(Wo);ho.value=(ho.__value=3)==null?"":3;var Gn=v(ho);Gn.value=(Gn.__value=4)==null?"":4;var Zs=v(Gn);Zs.value=(Zs.__value=5)==null?"":5,_(qs);var en=v(qs,2);en.__change=()=>ql(Vs);var Vn=m(en);Vn.value=(Vn.__value="solid")==null?"":"solid";var us=v(Vn);us.value=(us.__value="dashed")==null?"":"dashed";var Xs=v(us);Xs.value=(Xs.__value="dotted")==null?"":"dotted",_(en),_(Bo),_(_s);var _n=v(_s,2),$n=v(m(_n),2),Jn=v(m($n),2),Sn=tt(()=>X0(Vs));Jn.__click=function(...bo){var es;(es=i(Sn))==null||es.apply(this,bo)};var ls=m(Jn);_(Jn);var ms=v(Jn,2);ms.__change=()=>ql(Vs);var So=m(ms);So.value=(So.__value=1)==null?"":1;var tn=v(So);tn.value=(tn.__value=2)==null?"":2;var xn=v(tn);xn.value=(xn.__value=3)==null?"":3;var Cn=v(xn);Cn.value=(Cn.__value=4)==null?"":4;var Bn=v(Cn);Bn.value=(Bn.__value=5)==null?"":5,_(ms);var os=v(ms,2);os.__change=()=>ql(Vs);var on=m(os);on.value=(on.__value="solid")==null?"":"solid";var wn=v(on);wn.value=(wn.__value="dashed")==null?"":"dashed";var As=v(wn);As.value=(As.__value="dotted")==null?"":"dotted",_(os),_($n);var qn=v($n,2),Wn=v(m(qn),2),No=tt(()=>E_(Vs));Wn.__click=function(...bo){var es;(es=i(No))==null||es.apply(this,bo)};var fo=m(Wn);_(Wn);var On=v(Wn,2);On.__change=()=>ql(Vs);var mn=m(On);mn.value=(mn.__value=1)==null?"":1;var nn=v(mn);nn.value=(nn.__value=2)==null?"":2;var zo=v(nn);zo.value=(zo.__value=3)==null?"":3;var vs=v(zo);vs.value=(vs.__value=4)==null?"":4;var no=v(vs);no.value=(no.__value=5)==null?"":5,_(On);var ws=v(On,2);ws.__change=()=>ql(Vs);var In=m(ws);In.value=(In.__value="solid")==null?"":"solid";var Oo=v(In);Oo.value=(Oo.__value="dashed")==null?"":"dashed";var Bs=v(Oo);Bs.value=(Bs.__value="dotted")==null?"":"dotted",_(ws),_(qn);var _o=v(qn,2),Fo=v(m(_o),2),Hn=tt(()=>L_(Vs));Fo.__click=function(...bo){var es;(es=i(Hn))==null||es.apply(this,bo)};var ns=m(Fo);_(Fo);var hn=v(Fo,2);hn.__change=()=>ql(Vs);var Qn=m(hn);Qn.value=(Qn.__value=1)==null?"":1;var Os=v(Qn);Os.value=(Os.__value=2)==null?"":2;var kn=v(Os);kn.value=(kn.__value=3)==null?"":3;var Pn=v(kn);Pn.value=(Pn.__value=4)==null?"":4;var Yn=v(Pn);Yn.value=(Yn.__value=5)==null?"":5,_(hn);var Io=v(hn,2);Io.__change=()=>ql(Vs);var zt=m(Io);zt.value=(zt.__value="solid")==null?"":"solid";var Ao=v(zt);Ao.value=(Ao.__value="dashed")==null?"":"dashed";var ss=v(Ao);ss.value=(ss.__value="dotted")==null?"":"dotted",_(Io),_(_o),_(_n),_(lr),Re(()=>{lt(xs,"style",`background-color: ${i(Nn).styles.wr.color??""}`),lt(ls,"style",`background-color: ${i(Nn).styles.overbought.color??""}`),lt(fo,"style",`background-color: ${i(Nn).styles.middleLine.color??""}`),lt(ns,"style",`background-color: ${i(Nn).styles.oversold.color??""}`)}),Mt(Ri,()=>i(Nn).period,bo=>i(Nn).period=bo),Mt($s,()=>i(Nn).overboughtLevel,bo=>i(Nn).overboughtLevel=bo),Mt(as,()=>i(Nn).middleLevel,bo=>i(Nn).middleLevel=bo),Mt(ci,()=>i(Nn).oversoldLevel,bo=>i(Nn).oversoldLevel=bo),qt(qs,()=>i(Nn).styles.wr.thickness,bo=>i(Nn).styles.wr.thickness=bo),qt(en,()=>i(Nn).styles.wr.lineStyle,bo=>i(Nn).styles.wr.lineStyle=bo),qt(ms,()=>i(Nn).styles.overbought.thickness,bo=>i(Nn).styles.overbought.thickness=bo),qt(os,()=>i(Nn).styles.overbought.lineStyle,bo=>i(Nn).styles.overbought.lineStyle=bo),qt(On,()=>i(Nn).styles.middleLine.thickness,bo=>i(Nn).styles.middleLine.thickness=bo),qt(ws,()=>i(Nn).styles.middleLine.lineStyle,bo=>i(Nn).styles.middleLine.lineStyle=bo),qt(hn,()=>i(Nn).styles.oversold.thickness,bo=>i(Nn).styles.oversold.thickness=bo),qt(Io,()=>i(Nn).styles.oversold.lineStyle,bo=>i(Nn).styles.oversold.lineStyle=bo),N(kr,lr)});var zs=v(Qr,2),Dr=m(zs);Dr.__click=zc,_(zs),_(ki),N(Ns,ki)},Ns=>{var ki=yt(),Qr=nt(ki);xe(Qr,()=>i(un),zs=>{var Dr=DL(),kr=m(Dr);Qo(kr,17,()=>i(Nt),ln,(lr,rs,ai)=>{var Hi=AL(),Zn=m(Hi),li=m(Zn);li.textContent=`VR ${ai+1}`;var Ri=v(li,2);xe(Ri,()=>i(Nt).length>1,zt=>{var Ao=TL();Ao.__click=()=>R0(ai),N(zt,Ao)}),_(Zn);var Xn=v(Zn,2),$s=m(Xn),Si=v(m($s),2);ut(Si),_($s);var as=v($s,2),jn=v(m(as),2);ut(jn),_(as);var ci=v(as,2),_s=v(m(ci),2);ut(_s),_(ci),_(Xn);var Bo=v(Xn,2),fi=v(m(Bo),2),Ho=m(fi),xs=v(m(Ho),2),qs=tt(()=>pc(ai,"vr"));xs.__click=function(...zt){var Ao;(Ao=i(qs))==null||Ao.apply(this,zt)};var ds=m(xs);_(xs),_(Ho);var Wo=v(Ho,2),ho=v(m(Wo),2);ho.__change=()=>Dd(ai);var Gn=m(ho);Gn.value=(Gn.__value=1)==null?"":1;var Zs=v(Gn);Zs.value=(Zs.__value=2)==null?"":2;var en=v(Zs);en.value=(en.__value=3)==null?"":3;var Vn=v(en);Vn.value=(Vn.__value=4)==null?"":4;var us=v(Vn);us.value=(us.__value=5)==null?"":5,_(ho),_(Wo);var Xs=v(Wo,2),_n=v(m(Xs),2);_n.__change=()=>Dd(ai);var $n=m(_n);$n.value=($n.__value="solid")==null?"":"solid";var Jn=v($n);Jn.value=(Jn.__value="dashed")==null?"":"dashed";var Sn=v(Jn);Sn.value=(Sn.__value="dotted")==null?"":"dotted",_(_n),_(Xs),_(fi),_(Bo);var ls=v(Bo,2),ms=v(m(ls),2),So=m(ms),tn=v(m(So),2),xn=tt(()=>pc(ai,"vrShort"));tn.__click=function(...zt){var Ao;(Ao=i(xn))==null||Ao.apply(this,zt)};var Cn=m(tn);_(tn),_(So);var Bn=v(So,2),os=v(m(Bn),2);os.__change=()=>Dd(ai);var on=m(os);on.value=(on.__value=1)==null?"":1;var wn=v(on);wn.value=(wn.__value=2)==null?"":2;var As=v(wn);As.value=(As.__value=3)==null?"":3;var qn=v(As);qn.value=(qn.__value=4)==null?"":4;var Wn=v(qn);Wn.value=(Wn.__value=5)==null?"":5,_(os),_(Bn);var No=v(Bn,2),fo=v(m(No),2);fo.__change=()=>Dd(ai);var On=m(fo);On.value=(On.__value="solid")==null?"":"solid";var mn=v(On);mn.value=(mn.__value="dashed")==null?"":"dashed";var nn=v(mn);nn.value=(nn.__value="dotted")==null?"":"dotted",_(fo),_(No),_(ms),_(ls);var zo=v(ls,2),vs=v(m(zo),2),no=m(vs),ws=v(m(no),2),In=tt(()=>pc(ai,"vrLong"));ws.__click=function(...zt){var Ao;(Ao=i(In))==null||Ao.apply(this,zt)};var Oo=m(ws);_(ws),_(no);var Bs=v(no,2),_o=v(m(Bs),2);_o.__change=()=>Dd(ai);var Fo=m(_o);Fo.value=(Fo.__value=1)==null?"":1;var Hn=v(Fo);Hn.value=(Hn.__value=2)==null?"":2;var ns=v(Hn);ns.value=(ns.__value=3)==null?"":3;var hn=v(ns);hn.value=(hn.__value=4)==null?"":4;var Qn=v(hn);Qn.value=(Qn.__value=5)==null?"":5,_(_o),_(Bs);var Os=v(Bs,2),kn=v(m(Os),2);kn.__change=()=>Dd(ai);var Pn=m(kn);Pn.value=(Pn.__value="solid")==null?"":"solid";var Yn=v(Pn);Yn.value=(Yn.__value="dashed")==null?"":"dashed";var Io=v(Yn);Io.value=(Io.__value="dotted")==null?"":"dotted",_(kn),_(Os),_(vs),_(zo),_(Hi),Re(()=>{lt(ds,"style",`background-color: ${i(rs).styles.vr.color??""}`),lt(Cn,"style",`background-color: ${i(rs).styles.vrShort.color??""}`),lt(Oo,"style",`background-color: ${i(rs).styles.vrLong.color??""}`)}),Mt(Si,()=>i(rs).period,zt=>i(rs).period=zt),Mt(jn,()=>i(rs).shortPeriod,zt=>i(rs).shortPeriod=zt),Mt(_s,()=>i(rs).longPeriod,zt=>i(rs).longPeriod=zt),qt(ho,()=>i(rs).styles.vr.thickness,zt=>i(rs).styles.vr.thickness=zt),qt(_n,()=>i(rs).styles.vr.lineStyle,zt=>i(rs).styles.vr.lineStyle=zt),qt(os,()=>i(rs).styles.vrShort.thickness,zt=>i(rs).styles.vrShort.thickness=zt),qt(fo,()=>i(rs).styles.vrShort.lineStyle,zt=>i(rs).styles.vrShort.lineStyle=zt),qt(_o,()=>i(rs).styles.vrLong.thickness,zt=>i(rs).styles.vrLong.thickness=zt),qt(kn,()=>i(rs).styles.vrLong.lineStyle,zt=>i(rs).styles.vrLong.lineStyle=zt),N(lr,Hi)});var Nn=v(kr,2),Vs=m(Nn);Vs.__click=y_,_(Nn),_(Dr),N(zs,Dr)},zs=>{var Dr=yt(),kr=nt(Dr);xe(kr,()=>i(Yo),Nn=>{var Vs=jL(),lr=m(Vs);Qo(lr,17,()=>i(vi),ln,(Hi,Zn,li)=>{var Ri=FL(),Xn=m(Ri),$s=m(Xn);$s.textContent=`BBI ${li+1}`;var Si=v($s,2);xe(Si,()=>i(vi).length>1,xn=>{var Cn=EL();Cn.__click=[LL,w_,Zn],N(xn,Cn)}),_(Xn);var as=v(Xn,2),jn=m(as),ci=v(m(jn),2);ut(ci),ci.__change=()=>rd(li),_(jn);var _s=v(jn,2),Bo=v(m(_s),2);ut(Bo),Bo.__change=()=>rd(li),_(_s);var fi=v(_s,2),Ho=v(m(fi),2);ut(Ho),Ho.__change=()=>rd(li),_(fi);var xs=v(fi,2),qs=v(m(xs),2);ut(qs),qs.__change=()=>rd(li),_(xs),_(as);var ds=v(as,2),Wo=m(ds),ho=v(m(Wo),2),Gn=tt(()=>Cp(li));ho.__click=function(...xn){var Cn;(Cn=i(Gn))==null||Cn.apply(this,xn)};var Zs=m(ho);_(ho),_(Wo);var en=v(Wo,2),Vn=v(m(en),2);Vn.__change=()=>rd(li);var us=m(Vn);us.value=(us.__value=1)==null?"":1;var Xs=v(us);Xs.value=(Xs.__value=2)==null?"":2;var _n=v(Xs);_n.value=(_n.__value=3)==null?"":3;var $n=v(_n);$n.value=($n.__value=4)==null?"":4;var Jn=v($n);Jn.value=(Jn.__value=5)==null?"":5,_(Vn),_(en);var Sn=v(en,2),ls=v(m(Sn),2);ls.__change=()=>rd(li);var ms=m(ls);ms.value=(ms.__value="solid")==null?"":"solid";var So=v(ms);So.value=(So.__value="dashed")==null?"":"dashed";var tn=v(So);tn.value=(tn.__value="dotted")==null?"":"dotted",_(ls),_(Sn),_(ds),_(Ri),Re(()=>lt(Zs,"style",`background-color: ${i(Zn).color??""}`)),Mt(ci,()=>i(Zn).period1,xn=>i(Zn).period1=xn),Mt(Bo,()=>i(Zn).period2,xn=>i(Zn).period2=xn),Mt(Ho,()=>i(Zn).period3,xn=>i(Zn).period3=xn),Mt(qs,()=>i(Zn).period4,xn=>i(Zn).period4=xn),qt(Vn,()=>i(Zn).thickness,xn=>i(Zn).thickness=xn),qt(ls,()=>i(Zn).lineStyle,xn=>i(Zn).lineStyle=xn),N(Hi,Ri)});var rs=v(lr,2),ai=m(rs);ai.__click=Fc,_(rs),_(Vs),N(Nn,Vs)},Nn=>{var Vs=yt(),lr=nt(Vs);xe(lr,()=>i(Cl),rs=>{var ai=RL(),Hi=m(ai);Qo(Hi,17,()=>i(qa),ln,(Ri,Xn)=>{var $s=OL(),Si=m($s),as=m(Si),jn=m(as,!0);_(as);var ci=v(as,2);xe(ci,()=>i(qa).length>1,So=>{var tn=BL();tn.__click=[$L,g_,Xn],N(So,tn)}),_(Si);var _s=v(Si,2),Bo=m(_s),fi=v(m(Bo),2);ut(fi),_(Bo);var Ho=v(Bo,2),xs=v(m(Ho),2);ut(xs),_(Ho),_(_s);var qs=v(_s,2),ds=m(qs),Wo=v(m(ds),2);Wo.__click=[sL,ae,U];var ho=m(Wo);_(Wo),_(ds);var Gn=v(ds,2),Zs=v(m(Gn),2),en=m(Zs);en.value=(en.__value=1)==null?"":1;var Vn=v(en);Vn.value=(Vn.__value=2)==null?"":2;var us=v(Vn);us.value=(us.__value=3)==null?"":3;var Xs=v(us);Xs.value=(Xs.__value=4)==null?"":4;var _n=v(Xs);_n.value=(_n.__value=5)==null?"":5,_(Zs),_(Gn);var $n=v(Gn,2),Jn=v(m($n),2),Sn=m(Jn);Sn.value=(Sn.__value="solid")==null?"":"solid";var ls=v(Sn);ls.value=(ls.__value="dashed")==null?"":"dashed";var ms=v(ls);ms.value=(ms.__value="dotted")==null?"":"dotted",_(Jn),_($n),_(qs),_($s),Re(()=>{wt(jn,i(Xn).name),lt(ho,"style",`background-color: ${i(Xn).color??""}`)}),Mt(fi,()=>i(Xn).period,So=>i(Xn).period=So),Mt(xs,()=>i(Xn).period2,So=>i(Xn).period2=So),qt(Zs,()=>i(Xn).thickness,So=>i(Xn).thickness=So),qt(Jn,()=>i(Xn).lineStyle,So=>i(Xn).lineStyle=So),N(Ri,$s)});var Zn=v(Hi,2),li=m(Zn);li.__click=[KD,Cl,qa],_(Zn),_(ai),N(rs,ai)},rs=>{var ai=yt(),Hi=nt(ai);xe(Hi,()=>i(Il),Zn=>{var li=qL(),Ri=m(li);Qo(Ri,17,()=>i(Qi),ln,(Si,as,jn)=>{var ci=VL(),_s=m(ci),Bo=m(_s),fi=m(Bo,!0);_(Bo);var Ho=v(Bo,2);xe(Ho,()=>i(Qi).length>1,Cn=>{var Bn=zL();Bn.__click=[NL,ou,as],N(Cn,Bn)}),_(_s);var xs=v(_s,2),qs=m(xs),ds=v(m(qs),2);ut(ds),ds.__input=nu,_(qs),_(xs);var Wo=v(xs,2),ho=m(Wo),Gn=v(m(ho),2),Zs=tt(()=>xp(jn));Gn.__click=function(...Cn){var Bn;(Bn=i(Zs))==null||Bn.apply(this,Cn)};var en=m(Gn);_(Gn),_(ho);var Vn=v(ho,2),us=v(m(Vn),2);us.__change=nu;var Xs=m(us);Xs.value=(Xs.__value=1)==null?"":1;var _n=v(Xs);_n.value=(_n.__value=2)==null?"":2;var $n=v(_n);$n.value=($n.__value=3)==null?"":3;var Jn=v($n);Jn.value=(Jn.__value=4)==null?"":4;var Sn=v(Jn);Sn.value=(Sn.__value=5)==null?"":5,_(us),_(Vn);var ls=v(Vn,2),ms=v(m(ls),2);ms.__change=nu;var So=m(ms);So.value=(So.__value="solid")==null?"":"solid";var tn=v(So);tn.value=(tn.__value="dashed")==null?"":"dashed";var xn=v(tn);xn.value=(xn.__value="dotted")==null?"":"dotted",_(ms),_(ls),_(Wo),_(ci),Re(()=>{wt(fi,i(as).name),lt(en,"style",`background-color: ${i(as).color??""}`)}),Mt(ds,()=>i(as).period,Cn=>i(as).period=Cn),qt(us,()=>i(as).thickness,Cn=>i(as).thickness=Cn),qt(ms,()=>i(as).lineStyle,Cn=>i(as).lineStyle=Cn),N(Si,ci)});var Xn=v(Ri,2),$s=m(Xn);$s.__click=[ZD,Il,Qi,nu],_(Xn),_(li),N(Zn,li)},Zn=>{var li=yt(),Ri=nt(li);xe(Ri,()=>i(Vo),Xn=>{var $s=HL(),Si=m($s);Qo(Si,17,()=>i(co),ln,(ci,_s,Bo)=>{var fi=GL(),Ho=m(fi),xs=m(Ho);xs.textContent=Bo===0?"Awesome Oscillator":`AO ${Bo+1}`;var qs=v(xs,2);qs.__click=[WL,D_,_s],_(Ho);var ds=v(Ho,2),Wo=m(ds),ho=v(m(Wo),2);ut(ho),ho.__input=ru,_(Wo);var Gn=v(Wo,2),Zs=v(m(Gn),2);ut(Zs),Zs.__input=ru,_(Gn),_(ds);var en=v(ds,2),Vn=v(m(en),2),us=m(Vn),Xs=v(m(us),2),_n=m(Xs),$n=v(_n,2),Jn=tt(()=>fc(Bo*2));$n.__click=function(...Bn){var os;(os=i(Jn))==null||os.apply(this,Bn)};var Sn=m($n);_($n),_(Xs),_(us);var ls=v(us,2),ms=v(m(ls),2),So=m(ms),tn=v(So,2),xn=tt(()=>fc(Bo*2+1));tn.__click=function(...Bn){var os;(os=i(xn))==null||os.apply(this,Bn)};var Cn=m(tn);_(tn),_(ms),_(ls),_(Vn),_(en),_(fi),Re(()=>{lt(_n,"style",`background-color: ${i(_s).styles.increasing.color??""}`),lt(Sn,"style",`background-color: ${i(_s).styles.increasing.color??""}`),lt(So,"style",`background-color: ${i(_s).styles.decreasing.color??""}`),lt(Cn,"style",`background-color: ${i(_s).styles.decreasing.color??""}`)}),Mt(ho,()=>i(_s).shortPeriod,Bn=>i(_s).shortPeriod=Bn),Mt(Zs,()=>i(_s).longPeriod,Bn=>i(_s).longPeriod=Bn),N(ci,fi)});var as=v(Si,2),jn=m(as);jn.__click=[nL,Vo,co,ru],_(as),_($s),N(Xn,$s)},Xn=>{var $s=yt(),Si=nt($s);xe(Si,()=>i(Fl),as=>{var jn=ZL(),ci=m(jn);Qo(ci,17,()=>i(na),ln,(fi,Ho,xs)=>{var qs=KL(),ds=m(qs),Wo=m(ds);Wo.textContent=`CR ${xs+1}`;var ho=v(Wo,2);xe(ho,()=>i(na).length>1,is=>{var or=YL();or.__click=[UL,gp,Ho],N(is,or)}),_(ds);var Gn=v(ds,2),Zs=m(Gn),en=v(m(Zs),2);ut(en),en.__input=Pl,_(Zs);var Vn=v(Zs,2),us=v(m(Vn),2);ut(us),us.__input=Pl,_(Vn);var Xs=v(Vn,2),_n=v(m(Xs),2);ut(_n),_n.__input=Pl,_(Xs);var $n=v(Xs,2),Jn=v(m($n),2);ut(Jn),Jn.__input=Pl,_($n);var Sn=v($n,2),ls=v(m(Sn),2);ut(ls),ls.__input=Pl,_(Sn),_(Gn);var ms=v(Gn,2),So=m(ms),tn=v(m(So),2),xn=tt(()=>Oi(xs,"cr"));tn.__click=function(...is){var or;(or=i(xn))==null||or.apply(this,is)};var Cn=m(tn);_(tn);var Bn=v(tn,2);Bn.__change=Pl;var os=m(Bn);os.value=(os.__value=1)==null?"":1;var on=v(os);on.value=(on.__value=2)==null?"":2;var wn=v(on);wn.value=(wn.__value=3)==null?"":3;var As=v(wn);As.value=(As.__value=4)==null?"":4;var qn=v(As);qn.value=(qn.__value=5)==null?"":5,_(Bn);var Wn=v(Bn,2);Wn.__change=Pl;var No=m(Wn);No.value=(No.__value="solid")==null?"":"solid";var fo=v(No);fo.value=(fo.__value="dashed")==null?"":"dashed";var On=v(fo);On.value=(On.__value="dotted")==null?"":"dotted",_(Wn),_(So);var mn=v(So,2),nn=v(m(mn),2),zo=tt(()=>Oi(xs,"ma1"));nn.__click=function(...is){var or;(or=i(zo))==null||or.apply(this,is)};var vs=m(nn);_(nn);var no=v(nn,2);no.__change=Pl;var ws=m(no);ws.value=(ws.__value=1)==null?"":1;var In=v(ws);In.value=(In.__value=2)==null?"":2;var Oo=v(In);Oo.value=(Oo.__value=3)==null?"":3;var Bs=v(Oo);Bs.value=(Bs.__value=4)==null?"":4;var _o=v(Bs);_o.value=(_o.__value=5)==null?"":5,_(no);var Fo=v(no,2);Fo.__change=Pl;var Hn=m(Fo);Hn.value=(Hn.__value="solid")==null?"":"solid";var ns=v(Hn);ns.value=(ns.__value="dashed")==null?"":"dashed";var hn=v(ns);hn.value=(hn.__value="dotted")==null?"":"dotted",_(Fo),_(mn);var Qn=v(mn,2),Os=v(m(Qn),2),kn=tt(()=>Oi(xs,"ma2"));Os.__click=function(...is){var or;(or=i(kn))==null||or.apply(this,is)};var Pn=m(Os);_(Os);var Yn=v(Os,2);Yn.__change=Pl;var Io=m(Yn);Io.value=(Io.__value=1)==null?"":1;var zt=v(Io);zt.value=(zt.__value=2)==null?"":2;var Ao=v(zt);Ao.value=(Ao.__value=3)==null?"":3;var ss=v(Ao);ss.value=(ss.__value=4)==null?"":4;var bo=v(ss);bo.value=(bo.__value=5)==null?"":5,_(Yn);var es=v(Yn,2);es.__change=Pl;var Xo=m(es);Xo.value=(Xo.__value="solid")==null?"":"solid";var hs=v(Xo);hs.value=(hs.__value="dashed")==null?"":"dashed";var Ci=v(hs);Ci.value=(Ci.__value="dotted")==null?"":"dotted",_(es),_(Qn);var Hs=v(Qn,2),Js=v(m(Hs),2),gi=tt(()=>Oi(xs,"ma3"));Js.__click=function(...is){var or;(or=i(gi))==null||or.apply(this,is)};var Ui=m(Js);_(Js);var Ni=v(Js,2);Ni.__change=Pl;var Gi=m(Ni);Gi.value=(Gi.__value=1)==null?"":1;var Li=v(Gi);Li.value=(Li.__value=2)==null?"":2;var Pi=v(Li);Pi.value=(Pi.__value=3)==null?"":3;var ks=v(Pi);ks.value=(ks.__value=4)==null?"":4;var cr=v(ks);cr.value=(cr.__value=5)==null?"":5,_(Ni);var ea=v(Ni,2);ea.__change=Pl;var pa=m(ea);pa.value=(pa.__value="solid")==null?"":"solid";var Yi=v(pa);Yi.value=(Yi.__value="dashed")==null?"":"dashed";var ha=v(Yi);ha.value=(ha.__value="dotted")==null?"":"dotted",_(ea),_(Hs);var ya=v(Hs,2),Sr=v(m(ya),2),ts=tt(()=>Oi(xs,"ma4"));Sr.__click=function(...is){var or;(or=i(ts))==null||or.apply(this,is)};var Fa=m(Sr);_(Sr);var Cr=v(Sr,2);Cr.__change=Pl;var Ha=m(Cr);Ha.value=(Ha.__value=1)==null?"":1;var ba=v(Ha);ba.value=(ba.__value=2)==null?"":2;var ri=v(ba);ri.value=(ri.__value=3)==null?"":3;var Ua=v(ri);Ua.value=(Ua.__value=4)==null?"":4;var la=v(Ua);la.value=(la.__value=5)==null?"":5,_(Cr);var ia=v(Cr,2);ia.__change=Pl;var Lr=m(ia);Lr.value=(Lr.__value="solid")==null?"":"solid";var ta=v(Lr);ta.value=(ta.__value="dashed")==null?"":"dashed";var Ya=v(ta);Ya.value=(Ya.__value="dotted")==null?"":"dotted",_(ia),_(ya),_(ms),_(qs),Re(()=>{lt(Cn,"style",`background-color: ${i(Ho).styles.cr.color??""}`),lt(vs,"style",`background-color: ${i(Ho).styles.ma1.color??""}`),lt(Pn,"style",`background-color: ${i(Ho).styles.ma2.color??""}`),lt(Ui,"style",`background-color: ${i(Ho).styles.ma3.color??""}`),lt(Fa,"style",`background-color: ${i(Ho).styles.ma4.color??""}`)}),Mt(en,()=>i(Ho).crPeriod,is=>i(Ho).crPeriod=is),Mt(us,()=>i(Ho).crMa1Period,is=>i(Ho).crMa1Period=is),Mt(_n,()=>i(Ho).crMa2Period,is=>i(Ho).crMa2Period=is),Mt(Jn,()=>i(Ho).crMa3Period,is=>i(Ho).crMa3Period=is),Mt(ls,()=>i(Ho).crMa4Period,is=>i(Ho).crMa4Period=is),qt(Bn,()=>i(Ho).styles.cr.thickness,is=>i(Ho).styles.cr.thickness=is),qt(Wn,()=>i(Ho).styles.cr.lineStyle,is=>i(Ho).styles.cr.lineStyle=is),qt(no,()=>i(Ho).styles.ma1.thickness,is=>i(Ho).styles.ma1.thickness=is),qt(Fo,()=>i(Ho).styles.ma1.lineStyle,is=>i(Ho).styles.ma1.lineStyle=is),qt(Yn,()=>i(Ho).styles.ma2.thickness,is=>i(Ho).styles.ma2.thickness=is),qt(es,()=>i(Ho).styles.ma2.lineStyle,is=>i(Ho).styles.ma2.lineStyle=is),qt(Ni,()=>i(Ho).styles.ma3.thickness,is=>i(Ho).styles.ma3.thickness=is),qt(ea,()=>i(Ho).styles.ma3.lineStyle,is=>i(Ho).styles.ma3.lineStyle=is),qt(Cr,()=>i(Ho).styles.ma4.thickness,is=>i(Ho).styles.ma4.thickness=is),qt(ia,()=>i(Ho).styles.ma4.lineStyle,is=>i(Ho).styles.ma4.lineStyle=is),N(fi,qs)});var _s=v(ci,2),Bo=m(_s);Bo.__click=[oL,Fl,na,Pl],_(_s),_(jn),N(as,jn)},as=>{var jn=yt(),ci=nt(jn);xe(ci,()=>i(Nc),_s=>{var Bo=JL(),fi=m(Bo);Qo(fi,17,()=>i(Xr),ln,(qs,ds,Wo)=>{var ho=XL(),Gn=m(ho),Zs=m(Gn);Zs.textContent=`ZigZag ${Wo+1}`,_(Gn);var en=v(Gn,2),Vn=m(en),us=v(m(Vn),2);ut(us),us.__input=Gs,_(Vn);var Xs=v(Vn,2),_n=v(m(Xs),2);ut(_n),_n.__input=Gs,_(Xs),_(en);var $n=v(en,2),Jn=v(m($n),2),Sn=m(Jn),ls=v(m(Sn),2),ms=m(ls),So=v(ms,2);So.__click=()=>wi(Wo);var tn=m(So);_(So),_(ls),_(Sn);var xn=v(Sn,2),Cn=v(m(xn),2);Cn.__change=Gs;var Bn=m(Cn);Bn.value=(Bn.__value=1)==null?"":1;var os=v(Bn);os.value=(os.__value=2)==null?"":2;var on=v(os);on.value=(on.__value=3)==null?"":3;var wn=v(on);wn.value=(wn.__value=4)==null?"":4;var As=v(wn);As.value=(As.__value=5)==null?"":5,_(Cn),_(xn);var qn=v(xn,2),Wn=v(m(qn),2);Wn.__change=Gs;var No=m(Wn);No.value=(No.__value="solid")==null?"":"solid";var fo=v(No);fo.value=(fo.__value="dashed")==null?"":"dashed";var On=v(fo);On.value=(On.__value="dotted")==null?"":"dotted",_(Wn),_(qn),_(Jn),_($n),_(ho),Re(()=>{lt(ms,"style",`background-color: ${i(ds).styles.color??""}`),lt(tn,"style",`background-color: ${i(ds).styles.color??""}`)}),Mt(us,()=>i(ds).deviation,mn=>i(ds).deviation=mn),Mt(_n,()=>i(ds).depth,mn=>i(ds).depth=mn),qt(Cn,()=>i(ds).styles.thickness,mn=>i(ds).styles.thickness=mn),qt(Wn,()=>i(ds).styles.lineStyle,mn=>i(ds).styles.lineStyle=mn),N(qs,ho)});var Ho=v(fi,2),xs=m(Ho);xs.__click=[GD,Xr,Gs],_(Ho),_(Bo),N(_s,Bo)},_s=>{var Bo=yt(),fi=nt(Bo);xe(fi,()=>i(rr),Ho=>{var xs=tE(),qs=m(xs);Qo(qs,17,()=>i(ua),ln,(ho,Gn,Zs)=>{var en=eE(),Vn=m(en),us=m(Vn),Xs=m(us);Re(()=>wt(Xs,`${i(Gn).name??""} (ID: ${i(Gn).id.slice(0,8)??""})`)),_(us);var _n=v(us,2);xe(_n,()=>i(ua).length>1,fo=>{var On=QL();On.__click=()=>i_(Zs),N(fo,On)}),_(Vn);var $n=v(Vn,2),Jn=m($n),Sn=v(m(Jn),2),ls=tt(()=>J0(Zs));Sn.__click=function(...fo){var On;(On=i(ls))==null||On.apply(this,fo)};var ms=m(Sn);_(Sn),_(Jn);var So=v(Jn,2),tn=v(m(So),2);tn.__change=fo=>{fo.target&&(i(Gn).thickness=parseInt(fo.target.value),jd(Zs))};var xn=m(tn);xn.value=(xn.__value=1)==null?"":1;var Cn=v(xn);Cn.value=(Cn.__value=2)==null?"":2;var Bn=v(Cn);Bn.value=(Bn.__value=3)==null?"":3;var os=v(Bn);os.value=(os.__value=4)==null?"":4;var on=v(os);on.value=(on.__value=5)==null?"":5,_(tn),_(So);var wn=v(So,2),As=v(m(wn),2);As.__change=fo=>{fo.target&&(i(Gn).lineStyle=fo.target.value,jd(Zs))};var qn=m(As);qn.value=(qn.__value="solid")==null?"":"solid";var Wn=v(qn);Wn.value=(Wn.__value="dashed")==null?"":"dashed";var No=v(Wn);No.value=(No.__value="dotted")==null?"":"dotted",_(As),_(wn),_($n),_(en),Re(()=>lt(ms,"style",`background-color: ${i(Gn).color??""}`)),qt(tn,()=>i(Gn).thickness,fo=>i(Gn).thickness=fo),qt(As,()=>i(Gn).lineStyle,fo=>i(Gn).lineStyle=fo),N(ho,en)});var ds=v(qs,2),Wo=m(ds);Wo.__click=s_,_(ds),_(xs),N(Ho,xs)},Ho=>{var xs=yt(),qs=nt(xs);xe(qs,()=>i(qr),ds=>{var Wo=iE(),ho=m(Wo);Qo(ho,17,()=>i(cl),ln,(en,Vn,us)=>{var Xs=sE(),_n=m(Xs),$n=m(_n);$n.textContent=`SAR ${us+1}`;var Jn=v($n,2);xe(Jn,()=>i(cl).length>1,zo=>{var vs=nE();vs.__click=[oE,pp,Vn],N(zo,vs)}),_(_n);var Sn=v(_n,2),ls=m(Sn),ms=v(m(ls),2);ut(ms),_(ls);var So=v(ls,2),tn=v(m(So),2);ut(tn),_(So);var xn=v(So,2),Cn=v(m(xn),2);ut(Cn),_(xn),_(Sn);var Bn=v(Sn,2),os=m(Bn),on=v(m(os),2),wn=tt(()=>Q0(us));on.__click=function(...zo){var vs;(vs=i(wn))==null||vs.apply(this,zo)};var As=m(on);_(on),_(os);var qn=v(os,2),Wn=v(m(qn),2),No=m(Wn);No.value=(No.__value=1)==null?"":1;var fo=v(No);fo.value=(fo.__value=2)==null?"":2;var On=v(fo);On.value=(On.__value=3)==null?"":3;var mn=v(On);mn.value=(mn.__value=4)==null?"":4;var nn=v(mn);nn.value=(nn.__value=5)==null?"":5,_(Wn),_(qn),_(Bn),_(Xs),Re(()=>lt(As,"style",`background-color: ${i(Vn).color??""}`)),Mt(ms,()=>i(Vn).start,zo=>i(Vn).start=zo),Mt(tn,()=>i(Vn).increment,zo=>i(Vn).increment=zo),Mt(Cn,()=>i(Vn).maxValue,zo=>i(Vn).maxValue=zo),qt(Wn,()=>i(Vn).dotSize,zo=>i(Vn).dotSize=zo),N(en,Xs)});var Gn=v(ho,2),Zs=m(Gn);Zs.__click=[QD,qr,cl,vc],_(Gn),_(Wo),N(ds,Wo)},ds=>{var Wo=yt(),ho=nt(Wo);xe(ho,()=>i(jl),Gn=>{var Zs=cE(),en=m(Zs);Qo(en,17,()=>i(za),ln,(Xs,_n,$n)=>{var Jn=lE(),Sn=m(Jn),ls=m(Sn);ls.textContent=`Smart Trend ${$n+1}`;var ms=v(ls,2);xe(ms,()=>i(za).length>1,Xo=>{var hs=aE();hs.__click=[rE,Sv,_n],N(Xo,hs)}),_(Sn);var So=v(Sn,2),tn=m(So),xn=v(m(tn),2);ut(xn),xn.__change=()=>Sc($n),_(tn);var Cn=v(tn,2),Bn=v(m(Cn),2);ut(Bn),Bn.__change=()=>Sc($n),_(Cn),_(So);var os=v(So,2),on=m(os);ut(on),on.__change=()=>Sc($n),ei(2),_(os);var wn=v(os,2),As=v(m(wn),2),qn=m(As),Wn=v(m(qn),2);Wn.__click=()=>{b(Xa,!0),b(Ja,$($n)),b(pl,"uptrend")};var No=m(Wn);_(Wn),_(qn);var fo=v(qn,2),On=v(m(fo),2);On.__change=()=>Sc($n);var mn=m(On);mn.value=(mn.__value=1)==null?"":1;var nn=v(mn);nn.value=(nn.__value=2)==null?"":2;var zo=v(nn);zo.value=(zo.__value=3)==null?"":3;var vs=v(zo);vs.value=(vs.__value=4)==null?"":4;var no=v(vs);no.value=(no.__value=5)==null?"":5,_(On),_(fo);var ws=v(fo,2),In=v(m(ws),2);In.__change=()=>Sc($n);var Oo=m(In);Oo.value=(Oo.__value="solid")==null?"":"solid";var Bs=v(Oo);Bs.value=(Bs.__value="dashed")==null?"":"dashed",_(In),_(ws),_(As),_(wn);var _o=v(wn,2),Fo=v(m(_o),2),Hn=m(Fo),ns=v(m(Hn),2);ns.__click=()=>{b(Xa,!0),b(Ja,$($n)),b(pl,"downtrend")};var hn=m(ns);_(ns),_(Hn);var Qn=v(Hn,2),Os=v(m(Qn),2);Os.__change=()=>Sc($n);var kn=m(Os);kn.value=(kn.__value=1)==null?"":1;var Pn=v(kn);Pn.value=(Pn.__value=2)==null?"":2;var Yn=v(Pn);Yn.value=(Yn.__value=3)==null?"":3;var Io=v(Yn);Io.value=(Io.__value=4)==null?"":4;var zt=v(Io);zt.value=(zt.__value=5)==null?"":5,_(Os),_(Qn);var Ao=v(Qn,2),ss=v(m(Ao),2);ss.__change=()=>Sc($n);var bo=m(ss);bo.value=(bo.__value="solid")==null?"":"solid";var es=v(bo);es.value=(es.__value="dashed")==null?"":"dashed",_(ss),_(Ao),_(Fo),_(_o),_(Jn),Re(()=>{lt(No,"style",`background-color: ${i(_n).styles.uptrend.color??""}`),lt(hn,"style",`background-color: ${i(_n).styles.downtrend.color??""}`)}),Mt(xn,()=>i(_n).period,Xo=>i(_n).period=Xo),Mt(Bn,()=>i(_n).multiplier,Xo=>i(_n).multiplier=Xo),fd(on,()=>i(_n).showLabels,Xo=>i(_n).showLabels=Xo),qt(On,()=>i(_n).styles.uptrend.thickness,Xo=>i(_n).styles.uptrend.thickness=Xo),qt(In,()=>i(_n).styles.uptrend.lineStyle,Xo=>i(_n).styles.uptrend.lineStyle=Xo),qt(Os,()=>i(_n).styles.downtrend.thickness,Xo=>i(_n).styles.downtrend.thickness=Xo),qt(ss,()=>i(_n).styles.downtrend.lineStyle,Xo=>i(_n).styles.downtrend.lineStyle=Xo),N(Xs,Jn)});var Vn=v(en,2),us=m(Vn);us.__click=[eL,jl,za,iu],_(Vn),_(Zs),N(Gn,Zs)},Gn=>{var Zs=yt(),en=nt(Zs);xe(en,()=>i(vn),Vn=>{var us=hE(),Xs=m(us);Qo(Xs,17,()=>h,ln,($n,Jn,Sn)=>{var ls=_E(),ms=m(ls),So=m(ms),tn=m(So,!0);_(So);var xn=v(So,2),Cn=m(xn);ut(Cn),Cn.__change=[dE,kc];var Bn=v(Cn,2);xe(Bn,()=>p.length>1,on=>{var wn=uE();wn.__click=()=>Dv(Sn),N(on,wn)},on=>{var wn=vE();N(on,wn)}),_(xn),_(ms);var os=v(ms,2);xe(os,()=>x[Sn],on=>{var wn=gE(),As=m(wn),qn=v(m(As),2),Wn=tt(()=>Sp(Sn));qn.__click=function(...Fo){var Hn;(Hn=i(Wn))==null||Hn.apply(this,Fo)};var No=m(qn);_(qn),_(As);var fo=v(As,2),On=v(m(fo),2);On.__change=[pE,kc];var mn=m(On);mn.value=(mn.__value=1)==null?"":1;var nn=v(mn);nn.value=(nn.__value=2)==null?"":2;var zo=v(nn);zo.value=(zo.__value=3)==null?"":3;var vs=v(zo);vs.value=(vs.__value=4)==null?"":4;var no=v(vs);no.value=(no.__value=5)==null?"":5,_(On),_(fo);var ws=v(fo,2),In=v(m(ws),2);In.__change=[fE,kc];var Oo=m(In);Oo.value=(Oo.__value="solid")==null?"":"solid";var Bs=v(Oo);Bs.value=(Bs.__value="dashed")==null?"":"dashed";var _o=v(Bs);_o.value=(_o.__value="dotted")==null?"":"dotted",_(In),_(ws),_(wn),Re(()=>lt(No,"style",`background-color: ${x[Sn].color??""}`)),qt(On,()=>x[Sn].thickness,Fo=>x[Sn].thickness=Fo),qt(In,()=>x[Sn].lineStyle,Fo=>x[Sn].lineStyle=Fo),N(on,wn)}),_(ls),Re(()=>wt(tn,i(Jn).title)),Mt(Cn,()=>p[Sn],on=>p[Sn]=on),N($n,ls)});var _n=v(Xs,2);xe(_n,()=>h.length<10,$n=>{var Jn=mE(),Sn=m(Jn);Sn.__click=[Pg,Et,Eo,Lv,Vo,tv,$o,ov,Ur,Ev,h,p,x,fr,Ec,vn,kc],_(Jn),N($n,Jn)}),_(us),N(Vn,us)},Vn=>{var us=yt(),Xs=nt(us);xe(Xs,()=>i(ii),_n=>{var $n=xE(),Jn=m($n);Qo(Jn,17,()=>i(Or),ln,(ms,So,tn)=>{var xn=bE(),Cn=m(xn),Bn=m(Cn),os=m(Bn);_(Bn);var on=v(Bn,2);xe(on,()=>i(Or).length>1,Hn=>{var ns=yE();ns.__click=()=>xd(tn),N(Hn,ns)}),_(Cn);var wn=v(Cn,2),As=v(m(wn),2);ut(As),As.__change=()=>Uu(tn),_(wn);var qn=v(wn,2),Wn=m(qn),No=v(m(Wn),2);No.__click=Hn=>{b(jt,$(tn));const ns=Hn.currentTarget.getBoundingClientRect();b(Ht,$({x:ns.left+ns.width/2,y:ns.bottom+5})),b(ft,!0)};var fo=m(No);_(No),_(Wn);var On=v(Wn,2),mn=v(m(On),2);mn.__change=()=>Uu(tn);var nn=m(mn);nn.value=(nn.__value=1)==null?"":1;var zo=v(nn);zo.value=(zo.__value=2)==null?"":2;var vs=v(zo);vs.value=(vs.__value=3)==null?"":3;var no=v(vs);no.value=(no.__value=4)==null?"":4;var ws=v(no);ws.value=(ws.__value=5)==null?"":5,_(mn),_(On);var In=v(On,2),Oo=v(m(In),2);Oo.__change=()=>Uu(tn);var Bs=m(Oo);Bs.value=(Bs.__value="solid")==null?"":"solid";var _o=v(Bs);_o.value=(_o.__value="dashed")==null?"":"dashed";var Fo=v(_o);Fo.value=(Fo.__value="dotted")==null?"":"dotted",_(Oo),_(In),_(qn),_(xn),Re(()=>{wt(os,`SMA (${i(So).period??""})`),lt(fo,"style",`background-color: ${i(So).color??""}`)}),Mt(As,()=>i(So).period,Hn=>i(So).period=Hn),qt(mn,()=>i(So).thickness,Hn=>i(So).thickness=Hn),qt(Oo,()=>i(So).lineStyle,Hn=>i(So).lineStyle=Hn),N(ms,xn)});var Sn=v(Jn,2),ls=m(Sn);ls.__click=x_,_(Sn),_($n),N(_n,$n)},_n=>{var $n=yt(),Jn=nt($n);xe(Jn,()=>i(Zr),Sn=>{var ls=CE();Qo(ls,21,()=>i(Se),ln,(ms,So,tn)=>{var xn=SE(),Cn=m(xn),Bn=m(Cn);Bn.textContent=`Volume ${tn+1}`;var os=v(Bn,2);xe(os,()=>i(Se).length>1,Xo=>{var hs=wE();hs.__click=()=>N0(tn),N(Xo,hs)},Xo=>{var hs=kE();N(Xo,hs)}),_(Cn);var on=v(Cn,2),wn=m(on),As=v(m(wn),2);ut(As),As.__change=()=>Tu(tn),_(wn),_(on);var qn=v(on,2),Wn=v(m(qn),2),No=m(Wn),fo=v(m(No),2),On=tt(()=>kp(tn,"histogram"));fo.__click=function(...Xo){var hs;(hs=i(On))==null||hs.apply(this,Xo)};var mn=m(fo);_(fo),_(No);var nn=v(No,2),zo=v(m(nn),2),vs=tt(()=>kp(tn,"histogram-down"));zo.__click=function(...Xo){var hs;(hs=i(vs))==null||hs.apply(this,Xo)};var no=m(zo);_(zo),_(nn),_(Wn),_(qn);var ws=v(qn,2),In=v(m(ws),2),Oo=m(In);ut(Oo),Oo.__change=()=>Tu(tn),ei(2),_(In);var Bs=v(In,2),_o=m(Bs),Fo=v(m(_o),2),Hn=tt(()=>kp(tn,"ema"));Fo.__click=function(...Xo){var hs;(hs=i(Hn))==null||hs.apply(this,Xo)};var ns=m(Fo);_(Fo),_(_o);var hn=v(_o,2),Qn=v(m(hn),2);Qn.__change=()=>Tu(tn);var Os=m(Qn);Os.value=(Os.__value=1)==null?"":1;var kn=v(Os);kn.value=(kn.__value=2)==null?"":2;var Pn=v(kn);Pn.value=(Pn.__value=3)==null?"":3;var Yn=v(Pn);Yn.value=(Yn.__value=4)==null?"":4;var Io=v(Yn);Io.value=(Io.__value=5)==null?"":5,_(Qn),_(hn);var zt=v(hn,2),Ao=v(m(zt),2);Ao.__change=()=>Tu(tn);var ss=m(Ao);ss.value=(ss.__value="solid")==null?"":"solid";var bo=v(ss);bo.value=(bo.__value="dashed")==null?"":"dashed";var es=v(bo);es.value=(es.__value="dotted")==null?"":"dotted",_(Ao),_(zt),_(Bs),_(ws),_(xn),Re(()=>{lt(mn,"style",`background-color: ${i(So).styles.histogram.upColor??""}`),lt(no,"style",`background-color: ${i(So).styles.histogram.downColor??""}`),lt(ns,"style",`background-color: ${i(So).styles.ema.color??""}`)}),Mt(As,()=>i(So).period,Xo=>i(So).period=Xo),fd(Oo,()=>i(So).styles.ema.visible,Xo=>i(So).styles.ema.visible=Xo),qt(Qn,()=>i(So).styles.ema.thickness,Xo=>i(So).styles.ema.thickness=Xo),qt(Ao,()=>i(So).styles.ema.lineStyle,Xo=>i(So).styles.ema.lineStyle=Xo),N(ms,xn)}),_(ls),N(Sn,ls)},Sn=>{var ls=yt(),ms=nt(ls);xe(ms,()=>i(Ur),So=>{var tn=TE(),xn=m(tn);Qo(xn,17,()=>i(Va),ln,(os,on,wn)=>{var As=PE(),qn=m(As),Wn=m(qn),No=m(Wn,!0);_(Wn);var fo=v(Wn,2);xe(fo,()=>i(Va).length>1,Yi=>{var ha=IE();ha.__click=()=>Yu(wn),N(Yi,ha)}),_(qn);var On=v(qn,2),mn=m(On),nn=v(m(mn),2);ut(nn),nn.__input=()=>$d(wn),_(mn);var zo=v(mn,2),vs=v(m(zo),2);ut(vs),vs.__input=()=>$d(wn),_(zo),_(On);var no=v(On,2),ws=m(no),In=v(m(ws),2);_(ws);var Oo=v(ws,2),Bs=m(Oo),_o=v(m(Bs),2);ut(_o),_o.__input=()=>$d(wn),_(Bs);var Fo=v(Bs,2),Hn=v(m(Fo),2);Hn.__change=()=>$d(wn);var ns=m(Hn);ns.value=(ns.__value=1)==null?"":1;var hn=v(ns);hn.value=(hn.__value=2)==null?"":2;var Qn=v(hn);Qn.value=(Qn.__value=3)==null?"":3;var Os=v(Qn);Os.value=(Os.__value=4)==null?"":4;var kn=v(Os);kn.value=(kn.__value=5)==null?"":5,_(Hn),_(Fo);var Pn=v(Fo,2),Yn=v(m(Pn),2);Yn.__change=()=>$d(wn);var Io=m(Yn);Io.value=(Io.__value="solid")==null?"":"solid";var zt=v(Io);zt.value=(zt.__value="dashed")==null?"":"dashed";var Ao=v(zt);Ao.value=(Ao.__value="dotted")==null?"":"dotted",_(Yn),_(Pn),_(Oo),_(no);var ss=v(no,2),bo=m(ss),es=v(m(bo),2);_(bo);var Xo=v(bo,2),hs=m(Xo),Ci=v(m(hs),2);ut(Ci),Ci.__input=()=>$d(wn),_(hs);var Hs=v(hs,2),Js=v(m(Hs),2);Js.__change=()=>$d(wn);var gi=m(Js);gi.value=(gi.__value=1)==null?"":1;var Ui=v(gi);Ui.value=(Ui.__value=2)==null?"":2;var Ni=v(Ui);Ni.value=(Ni.__value=3)==null?"":3;var Gi=v(Ni);Gi.value=(Gi.__value=4)==null?"":4;var Li=v(Gi);Li.value=(Li.__value=5)==null?"":5,_(Js),_(Hs);var Pi=v(Hs,2),ks=v(m(Pi),2);ks.__change=()=>$d(wn);var cr=m(ks);cr.value=(cr.__value="solid")==null?"":"solid";var ea=v(cr);ea.value=(ea.__value="dashed")==null?"":"dashed";var pa=v(ea);pa.value=(pa.__value="dotted")==null?"":"dotted",_(ks),_(Pi),_(Xo),_(ss),_(As),Re(()=>{wt(No,i(on).name),lt(In,"style",`background-color: ${i(on).styles.trix.color??""}`),lt(es,"style",`background-color: ${i(on).styles.signal.color??""}`)}),Mt(nn,()=>i(on).trixPeriod,Yi=>i(on).trixPeriod=Yi),Mt(vs,()=>i(on).signalPeriod,Yi=>i(on).signalPeriod=Yi),Mt(_o,()=>i(on).styles.trix.color,Yi=>i(on).styles.trix.color=Yi),qt(Hn,()=>i(on).styles.trix.thickness,Yi=>i(on).styles.trix.thickness=Yi),qt(Yn,()=>i(on).styles.trix.lineStyle,Yi=>i(on).styles.trix.lineStyle=Yi),Mt(Ci,()=>i(on).styles.signal.color,Yi=>i(on).styles.signal.color=Yi),qt(Js,()=>i(on).styles.signal.thickness,Yi=>i(on).styles.signal.thickness=Yi),qt(ks,()=>i(on).styles.signal.lineStyle,Yi=>i(on).styles.signal.lineStyle=Yi),N(os,As)});var Cn=v(xn,2),Bn=m(Cn);Bn.__click=[ME,z0],_(Cn),_(tn),N(So,tn)},So=>{var tn=yt(),xn=nt(tn);xe(xn,()=>i(Eo),Cn=>{var Bn=EE(),os=m(Bn);Qo(os,17,()=>i(Jr),ln,(As,qn,Wn)=>{var No=LE(),fo=m(No),On=m(fo);On.textContent=`BIAS ${Wn+1}`;var mn=v(On,2);xe(mn,()=>i(Jr).length>1,Io=>{var zt=DE();zt.__click=[AE,k_,qn],N(Io,zt)}),_(fo);var nn=v(fo,2),zo=v(m(nn),2);ut(zo),zo.__input=Ed,_(nn);var vs=v(nn,2),no=m(vs),ws=v(m(no),2),In=tt(()=>Fd(Wn));ws.__click=function(...Io){var zt;(zt=i(In))==null||zt.apply(this,Io)};var Oo=m(ws);_(ws),_(no);var Bs=v(no,2),_o=v(m(Bs),2);_o.__change=Ed;var Fo=m(_o);Fo.value=(Fo.__value=1)==null?"":1;var Hn=v(Fo);Hn.value=(Hn.__value=2)==null?"":2;var ns=v(Hn);ns.value=(ns.__value=3)==null?"":3;var hn=v(ns);hn.value=(hn.__value=4)==null?"":4,_(_o),_(Bs);var Qn=v(Bs,2),Os=v(m(Qn),2);Os.__change=Ed;var kn=m(Os);kn.value=(kn.__value="solid")==null?"":"solid";var Pn=v(kn);Pn.value=(Pn.__value="dashed")==null?"":"dashed";var Yn=v(Pn);Yn.value=(Yn.__value="dotted")==null?"":"dotted",_(Os),_(Qn),_(vs),_(No),Re(()=>lt(Oo,"style",`background-color: ${i(qn).color??""}`)),Mt(zo,()=>i(qn).period,Io=>i(qn).period=Io),qt(_o,()=>i(qn).thickness,Io=>i(qn).thickness=Io),qt(Os,()=>i(qn).lineStyle,Io=>i(qn).lineStyle=Io),N(As,No)});var on=v(os,2),wn=m(on);wn.__click=[XD,Eo,Jr,Ed],_(on),_(Bn),N(Cn,Bn)},Cn=>{var Bn=yt(),os=nt(Bn);xe(os,()=>i(Sl),on=>{var wn=BE(),As=m(wn);Qo(As,17,()=>i(sa),ln,(No,fo,On)=>{var mn=$E(),nn=m(mn),zo=m(nn);zo.textContent=`CCI ${On+1}`;var vs=v(zo,2);xe(vs,()=>i(sa).length>1,ss=>{var bo=jE();bo.__click=[FE,V0,fo],N(ss,bo)}),_(nn);var no=v(nn,2),ws=v(m(no),2);ut(ws),ws.__input=su,_(no);var In=v(no,2),Oo=m(In),Bs=v(m(Oo),2),_o=tt(()=>Mv(On));Bs.__click=function(...ss){var bo;(bo=i(_o))==null||bo.apply(this,ss)};var Fo=m(Bs);_(Bs),_(Oo);var Hn=v(Oo,2),ns=v(m(Hn),2);ns.__change=su;var hn=m(ns);hn.value=(hn.__value=1)==null?"":1;var Qn=v(hn);Qn.value=(Qn.__value=2)==null?"":2;var Os=v(Qn);Os.value=(Os.__value=3)==null?"":3;var kn=v(Os);kn.value=(kn.__value=4)==null?"":4,_(ns),_(Hn);var Pn=v(Hn,2),Yn=v(m(Pn),2);Yn.__change=su;var Io=m(Yn);Io.value=(Io.__value="solid")==null?"":"solid";var zt=v(Io);zt.value=(zt.__value="dashed")==null?"":"dashed";var Ao=v(zt);Ao.value=(Ao.__value="dotted")==null?"":"dotted",_(Yn),_(Pn),_(In),_(mn),Re(()=>lt(Fo,"style",`background-color: ${i(fo).color??""}`)),Mt(ws,()=>i(fo).period,ss=>i(fo).period=ss),qt(ns,()=>i(fo).thickness,ss=>i(fo).thickness=ss),qt(Yn,()=>i(fo).lineStyle,ss=>i(fo).lineStyle=ss),N(No,mn)});var qn=v(As,2),Wn=m(qn);Wn.__click=[JD,Sl,sa,su],_(qn),_(wn),N(on,wn)},on=>{var wn=yt(),As=nt(wn);xe(As,()=>i(Ar),qn=>{var Wn=zE(),No=m(Wn),fo=v(m(No),2);Qo(fo,21,()=>i(Da),ln,(nn,zo,vs)=>{var no=NE(),ws=m(no),In=m(ws),Oo=m(In,!0);_(In);var Bs=v(In,2);xe(Bs,()=>i(Da).length>1,Fo=>{var Hn=OE();Hn.__click=()=>Pv(vs),N(Fo,Hn)}),_(ws);var _o=v(ws,4);Qo(_o,17,()=>h,ln,(Fo,Hn,ns)=>{var hn=RE(),Qn=m(hn),Os=m(Qn),kn=v(Os,2),Pn=m(kn,!0);_(kn),_(Qn);var Yn=v(Qn,2),Io=v(m(Yn),2);ut(Io),Io.__change=()=>Au(),_(Yn);var zt=v(Yn,2),Ao=v(m(zt),2),ss=tt(()=>Av(ns,vs));Ao.__click=function(...ks){var cr;(cr=i(ss))==null||cr.apply(this,ks)};var bo=m(Ao);_(Ao),_(zt);var es=v(zt,2),Xo=v(m(es),2);Xo.__change=()=>Au();var hs=m(Xo);hs.value=(hs.__value=1)==null?"":1;var Ci=v(hs);Ci.value=(Ci.__value=2)==null?"":2;var Hs=v(Ci);Hs.value=(Hs.__value=3)==null?"":3;var Js=v(Hs);Js.value=(Js.__value=4)==null?"":4;var gi=v(Js);gi.value=(gi.__value=5)==null?"":5,_(Xo),_(es);var Ui=v(es,2),Ni=v(m(Ui),2);Ni.__change=()=>Au();var Gi=m(Ni);Gi.value=(Gi.__value="solid")==null?"":"solid";var Li=v(Gi);Li.value=(Li.__value="dashed")==null?"":"dashed";var Pi=v(Li);Pi.value=(Pi.__value="dotted")==null?"":"dotted",_(Ni),_(Ui),_(hn),Re(()=>{var ks,cr;lt(Os,"style",`background-color: ${((ks=i(zo).styles[ns])==null?void 0:ks.color)??""}`),wt(Pn,i(Hn).title),lt(bo,"style",`background-color: ${((cr=i(zo).styles[ns])==null?void 0:cr.color)??""}`)}),Mt(Io,()=>i(zo).params[ns],ks=>i(zo).params[ns]=ks),qt(Xo,()=>i(zo).styles[ns].thickness,ks=>i(zo).styles[ns].thickness=ks),qt(Ni,()=>i(zo).styles[ns].lineStyle,ks=>i(zo).styles[ns].lineStyle=ks),N(Fo,hn)}),_(no),Re(()=>wt(Oo,i(zo).name)),N(nn,no)}),_(fo);var On=v(fo,2),mn=m(On);mn.__click=Y0,_(On),ei(2),_(No),_(Wn),N(qn,Wn)},qn=>{var Wn=yt(),No=nt(Wn);xe(No,()=>i(ii),fo=>{var On=HE(),mn=m(On);Qo(mn,17,()=>h,ln,(zo,vs,no)=>{var ws=WE(),In=m(ws),Oo=m(In),Bs=m(Oo,!0);_(Oo);var _o=v(Oo,2),Fo=m(_o);ut(Fo);var Hn=v(Fo,2);xe(Hn,()=>p.length>1,Js=>{var gi=VE();gi.__click=()=>Dv(no),N(Js,gi)},Js=>{var gi=qE();N(Js,gi)}),_(_o),_(In);var ns=v(In,2),hn=m(ns),Qn=v(m(hn),2),Os=tt(()=>ef(no));Qn.__click=function(...Js){var gi;(gi=i(Os))==null||gi.apply(this,Js)};var kn=m(Qn);_(Qn),_(hn);var Pn=v(hn,2),Yn=v(m(Pn),2),Io=m(Yn);Io.value=(Io.__value=1)==null?"":1;var zt=v(Io);zt.value=(zt.__value=2)==null?"":2;var Ao=v(zt);Ao.value=(Ao.__value=3)==null?"":3;var ss=v(Ao);ss.value=(ss.__value=4)==null?"":4;var bo=v(ss);bo.value=(bo.__value=5)==null?"":5,_(Yn),_(Pn);var es=v(Pn,2),Xo=v(m(es),2),hs=m(Xo);hs.value=(hs.__value="solid")==null?"":"solid";var Ci=v(hs);Ci.value=(Ci.__value="dashed")==null?"":"dashed";var Hs=v(Ci);Hs.value=(Hs.__value="dotted")==null?"":"dotted",_(Xo),_(es),_(ns),_(ws),Re(()=>{wt(Bs,i(vs).title),lt(kn,"style",`background-color: ${x[no].color??""}`)}),Mt(Fo,()=>p[no],Js=>p[no]=Js),qt(Yn,()=>x[no].thickness,Js=>x[no].thickness=Js),qt(Xo,()=>x[no].lineStyle,Js=>x[no].lineStyle=Js),N(zo,ws)});var nn=v(mn,2);xe(nn,()=>h.length<10,zo=>{var vs=GE(),no=m(vs);no.__click=[Pg,Et,Eo,Lv,Vo,tv,$o,ov,Ur,Ev,h,p,x,fr,Ec,vn,kc],_(vs),N(zo,vs)}),_(On),N(fo,On)},fo=>{var On=yt(),mn=nt(On);xe(mn,()=>i(fr),nn=>{var zo=tF(),vs=m(zo);Qo(vs,17,()=>h,ln,(ws,In,Oo)=>{var Bs=QE(),_o=m(Bs),Fo=m(_o),Hn=m(Fo,!0);_(Fo);var ns=v(Fo,2),hn=m(ns);ut(hn),hn.__change=[UE,Ec];var Qn=v(hn,2);xe(Qn,()=>p.length>1,kn=>{var Pn=YE();Pn.__click=()=>Dv(Oo),N(kn,Pn)},kn=>{var Pn=KE();N(kn,Pn)}),_(ns),_(_o);var Os=v(_o,2);xe(Os,()=>x[Oo],kn=>{var Pn=JE(),Yn=m(Pn),Io=v(m(Yn),2),zt=tt(()=>tf(Oo));Io.__click=function(...Li){var Pi;(Pi=i(zt))==null||Pi.apply(this,Li)};var Ao=m(Io);_(Io),_(Yn);var ss=v(Yn,2),bo=v(m(ss),2);bo.__change=[ZE,Ec];var es=m(bo);es.value=(es.__value=1)==null?"":1;var Xo=v(es);Xo.value=(Xo.__value=2)==null?"":2;var hs=v(Xo);hs.value=(hs.__value=3)==null?"":3;var Ci=v(hs);Ci.value=(Ci.__value=4)==null?"":4;var Hs=v(Ci);Hs.value=(Hs.__value=5)==null?"":5,_(bo),_(ss);var Js=v(ss,2),gi=v(m(Js),2);gi.__change=[XE,Ec];var Ui=m(gi);Ui.value=(Ui.__value="solid")==null?"":"solid";var Ni=v(Ui);Ni.value=(Ni.__value="dashed")==null?"":"dashed";var Gi=v(Ni);Gi.value=(Gi.__value="dotted")==null?"":"dotted",_(gi),_(Js),_(Pn),Re(()=>lt(Ao,"style",`background-color: ${x[Oo].color??""}`)),qt(bo,()=>x[Oo].thickness,Li=>x[Oo].thickness=Li),qt(gi,()=>x[Oo].lineStyle,Li=>x[Oo].lineStyle=Li),N(kn,Pn)}),_(Bs),Re(()=>wt(Hn,i(In).title)),Mt(hn,()=>p[Oo],kn=>p[Oo]=kn),N(ws,Bs)});var no=v(vs,2);xe(no,()=>h.length<10,ws=>{var In=eF(),Oo=m(In);Oo.__click=[Pg,Et,Eo,Lv,Vo,tv,$o,ov,Ur,Ev,h,p,x,fr,Ec,vn,kc],_(In),N(ws,In)}),_(zo),N(nn,zo)},nn=>{var zo=yt(),vs=nt(zo);xe(vs,()=>i(_a),no=>{var ws=iF(),In=m(ws);Qo(In,17,()=>i(Rr),ln,(_o,Fo,Hn)=>{var ns=sF(),hn=m(ns),Qn=m(hn);Qn.textContent=`ROC ${Hn+1}`;var Os=v(Qn,2);xe(Os,()=>i(Rr).length>1,ks=>{var cr=nF();cr.__click=[oF,C_,Fo],N(ks,cr)}),_(hn);var kn=v(hn,2),Pn=m(kn),Yn=v(m(Pn),2);ut(Yn),Yn.__change=()=>Iv(Hn),_(Pn);var Io=v(Pn,2),zt=m(Io),Ao=v(m(zt),2),ss=tt(()=>F_(Hn));Ao.__click=function(...ks){var cr;(cr=i(ss))==null||cr.apply(this,ks)};var bo=m(Ao);_(Ao),_(zt);var es=v(zt,2),Xo=v(m(es),2);Xo.__change=()=>Iv(Hn);var hs=m(Xo);hs.value=(hs.__value=1)==null?"":1;var Ci=v(hs);Ci.value=(Ci.__value=2)==null?"":2;var Hs=v(Ci);Hs.value=(Hs.__value=3)==null?"":3;var Js=v(Hs);Js.value=(Js.__value=4)==null?"":4;var gi=v(Js);gi.value=(gi.__value=5)==null?"":5,_(Xo),_(es);var Ui=v(es,2),Ni=v(m(Ui),2);Ni.__change=()=>Iv(Hn);var Gi=m(Ni);Gi.value=(Gi.__value="solid")==null?"":"solid";var Li=v(Gi);Li.value=(Li.__value="dashed")==null?"":"dashed";var Pi=v(Li);Pi.value=(Pi.__value="dotted")==null?"":"dotted",_(Ni),_(Ui),_(Io),_(kn),_(ns),Re(()=>lt(bo,"style",`background-color: ${i(Fo).styles.roc.color??""}`)),Mt(Yn,()=>i(Fo).period,ks=>i(Fo).period=ks),qt(Xo,()=>i(Fo).styles.roc.thickness,ks=>i(Fo).styles.roc.thickness=ks),qt(Ni,()=>i(Fo).styles.roc.lineStyle,ks=>i(Fo).styles.roc.lineStyle=ks),N(_o,ns)});var Oo=v(In,2),Bs=m(Oo);Bs.__click=G0,_(Oo),_(ws),N(no,ws)},no=>{var ws=yt(),In=nt(ws);xe(In,()=>i(kl),Oo=>{var Bs=cF(),_o=m(Bs);Qo(_o,17,()=>i(Ys),ln,(ns,hn,Qn)=>{var Os=lF(),kn=m(Os),Pn=m(kn);Pn.textContent=`PSY ${Qn+1}`;var Yn=v(Pn,2);xe(Yn,()=>i(Ys).length>1,hi=>{var xa=aF();xa.__click=[rF,P_,hn],N(hi,xa)}),_(kn);var Io=v(kn,2),zt=m(Io),Ao=v(m(zt),2);ut(Ao),Ao.__change=()=>Vc(Qn),_(zt);var ss=v(zt,2),bo=v(m(ss),2),es=m(bo),Xo=v(m(es),2),hs=tt(()=>ev(Qn*2));Xo.__click=function(...hi){var xa;(xa=i(hs))==null||xa.apply(this,hi)};var Ci=m(Xo);_(Xo),_(es);var Hs=v(es,2),Js=v(m(Hs),2);Js.__change=()=>Vc(Qn);var gi=m(Js);gi.value=(gi.__value=1)==null?"":1;var Ui=v(gi);Ui.value=(Ui.__value=2)==null?"":2;var Ni=v(Ui);Ni.value=(Ni.__value=3)==null?"":3;var Gi=v(Ni);Gi.value=(Gi.__value=4)==null?"":4;var Li=v(Gi);Li.value=(Li.__value=5)==null?"":5,_(Js),_(Hs);var Pi=v(Hs,2),ks=v(m(Pi),2);ks.__change=()=>Vc(Qn);var cr=m(ks);cr.value=(cr.__value="solid")==null?"":"solid";var ea=v(cr);ea.value=(ea.__value="dashed")==null?"":"dashed";var pa=v(ea);pa.value=(pa.__value="dotted")==null?"":"dotted",_(ks),_(Pi),_(bo),_(ss);var Yi=v(ss,2),ha=v(m(Yi),2);ut(ha),ha.__change=()=>Vc(Qn),_(Yi);var ya=v(Yi,2),Sr=v(m(ya),2),ts=m(Sr),Fa=v(m(ts),2),Cr=tt(()=>ev(Qn*2+1));Fa.__click=function(...hi){var xa;(xa=i(Cr))==null||xa.apply(this,hi)};var Ha=m(Fa);_(Fa),_(ts);var ba=v(ts,2),ri=v(m(ba),2);ri.__change=()=>Vc(Qn);var Ua=m(ri);Ua.value=(Ua.__value=1)==null?"":1;var la=v(Ua);la.value=(la.__value=2)==null?"":2;var ia=v(la);ia.value=(ia.__value=3)==null?"":3;var Lr=v(ia);Lr.value=(Lr.__value=4)==null?"":4;var ta=v(Lr);ta.value=(ta.__value=5)==null?"":5,_(ri),_(ba);var Ya=v(ba,2),is=v(m(Ya),2);is.__change=()=>Vc(Qn);var or=m(is);or.value=(or.__value="solid")==null?"":"solid";var Ol=v(or);Ol.value=(Ol.__value="dashed")==null?"":"dashed";var Rl=v(Ol);Rl.value=(Rl.__value="dotted")==null?"":"dotted",_(is),_(Ya),_(Sr),_(ya);var Ql=v(ya,2),ul=m(Ql);ut(ul),ul.__change=()=>Vc(Qn);var rc=v(ul,2);_(Ql),_(Io),_(Os),Re(()=>{lt(Ci,"style",`background-color: ${i(hn).styles.psy.color??""}`),lt(Ha,"style",`background-color: ${i(hn).styles.mapsy.color??""}`),lt(ul,"id",`showMapsy_${i(hn).id??""}`),lt(rc,"for",`showMapsy_${i(hn).id??""}`)}),Mt(Ao,()=>i(hn).psyPeriod,hi=>i(hn).psyPeriod=hi),qt(Js,()=>i(hn).styles.psy.thickness,hi=>i(hn).styles.psy.thickness=hi),qt(ks,()=>i(hn).styles.psy.lineStyle,hi=>i(hn).styles.psy.lineStyle=hi),Mt(ha,()=>i(hn).mapsyPeriod,hi=>i(hn).mapsyPeriod=hi),qt(ri,()=>i(hn).styles.mapsy.thickness,hi=>i(hn).styles.mapsy.thickness=hi),qt(is,()=>i(hn).styles.mapsy.lineStyle,hi=>i(hn).styles.mapsy.lineStyle=hi),fd(ul,()=>i(hn).showMapsy,hi=>i(hn).showMapsy=hi),N(ns,Os)});var Fo=v(_o,2),Hn=m(Fo);Hn.__click=I_,_(Fo),_(Bs),N(Oo,Bs)},Oo=>{var Bs=yt(),_o=nt(Bs);xe(_o,()=>i(nl),Fo=>{var Hn=pF(),ns=m(Hn);Qo(ns,17,()=>i(pi),ln,(Os,kn,Pn)=>{var Yn=vF(),Io=m(Yn),zt=m(Io);zt.textContent=`OBV ${Pn+1}`;var Ao=v(zt,2);xe(Ao,()=>i(pi).length>1,hi=>{var xa=uF();xa.__click=[dF,T_,kn],N(hi,xa)}),_(Io);var ss=v(Io,2),bo=m(ss),es=v(m(bo),2);ut(es),es.__input=kd,_(bo);var Xo=v(bo,2),hs=v(m(Xo),2),Ci=m(hs),Hs=v(m(Ci),2),Js=tt(()=>Tv(Pn*2));Hs.__click=function(...hi){var xa;(xa=i(Js))==null||xa.apply(this,hi)};var gi=m(Hs);_(Hs),_(Ci);var Ui=v(Ci,2),Ni=v(m(Ui),2);Ni.__change=kd;var Gi=m(Ni);Gi.value=(Gi.__value=1)==null?"":1;var Li=v(Gi);Li.value=(Li.__value=2)==null?"":2;var Pi=v(Li);Pi.value=(Pi.__value=3)==null?"":3;var ks=v(Pi);ks.value=(ks.__value=4)==null?"":4;var cr=v(ks);cr.value=(cr.__value=5)==null?"":5,_(Ni),_(Ui);var ea=v(Ui,2),pa=v(m(ea),2);pa.__change=kd;var Yi=m(pa);Yi.value=(Yi.__value="solid")==null?"":"solid";var ha=v(Yi);ha.value=(ha.__value="dashed")==null?"":"dashed";var ya=v(ha);ya.value=(ya.__value="dotted")==null?"":"dotted",_(pa),_(ea),_(hs),_(Xo);var Sr=v(Xo,2),ts=v(m(Sr),2);ut(ts),ts.__input=kd,ei(2),_(Sr);var Fa=v(Sr,2),Cr=v(m(Fa),2),Ha=m(Cr),ba=v(m(Ha),2),ri=tt(()=>Tv(Pn*2+1));ba.__click=function(...hi){var xa;(xa=i(ri))==null||xa.apply(this,hi)};var Ua=m(ba);_(ba),_(Ha);var la=v(Ha,2),ia=v(m(la),2);ia.__change=kd;var Lr=m(ia);Lr.value=(Lr.__value=1)==null?"":1;var ta=v(Lr);ta.value=(ta.__value=2)==null?"":2;var Ya=v(ta);Ya.value=(Ya.__value=3)==null?"":3;var is=v(Ya);is.value=(is.__value=4)==null?"":4;var or=v(is);or.value=(or.__value=5)==null?"":5,_(ia),_(la);var Ol=v(la,2),Rl=v(m(Ol),2);Rl.__change=kd;var Ql=m(Rl);Ql.value=(Ql.__value="solid")==null?"":"solid";var ul=v(Ql);ul.value=(ul.__value="dashed")==null?"":"dashed";var rc=v(ul);rc.value=(rc.__value="dotted")==null?"":"dotted",_(Rl),_(Ol),_(Cr),_(Fa),_(ss),_(Yn),Re(()=>{lt(gi,"style",`background-color: ${i(kn).styles.obv.color??""}`),lt(Ua,"style",`background-color: ${i(kn).styles.maobv.color??""}`)}),Mt(es,()=>i(kn).obvPeriod,hi=>i(kn).obvPeriod=hi),qt(Ni,()=>i(kn).styles.obv.thickness,hi=>i(kn).styles.obv.thickness=hi),qt(pa,()=>i(kn).styles.obv.lineStyle,hi=>i(kn).styles.obv.lineStyle=hi),Mt(ts,()=>i(kn).maobvPeriod,hi=>i(kn).maobvPeriod=hi),qt(ia,()=>i(kn).styles.maobv.thickness,hi=>i(kn).styles.maobv.thickness=hi),qt(Rl,()=>i(kn).styles.maobv.lineStyle,hi=>i(kn).styles.maobv.lineStyle=hi),N(Os,Yn)});var hn=v(ns,2),Qn=m(hn);Qn.__click=M_,_(hn),_(Hn),N(Fo,Hn)},Fo=>{var Hn=yt(),ns=nt(Hn);xe(ns,()=>i(Vl),hn=>{var Qn=mF(),Os=m(Qn);Qo(Os,17,()=>i(jr),ln,(Yn,Io,zt)=>{var Ao=_F(),ss=m(Ao),bo=m(ss);bo.textContent=`KDJ ${zt+1}`;var es=v(bo,2);xe(es,()=>i(jr).length>1,Br=>{var nr=gF();nr.__click=[fF,K0,Io],N(Br,nr)}),_(ss);var Xo=v(ss,2),hs=m(Xo),Ci=m(hs),Hs=v(m(Ci),2);ut(Hs),Hs.__input=Br=>{Br.target&&(console.log("ðŸ“Š K Period changed to:",Br.target.value,"for group:",zt),qc(zt))},_(Ci);var Js=v(Ci,2),gi=v(m(Js),2);ut(gi),gi.__input=Br=>{Br.target&&(console.log("ðŸ“Š D Period changed to:",Br.target.value,"for group:",zt),qc(zt))},_(Js),_(hs);var Ui=v(hs,2),Ni=v(m(Ui),2),Gi=v(m(Ni),2),Li=tt(()=>wp(zt,0));Gi.__click=function(...Br){var nr;(nr=i(Li))==null||nr.apply(this,Br)};var Pi=m(Gi);_(Gi);var ks=v(Gi,2);ks.__change=()=>qc(zt);var cr=m(ks);cr.value=(cr.__value=1)==null?"":1;var ea=v(cr);ea.value=(ea.__value=2)==null?"":2;var pa=v(ea);pa.value=(pa.__value=3)==null?"":3;var Yi=v(pa);Yi.value=(Yi.__value=4)==null?"":4;var ha=v(Yi);ha.value=(ha.__value=5)==null?"":5,_(ks);var ya=v(ks,2);ya.__change=()=>qc(zt);var Sr=m(ya);Sr.value=(Sr.__value="solid")==null?"":"solid";var ts=v(Sr);ts.value=(ts.__value="dashed")==null?"":"dashed";var Fa=v(ts);Fa.value=(Fa.__value="dotted")==null?"":"dotted",_(ya),_(Ni),_(Ui);var Cr=v(Ui,2),Ha=v(m(Cr),2),ba=v(m(Ha),2),ri=tt(()=>wp(zt,1));ba.__click=function(...Br){var nr;(nr=i(ri))==null||nr.apply(this,Br)};var Ua=m(ba);_(ba);var la=v(ba,2);la.__change=()=>qc(zt);var ia=m(la);ia.value=(ia.__value=1)==null?"":1;var Lr=v(ia);Lr.value=(Lr.__value=2)==null?"":2;var ta=v(Lr);ta.value=(ta.__value=3)==null?"":3;var Ya=v(ta);Ya.value=(Ya.__value=4)==null?"":4;var is=v(Ya);is.value=(is.__value=5)==null?"":5,_(la);var or=v(la,2);or.__change=()=>qc(zt);var Ol=m(or);Ol.value=(Ol.__value="solid")==null?"":"solid";var Rl=v(Ol);Rl.value=(Rl.__value="dashed")==null?"":"dashed";var Ql=v(Rl);Ql.value=(Ql.__value="dotted")==null?"":"dotted",_(or),_(Ha),_(Cr);var ul=v(Cr,2),rc=v(m(ul),2),hi=v(m(rc),2),xa=tt(()=>wp(zt,2));hi.__click=function(...Br){var nr;(nr=i(xa))==null||nr.apply(this,Br)};var Bd=m(hi);_(hi);var ac=v(hi,2);ac.__change=()=>qc(zt);var Gc=m(ac);Gc.value=(Gc.__value=1)==null?"":1;var dd=v(Gc);dd.value=(dd.__value=2)==null?"":2;var Hc=v(dd);Hc.value=(Hc.__value=3)==null?"":3;var Uc=v(Hc);Uc.value=(Uc.__value=4)==null?"":4;var Od=v(Uc);Od.value=(Od.__value=5)==null?"":5,_(ac);var fa=v(ac,2);fa.__change=()=>qc(zt);var $r=m(fa);$r.value=($r.__value="solid")==null?"":"solid";var Ic=v($r);Ic.value=(Ic.__value="dashed")==null?"":"dashed";var uu=v(Ic);uu.value=(uu.__value="dotted")==null?"":"dotted",_(fa),_(rc),_(ul),_(Xo),_(Ao),Re(()=>{lt(Pi,"style",`background-color: ${i(Io).styles.k.color??""}`),lt(Ua,"style",`background-color: ${i(Io).styles.d.color??""}`),lt(Bd,"style",`background-color: ${i(Io).styles.j.color??""}`)}),Mt(Hs,()=>i(Io).kPeriod,Br=>i(Io).kPeriod=Br),Mt(gi,()=>i(Io).dPeriod,Br=>i(Io).dPeriod=Br),qt(ks,()=>i(Io).styles.k.thickness,Br=>i(Io).styles.k.thickness=Br),qt(ya,()=>i(Io).styles.k.lineStyle,Br=>i(Io).styles.k.lineStyle=Br),qt(la,()=>i(Io).styles.d.thickness,Br=>i(Io).styles.d.thickness=Br),qt(or,()=>i(Io).styles.d.lineStyle,Br=>i(Io).styles.d.lineStyle=Br),qt(ac,()=>i(Io).styles.j.thickness,Br=>i(Io).styles.j.thickness=Br),qt(fa,()=>i(Io).styles.j.lineStyle,Br=>i(Io).styles.j.lineStyle=Br),N(Yn,Ao)});var kn=v(Os,2),Pn=m(kn);Pn.__click=mp,_(kn),_(Qn),N(hn,Qn)},hn=>{var Qn=yt(),Os=nt(Qn);xe(Os,()=>i(Ad),kn=>{var Pn=wF(),Yn=m(Pn),Io=v(m(Yn),2),zt=m(Io),Ao=v(m(zt),2);ut(Ao),Ao.__change=[HD,mi,Zi],_(zt);var ss=v(zt,2),bo=v(m(ss),2);bo.__click=[hF,ra];var es=m(bo);const Xo=tt(()=>`background-color: ${k(i(di),i(Ws))}`);_(bo),_(ss),_(Io);var hs=v(Io,2),Ci=m(hs),Hs=v(m(Ci),2),Js=m(Hs);_(Hs),_(Ci);var gi=v(Ci,2);ut(gi),gi.__change=ml,_(hs),_(Yn);var Ui=v(Yn,2),Ni=v(m(Ui),2),Gi=v(m(Ni),2);ut(Gi),Gi.__change=[UD,mi,ui],_(Ni);var Li=v(Ni,2),Pi=m(Li),ks=v(m(Pi),2);ks.__click=[yF,ra];var cr=m(ks);_(ks),_(Pi);var ea=v(Pi,2),pa=v(m(ea),2);pa.__click=[bF,ra];var Yi=m(pa);_(pa),_(ea),_(Li);var ha=v(Li,2),ya=m(ha),Sr=v(m(ya),2);Sr.__change=[s2,mi,Ti,xi];var ts=m(Sr);ts.value=(ts.__value=1)==null?"":1;var Fa=v(ts);Fa.value=(Fa.__value=2)==null?"":2;var Cr=v(Fa);Cr.value=(Cr.__value=3)==null?"":3;var Ha=v(Cr);Ha.value=(Ha.__value=4)==null?"":4;var ba=v(Ha);ba.value=(ba.__value=5)==null?"":5,_(Sr),_(ya);var ri=v(ya,2),Ua=v(m(ri),2);Ua.__change=[s2,mi,Ti,xi];var la=m(Ua);la.value=(la.__value="solid")==null?"":"solid";var ia=v(la);ia.value=(ia.__value="dashed")==null?"":"dashed",_(Ua),_(ri);var Lr=v(ri,2),ta=v(m(Lr),2);ta.__change=[i2,mi,oi,ir];var Ya=m(ta);Ya.value=(Ya.__value=1)==null?"":1;var is=v(Ya);is.value=(is.__value=2)==null?"":2;var or=v(is);or.value=(or.__value=3)==null?"":3;var Ol=v(or);Ol.value=(Ol.__value=4)==null?"":4;var Rl=v(Ol);Rl.value=(Rl.__value=5)==null?"":5,_(ta),_(Lr);var Ql=v(Lr,2),ul=v(m(Ql),2);ul.__change=[i2,mi,oi,ir];var rc=m(ul);rc.value=(rc.__value="solid")==null?"":"solid";var hi=v(rc);hi.value=(hi.__value="dashed")==null?"":"dashed",_(ul),_(Ql),_(ha),_(Ui);var xa=v(Ui,2),Bd=v(m(xa),2),ac=m(Bd),Gc=v(m(ac),2);Gc.__click=[xF,ra];var dd=m(Gc);_(Gc),_(ac);var Hc=v(ac,2),Uc=v(m(Hc),2);Uc.__change=[n2,mi,js,qi];var Od=m(Uc);Od.value=(Od.__value=1)==null?"":1;var fa=v(Od);fa.value=(fa.__value=2)==null?"":2;var $r=v(fa);$r.value=($r.__value=3)==null?"":3;var Ic=v($r);Ic.value=(Ic.__value=4)==null?"":4;var uu=v(Ic);uu.value=(uu.__value=5)==null?"":5,_(Uc),_(Hc);var Br=v(Hc,2),nr=v(m(Br),2);nr.__change=[n2,mi,js,qi];var rv=m(nr);rv.value=(rv.__value="solid")==null?"":"solid";var $u=v(rv);$u.value=($u.__value="dashed")==null?"":"dashed",_(nr),_(Br),_(Bd),_(xa);var ud=v(xa,2),vu=v(m(ud),2),pu=v(m(vu),2);ut(pu),pu.__change=[YD,mi,pr],_(vu),_(ud),_(Pn),Re(()=>{lt(es,"style",i(Xo)),wt(Js,`${i(Ws)??""}%`),lt(cr,"style",`background-color: ${i(ps)}`),lt(Yi,"style",`background-color: ${i(ni)}`),lt(dd,"style",`background-color: ${i(Ps)}`)}),fd(Ao,()=>i(Zi),vl=>b(Zi,vl)),Mt(gi,()=>i(Ws),vl=>b(Ws,vl)),fd(Gi,()=>i(ui),vl=>b(ui,vl)),qt(Sr,()=>i(Ti),vl=>b(Ti,vl)),qt(Ua,()=>i(xi),vl=>b(xi,vl)),qt(ta,()=>i(oi),vl=>b(oi,vl)),qt(ul,()=>i(ir),vl=>b(ir,vl)),qt(Uc,()=>i(js),vl=>b(js,vl)),qt(nr,()=>i(qi),vl=>b(qi,vl)),fd(pu,()=>i(pr),vl=>b(pr,vl)),N(kn,Pn)},kn=>{var Pn=yt(),Yn=nt(Pn);xe(Yn,()=>i(Et),Io=>{var zt=jF(),Ao=m(zt),ss=v(m(Ao),2),bo=m(ss),es=v(m(bo),2);ut(es),_(bo);var Xo=v(bo,2),hs=v(m(Xo),2);ut(hs),_(Xo),_(ss),_(Ao);var Ci=v(Ao,2),Hs=v(m(Ci),2),Js=v(m(Hs),2),gi=m(Js),Ui=v(gi,2);Ui.__click=[kF,Ji];var Ni=m(Ui);_(Ui),_(Js),_(Hs);var Gi=v(Hs,2),Li=m(Gi),Pi=v(m(Li),2),ks=m(Pi);_(Pi),_(Li);var cr=v(Li,2);ut(cr),ei(2),_(Gi),_(Ci);var ea=v(Ci,2),pa=v(m(ea),2),Yi=m(pa),ha=v(m(Yi),2),ya=m(ha),Sr=v(ya,2);Sr.__click=[SF,Ji];var ts=m(Sr);_(Sr),_(ha),_(Yi);var Fa=v(Yi,2),Cr=v(m(Fa),2),Ha=m(Cr),ba=v(Ha,2);ba.__click=[CF,Ji];var ri=m(ba);_(ba),_(Cr),_(Fa);var Ua=v(Fa,2),la=v(m(Ua),2),ia=m(la),Lr=v(ia,2);Lr.__click=[IF,Ji];var ta=m(Lr);_(Lr),_(la),_(Ua),_(pa),_(ea);var Ya=v(ea,2),is=v(m(Ya),2),or=m(is),Ol=v(m(or),2),Rl=m(Ol);Rl.value=(Rl.__value=1)==null?"":1;var Ql=v(Rl);Ql.value=(Ql.__value=2)==null?"":2;var ul=v(Ql);ul.value=(ul.__value=3)==null?"":3;var rc=v(ul);rc.value=(rc.__value=4)==null?"":4;var hi=v(rc);hi.value=(hi.__value=5)==null?"":5,_(Ol),_(or);var xa=v(or,2),Bd=v(m(xa),2),ac=m(Bd);ac.value=(ac.__value="solid")==null?"":"solid";var Gc=v(ac);Gc.value=(Gc.__value="dashed")==null?"":"dashed";var dd=v(Gc);dd.value=(dd.__value="dotted")==null?"":"dotted",_(Bd),_(xa),_(is),_(Ya);var Hc=v(Ya,2),Uc=m(Hc);Uc.__click=[iL,Et,s,c,An,q,B,S,M,T,D,A,j,F,Aa];var Od=v(Uc,2);xe(Od,()=>i(An).length>1,$r=>{var Ic=MF();Ic.__click=[PF,Dc],N($r,Ic)}),_(Hc);var fa=v(Hc,2);xe(fa,()=>i(An).length>1,$r=>{var Ic=yt(),uu=nt(Ic);Qo(uu,17,()=>i(An).slice(1),ln,(Br,nr,rv)=>{var $u=FF();const ud=tt(()=>rv+1);var vu=m($u),pu=m(vu),vl=m(pu);_(pu);var eg=v(pu,2);eg.__click=[TF,Dc,ud],_(vu);var qv=v(vu,2),Wv=m(qv),Up=v(m(Wv),2);ut(Up),Up.__change=Aa,_(Wv);var tg=v(Wv,2),Yp=v(m(tg),2);ut(Yp),Yp.__change=Aa,_(tg),_(qv);var Kp=v(qv,2),Rd=v(m(Kp),2),og=v(m(Rd),2),ng=m(og),Zp=v(ng,2);Zp.__click=[AF,Ji,ud];var mm=m(Zp);_(Zp),_(og),_(Rd);var sg=v(Rd,2),Gv=m(sg),Xp=v(m(Gv),2),hm=m(Xp);_(Xp),_(Gv);var Jp=v(Gv,2);ut(Jp),Jp.__change=Aa,_(sg),_(Kp);var Qp=v(Kp,2),ig=v(m(Qp),2),e0=m(ig),rg=v(m(e0),2),ag=m(rg),t0=v(ag,2);t0.__click=[DF,Ji,ud];var ym=m(t0);_(t0),_(rg),_(e0);var o0=v(e0,2),lg=v(m(o0),2),cg=m(lg),n0=v(cg,2);n0.__click=[LF,Ji,ud];var bm=m(n0);_(n0),_(lg),_(o0);var dg=v(o0,2),ug=v(m(dg),2),vg=m(ug),s0=v(vg,2);s0.__click=[EF,Ji,ud];var xm=m(s0);_(s0),_(ug),_(dg),_(ig),_(Qp);var pg=v(Qp,2),fg=v(m(pg),2),i0=m(fg),Hv=v(m(i0),2);Hv.__change=Aa;var r0=m(Hv);r0.value=(r0.__value=1)==null?"":1;var a0=v(r0);a0.value=(a0.__value=2)==null?"":2;var av=v(a0);av.value=(av.__value=3)==null?"":3;var Uv=v(av);Uv.value=(Uv.__value=4)==null?"":4;var l0=v(Uv);l0.value=(l0.__value=5)==null?"":5,_(Hv),_(i0);var gg=v(i0,2),Yv=v(m(gg),2);Yv.__change=Aa;var c0=m(Yv);c0.value=(c0.__value="solid")==null?"":"solid";var lv=v(c0);lv.value=(lv.__value="dashed")==null?"":"dashed";var _g=v(lv);_g.value=(_g.__value="dotted")==null?"":"dotted",_(Yv),_(gg),_(fg),_(pg),_($u),Re(()=>{wt(vl,`BOLL ${i(ud)+1}`),lt(eg,"title",`Remove BOLL ${i(ud)+1}`),lt(ng,"style",`background-color: ${i(nr).styles.fillColor}; opacity: ${(i(nr).styles.fillOpacity||0)/100}`),lt(mm,"style",`background-color: ${i(nr).styles.fillColor}; opacity: ${(i(nr).styles.fillOpacity||0)/100}`),wt(hm,`${i(nr).styles.fillOpacity??""}%`),lt(ag,"style",`background-color: ${i(nr).styles.upperColor}`),lt(ym,"style",`background-color: ${i(nr).styles.upperColor}`),lt(cg,"style",`background-color: ${i(nr).styles.middleColor}`),lt(bm,"style",`background-color: ${i(nr).styles.middleColor}`),lt(vg,"style",`background-color: ${i(nr).styles.lowerColor}`),lt(xm,"style",`background-color: ${i(nr).styles.lowerColor}`)}),Mt(Up,()=>i(nr).period,Cd=>i(nr).period=Cd),Mt(Yp,()=>i(nr).stdDev,Cd=>i(nr).stdDev=Cd),Mt(Jp,()=>i(nr).styles.fillOpacity,Cd=>i(nr).styles.fillOpacity=Cd),qt(Hv,()=>i(nr).styles.thickness,Cd=>i(nr).styles.thickness=Cd),qt(Yv,()=>i(nr).styles.lineStyle,Cd=>i(nr).styles.lineStyle=Cd),N(Br,$u)}),N($r,Ic)}),_(zt),Re(()=>{lt(gi,"style",`background-color: ${i(S)??""}; opacity: ${i(M)/100}`),lt(Ni,"style",`background-color: ${i(S)??""}; opacity: ${i(M)/100}`),wt(ks,`${i(M)??""}%`),lt(ya,"style",`background-color: ${i(T)??""}`),lt(ts,"style",`background-color: ${i(T)??""}`),lt(Ha,"style",`background-color: ${i(D)??""}`),lt(ri,"style",`background-color: ${i(D)??""}`),lt(ia,"style",`background-color: ${i(A)??""}`),lt(ta,"style",`background-color: ${i(A)??""}`)}),Mt(es,()=>i(q),$r=>b(q,$r)),Mt(hs,()=>i(B),$r=>b(B,$r)),Mt(cr,()=>i(M),$r=>b(M,$r)),qt(Ol,()=>i(j),$r=>b(j,$r)),qt(Bd,()=>i(F),$r=>b(F,$r)),N(Io,zt)},Io=>{var zt=yt(),Ao=nt(zt);xe(Ao,()=>!h.length,ss=>{var bo=$F(),es=m(bo),Xo=m(es,!0);Re(()=>wt(Xo,hy())),_(es),_(bo),N(ss,bo)},ss=>{var bo=zF(),es=m(bo);Qo(es,17,()=>h,ln,(hs,Ci,Hs)=>{var Js=RF(),gi=m(Js),Ui=m(gi),Ni=m(Ui,!0);_(Ui);var Gi=v(Ui,2),Li=m(Gi);ut(Li);var Pi=v(Li,2);xe(Pi,()=>p.length>1&&!i(Et),Lr=>{var ta=BF();ta.__click=()=>Dv(Hs),N(Lr,ta)},Lr=>{var ta=yt(),Ya=nt(ta);xe(Ya,()=>!i(Et),is=>{var or=OF();N(is,or)},null,!0),N(Lr,ta)}),_(Gi),_(gi);var ks=v(gi,2),cr=m(ks),ea=v(m(cr),2),pa=tt(()=>Mv(Hs));ea.__click=function(...Lr){var ta;(ta=i(pa))==null||ta.apply(this,Lr)};var Yi=m(ea);_(ea),_(cr);var ha=v(cr,2),ya=v(m(ha),2),Sr=m(ya);Sr.value=(Sr.__value=1)==null?"":1;var ts=v(Sr);ts.value=(ts.__value=2)==null?"":2;var Fa=v(ts);Fa.value=(Fa.__value=3)==null?"":3;var Cr=v(Fa);Cr.value=(Cr.__value=4)==null?"":4;var Ha=v(Cr);Ha.value=(Ha.__value=5)==null?"":5,_(ya),_(ha);var ba=v(ha,2),ri=v(m(ba),2),Ua=m(ri);Ua.value=(Ua.__value="solid")==null?"":"solid";var la=v(Ua);la.value=(la.__value="dashed")==null?"":"dashed";var ia=v(la);ia.value=(ia.__value="dotted")==null?"":"dotted",_(ri),_(ba),_(ks),_(Js),Re(()=>{wt(Ni,i(Ci).title),lt(Yi,"style",`background-color: ${x[Hs].color??""}`)}),Mt(Li,()=>p[Hs],Lr=>p[Hs]=Lr),qt(ya,()=>x[Hs].thickness,Lr=>x[Hs].thickness=Lr),qt(ri,()=>x[Hs].lineStyle,Lr=>x[Hs].lineStyle=Lr),N(hs,Js)});var Xo=v(es,2);xe(Xo,()=>h.length<10&&!i(Et)&&!i(rr)&&!i(Nc),hs=>{var Ci=NF(),Hs=m(Ci);Hs.__click=[Pg,Et,Eo,Lv,Vo,tv,$o,ov,Ur,Ev,h,p,x,fr,Ec,vn,kc],_(Ci),Re(()=>lt(Hs,"title",i(Eo)?"Add more BIAS indicator":i(Vo)?"Add more Awesome Oscillator":i($o)?"Add more WR indicator":i(vn)?"Add more EMA":"Add parameter")),N(hs,Ci)}),_(bo),N(ss,bo)},!0),N(Io,zt)},!0),N(kn,Pn)},!0),N(hn,Qn)},!0),N(Fo,Hn)},!0),N(Oo,Bs)},!0),N(no,ws)},!0),N(nn,zo)},!0),N(fo,On)},!0),N(qn,Wn)},!0),N(on,wn)},!0),N(Cn,Bn)},!0),N(So,tn)},!0),N(Sn,ls)},!0),N(_n,$n)},!0),N(Vn,us)},!0),N(Gn,Zs)},!0),N(ds,Wo)},!0),N(Ho,xs)},!0),N(_s,Bo)},!0),N(as,jn)},!0),N(Xn,$s)},!0),N(Zn,li)},!0),N(rs,ai)},!0),N(Nn,Vs)},!0),N(zs,Dr)},!0),N(Ns,ki)},!0),N(cs,Di)},!0),N(Ia,ma)},!0),N(Ca,La)},!0),N(dl,Wa)},!0),N(gn,er)},!0),N(St,st)},!0),N(_e,ze)},!0),N(E,V)});var L=v(I,2);xe(L,()=>i(he),E=>{var V=VF();N(E,V)}),_(P),N(g,P)},$$slots:{default:!0}});var Mp=v(nv,2),Tp=tt(()=>{var g,y;return((y=(g=i(An)[i(Wi)])==null?void 0:g.styles)==null?void 0:y.upperColor)||"#f23645"});Rs(Mp,{get show(){return i(Tt)},set show(g){b(Tt,$(g))},get selectedColor(){return i(Tp)},get position(){return i(Co)},$$events:{colorChange:g=>{i(An)[i(Wi)]?(i(An)[i(Wi)].styles.upperColor=g.detail.rgba||g.detail.color,Aa()):b(T,$(g.detail.rgba||g.detail.color))}}});var ff=v(Mp,2),gf=tt(()=>{var g,y;return((y=(g=i(An)[i(Wi)])==null?void 0:g.styles)==null?void 0:y.middleColor)||"#2962ff"});Rs(ff,{get show(){return i(Ro)},set show(g){b(Ro,$(g))},get selectedColor(){return i(gf)},get position(){return i(Tn)},$$events:{colorChange:g=>{i(An)[i(Wi)]?(i(An)[i(Wi)].styles.middleColor=g.detail.rgba||g.detail.color,Aa()):b(D,$(g.detail.rgba||g.detail.color))}}});var ld=v(ff,2),_f=tt(()=>{var g,y;return((y=(g=i(An)[i(Wi)])==null?void 0:g.styles)==null?void 0:y.lowerColor)||"#089981"});Rs(ld,{get show(){return i(jo)},set show(g){b(jo,$(g))},get selectedColor(){return i(_f)},get position(){return i(En)},$$events:{colorChange:g=>{i(An)[i(Wi)]?(i(An)[i(Wi)].styles.lowerColor=g.detail.rgba||g.detail.color,Aa()):b(A,$(g.detail.rgba||g.detail.color))}}});var Ap=v(ld,2),V_=tt(()=>{var g,y;return((y=(g=i(An)[i(Wi)])==null?void 0:g.styles)==null?void 0:y.fillColor)||"#2196F3"});Rs(Ap,{get show(){return i(dt)},set show(g){b(dt,$(g))},get selectedColor(){return i(V_)},get position(){return i(Vt)},$$events:{colorChange:g=>{i(An)[i(Wi)]?(i(An)[i(Wi)].styles.fillColor=g.detail.rgba||g.detail.color,Aa()):b(S,$(g.detail.rgba||g.detail.color))}}});var Dp=v(Ap,2);Rs(Dp,{get show(){return i(mo)},set show(g){b(mo,$(g))},get selectedColor(){return i(Ps)},get position(){return i(Es)},$$events:{colorChange:g=>{var P;b(Ps,$(g.detail.rgba||g.detail.color));const y=window.__npoMaeApi;(P=y==null?void 0:y.setColors)==null||P.call(y,{median:i(Ps)})}}});var mf=v(Dp,2),q_=tt(()=>k(i(di),i(Ws)));Rs(mf,{get show(){return i(zn)},set show(g){b(zn,$(g))},get selectedColor(){return i(q_)},get position(){return i(Vi)},$$events:{colorChange:g=>{b(di,$(g.detail.rgba||g.detail.color)),ml()}}});var cd=v(mf,2);Rs(cd,{get show(){return i(Rn)},set show(g){b(Rn,$(g))},get selectedColor(){return i(ps)},get position(){return i(Fs)},$$events:{colorChange:g=>{var P;b(ps,$(g.detail.rgba||g.detail.color));const y=window.__npoMaeApi;(P=y==null?void 0:y.setColors)==null||P.call(y,{slLong:i(ps)})}}});var Ov=v(cd,2);Rs(Ov,{get show(){return i(Fi)},set show(g){b(Fi,$(g))},get selectedColor(){return i(ni)},get position(){return i(vr)},$$events:{colorChange:g=>{var P;b(ni,$(g.detail.rgba||g.detail.color));const y=window.__npoMaeApi;(P=y==null?void 0:y.setColors)==null||P.call(y,{slShort:i(ni)})}}});var Rv=v(Ov,2),Lp=tt(()=>{var g,y,P;return((P=(y=(g=i(xt)[i(Y)])==null?void 0:g.styles)==null?void 0:y[i(G)])==null?void 0:P.color)||"#2563eb"});Rs(Rv,{get show(){return i(O)},set show(g){b(O,$(g))},get selectedColor(){return i(Lp)},get position(){return i(z)},$$events:{colorChange:g=>{i(xt).length>i(Y)&&(i(xt)[i(Y)].styles[i(G)].color=g.detail.rgba||g.detail.color,bd(i(Y),i(G)))}}});var sv=v(Rv,2),Eu=tt(()=>{var g,y,P;return((P=(y=(g=i(za)[i(Ja)])==null?void 0:g.styles)==null?void 0:y[i(pl)])==null?void 0:P.color)||"#2563eb"});Rs(sv,{get show(){return i(Xa)},set show(g){b(Xa,$(g))},get selectedColor(){return i(Eu)},get position(){return sl},$$events:{colorChange:g=>{i(za).length>i(Ja)&&i(za)[i(Ja)].styles[i(pl)]&&(i(za)[i(Ja)].styles[i(pl)].color=g.detail.rgba||g.detail.color,iu())}}});var Ks=v(sv,2),Nv=tt(()=>{var g;return((g=i(sa)[i(se)])==null?void 0:g.color)||"#2563eb"});Rs(Ks,{get show(){return i(oe)},set show(g){b(oe,$(g))},get selectedColor(){return i(Nv)},get position(){return i(re)},$$events:{colorChange:g=>{i(sa).length>i(se)&&(i(sa)[i(se)].color=g.detail.rgba||g.detail.color,su())}}});var zv=v(Ks,2),cu=tt(()=>{var g,y,P;return((P=(y=(g=i(ar)[0])==null?void 0:g.styles)==null?void 0:y.diPlus)==null?void 0:P.color)||"#2563eb"});Rs(zv,{get show(){return i(ie)},set show(g){b(ie,$(g))},get selectedColor(){return i(cu)},get position(){return i(te)},$$events:{colorChange:g=>{i(ar).length>0&&(i(ar)[0].styles.diPlus.color=g.detail.rgba||g.detail.color)}}});var hf=v(zv,2),Ep=tt(()=>{var g;return((g=x[0])==null?void 0:g.color)||"#2563eb"});Rs(hf,{get show(){return i(U)},set show(g){b(U,$(g))},get selectedColor(){return i(Ep)},get position(){return i(ae)},$$events:{colorChange:g=>{x.length>0&&(x[0].color=g.detail.rgba||g.detail.color)}}});var Fp=v(hf,2),Xl=tt(()=>{var g;return((g=i(Qi)[i(we)])==null?void 0:g.color)||"#2563eb"});Rs(Fp,{get show(){return i(it)},set show(g){b(it,$(g))},get selectedColor(){return i(Xl)},get position(){return i(Ne)},$$events:{colorChange:g=>{i(Qi)[i(we)]&&(i(Qi)[i(we)].color=g.detail.rgba||g.detail.color,nu())}}});var yf=v(Fp,2),W_=tt(()=>{var g;return((g=x[0])==null?void 0:g.color)||"#2563eb"});Rs(yf,{get show(){return i(me)},set show(g){b(me,$(g))},get selectedColor(){return i(W_)},get position(){return i(ke)},$$events:{colorChange:g=>{x.length>0&&(x[0].color=g.detail.rgba||g.detail.color)}}});var jp=v(yf,2),G_=tt(()=>{var g;return((g=x[0])==null?void 0:g.color)||"#2563eb"});Rs(jp,{get show(){return i(je)},set show(g){b(je,$(g))},get selectedColor(){return i(G_)},get position(){return i(Te)},$$events:{colorChange:g=>{x.length>0&&(x[0].color=g.detail.rgba||g.detail.color)}}});var $p=v(jp,2),H_=tt(()=>{var g,y,P,I,L,E,V,ne,_e;return i(ye)==="histogram"?((P=(y=(g=i(Se)[i(le)])==null?void 0:g.styles)==null?void 0:y.histogram)==null?void 0:P.upColor)||"#26a69a":i(ye)==="histogram-down"?((E=(L=(I=i(Se)[i(le)])==null?void 0:I.styles)==null?void 0:L.histogram)==null?void 0:E.downColor)||"#ef5350":((_e=(ne=(V=i(Se)[i(le)])==null?void 0:V.styles)==null?void 0:ne.ema)==null?void 0:_e.color)||"#2563eb"}),U_=tt(()=>i(ye)==="histogram"||i(ye)==="histogram-down"?70:100);Rs($p,{get show(){return i(Ue)},set show(g){b(Ue,$(g))},get selectedColor(){return i(H_)},get opacity(){return i(U_)},get position(){return i(Be)},$$events:{colorChange:g=>{i(Se).length>i(le)&&(i(ye)==="histogram"?i(Se)[i(le)].styles.histogram.upColor=g.detail.rgba||g.detail.color:i(ye)==="histogram-down"?i(Se)[i(le)].styles.histogram.downColor=g.detail.rgba||g.detail.color:i(ye)==="ema"&&(i(Se)[i(le)].styles.ema.color=g.detail.rgba||g.detail.color),Tu(i(le)))}}});var bf=v($p,2),Sd=tt(()=>{var g,y,P;return((P=(y=(g=i(lo)[i(bt)])==null?void 0:g.styles)==null?void 0:y.wr)==null?void 0:P.color)||"#2563eb"});Rs(bf,{get show(){return i(Ee)},set show(g){b(Ee,$(g))},get selectedColor(){return i(Sd)},get position(){return i(Je)},$$events:{colorChange:g=>{i(lo).length>i(bt)&&i(lo)[i(bt)].styles.wr&&(i(lo)[i(bt)].styles.wr.color=g.detail.rgba||g.detail.color,ql(i(bt)))}}});var Jl=v(bf,2),Bp=tt(()=>{var g,y,P;return((P=(y=(g=i(lo)[i(bt)])==null?void 0:g.styles)==null?void 0:y.overbought)==null?void 0:P.color)||"#FF4444"});Rs(Jl,{get show(){return i(be)},set show(g){b(be,$(g))},get selectedColor(){return i(Bp)},get position(){return i(X)},$$events:{colorChange:g=>{i(lo).length>i(bt)&&i(lo)[i(bt)].styles.overbought&&(i(lo)[i(bt)].styles.overbought.color=g.detail.rgba||g.detail.color,ql(i(bt)))}}});var xf=v(Jl,2),Op=tt(()=>{var g,y,P;return((P=(y=(g=i(lo)[i(bt)])==null?void 0:g.styles)==null?void 0:y.oversold)==null?void 0:P.color)||"#00C851"});Rs(xf,{get show(){return i(H)},set show(g){b(H,$(g))},get selectedColor(){return i(Op)},get position(){return i(Ce)},$$events:{colorChange:g=>{i(lo).length>i(bt)&&i(lo)[i(bt)].styles.oversold&&(i(lo)[i(bt)].styles.oversold.color=g.detail.rgba||g.detail.color,ql(i(bt)))}}});var wf=v(xf,2),Y_=tt(()=>{var g,y,P;return((P=(y=(g=i(lo)[i(bt)])==null?void 0:g.styles)==null?void 0:y.middleLine)==null?void 0:P.color)||"#808080"});Rs(wf,{get show(){return i(Qe)},set show(g){b(Qe,$(g))},get selectedColor(){return i(Y_)},get position(){return i(mt)},$$events:{colorChange:g=>{i(lo).length>i(bt)&&i(lo)[i(bt)].styles.middleLine&&(i(lo)[i(bt)].styles.middleLine.color=g.detail.rgba||g.detail.color,ql(i(bt)))}}});var Fu=v(wf,2),kf=tt(()=>{var g,y,P;return((P=(y=(g=i(Nt)[i(Kt)])==null?void 0:g.styles)==null?void 0:y[i(to)])==null?void 0:P.color)||"#2563eb"});Rs(Fu,{get show(){return i(ct)},set show(g){b(ct,$(g))},get selectedColor(){return i(kf)},get position(){return i(yo)},$$events:{colorChange:g=>{i(Nt).length>i(Kt)&&i(Nt)[i(Kt)].styles[i(to)]&&(i(Nt)[i(Kt)].styles[i(to)].color=g.detail.rgba||g.detail.color,Dd(i(Kt)))}}});var Rp=v(Fu,2),K_=tt(()=>{var g,y,P;return((P=(y=(g=i(Rr)[i(Uo)])==null?void 0:g.styles)==null?void 0:y.roc)==null?void 0:P.color)||"#2563eb"});Rs(Rp,{get show(){return i(io)},set show(g){b(io,$(g))},get selectedColor(){return i(K_)},get position(){return i(ro)},$$events:{colorChange:g=>{i(Rr).length>i(Uo)&&(i(Rr)[i(Uo)].styles.roc.color=g.detail.rgba||g.detail.color,Iv(i(Uo)))}}});var Sf=v(Rp,2),Z_=tt(()=>{var g,y,P,I,L,E;return i(uo)%2===0?((P=(y=(g=i(Ys)[Math.floor(i(uo)/2)])==null?void 0:g.styles)==null?void 0:y.psy)==null?void 0:P.color)||"#2563eb":((E=(L=(I=i(Ys)[Math.floor(i(uo)/2)])==null?void 0:I.styles)==null?void 0:L.mapsy)==null?void 0:E.color)||"#dc2626"});Rs(Sf,{get show(){return i(an)},set show(g){b(an,$(g))},get selectedColor(){return i(Z_)},get position(){return i(Mn)},$$events:{colorChange:g=>{const y=Math.floor(i(uo)/2);i(Ys).length>y&&(i(uo)%2===0?(i(Ys)[y].styles.psy.color=g.detail.rgba||g.detail.color,console.log("ðŸŽ¨ Updated PSY color to:",g.detail.color)):(i(Ys)[y].styles.mapsy.color=g.detail.rgba||g.detail.color,console.log("ðŸŽ¨ Updated MAPSY color to:",g.detail.color)),Vc(y))}}});var Cf=v(Sf,2),If=tt(()=>{var g,y,P,I,L,E;return i(Go)%2===0?((P=(y=(g=i(pi)[Math.floor(i(Go)/2)])==null?void 0:g.styles)==null?void 0:y.obv)==null?void 0:P.color)||"#FF6B35":((E=(L=(I=i(pi)[Math.floor(i(Go)/2)])==null?void 0:I.styles)==null?void 0:L.maobv)==null?void 0:E.color)||"#2196F3"});Rs(Cf,{get show(){return i(Do)},set show(g){b(Do,$(g))},get selectedColor(){return i(If)},get position(){return i(Zt)},$$events:{colorChange:g=>{const y=Math.floor(i(Go)/2);i(pi).length>y&&(i(Go)%2===0?(i(pi)[y].styles.obv.color=g.detail.rgba||g.detail.color,console.log("ðŸŽ¨ Updated OBV color to:",g.detail.color)):(i(pi)[y].styles.maobv.color=g.detail.rgba||g.detail.color,console.log("ðŸŽ¨ Updated MAOBV color to:",g.detail.color)),kd())}}});var Np=v(Cf,2),X_=tt(()=>{var g;return((g=i(Xr)[i(Is)])==null?void 0:g.styles.color)||"#2962FF"});Rs(Np,{get show(){return i(cn)},set show(g){b(cn,$(g))},get selectedColor(){return i(X_)},get position(){return i(sn)},$$events:{colorChange:g=>{i(Xr).length>i(Is)&&(i(Xr)[i(Is)].styles.color=g.detail.rgba||g.detail.color,Gs())}}});var Vv=v(Np,2),Pf=tt(()=>{var g;return((g=i(ua)[i(Ki)])==null?void 0:g.color)||"#FF6B35"});Rs(Vv,{get show(){return i(Tr)},set show(g){b(Tr,$(g))},get selectedColor(){return i(Pf)},get position(){return i(zi)},$$events:{colorChange:g=>{i(ua).length>i(Ki)&&(i(ua)[i(Ki)].color=g.detail.rgba||g.detail.color,console.log("ðŸŽ¨ Updated PVT color to:",g.detail.color),jd(i(Ki)))}}});var ju=v(Vv,2),zp=tt(()=>{var g;return((g=i(cl)[i(Za)])==null?void 0:g.color)||"#2563eb"});Rs(ju,{get show(){return i(wa)},set show(g){b(wa,$(g))},get selectedColor(){return i(zp)},get position(){return i(Ei)},$$events:{colorChange:g=>{i(cl).length>i(Za)&&(i(cl)[i(Za)].color=g.detail.rgba||g.detail.color)}}});var Vp=v(ju,2),Mf=tt(()=>{var g;return((g=i(Jr)[i(Ma)])==null?void 0:g.color)||"#2563eb"});Rs(Vp,{get show(){return i(il)},set show(g){b(il,$(g))},get selectedColor(){return i(Mf)},get position(){return i(Qa)},$$events:{colorChange:g=>{i(Jr).length>i(Ma)&&(i(Jr)[i(Ma)].color=g.detail.rgba||g.detail.color,Ed())}}});var iv=v(Vp,2),Tf=tt(()=>{var g,y;return((y=(g=i(Da)[i(Rt)])==null?void 0:g.styles[i(go)])==null?void 0:y.color)||"#2563eb"});Rs(iv,{get show(){return i(ka)},set show(g){b(ka,$(g))},get selectedColor(){return i(Tf)},get position(){return i(zr)},$$events:{colorChange:g=>{const y=i(Da)[i(Rt)];y&&y.styles&&y.styles.length>i(go)&&(y.styles[i(go)].color=g.detail.rgba||g.detail.color,Au(i(Rt)))}}});var Wc=v(iv,2),du=tt(()=>{var g;return((g=x[0])==null?void 0:g.color)||"#2563eb"});Rs(Wc,{get show(){return i(oa)},set show(g){b(oa,$(g))},get selectedColor(){return i(du)},get position(){return i(fl)},$$events:{colorChange:g=>{x.length>0&&(x[0].color=g.detail.rgba||g.detail.color)}}});var Af=v(Wc,2),Df=tt(()=>{var g,y,P,I,L,E;return i(Ta)%2===0?((P=(y=(g=i(co)[Math.floor(i(Ta)/2)])==null?void 0:g.styles)==null?void 0:y.increasing)==null?void 0:P.color)||"#00C851":((E=(L=(I=i(co)[Math.floor(i(Ta)/2)])==null?void 0:I.styles)==null?void 0:L.decreasing)==null?void 0:E.color)||"#FF4444"});Rs(Af,{get show(){return i(bl)},set show(g){b(bl,$(g))},get selectedColor(){return i(Df)},get position(){return i(rl)},$$events:{colorChange:g=>{const y=Math.floor(i(Ta)/2);i(co)[y]&&(i(Ta)%2===0?i(co)[y].styles.increasing.color=g.detail.rgba||g.detail.color:i(co)[y].styles.decreasing.color=g.detail.rgba||g.detail.color,ru())}}});var Lf=v(Af,2),J_=tt(()=>{var g,y,P;return((P=(y=(g=i(ar)[i(K)])==null?void 0:g.styles)==null?void 0:y[i(J)])==null?void 0:P.color)||"#2563eb"});Rs(Lf,{get show(){return i(ie)},set show(g){b(ie,$(g))},get selectedColor(){return i(J_)},get position(){return i(te)},$$events:{colorChange:g=>{i(ar).length>i(K)&&i(ar)[i(K)].styles[i(J)]&&(i(ar)[i(K)].styles[i(J)].color=g.detail.rgba||g.detail.color,jc())}}});var Ef=v(Lf,2),Q_=tt(()=>{var g,y,P;return((P=(y=(g=i(co)[0])==null?void 0:g.styles)==null?void 0:y.increasing)==null?void 0:P.color)||"#16a34a"});Rs(Ef,{get show(){return i(Oa)},set show(g){b(Oa,$(g))},get selectedColor(){return i(Q_)},get position(){return i(wl)},$$events:{colorChange:g=>{i(co).length>0&&(i(co)[0].styles.increasing.color=g.detail.rgba||g.detail.color)}}});var Ff=v(Ef,2),em=tt(()=>{var g,y,P;return((P=(y=(g=i(co)[0])==null?void 0:g.styles)==null?void 0:y.decreasing)==null?void 0:P.color)||"#dc2626"});Rs(Ff,{get show(){return i(Vr)},set show(g){b(Vr,$(g))},get selectedColor(){return i(em)},get position(){return i(tl)},$$events:{colorChange:g=>{i(co).length>0&&(i(co)[0].styles.decreasing.color=g.detail.rgba||g.detail.color)}}});var jf=v(Ff,2),tm=tt(()=>{var g;return((g=x[0])==null?void 0:g.color)||"#2563eb"});Rs(jf,{get show(){return i(Ra)},set show(g){b(Ra,$(g))},get selectedColor(){return i(tm)},get position(){return ol},$$events:{colorChange:g=>{x.length>0&&(x[0].color=g.detail.rgba||g.detail.color)}}});var $f=v(jf,2),om=tt(()=>{var g;return((g=x[1])==null?void 0:g.color)||"#dc2626"});Rs($f,{get show(){return i(Na)},set show(g){b(Na,$(g))},get selectedColor(){return i(om)},get position(){return pt},$$events:{colorChange:g=>{x.length>1&&(x[1].color=g.detail.rgba||g.detail.color)}}});var Bf=v($f,2),Of=tt(()=>{var g;return((g=x[2])==null?void 0:g.color)||"#16a34a"});Rs(Bf,{get show(){return i(At)},set show(g){b(At,$(g))},get selectedColor(){return i(Of)},get position(){return i(Bt)},$$events:{colorChange:g=>{x.length>2&&(x[2].color=g.detail.rgba||g.detail.color)}}});var qp=v(Bf,2);Rs(qp,{get show(){return i(dt)},set show(g){b(dt,$(g))},get selectedColor(){return i(S)},get position(){return i(Vt)},$$events:{colorChange:g=>{b(S,$(g.detail.rgba||g.detail.color))}}});var Wp=v(qp,2);Rs(Wp,{get show(){return i(Tt)},set show(g){b(Tt,$(g))},get selectedColor(){return i(T)},get position(){return i(Co)},$$events:{colorChange:g=>{b(T,$(g.detail.rgba||g.detail.color))}}});var Rf=v(Wp,2);Rs(Rf,{get show(){return i(Ro)},set show(g){b(Ro,$(g))},get selectedColor(){return i(D)},get position(){return i(Tn)},$$events:{colorChange:g=>{b(D,$(g.detail.rgba||g.detail.color))}}});var Nf=v(Rf,2);Rs(Nf,{get show(){return i(jo)},set show(g){b(jo,$(g))},get selectedColor(){return i(A)},get position(){return i(En)},$$events:{colorChange:g=>{b(A,$(g.detail.rgba||g.detail.color))}}});var zf=v(Nf,2),Vf=tt(()=>{var g;return((g=x[i(We)])==null?void 0:g.color)||"#2563eb"});Rs(zf,{get show(){return i(Hr)},set show(g){b(Hr,$(g))},get selectedColor(){return i(Vf)},get position(){return i(ge)},$$events:{colorChange:g=>{x.length>i(We)&&(x[i(We)].color=g.detail.rgba||g.detail.color,kc())}}});var qf=v(zf,2),nm=tt(()=>{var g;return((g=i(Or)[i(jt)])==null?void 0:g.color)||"#FF6C37"});Rs(qf,{get show(){return i(ft)},set show(g){b(ft,$(g))},get selectedColor(){return i(nm)},get position(){return i(Ht)},$$events:{colorChange:g=>{i(Or).length>i(jt)&&(i(Or)[i(jt)].color=g.detail.rgba||g.detail.color,Uu(i(jt)))}}});var Wf=v(qf,2),sm=tt(()=>{var g;return((g=x[i(Mo)])==null?void 0:g.color)||"#2563eb"});Rs(Wf,{get show(){return i(To)},set show(g){b(To,$(g))},get selectedColor(){return i(sm)},get position(){return i(Lo)},$$events:{colorChange:g=>{x.length>i(Mo)&&(x[i(Mo)].color=g.detail.rgba||g.detail.color,Ec())}}});var Gf=v(Wf,2),im=tt(()=>{var g;return((g=i(vi)[i(si)])==null?void 0:g.color)||"#2563eb"});Rs(Gf,{get show(){return i(Fn)},set show(g){b(Fn,$(g))},get selectedColor(){return i(im)},get position(){return i(fs)},$$events:{colorChange:g=>{i(vi).length>i(si)&&(i(vi)[i(si)].color=g.detail.rgba||g.detail.color,rd(i(si)))}}});var Cc=v(Gf,2),rm=tt(()=>(()=>{const g=Math.floor(i(He)/3),y=i(He)%3,P=i(jr)[g];if(!P)return"#2563eb";switch(y){case 0:return P.styles.k.color;case 1:return P.styles.d.color;case 2:return P.styles.j.color;default:return"#2563eb"}})());Rs(Cc,{get show(){return i(Ae)},set show(g){b(Ae,$(g))},get selectedColor(){return i(rm)},get position(){return i(Le)},$$events:{colorChange:g=>{const y=Math.floor(i(He)/3),P=i(He)%3,I=i(jr)[y];if(console.log("ðŸŽ¨ KDJ Color change:",{groupIndex:y,lineIndex:P,newColor:g.detail.color,group:I}),I){switch(P){case 0:I.styles.k.color=g.detail.rgba||g.detail.color,console.log("ðŸŽ¨ Updated K color to:",g.detail.color);break;case 1:I.styles.d.color=g.detail.rgba||g.detail.color,console.log("ðŸŽ¨ Updated D color to:",g.detail.color);break;case 2:I.styles.j.color=g.detail.rgba||g.detail.color,console.log("ðŸŽ¨ Updated J color to:",g.detail.color);break}console.log("ðŸŽ¨ Updated KDJ group:",I),qc(y)}}}});var Hf=v(Cc,2),am=tt(()=>(()=>{const g=i(na)[i(Gr)];if(!g)return"#2563eb";switch(i(Kl)){case"cr":return g.styles.cr.color;case"ma1":return g.styles.ma1.color;case"ma2":return g.styles.ma2.color;case"ma3":return g.styles.ma3.color;case"ma4":return g.styles.ma4.color;default:return"#2563eb"}})());Rs(Hf,{get show(){return i(al)},set show(g){b(al,$(g))},get selectedColor(){return i(am)},get position(){return i(xl)},$$events:{colorChange:g=>{const y=i(na)[i(Gr)];if(y){switch(i(Kl)){case"cr":y.styles.cr.color=g.detail.rgba||g.detail.color;break;case"ma1":y.styles.ma1.color=g.detail.rgba||g.detail.color;break;case"ma2":y.styles.ma2.color=g.detail.rgba||g.detail.color;break;case"ma3":y.styles.ma3.color=g.detail.rgba||g.detail.color;break;case"ma4":y.styles.ma4.color=g.detail.rgba||g.detail.color;break}Pl()}}}});var Gp=v(Hf,2),lm=tt(()=>{var g,y,P;return((P=(y=(g=i(Dn)[i($i)])==null?void 0:g.styles)==null?void 0:y.rsi)==null?void 0:P.color)||"#8B5CF6"});Rs(Gp,{get show(){return i(ji)},set show(g){b(ji,$(g))},get selectedColor(){return i(lm)},get position(){return i(Ai)},$$events:{colorChange:g=>{i(Dn).length>i($i)&&(i(Dn)[i($i)].styles.rsi.color=g.detail.rgba||g.detail.color,$l(i($i)))}}});var Uf=v(Gp,2),cm=tt(()=>{var g,y;return((y=(g=i(Dn)[i(yr)])==null?void 0:g.styles)==null?void 0:y.overboughtColor)||"#EF4444"});Rs(Uf,{get show(){return i(gl)},set show(g){b(gl,$(g))},get selectedColor(){return i(cm)},get position(){return i(el)},$$events:{colorChange:g=>{if(i(Dn).length>i(yr)){const y=g.detail.rgba||g.detail.color;i(Dn)[i(yr)].styles.overboughtColor=y,b(Dn,$([...i(Dn)])),$l(i(yr))}}}});var Yf=v(Uf,2),Hp=tt(()=>{var g,y;return((y=(g=i(Dn)[i(yr)])==null?void 0:g.styles)==null?void 0:y.oversoldColor)||"#22C55E"});Rs(Yf,{get show(){return i(_l)},set show(g){b(_l,$(g))},get selectedColor(){return i(Hp)},get position(){return i(Ba)},$$events:{colorChange:g=>{if(i(Dn).length>i(yr)){const y=g.detail.rgba||g.detail.color;i(Dn)[i(yr)].styles.oversoldColor=y,b(Dn,$([...i(Dn)])),$l(i(yr))}}}});var Kf=v(Yf,2),dm=tt(()=>{var g,y;return((y=(g=i(Dn)[i(yr)])==null?void 0:g.styles)==null?void 0:y.middleLineColor)||"#6B7280"});Rs(Kf,{get show(){return i(ll)},set show(g){b(ll,$(g))},get selectedColor(){return i(dm)},get position(){return i(Kr)},$$events:{colorChange:g=>{if(i(Dn).length>i(yr)){const y=g.detail.rgba||g.detail.color;i(Dn)[i(yr)].styles.middleLineColor=y,b(Dn,$([...i(Dn)])),$l(i(yr))}}}});var Zf=v(Kf,2),um=tt(()=>{var g,y,P;return((P=(y=(g=i(Wr)[i(Xe)])==null?void 0:g.styles)==null?void 0:y.kLine)==null?void 0:P.color)||"#2962FF"});Rs(Zf,{get show(){return i(_i)},set show(g){b(_i,$(g))},get selectedColor(){return i(um)},get position(){return i(Ge)},$$events:{colorChange:g=>{i(Wr).length>i(Xe)&&(i(Wr)[i(Xe)].styles.kLine.color=g.detail.rgba||g.detail.color,uc(i(Xe)))}}});var Xf=v(Zf,2),vm=tt(()=>{var g,y,P;return((P=(y=(g=i(Wr)[i(Xe)])==null?void 0:g.styles)==null?void 0:y.dLine)==null?void 0:P.color)||"#FF6D00"});Rs(Xf,{get show(){return i(br)},set show(g){b(br,$(g))},get selectedColor(){return i(vm)},get position(){return i(Ge)},$$events:{colorChange:g=>{i(Wr).length>i(Xe)&&(i(Wr)[i(Xe)].styles.dLine.color=g.detail.rgba||g.detail.color,uc(i(Xe)))}}});var Jf=v(Xf,2),pm=tt(()=>{var g,y;return((y=(g=i(Wr)[i(Xe)])==null?void 0:g.styles)==null?void 0:y.overboughtColor)||"#EF4444"});Rs(Jf,{get show(){return i(bs)},set show(g){b(bs,$(g))},get selectedColor(){return i(pm)},get position(){return i(Ge)},$$events:{colorChange:g=>{i(Wr).length>i(Xe)&&(i(Wr)[i(Xe)].styles.overboughtColor=g.detail.rgba||g.detail.color,uc(i(Xe)))}}});var Qf=v(Jf,2),fm=tt(()=>{var g,y;return((y=(g=i(Wr)[i(Xe)])==null?void 0:g.styles)==null?void 0:y.oversoldColor)||"#10B981"});Rs(Qf,{get show(){return i(Xi)},set show(g){b(Xi,$(g))},get selectedColor(){return i(fm)},get position(){return i(Ge)},$$events:{colorChange:g=>{i(Wr).length>i(Xe)&&(i(Wr)[i(Xe)].styles.oversoldColor=g.detail.rgba||g.detail.color,uc(i(Xe)))}}});var gm=v(Qf,2),_m=tt(()=>{var g,y;return((y=(g=i(Wr)[i(Xe)])==null?void 0:g.styles)==null?void 0:y.midLineColor)||"#6B7280"});return Rs(gm,{get show(){return i(xr)},set show(g){b(xr,$(g))},get selectedColor(){return i(_m)},get position(){return i(Ge)},$$events:{colorChange:g=>{i(Wr).length>i(Xe)&&(i(Wr)[i(Xe)].styles.midLineColor=g.detail.rgba||g.detail.color,uc(i(Xe)))}}}),N(o,Pp),Mr({clearCciGroups:lp,clearEmvGroups:xv,clearMtmGroups:wv,clearObvGroups:Xd,clearPsyGroups:Pu,clearPvtGroups:Wu,clearVolGroups:Jd,clearWrGroups:j0,clearRocGroups:$0,clearRsiGroups:Gu,clearStochasticGroups:l_})}Pa(["click","change","input"]);function HF(o,e,t){const n=o.target;b(e,parseInt(n.value)),t()}function UF(o,e){o.target===o.currentTarget&&e(!1)}var YF=o=>o.stopPropagation(),KF=(o,e)=>e(!1),ZF=(o,e)=>e("linear"),XF=(o,e)=>e("radial"),JF=(o,e,t)=>e(i(t).angle),QF=ue('<button class="w-8 h-8 text-sm rounded border transition-colors flex items-center justify-center"> </button>'),ej=ue('<div class="mb-4"><label class="block text-xs text-gray-400 mb-2">Direction</label> <div class="grid grid-cols-4 gap-1 mb-3"></div> <div class="relative"><input type="range" min="0" max="360" class="w-full h-2 rounded appearance-none cursor-pointer bg-[#404040] svelte-e3zmk9"> <div class="flex justify-between text-xs text-gray-500 mt-1"><span>0Â°</span> <span class="text-gray-300"> </span> <span>360Â°</span></div></div></div>'),tj=ue('<button class="absolute -top-2 -right-1 w-3 h-3 bg-red-500 text-white text-xs rounded-full flex items-center justify-center hover:bg-red-600 transition-colors">Ã—</button>'),oj=ue('<div class="absolute top-0 w-4 h-6 border-2 rounded cursor-grab transform -translate-x-1/2"><!></div>'),nj=ue('<button class="mt-2 w-full py-1 text-xs text-gray-400 border border-dashed border-gray-600 rounded hover:border-gray-400 hover:text-gray-300 transition-colors">+ Add Color Stop</button>'),sj=(o,e,t)=>e(i(t),parseInt(o.currentTarget.value)),ij=(o,e,t)=>e(o,i(t)),rj=(o,e,t)=>e(i(t),o.currentTarget.value),aj=(o,e,t)=>e(i(t),parseInt(o.currentTarget.value)),lj=ue('<div class="mb-4 p-3 bg-[#1A1A1A] rounded border border-[#404040]"><h4 class="text-xs font-medium text-gray-300 mb-3"> </h4> <div class="mb-3"><label class="block text-xs text-gray-400 mb-1">Position</label> <div class="flex items-center gap-2"><input type="range" min="0" max="100" class="flex-1 h-2 rounded appearance-none cursor-pointer bg-[#404040] svelte-e3zmk9"> <span class="text-xs text-gray-300 w-8"> </span></div></div> <div class="mb-3"><label class="block text-xs text-gray-400 mb-1">Color</label> <div class="flex items-center gap-2"><button class="w-8 h-8 rounded border-2 border-[#404040] cursor-pointer hover:border-gray-300 transition-colors"></button> <input type="text" class="flex-1 px-2 py-1 bg-[#404040] border border-[#555] rounded text-white text-xs focus:border-blue-500 focus:outline-none" placeholder="#000000"></div></div> <div><label class="block text-xs text-gray-400 mb-1">Opacity</label> <div class="flex items-center gap-2"><input type="range" min="0" max="100" class="flex-1 h-2 rounded appearance-none cursor-pointer bg-[#404040] svelte-e3zmk9"> <span class="text-xs text-gray-300 w-8"> </span></div></div></div>'),cj=ue('<div class="fixed inset-0 z-[70] flex items-center justify-center p-4"><div class="gradient-editor-container bg-[#2A2A2A] border border-[#404040] rounded-lg shadow-xl w-full max-w-sm max-h-[90vh] overflow-y-auto svelte-e3zmk9"><div class="p-4"><div class="mb-4"><div class="flex items-center justify-between mb-3"><h3 class="text-sm font-semibold text-white">Gradient Editor</h3> <button class="px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors">OK</button></div> <div class="mb-4"><label class="block text-xs text-gray-400 mb-2">Gradient Type</label> <div class="flex gap-2"><button class="flex-1 px-3 py-2 text-xs rounded transition-colors">Linear</button> <button class="flex-1 px-3 py-2 text-xs rounded transition-colors">Radial</button></div></div> <!> <div class="mb-4"><label class="block text-xs text-gray-400 mb-2">Preview</label> <div class="w-full h-12 rounded border border-[#404040]"></div></div> <div class="mb-4"><label class="block text-xs text-gray-400 mb-2">Color Stops</label> <div class="relative"><div class="relative w-full h-6 rounded border border-[#404040] cursor-pointer"></div> <!></div></div> <!></div></div></div></div>'),dj=ue("<!> <!>",1);function r2(o,e){Pr(e,!1);const t=nc();let n=Po(e,"show",12,!1),s=Po(e,"initialGradient",24,()=>({type:"linear",direction:0,stops:[{position:0,color:"#ffffff",opacity:100},{position:100,color:"#000000",opacity:100}]})),r=Yr(),a=Yr(),c=!1,d=-1,u=Yr(!1),p=Yr(0),h=Yr(s().type),x=Yr(s().direction),w=Yr([...s().stops]);const k=[{angle:0,label:"â†’",title:"Left to Right"},{angle:45,label:"â†—",title:"Bottom-Left to Top-Right"},{angle:90,label:"â†‘",title:"Bottom to Top"},{angle:135,label:"â†–",title:"Bottom-Right to Top-Left"},{angle:180,label:"â†",title:"Right to Left"},{angle:225,label:"â†™",title:"Top-Right to Bottom-Left"},{angle:270,label:"â†“",title:"Top to Bottom"},{angle:315,label:"â†˜",title:"Top-Left to Bottom-Right"}];function S(){const U=[...i(w)].sort((ae,me)=>ae.position-me.position).map(ae=>`${M(ae.color,ae.opacity/100)} ${ae.position}%`);return i(h)==="linear"?`linear-gradient(${i(x)}deg, ${U.join(", ")})`:`radial-gradient(circle, ${U.join(", ")})`}function M(J,U){const ae=parseInt(J.slice(1,3),16),me=parseInt(J.slice(3,5),16),ke=parseInt(J.slice(5,7),16);return`rgba(${ae}, ${me}, ${ke}, ${U})`}function T(J){b(h,J),se()}function D(J){b(x,J),se()}function A(){if(i(w).length>=5)return;const J=[...i(w)].sort((Ae,Le)=>Ae.position-Le.position);let U=50,ae=0,me=50;for(let Ae=0;Ae<J.length-1;(Ae+=1)-1){const Le=J[Ae+1].position-J[Ae].position;Le>ae&&(ae=Le,me=J[Ae].position+Le/2)}ae>10&&(U=me);const ke={position:U,color:"#808080",opacity:100};b(w,[...i(w),ke]),b(p,i(w).length-1),se()}function j(J){i(w).length<=2||(b(w,i(w).filter((U,ae)=>ae!==J)),i(p)>=i(w).length&&b(p,i(w).length-1),se())}function F(J,U){gu(w,i(w)[J].position=Math.max(0,Math.min(100,U))),se()}function q(J,U){gu(w,i(w)[J].color=U),se()}function B(J,U){gu(w,i(w)[J].opacity=Math.max(0,Math.min(100,U))),se()}function O(J,U){const ae=J.target.getBoundingClientRect();ae.right+10,ae.top,b(p,U),b(u,!0)}function z(J){i(p)>=0&&i(p)<i(w).length&&(gu(w,i(w)[i(p)].color=J.detail),se())}function Y(J){i(p)>=0&&i(p)<i(w).length&&(gu(w,i(w)[i(p)].opacity=J.detail),se())}function G(J){if(!i(a))return;const U=i(a).getBoundingClientRect(),ae=J.clientX-U.left,me=ae/U.width*100;let ke=-1;const Ae=8;if(i(w).forEach((Le,He)=>{const it=Le.position/100*U.width;Math.abs(ae-it)<=Ae&&(ke=He)}),ke>=0)c=!0,d=ke,b(p,ke);else if(i(w).length<5){const Le={position:Math.max(0,Math.min(100,me)),color:"#808080",opacity:100};b(w,[...i(w),Le]),b(p,i(w).length-1),se()}}function oe(J){if(!c||d<0||!i(a))return;const U=i(a).getBoundingClientRect(),ae=J.clientX-U.left,me=Math.max(0,Math.min(100,ae/U.width*100));gu(w,i(w)[d].position=me),se()}function re(){c=!1,d=-1}function se(){const J={type:i(h),direction:i(x),stops:[...i(w)],css:S()};t("gradientChange",J)}Su(()=>{typeof document<"u"&&(document.removeEventListener("mousemove",oe),document.removeEventListener("mouseup",re))}),yc(()=>{se()}),Ac(()=>mc(n()),()=>{n()&&typeof document<"u"&&setTimeout(()=>{document.addEventListener("mousemove",oe),document.addEventListener("mouseup",re)},0)}),Ac(()=>mc(n()),()=>{!n()&&typeof document<"u"&&(document.removeEventListener("mousemove",oe),document.removeEventListener("mouseup",re))}),hv(),wc();var ie=dj(),te=nt(ie);xe(te,n,J=>{var U=cj();U.__click=[UF,n];var ae=m(U);ae.__click=[YF];var me=m(ae),ke=m(me),Ae=m(ke),Le=v(m(Ae),2);Le.__click=[KF,n],_(Ae);var He=v(Ae,2),it=v(m(He),2),Ne=m(it);Ne.__click=[ZF,T];var we=v(Ne,2);we.__click=[XF,T],_(it),_(He);var je=v(He,2);xe(je,()=>i(h)==="linear",X=>{var H=ej(),Ce=v(m(H),2);Qo(Ce,5,()=>k,ln,(Kt,to)=>{var io=QF();io.__click=[JF,D,to];var ro=m(io,!0);_(io),Re(()=>{lt(io,"title",i(to).title),Ls(io,"border-blue-500",i(x)===i(to).angle),Ls(io,"bg-blue-600",i(x)===i(to).angle),Ls(io,"text-white",i(x)===i(to).angle),Ls(io,"border-[#404040]",i(x)!==i(to).angle),Ls(io,"text-gray-300",i(x)!==i(to).angle),wt(ro,i(to).label)}),N(Kt,io)}),_(Ce);var Qe=v(Ce,2),mt=m(Qe);ut(mt),mt.__input=[HF,x,se];var bt=v(mt,2),ct=v(m(bt),2),yo=m(ct);_(ct),ei(2),_(bt),_(Qe),_(H),Re(()=>wt(yo,`${i(x)??""}Â°`)),Mt(mt,()=>i(x),Kt=>b(x,Kt)),N(X,H)});var Te=v(je,2),Se=v(m(Te),2);const Ue=hc(()=>`background: ${S()??""};`);_(Te);var Be=v(Te,2),le=v(m(Be),2),ye=m(le);const Ee=hc(()=>`background: ${S()??""};`);ye.__mousedown=G,Qo(ye,5,()=>i(w),ln,(X,H,Ce)=>{var Qe=oj();Qe.__click=bt=>{bt.stopPropagation(),b(p,Ce)};var mt=m(Qe);xe(mt,()=>i(w).length>2,bt=>{var ct=tj();ct.__click=yo=>{yo.stopPropagation(),j(Ce)},N(bt,ct)}),_(Qe),Re(()=>{lt(Qe,"style",`left: ${i(H).position??""}%; background-color: ${i(H).color??""};`),Ls(Qe,"border-white",Ce===i(p)),Ls(Qe,"border-gray-500",Ce!==i(p))}),N(X,Qe)}),_(ye),Al(ye,X=>b(a,X),()=>i(a));var Je=v(ye,2);xe(Je,()=>i(w).length<5,X=>{var H=nj();H.__click=A,N(X,H)}),_(le),_(Be);var be=v(Be,2);xe(be,()=>i(p)>=0&&i(p)<i(w).length,X=>{var H=lj(),Ce=m(H),Qe=m(Ce);_(Ce);var mt=v(Ce,2),bt=v(m(mt),2),ct=m(bt);ut(ct),ct.__input=[sj,F,p];var yo=v(ct,2),Kt=m(yo);_(yo),_(bt),_(mt);var to=v(mt,2),io=v(m(to),2),ro=m(io);ro.__click=[ij,O,p];var Uo=v(ro,2);ut(Uo),Uo.__input=[rj,q,p],_(io),_(to);var an=v(to,2),Mn=v(m(an),2),uo=m(Mn);ut(uo),uo.__input=[aj,B,p];var Do=v(uo,2),Zt=m(Do);_(Do),_(Mn),_(an),_(H),Re(()=>{wt(Qe,`Stop ${i(p)+1} Configuration`),wt(Kt,`${i(w)[i(p)].position??""}%`),lt(ro,"style",`background-color: ${i(w)[i(p)].color??""};`),wt(Zt,`${i(w)[i(p)].opacity??""}%`)}),Mt(ct,()=>i(w)[i(p)].position,Go=>gu(w,i(w)[i(p)].position=Go)),Mt(Uo,()=>i(w)[i(p)].color,Go=>gu(w,i(w)[i(p)].color=Go)),Mt(uo,()=>i(w)[i(p)].opacity,Go=>gu(w,i(w)[i(p)].opacity=Go)),N(X,H)}),_(ke),_(me),_(ae),Al(ae,X=>b(r,X),()=>i(r)),_(U),Re(()=>{Ls(Ne,"bg-blue-600",i(h)==="linear"),Ls(Ne,"text-white",i(h)==="linear"),Ls(Ne,"bg-[#404040]",i(h)!=="linear"),Ls(Ne,"text-gray-300",i(h)!=="linear"),Ls(we,"bg-blue-600",i(h)==="radial"),Ls(we,"text-white",i(h)==="radial"),Ls(we,"bg-[#404040]",i(h)!=="radial"),Ls(we,"text-gray-300",i(h)!=="radial"),lt(Se,"style",i(Ue)),lt(ye,"style",i(Ee))}),N(J,U)});var K=v(te,2);xe(K,()=>i(u),J=>{var U=hc(()=>{var me;return((me=i(w)[i(p)])==null?void 0:me.color)||"#000000"}),ae=hc(()=>{var me;return((me=i(w)[i(p)])==null?void 0:me.opacity)||100});Qc(J,{get show(){return i(u)},set show(me){b(u,me)},get selectedColor(){return i(U)},get opacity(){return i(ae)},$$events:{colorChange:z,opacityChange:Y},$$legacy:!0})}),N(o,ie),Mr()}Pa(["click","input","mousedown"]);var qd,Wd,hu,np,zg;const Wh=class Wh extends Map{constructor(t){super();d0(this,np);d0(this,qd,new Map);d0(this,Wd,Kv(0));d0(this,hu,Kv(0));if(t){for(var[n,s]of t)super.set(n,s);Tl(this,hu).v=super.size}}has(t){var n=Tl(this,qd),s=n.get(t);if(s===void 0){var r=super.get(t);if(r!==void 0)s=Kv(0),n.set(t,s);else return i(Tl(this,Wd)),!1}return i(s),!0}forEach(t,n){mg(this,np,zg).call(this),super.forEach(t,n)}get(t){var n=Tl(this,qd),s=n.get(t);if(s===void 0){var r=super.get(t);if(r!==void 0)s=Kv(0),n.set(t,s);else{i(Tl(this,Wd));return}}return i(s),super.get(t)}set(t,n){var h;var s=Tl(this,qd),r=s.get(t),a=super.get(t),c=super.set(t,n),d=Tl(this,Wd);if(r===void 0)s.set(t,Kv(0)),b(Tl(this,hu),super.size),u0(d);else if(a!==n){u0(r);var u=d.reactions===null?null:new Set(d.reactions),p=u===null||!((h=r.reactions)!=null&&h.every(x=>u.has(x)));p&&u0(d)}return c}delete(t){var n=Tl(this,qd),s=n.get(t),r=super.delete(t);return s!==void 0&&(n.delete(t),b(Tl(this,hu),super.size),b(s,-1),u0(Tl(this,Wd))),r}clear(){if(super.size!==0){super.clear();var t=Tl(this,qd);b(Tl(this,hu),0);for(var n of t.values())b(n,-1);u0(Tl(this,Wd)),t.clear()}}keys(){return i(Tl(this,Wd)),super.keys()}values(){return mg(this,np,zg).call(this),super.values()}entries(){return mg(this,np,zg).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return i(Tl(this,hu)),super.size}};qd=new WeakMap,Wd=new WeakMap,hu=new WeakMap,np=new WeakSet,zg=function(){i(Tl(this,Wd));var t=Tl(this,qd);if(Tl(this,hu).v!==t.size)for(var n of Xh(Wh.prototype,this,"keys").call(this))t.has(n)||t.set(n,Kv(0));for(var[,s]of Tl(this,qd))i(s)};let M0=Wh;function wh(o="dark"){return{version:2,canvas:{background:{mode:"solid",solid:{color:o==="dark"?"#070211":"#ffffff",alpha:1}},grid:{mode:"solid",solid:{color:o==="dark"?"#081115":"#F3F3F3",alpha:1}}}}}function Mg(o){return JSON.parse(JSON.stringify(o))}function uj(o,e="dark"){const n={current:wh(e),pending:null,chartId:o};return bc(n)}function vj(o,e){if(typeof window>"u"||!window.localStorage)return;const t=`dutyai.chart.theme.${o}`;try{localStorage.setItem(t,JSON.stringify(e)),console.debug("THEME_PERSIST",{chartId:o,settings:e})}catch(n){console.error("Failed to persist theme settings:",n)}}function a2(o,e="dark"){if(typeof window>"u"||!window.localStorage)return wh(e);const t=`dutyai.chart.theme.${o}`;try{const n=localStorage.getItem(t);if(n){const s=JSON.parse(n);if(s.version===2&&s.canvas)return console.debug("THEME_LOAD",{chartId:o,settings:s}),s}}catch(n){console.error("Failed to load persisted theme settings:",n)}return wh(e)}function pj(o){if(!o||!o.stops||o.stops.length===0)return"transparent";const e=o.stops.map(t=>{const n=t.alpha!==void 0?t.alpha:1,s=t.color;if(n!==1&&s.startsWith("#")){const r=parseInt(s.slice(1,3),16),a=parseInt(s.slice(3,5),16),c=parseInt(s.slice(5,7),16);return`rgba(${r}, ${a}, ${c}, ${n}) ${t.offset*100}%`}return`${s} ${t.offset*100}%`}).join(", ");if(o.type==="linear")return`linear-gradient(${o.angle||0}deg, ${e})`;if(o.type==="radial"){const t=o.cx||.5,n=o.cy||.5;return o.r,`radial-gradient(circle at ${t*100}% ${n*100}%, ${e})`}return"transparent"}function Km(o,e=1){if(!o.startsWith("#"))return o;const t=parseInt(o.slice(1,3),16),n=parseInt(o.slice(3,5),16),s=parseInt(o.slice(5,7),16);return`rgba(${t}, ${n}, ${s}, ${e})`}class Vh{constructor(e,t,n="dark"){Wt(this,"settingsStore");Wt(this,"chart");Wt(this,"chartId");Wt(this,"pendingThemeApplication",null);Wt(this,"chartUnsubscribe",null);Wt(this,"chartReadinessTimeout",null);Wt(this,"applyCanvasColorsFn",null);this.chartId=e,this.chart=t,this.settingsStore=uj(e,n),this.setupChartReadinessMonitoring(),this.loadPersistedSettings(n)}setApplyCanvasColorsFunction(e){this.applyCanvasColorsFn=e,console.log("ðŸŽ¨ Canvas colors function registered with theme manager")}applyCanvasColorsIfAvailable(){this.applyCanvasColorsFn&&(console.log("ðŸŽ¨ Applying canvas colors via theme manager"),this.applyCanvasColorsFn())}getStore(){return this.settingsStore}setupChartReadinessMonitoring(){this.chartUnsubscribe=this.chart.subscribe(e=>{e&&this.pendingThemeApplication&&(console.log("ðŸ“Š Chart became available, applying pending theme"),this.applyTheme(this.pendingThemeApplication,{preview:!1}),this.pendingThemeApplication=null,this.chartReadinessTimeout&&(clearTimeout(this.chartReadinessTimeout),this.chartReadinessTimeout=null))})}setupChartReadinessTimeout(){this.chartReadinessTimeout&&clearTimeout(this.chartReadinessTimeout),this.chartReadinessTimeout=setTimeout(()=>{this.pendingThemeApplication&&(console.warn("ðŸ“Š Chart readiness timeout - clearing pending theme application"),this.pendingThemeApplication=null),this.chartReadinessTimeout=null},1e4)}destroy(){this.chartUnsubscribe&&(this.chartUnsubscribe(),this.chartUnsubscribe=null),this.chartReadinessTimeout&&(clearTimeout(this.chartReadinessTimeout),this.chartReadinessTimeout=null)}loadPersistedSettings(e){let t=a2(this.chartId,e);const n=this.loadFromLegacySystem();n&&(t=this.mergeThemeSettings(t,n)),this.settingsStore.update(r=>({...r,current:t})),cc(this.chart)?this.applyTheme(t,{preview:!1}):(console.log("ðŸ“Š Chart not ready, deferring theme application"),this.pendingThemeApplication=t,this.setupChartReadinessTimeout())}loadFromLegacySystem(){var e,t,n,s,r,a;try{const c=localStorage.getItem("chart");if(!c)return null;const d=JSON.parse(c);if(!d.styles)return null;console.log("ðŸ“¦ Loading from localStorage - chart type:",(t=(e=d.styles)==null?void 0:e.candle)==null?void 0:t.type);const u={canvas:{background:{},grid:{}}},p=d.styles.backgroundType||"solid";p==="solid"&&d.styles.backgroundColor?u.canvas.background={mode:"solid",solid:{color:d.styles.backgroundColor,alpha:(d.styles.backgroundOpacity??100)/100}}:p==="gradient"&&d.styles.backgroundGradient&&(u.canvas.background={mode:"gradient",gradient:d.styles.backgroundGradient});const h=d.styles.gridType||"solid";if(h==="solid"){const x=((s=(n=d.styles.grid)==null?void 0:n.horizontal)==null?void 0:s.color)||((a=(r=d.styles.grid)==null?void 0:r.vertical)==null?void 0:a.color);if(x){const w=this.extractHexFromColor(x),k=d.styles.gridOpacity??100;u.canvas.grid={mode:"solid",solid:{color:w,alpha:k/100}}}}else h==="gradient"&&d.styles.gridGradient&&(u.canvas.grid={mode:"gradient",gradient:d.styles.gridGradient});return console.debug("LEGACY_LOAD",{loadedSettings:u}),u}catch(c){return console.error("Failed to load from legacy system:",c),null}}extractHexFromColor(e){if(e.startsWith("#"))return e;if(e.startsWith("rgba")||e.startsWith("rgb")){const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(t){const n=parseInt(t[1]).toString(16).padStart(2,"0"),s=parseInt(t[2]).toString(16).padStart(2,"0"),r=parseInt(t[3]).toString(16).padStart(2,"0");return`#${n}${s}${r}`}}return e}mergeThemeSettings(e,t){var s,r;const n=Mg(e);return(s=t.canvas)!=null&&s.background&&(n.canvas.background=t.canvas.background),(r=t.canvas)!=null&&r.grid&&(n.canvas.grid=t.canvas.grid),n}openModal(){this.settingsStore.update(e=>(e.pending===null&&(e.pending=Mg(e.current),console.debug("THEME_MODAL_OPEN",{pending:e.pending})),e))}updatePending(e,t=!1){this.settingsStore.update(n=>(n.pending&&(e(n.pending),t&&this.applyTheme(n.pending,{preview:!0}),console.debug("THEME_PENDING_UPDATE",{pending:n.pending,applyPreview:t})),n))}confirm(){this.settingsStore.update(e=>(e.pending&&(e.current=Mg(e.pending),vj(this.chartId,e.current),this.applyTheme(e.current,{preview:!1}),this.syncToLegacySystem(e.current),console.debug("THEME_COMMIT",{current:e.current}),e.pending=null),e))}syncToLegacySystem(e){var t,n;try{const s=localStorage.getItem("chart");if(s){const r=JSON.parse(s),a=(n=(t=r.styles)==null?void 0:t.candle)==null?void 0:n.type;if(console.log("ðŸ”’ Preserving chart type in syncToLegacySystem:",a),r.styles||(r.styles={}),e.canvas.background.mode==="solid"&&e.canvas.background.solid?(r.styles.backgroundColor=e.canvas.background.solid.color,r.styles.backgroundOpacity=(e.canvas.background.solid.alpha??1)*100,r.styles.backgroundType="solid",delete r.styles.backgroundGradient):e.canvas.background.mode==="gradient"&&e.canvas.background.gradient&&(r.styles.backgroundGradient=e.canvas.background.gradient,r.styles.backgroundType="gradient",delete r.styles.backgroundColor,delete r.styles.backgroundOpacity),e.canvas.grid.mode==="solid"&&e.canvas.grid.solid){r.styles.grid||(r.styles.grid={}),r.styles.grid.horizontal||(r.styles.grid.horizontal={}),r.styles.grid.vertical||(r.styles.grid.vertical={});const c=e.canvas.grid.solid.alpha!==void 0&&e.canvas.grid.solid.alpha!==1?Km(e.canvas.grid.solid.color,e.canvas.grid.solid.alpha):e.canvas.grid.solid.color;r.styles.grid.horizontal.color=c,r.styles.grid.vertical.color=c,r.styles.gridOpacity=(e.canvas.grid.solid.alpha??1)*100,r.styles.gridType="solid",delete r.styles.gridGradient}else e.canvas.grid.mode==="gradient"&&e.canvas.grid.gradient&&(r.styles.gridGradient=e.canvas.grid.gradient,r.styles.gridType="gradient");a&&(r.styles.candle||(r.styles.candle={}),r.styles.candle.type=a,console.log("âœ… Restored chart type in syncToLegacySystem:",a)),localStorage.setItem("chart",JSON.stringify(r)),console.debug("LEGACY_SYNC",{syncedStyles:r.styles,preservedChartType:a})}}catch(s){console.error("Failed to sync to legacy system:",s)}}cancel(){this.settingsStore.update(e=>(e.pending&&(this.applyTheme(e.current,{preview:!1}),console.debug("THEME_CANCEL",{reverted_to:e.current}),e.pending=null),e))}reset(){this.settingsStore.update(e=>(e.pending&&(e.pending=Mg(e.current),this.applyTheme(e.pending,{preview:!0}),console.debug("THEME_RESET",{pending:e.pending})),e))}applyTheme(e,t={}){const n=cc(this.chart);if(!n){console.log("ðŸ“Š Chart not available for theme application, storing for later"),t.preview||(this.pendingThemeApplication=e,this.setupChartReadinessTimeout());return}if(!e||!e.canvas){console.warn("Invalid theme configuration, skipping application");return}const s=t.preview||!1;s?this.addPreviewWatermark():this.removePreviewWatermark();try{e.canvas.background&&this.applyBackground(e.canvas.background),s||(e.canvas.grid&&this.applyGrid(e.canvas.grid,n),setTimeout(()=>{this.applyCanvasColorsIfAvailable()},150)),console.debug("THEME_APPLIED",{theme:e.canvas,preview:s,chartId:this.chartId,appliedGrid:!s})}catch(r){console.error("Failed to apply theme:",r)}}applyBackground(e){const t=document.querySelector(".kline-main"),n=document.querySelector(".kline-widget");if(!t&&!n){console.warn("Chart containers not found for background application");return}if(!e){console.warn("Background configuration is null or undefined, skipping");return}let s;if(e.mode==="solid"&&e.solid&&e.solid.color){const r=e.solid.alpha!==void 0?e.solid.alpha:1;s=r!==1?Km(e.solid.color,r):e.solid.color}else e.mode==="gradient"&&e.gradient?s=pj(e.gradient):(console.warn("Invalid background configuration, using fallback"),s="#070211");console.log("ðŸŽ¨ Applying background:",s),[t,n].forEach(r=>{r&&(r.style.removeProperty("background"),r.style.removeProperty("background-color"),r.offsetHeight,r.style.background=s,r.style.backgroundColor=s,r.style.setProperty("--chart-background-color",s),r.offsetHeight)})}applyGrid(e,t){var a,c;const n=t.getStyles()??{},s=_t.cloneDeep(n);try{const d=localStorage.getItem("chart");if(d){const u=JSON.parse(d);(c=(a=u.styles)==null?void 0:a.candle)!=null&&c.type&&(s.candle||(s.candle={}),s.candle.type=u.styles.candle.type,console.log("ðŸ”’ Preserved chart type in applyGrid:",u.styles.candle.type))}}catch(d){console.warn("Failed to preserve chart type:",d)}let r;if(e.mode==="solid"&&e.solid){const d=e.solid.alpha!==void 0?e.solid.alpha:1;r=d!==1?Km(e.solid.color,d):e.solid.color}else if(e.mode==="gradient"&&e.gradient){const d=e.gradient.stops;if(d.length===1)r=d[0].color;else if(d.length>=2)r=this.blendColors(d[0].color,d[d.length-1].color,.5);else{console.warn("Invalid grid gradient configuration");return}}else{console.warn("Invalid grid configuration");return}console.log("ðŸŽ¨ ThemeManager applying grid color:",r),_t.set(s,"grid.show",!0),_t.set(s,"grid.horizontal.show",!0),_t.set(s,"grid.horizontal.color",r),_t.set(s,"grid.vertical.show",!0),_t.set(s,"grid.vertical.color",r),t.setStyles(s),console.log("âœ… Applied grid styles directly:",{gridColor:r,gridConfig:s.grid})}blendColors(e,t,n){if(!e.startsWith("#")||!t.startsWith("#"))return e;const s=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16),c=parseInt(t.slice(1,3),16),d=parseInt(t.slice(3,5),16),u=parseInt(t.slice(5,7),16),p=Math.round(s*(1-n)+c*n),h=Math.round(r*(1-n)+d*n),x=Math.round(a*(1-n)+u*n);return`#${p.toString(16).padStart(2,"0")}${h.toString(16).padStart(2,"0")}${x.toString(16).padStart(2,"0")}`}addPreviewWatermark(){this.removePreviewWatermark();const e=document.querySelector(".kline-main");if(!e)return;const t=document.createElement("div");t.id="theme-preview-watermark",t.style.cssText=`
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(255, 0, 0, 0.8);
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: bold;
      z-index: 1000;
      pointer-events: none;
    `,t.textContent="PREVIEW",e.style.position="relative",e.appendChild(t)}removePreviewWatermark(){const e=document.getElementById("theme-preview-watermark");e&&e.remove()}getCurrentSettings(){return cc(this.settingsStore).current}getPendingSettings(){return cc(this.settingsStore).pending}isModalOpen(){return cc(this.settingsStore).pending!==null}resetToThemeDefaults(e){const t=a2(this.chartId,e);this.settingsStore.update(n=>({...n,current:t,pending:null})),console.log("ðŸ”„ Reset TransactionalThemeManager to theme defaults:",e)}}function fj(o,e,t){const n=o.target.checked;b(e,$(n)),t({wick:n})}function gj(o,e,t){const n=o.target.value;b(e,$(n)),t({source:n})}function _j(o,e,t){const n="ATR";b(e,n),t({method:n})}function mj(o,e,t){const n=parseInt(o.target.value||"14",10),s=Math.max(1,isNaN(n)?14:n);b(e,$(s)),t({atrLength:s})}function hj(o,e,t){const n=o.target.value;b(e,$(n)),t({boxSizeMode:n})}function yj(o,e,t){const n=parseFloat(o.target.value||"1"),s=Math.max(1e-4,isNaN(n)?1:n);b(e,$(s)),t({boxSize:s})}function bj(o,e,t){const n=parseInt(o.target.value||"14",10),s=Math.max(1,isNaN(n)?14:n);b(e,$(s)),t({atrLength:s})}function xj(o,e,t){const n=parseInt(o.target.value||"3",10),s=Math.max(1,isNaN(n)?3:n);b(e,$(s)),t({reversalBoxes:s})}function wj(o,e,t){const n=o.target.value;b(e,$(n)),t({upColor:n})}function kj(o,e,t){const n=o.target.value;b(e,$(n)),t({downColor:n})}function Sj(o,e,t,n,s,r,a,c){b(e,"ATR"),b(t,1),b(n,14),b(s,3),b(r,"#00E6D8"),b(a,"#FF4D4D"),c({boxSizeMode:"ATR",boxSize:1,atrLength:14,reversalBoxes:3,upColor:"#00E6D8",downColor:"#FF4D4D"})}function Cj(o,e,t,n,s,r,a,c,d,u){if(i(e)==="solid"){const p=o.target.getBoundingClientRect();b(t,$({x:p.right+10,y:p.top})),b(n,!0),b(s,!1),b(r,!1),b(a,!1),b(c,!1),b(d,!1),u()}else i(e)==="gradient"&&(b(r,!0),b(n,!1),b(s,!1),b(a,!1),b(c,!1),b(d,!1))}function Ij(o,e,t,n,s,r,a,c,d){if(console.log("ðŸ”¥ Grid picker clicked, type:",i(e)),i(e)==="solid"){const u=o.target.getBoundingClientRect();b(t,$({x:u.right+10,y:u.top})),console.log("ðŸ”¥ Opening grid color picker at:",i(t)),b(n,!0),b(s,!1),b(r,!1),b(a,!1),b(c,!1),b(d,!1)}else i(e)==="gradient"&&(b(a,!0),b(n,!1),b(s,!1),b(r,!1),b(c,!1),b(d,!1))}function Pj(o,e,t,n,s,r,a,c,d){const u=o.target.getBoundingClientRect();b(e,$({x:u.right+10,y:u.top})),b(t,!0),b(n,!1),b(s,!1),b(r,!1),b(a,!1),b(c,!1),d()}function Mj(o,e,t,n,s,r,a,c,d){const u=o.target.getBoundingClientRect();b(e,$({x:u.right+10,y:u.top})),b(t,!0),b(n,!1),b(s,!1),b(r,!1),b(a,!1),b(c,!1),d()}function Tj(o,e,t,n,s,r,a,c,d,u){const p=o.target.getBoundingClientRect();b(e,$({x:p.right+10,y:p.top})),b(t,!1),b(n,!1),b(s,!1),b(r,!1),b(a,!1),b(c,!1),d(),b(u,!0)}function Aj(o,e,t,n,s,r,a,c,d,u){const p=o.target.getBoundingClientRect();b(e,$({x:p.right+10,y:p.top})),b(t,!1),b(n,!1),b(s,!1),b(r,!1),b(a,!1),b(c,!1),d(),b(u,!0)}function Dj(o,e,t,n,s,r,a,c,d,u){const p=o.target.getBoundingClientRect();b(e,$({x:p.right+10,y:p.top})),b(t,!1),b(n,!1),b(s,!1),b(r,!1),b(a,!1),b(c,!1),d(),b(u,!0)}function Lj(o,e,t,n,s,r,a,c,d,u){const p=o.target.getBoundingClientRect();b(e,$({x:p.right+10,y:p.top})),b(t,!1),b(n,!1),b(s,!1),b(r,!1),b(a,!1),b(c,!1),d(),b(u,!0)}function Ej(o,e,t,n,s,r,a,c,d,u){const p=o.target.getBoundingClientRect();b(e,$({x:p.right+10,y:p.top})),b(t,!1),b(n,!1),b(s,!1),b(r,!1),b(a,!1),b(c,!1),d(),b(u,!0)}function Fj(o,e,t,n,s,r,a,c,d,u){const p=o.target.getBoundingClientRect();b(e,$({x:p.right+10,y:p.top})),b(t,!1),b(n,!1),b(s,!1),b(r,!1),b(a,!1),b(c,!1),d(),b(u,!0)}function jj(o,e,t){b(e,!i(e)),t()}function $j(o,e,t){b(e,!i(e)),t()}function Bj(o,e,t){b(e,!i(e)),t()}var Oj=(o,e)=>b(e,"canvas"),Rj=(o,e)=>b(e,"other"),Nj=(o,e)=>b(e,"candle"),zj=(o,e)=>b(e,"renko"),Vj=ue('<button class="flex-shrink-0 lg:w-full text-left px-4 py-2 rounded-lg transition-colors duration-200">Duty AI Renko</button>'),qj=(o,e)=>b(e,"pnf"),Wj=ue('<button class="flex-shrink-0 lg:w-full text-left px-4 py-2 rounded-lg transition-colors duration-200">Point & Figure</button>'),Gj=ue('<div class="space-y-6 pb-6"><h4 class="text-lg font-semibold mb-4">Canvas Settings</h4> <div class="space-y-3"><label class="text-sm font-medium text-base-content/80">Background color</label> <div class="flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3"><select class="select select-bordered select-sm w-full sm:w-32"><option>Solid</option><option>Gradient</option></select> <button class="w-8 h-8 rounded border-2 border-base-300 cursor-pointer hover:border-primary transition-colors flex-shrink-0"></button></div></div> <div class="space-y-3"><label class="text-sm font-medium text-base-content/80">Grid color</label> <div class="flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3"><select class="select select-bordered select-sm w-full sm:w-32"><option>Solid</option><option>Gradient</option></select> <button class="w-8 h-8 rounded border-2 border-base-300 cursor-pointer hover:border-primary transition-colors flex-shrink-0"></button></div></div> <div class="space-y-3"><label class="text-sm font-medium text-base-content/80">X-Axis tick text color</label> <div class="flex items-center space-x-3"><button class="w-8 h-8 rounded border-2 border-base-300 cursor-pointer hover:border-primary transition-colors flex-shrink-0"></button></div></div> <div class="space-y-3"><label class="text-sm font-medium text-base-content/80">Y-Axis tick text color</label> <div class="flex items-center space-x-3"><button class="w-8 h-8 rounded border-2 border-base-300 cursor-pointer hover:border-primary transition-colors flex-shrink-0"></button></div></div></div>'),Hj=(o,e,t)=>e(i(t).key,o.target.value),Uj=ue("<option> </option>"),Yj=ue('<select class="select select-bordered select-sm w-full sm:w-32 flex-shrink-0"></select>'),Kj=(o,e,t)=>e(i(t).key,o.target.checked),Zj=ue('<input type="checkbox" class="toggle toggle-sm flex-shrink-0">'),Xj=ue('<div class="flex flex-col sm:flex-row sm:items-center sm:justify-between py-2 space-y-2 sm:space-y-0"><label class="text-sm font-medium text-base-content/80 flex-1"> </label> <!></div>'),Jj=ue('<div class="space-y-6 pb-6"><h4 class="text-lg font-semibold mb-4">Other Settings</h4> <div class="grid grid-cols-1 gap-4"></div></div>'),Qj=ue('<div class="space-y-6 pb-6"><h4 class="text-lg font-semibold mb-4">Candle Color Customization</h4> <div class="space-y-4"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between py-3 border-b border-base-300"><div class="flex items-center space-x-3 mb-3 sm:mb-0"><input type="checkbox" class="checkbox checkbox-sm"> <label class="text-sm font-medium text-base-content">Body</label></div> <div class="flex space-x-3"><div class="flex flex-col items-center space-y-1"><span class="text-xs text-base-content/60">Bull</span> <button class="w-8 h-8 rounded border-2 border-base-300 flex-shrink-0"></button></div> <div class="flex flex-col items-center space-y-1"><span class="text-xs text-base-content/60">Bear</span> <button class="w-8 h-8 rounded border-2 border-base-300 flex-shrink-0"></button></div></div></div> <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between py-3 border-b border-base-300"><div class="flex items-center space-x-3 mb-3 sm:mb-0"><input type="checkbox" class="checkbox checkbox-sm"> <label class="text-sm font-medium text-base-content">Borders</label></div> <div class="flex space-x-3"><div class="flex flex-col items-center space-y-1"><span class="text-xs text-base-content/60">Bull</span> <button class="w-8 h-8 rounded border-2 border-base-300 flex-shrink-0"></button></div> <div class="flex flex-col items-center space-y-1"><span class="text-xs text-base-content/60">Bear</span> <button class="w-8 h-8 rounded border-2 border-base-300 flex-shrink-0"></button></div></div></div> <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between py-3"><div class="flex items-center space-x-3 mb-3 sm:mb-0"><input type="checkbox" class="checkbox checkbox-sm"> <label class="text-sm font-medium text-base-content">Wick</label></div> <div class="flex space-x-3"><div class="flex flex-col items-center space-y-1"><span class="text-xs text-base-content/60">Bull</span> <button class="w-8 h-8 rounded border-2 border-base-300 flex-shrink-0"></button></div> <div class="flex flex-col items-center space-y-1"><span class="text-xs text-base-content/60">Bear</span> <button class="w-8 h-8 rounded border-2 border-base-300 flex-shrink-0"></button></div></div></div></div></div>'),e$=ue('<div class="space-y-6 pb-6"><h4 class="text-lg font-semibold mb-4">Duty AI Renko Settings</h4> <div class="space-y-4 p-3 rounded-lg border border-base-300"><div class="flex items-center gap-3"><label class="flex items-center gap-2"><input type="checkbox" class="checkbox checkbox-sm"> <span>Wick</span></label></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3"><div class="flex flex-col gap-1"><label class="text-xs opacity-80">Source</label> <select class="select select-bordered select-sm"><option>Close</option><option>Open</option><option>High</option><option>Low</option></select></div> <div class="flex flex-col gap-1"><label class="text-xs opacity-80">Box size assignment method</label> <select class="select select-bordered select-sm" disabled><option>ATR</option></select></div> <div class="flex flex-col gap-1"><label class="text-xs opacity-80">ATR length</label> <input type="number" min="1" class="input input-bordered input-sm"></div></div></div></div>'),t$=ue('<div class="flex flex-col gap-1"><label class="text-xs opacity-80">ATR Length</label> <input type="number" min="1" max="200" step="1" class="input input-bordered input-sm"></div>'),o$=ue('<div class="flex flex-col gap-1"><label class="text-xs opacity-80"> </label> <input type="number" min="0.0001" step="0.1" class="input input-bordered input-sm"></div>'),n$=ue('<div class="space-y-6 pb-6"><h4 class="text-lg font-semibold mb-4">Point & Figure Settings</h4> <div class="space-y-4 p-3 rounded-lg border border-base-300"><div class="grid grid-cols-1 sm:grid-cols-2 gap-3"><div class="flex flex-col gap-1"><label class="text-xs opacity-80">Box Size Mode</label> <select class="select select-bordered select-sm"><option>ATR (Auto-fit)</option><option>Absolute (Price Units)</option><option>Percent (%)</option></select></div> <!></div> <div class="flex flex-col gap-1"><label class="text-xs opacity-80">Reversal Boxes (typical: 3)</label> <input type="number" min="1" max="10" step="1" class="input input-bordered input-sm w-32"></div> <div class="pt-2 border-t border-base-300"><h5 class="text-sm font-medium mb-3">Symbol Colors</h5> <div class="grid grid-cols-2 gap-4"><div class="flex flex-col items-center gap-2"><label class="text-xs opacity-80">Up Column (X)</label> <div class="flex items-center gap-2"><input type="color" class="w-10 h-10 cursor-pointer rounded border border-base-300"> <span class="text-xs font-mono opacity-70"> </span></div></div> <div class="flex flex-col items-center gap-2"><label class="text-xs opacity-80">Down Column (O)</label> <div class="flex items-center gap-2"><input type="color" class="w-10 h-10 cursor-pointer rounded border border-base-300"> <span class="text-xs font-mono opacity-70"> </span></div></div></div></div> <div class="pt-4 border-t border-base-300"><button class="btn btn-sm btn-outline">Reset P&F to Defaults</button></div></div></div>'),s$=ue('<div class="flex flex-col lg:flex-row min-h-[400px] max-h-[70vh] overflow-hidden"><div class="w-full lg:w-48 border-b lg:border-b-0 lg:border-r border-base-300 pb-4 lg:pb-0 lg:pr-4 mb-4 lg:mb-0"><div class="flex lg:flex-col space-x-2 lg:space-x-0 lg:space-y-2 overflow-x-auto lg:overflow-x-visible"><button class="flex-shrink-0 lg:w-full text-left px-4 py-2 rounded-lg transition-colors duration-200">Canvas</button> <button class="flex-shrink-0 lg:w-full text-left px-4 py-2 rounded-lg transition-colors duration-200">Other Settings</button> <button class="flex-shrink-0 lg:w-full text-left px-4 py-2 rounded-lg transition-colors duration-200">Candle</button> <!> <!></div></div> <div class="flex-1 lg:pl-6 overflow-y-auto"><!></div></div>'),i$=ue("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function Eb(o,e){Pr(e,!0);const t=El(),n=()=>ti(d,"$save",t),s=()=>ti(u,"$chart",t),r=()=>ti(c,"$ctx",t);let a=Po(e,"show",15);const c=ur("ctx"),d=ur("save"),u=ur("chart"),p=new Vh("chart-settings",u,"dark");Su(()=>{p.destroy()});let h=Z(!1),x=null;Ds(()=>{var pt,At,Bt,dt,Vt;if(a())console.log("ðŸ”§ Settings modal OPENED"),console.log("  - Current $save.styles.candle.type:",(At=(pt=n().styles)==null?void 0:pt.candle)==null?void 0:At.type),console.log("  - Current chart.getStyles().candle.type:",(Vt=(dt=(Bt=s())==null?void 0:Bt.getStyles())==null?void 0:dt.candle)==null?void 0:Vt.type),b(h,!1),p.openModal();else if(!i(h)){console.log("ðŸš« Settings modal CANCELLED"),x&&(clearTimeout(x),x=null);try{window.__forceApplySavedCanvasColors=!0}catch{}r().applyCanvasColors&&r().applyCanvasColors()}});let w=Z("canvas");const k=new M0;let S=Z(!1),M=Z(!1),T=Z(!1),D=Z(!1),A=Z($({x:0,y:0})),j=Z($({x:0,y:0})),F=Z($({x:0,y:0})),q=Z($({x:0,y:0})),B=Z(!1),O=Z(!1),z=Z(!1),Y=Z(!1),G=Z(!1),oe=Z(!1),re=Z($({x:0,y:0})),se=Z($({x:0,y:0})),ie=Z($({x:0,y:0})),te=Z($({x:0,y:0})),K=Z($({x:0,y:0})),J=Z($({x:0,y:0})),U=Z(!1),ae=Z(!1),me=Z(!1),ke=Z($(_t.get(n().styles,"backgroundType")||"solid")),Ae=Z($(_t.get(n().styles,"gridType")||"solid")),Le=Z($(_t.get(n().styles,"backgroundColor")||"#000000")),He=Z($(_t.get(n().styles,"grid.horizontal.color")||"#333333")),it=Z(100),Ne=Z(100),we=Z(100),je=Z(100);const Te=[{key:"candle.priceMark.last.show",label:"Show Last Price",type:"switch",default:!0},{key:"candle.priceMark.high.show",label:"Show High Price",type:"switch",default:!0},{key:"candle.priceMark.low.show",label:"Show Low Price",type:"switch",default:!0},{key:"indicator.lastValueMark.show",label:"Show Indicator Last Value",type:"switch",default:!0},{key:"yAxis.reverse",label:"Reverse Coordinate",type:"switch",default:!1},{key:"grid.show",label:"Grid Show",type:"switch",default:!0}],Se=new M0;let Ue=Z(!0),Be=Z(!0),le=Z(!0),ye=Z("#26a69a"),Ee=Z("#ef5350"),Je=Z("#26a69a"),be=Z("#ef5350"),X=Z("#26a69a"),H=Z("#ef5350");const Ce=tt(()=>{var pt,At;return((At=(pt=n().styles)==null?void 0:pt.candle)==null?void 0:At.type)==="renko_atr"});let Qe=Z(!1),mt=Z("close"),bt=Z("ATR"),ct=Z(14);Ds(()=>{var At,Bt;if(!a())return;const pt=((Bt=(At=n().styles)==null?void 0:At.candle)==null?void 0:Bt.renko)||{};b(Qe,!!pt.wick),b(mt,$(pt.source||"close")),b(bt,$(pt.method||"ATR")),b(ct,$(Math.max(1,(pt.atrLength??14)|0)))}),Ds(()=>{a()&&(i(Ce)?b(w,$(i(w)==="canvas"||i(w)==="other"?i(w):"renko")):i(w)==="renko"&&b(w,"candle"))});function yo(pt){d.update(At=>{At.styles||(At.styles={}),At.styles.candle||(At.styles.candle={});const Bt=At.styles.candle;return Bt.renko||(Bt.renko={method:"ATR",atrLength:14,source:"close",wick:!1}),Bt.renko={...Bt.renko,...pt},At})}const Kt=tt(()=>{var pt,At;return((At=(pt=n().styles)==null?void 0:pt.candle)==null?void 0:At.type)==="point_and_figure"});let to=Z("ATR"),io=Z(1),ro=Z(14),Uo=Z(3),an=Z("#00E6D8"),Mn=Z("#FF4D4D");Ds(()=>{var At,Bt;if(!a())return;const pt=((Bt=(At=n().styles)==null?void 0:At.candle)==null?void 0:Bt.pnf)||{};b(to,$(pt.boxSizeMode||"ATR")),b(io,$(Math.max(1e-4,pt.boxSize??1))),b(ro,$(Math.max(1,Math.round(pt.atrLength??14)))),b(Uo,$(Math.max(1,Math.round(pt.reversalBoxes??3)))),b(an,$(pt.upColor||"#00E6D8")),b(Mn,$(pt.downColor||"#FF4D4D"))}),Ds(()=>{a()&&(i(Kt)?b(w,$(i(w)==="canvas"||i(w)==="other"?i(w):"pnf")):i(w)==="pnf"&&b(w,"candle"))});function uo(pt){d.update(At=>{At.styles||(At.styles={}),At.styles.candle||(At.styles.candle={});const Bt=At.styles.candle;return Bt.pnf||(Bt.pnf={boxSizeMode:"ATR",boxSize:1,atrLength:14,reversalBoxes:3,upColor:"#00E6D8",downColor:"#FF4D4D"}),Bt.pnf={...Bt.pnf,...pt},At})}let Do=Z($(_t.get(n().styles,"backgroundGradient")||{type:"linear",direction:90,stops:[{position:0,color:"#1a1a1a",opacity:100},{position:100,color:"#4a4a4a",opacity:100}]})),Zt=Z($(_t.get(n().styles,"gridGradient")||{type:"linear",direction:90,stops:[{position:0,color:"#2a2a2a",opacity:100},{position:100,color:"#3a3a3a",opacity:100}]}));function Go(pt){if(!pt||!pt.stops)return"";const Bt=[...pt.stops].sort((dt,Vt)=>dt.position-Vt.position).map(dt=>{const Vt=parseInt(dt.color.slice(1,3),16),Tt=parseInt(dt.color.slice(3,5),16),Co=parseInt(dt.color.slice(5,7),16),Ro=dt.opacity/100;return`rgba(${Vt}, ${Tt}, ${Co}, ${Ro}) ${dt.position}%`});return pt.type==="linear"?`linear-gradient(${pt.direction}deg, ${Bt.join(", ")})`:`radial-gradient(circle, ${Bt.join(", ")})`}function cn(pt){if(typeof pt=="string"&&pt.startsWith("rgba(")){const At=pt.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*[\d.]+\)/);if(At){const Bt=parseInt(At[1]),dt=parseInt(At[2]),Vt=parseInt(At[3]);return`#${Bt.toString(16).padStart(2,"0")}${dt.toString(16).padStart(2,"0")}${Vt.toString(16).padStart(2,"0")}`}}return pt}function sn(){const pt=n().theme;return{backgroundColor:pt==="dark"?"#070211":"#ffffff",backgroundOpacity:100,gridColor:pt==="dark"?"#081115":"#F3F3F3",gridOpacity:100,xAxisTickTextColor:pt==="dark"?"#ffffff":"#000000",yAxisTickTextColor:pt==="dark"?"#ffffff":"#000000"}}Ds(()=>{a()&&s()&&(console.log("ðŸ“‚ Modal opened - restoring saved values..."),b(me,!0),k.clear(),Tr(),queueMicrotask(()=>{b(me,!1),console.log("âœ… Restoration complete - preview enabled")}))}),Ds(()=>{if(!s()||!a()||i(me))return;const pt=i(it),At=i(Le),Bt=i(ke),dt=i(Do);dt==null||dt.stops,dt==null||dt.type,dt==null||dt.direction;const Vt=document.querySelector(".kline-main"),Tt=document.querySelector(".kline-widget");if(Bt==="solid"){const Co=k.get("backgroundColor")||At||sn().backgroundColor,Tn=(k.get("backgroundOpacity")??pt??100)/100,jo=zr(Co,Tn);[Vt,Tt].forEach(En=>{if(En){const mo=En;mo.style.removeProperty("background"),mo.style.removeProperty("background-color"),mo.offsetHeight,mo.style.setProperty("background",jo,"important"),mo.style.setProperty("background-color",jo,"important"),mo.style.setProperty("--chart-background-color",jo),mo.offsetHeight}})}else if(Bt==="gradient"){const Co=k.get("backgroundGradient")||dt;let Ro=Co;(!Co||!Co.stops||Co.stops.length===0)&&(Ro={type:"linear",direction:90,stops:[{position:0,color:"#1a1a1a",opacity:100},{position:100,color:"#4a4a4a",opacity:100}]},k.set("backgroundGradient",Ro));const Tn=Ro.css||Go(Ro);[Vt,Tt].forEach(jo=>{if(jo){const En=jo;En.style.removeProperty("background"),En.style.removeProperty("background-color"),En.offsetHeight,En.style.setProperty("background",Tn,"important"),En.style.setProperty("background-color",Tn,"important"),En.style.setProperty("--chart-background-color",Tn),En.offsetHeight}})}}),Ds(()=>{var Vt,Tt,Co,Ro;if(!s()||!a()||i(me))return;const pt=i(Ne),At=i(He),Bt=i(Ae),dt=i(Zt);if(dt==null||dt.stops,dt==null||dt.type,dt==null||dt.direction,console.log("ðŸ”„ Grid effect triggered:",{gridColorType:Bt,gridColor:At,gridOpacity:pt}),Bt==="solid"){const Tn=k.get("gridColor")||At||sn().gridColor,jo=k.get("gridOpacity")??pt??100,En=zr(Tn,jo/100);console.log("ðŸŽ¨ Applying solid grid color via effect:",En);const mo=s().getStyles()??{},Es=_t.cloneDeep(mo);(Tt=(Vt=n().styles)==null?void 0:Vt.candle)!=null&&Tt.type&&_t.set(Es,"candle.type",n().styles.candle.type);const zn=_t.get(mo,"grid.show",!0);_t.set(Es,"grid.show",zn),_t.set(Es,"grid.horizontal.show",zn),_t.set(Es,"grid.horizontal.color",En),_t.set(Es,"grid.vertical.show",zn),_t.set(Es,"grid.vertical.color",En),s().setStyles(Es)}else if(Bt==="gradient"){const Tn=k.get("gridGradient")||dt;if(Tn&&Tn.stops&&Tn.stops.length>0){const jo=Tn.stops[0],En=Tn.stops[Tn.stops.length-1],mo=Qa(jo.color,En.color,.5);console.log("ðŸŽ¨ Applying gradient grid color via effect:",mo);const Es=s().getStyles()??{},zn=_t.cloneDeep(Es);(Ro=(Co=n().styles)==null?void 0:Co.candle)!=null&&Ro.type&&_t.set(zn,"candle.type",n().styles.candle.type);const Vi=_t.get(Es,"grid.show",!0);_t.set(zn,"grid.show",Vi),_t.set(zn,"grid.horizontal.show",Vi),_t.set(zn,"grid.horizontal.color",mo),_t.set(zn,"grid.vertical.show",Vi),_t.set(zn,"grid.vertical.color",mo),s().setStyles(zn)}}});function Tr(){const pt=sn();console.log("ðŸ”„ Restoring saved values...",{backgroundType:_t.get(n().styles,"backgroundType"),gridType:_t.get(n().styles,"gridType")});const At=_t.get(n().styles,"backgroundType")||"solid";if(b(ke,$(At)),At==="solid"){const Rn=_t.get(n().styles,"backgroundColor")||pt.backgroundColor,Fs=_t.get(n().styles,"backgroundOpacity")||pt.backgroundOpacity,Fi=cn(Rn);b(Le,$(Fi)),b(it,$(Fs)),k.set("backgroundColor",Fi),k.set("backgroundOpacity",Fs),console.log("âœ… Restored solid BG:",Fi,"opacity:",Fs)}else if(At==="gradient"){const Rn=_t.get(n().styles,"backgroundGradient");Rn&&(b(Do,$({...Rn})),k.set("backgroundGradient",Rn),console.log("âœ… Restored gradient BG:",Rn))}const Bt=_t.get(n().styles,"gridType")||"solid";if(b(Ae,$(Bt)),Bt==="solid"){const Rn=_t.get(n().styles,"grid.horizontal.color")||_t.get(n().styles,"grid.vertical.color")||pt.gridColor,Fs=_t.get(n().styles,"gridOpacity")||pt.gridOpacity,Fi=cn(Rn);b(He,$(Fi)),b(Ne,$(Fs)),k.set("gridColor",Fi),k.set("gridOpacity",Fs),console.log("âœ… Restored solid Grid:",Fi,"opacity:",Fs)}else if(Bt==="gradient"){const Rn=_t.get(n().styles,"gridGradient");Rn&&(b(Zt,$({...Rn})),k.set("gridGradient",Rn),console.log("âœ… Restored gradient Grid:",Rn))}const dt=_t.get(n().styles,"xAxis.tickText.color")||pt.xAxisTickTextColor,Vt=_t.get(n().styles,"xAxis.tickText.opacity")||100,Tt=cn(dt);b(we,$(Vt)),k.set("xAxisTickTextColor",Tt),k.set("xAxisTickTextOpacity",Vt);const Co=_t.get(n().styles,"yAxis.tickText.color")||pt.yAxisTickTextColor,Ro=_t.get(n().styles,"yAxis.tickText.opacity")||100,Tn=cn(Co);b(je,$(Ro)),k.set("yAxisTickTextColor",Tn),k.set("yAxisTickTextOpacity",Ro);try{if(s()&&typeof s().getStyles=="function"){const Rn=s().getStyles()??{},Fs=_t.get(Rn,"xAxis.tickText.color"),Fi=_t.get(Rn,"yAxis.tickText.color");if(Fs){const vr=cn(Fs);k.set("xAxisTickTextColor",vr)}if(Fi){const vr=cn(Fi);k.set("yAxisTickTextColor",vr)}}}catch(Rn){console.warn("Failed to read live axis styles from chart:",Rn)}const jo=_t.get(n().styles,"candle.bar.upColor")||"#26a69a",En=_t.get(n().styles,"candle.bar.downColor")||"#ef5350",mo=_t.get(n().styles,"candle.bar.upBorderColor")||"#26a69a",Es=_t.get(n().styles,"candle.bar.downBorderColor")||"#ef5350",zn=_t.get(n().styles,"candle.bar.upWickColor")||"#26a69a",Vi=_t.get(n().styles,"candle.bar.downWickColor")||"#ef5350";b(ye,$(jo)),b(Ee,$(En)),b(Je,$(mo)),b(be,$(Es)),b(X,$(zn)),b(H,$(Vi)),Te.forEach(Rn=>{const Fs=_t.get(n().styles,Rn.key);Fs!==void 0?Se.set(Rn.key,Fs):Se.set(Rn.key,Rn.default)})}function zi(pt){if(b(Le,$(pt.detail)),k.set("backgroundColor",pt.detail),i(ke)==="solid"){const At=i(it)/100,Bt=zr(pt.detail,At),dt=document.querySelector(".kline-main"),Vt=document.querySelector(".kline-widget");[dt,Vt].forEach(Tt=>{if(Tt){const Co=Tt;Co.style.removeProperty("background"),Co.style.removeProperty("background-color"),Co.style.removeProperty("background-image"),Co.offsetHeight,Co.style.setProperty("background",Bt,"important"),Co.style.setProperty("background-color",Bt,"important"),Co.style.setProperty("--chart-background-color",Bt),Co.offsetHeight}})}}function Ki(pt){if(b(it,$(pt.detail)),k.set("backgroundOpacity",pt.detail),i(ke)==="solid"){const At=k.get("backgroundColor")||i(Le)||sn().backgroundColor,Bt=pt.detail/100,dt=zr(At,Bt),Vt=document.querySelector(".kline-main"),Tt=document.querySelector(".kline-widget");[Vt,Tt].forEach(Co=>{if(Co){const Ro=Co;Ro.style.removeProperty("background"),Ro.style.removeProperty("background-color"),Ro.offsetHeight,Ro.style.setProperty("background",dt,"important"),Ro.style.setProperty("background-color",dt,"important"),Ro.style.setProperty("--chart-background-color",dt),Ro.offsetHeight}})}}function wa(pt){var Tt,Co;if(console.log("ðŸŽ¨ Grid color changed to:",pt.detail),b(He,$(pt.detail)),k.set("gridColor",pt.detail),!s()){console.warn("âš ï¸ No chart available for grid color preview");return}const At=zr(pt.detail,i(Ne)/100);console.log("ðŸŽ¨ Applying grid color:",At);const Bt=s().getStyles()??{},dt=_t.cloneDeep(Bt);(Co=(Tt=n().styles)==null?void 0:Tt.candle)!=null&&Co.type&&_t.set(dt,"candle.type",n().styles.candle.type);const Vt=_t.get(Bt,"grid.show",!0);_t.set(dt,"grid.show",Vt),_t.set(dt,"grid.horizontal.show",Vt),_t.set(dt,"grid.horizontal.color",At),_t.set(dt,"grid.vertical.show",Vt),_t.set(dt,"grid.vertical.color",At),console.log("ðŸŽ¨ New grid styles:",dt.grid);try{s().setStyles(dt),console.log("âœ… Grid styles applied successfully")}catch(Ro){console.error("âŒ Failed to apply grid styles:",Ro)}}function Ei(pt){var Co,Ro;if(console.log("ðŸŽ¨ Grid opacity changed to:",pt.detail),b(Ne,$(pt.detail)),k.set("gridOpacity",pt.detail),!s()){console.warn("âš ï¸ No chart available for grid opacity preview");return}const At=k.get("gridColor")||i(He)||sn().gridColor,Bt=zr(At,pt.detail/100);console.log("ðŸŽ¨ Applying grid opacity:",Bt);const dt=s().getStyles()??{},Vt=_t.cloneDeep(dt);(Ro=(Co=n().styles)==null?void 0:Co.candle)!=null&&Ro.type&&_t.set(Vt,"candle.type",n().styles.candle.type);const Tt=_t.get(dt,"grid.show",!0);_t.set(Vt,"grid.show",Tt),_t.set(Vt,"grid.horizontal.show",Tt),_t.set(Vt,"grid.horizontal.color",Bt),_t.set(Vt,"grid.vertical.show",Tt),_t.set(Vt,"grid.vertical.color",Bt),console.log("ðŸŽ¨ New grid styles:",Vt.grid);try{s().setStyles(Vt),console.log("âœ… Grid opacity applied successfully")}catch(Tn){console.error("âŒ Failed to apply grid opacity:",Tn)}}function Za(pt){if(k.set("xAxisTickTextColor",pt.detail),s()){const At=s().getStyles()??{},Bt=_t.cloneDeep(At);_t.set(Bt,"xAxis.tickText.color",pt.detail);const dt=Fr(Bt);s().setStyles(dt)}}function Xa(pt){if(k.set("yAxisTickTextColor",pt.detail),s()){const At=s().getStyles()??{},Bt=_t.cloneDeep(At);_t.set(Bt,"yAxis.tickText.color",pt.detail);const dt=Fr(Bt);s().setStyles(dt)}}function sl(pt){if(b(we,$(pt.detail)),k.set("xAxisTickTextOpacity",pt.detail),s()){const At=s().getStyles()??{},Bt=_t.cloneDeep(At),dt=k.get("xAxisTickTextColor")||sn().xAxisTickTextColor,Vt=pt.detail/100,Tt=zr(dt,Vt);_t.set(Bt,"xAxis.tickText.color",Tt);const Co=Fr(Bt);s().setStyles(Co)}}function Ja(pt){if(b(je,$(pt.detail)),k.set("yAxisTickTextOpacity",pt.detail),s()){const At=s().getStyles()??{},Bt=_t.cloneDeep(At),dt=k.get("yAxisTickTextColor")||sn().yAxisTickTextColor,Vt=pt.detail/100,Tt=zr(dt,Vt);_t.set(Bt,"yAxis.tickText.color",Tt);const Co=Fr(Bt);s().setStyles(Co)}}function pl(pt){if(b(Do,$({...pt.detail})),k.set("backgroundGradient",i(Do)),i(ke)==="gradient"){const At=document.querySelector(".kline-main"),Bt=document.querySelector(".kline-widget"),dt=Go(i(Do));[At,Bt].forEach(Vt=>{if(Vt){const Tt=Vt;Tt.style.removeProperty("background"),Tt.style.removeProperty("background-color"),Tt.offsetHeight,Tt.style.setProperty("background",dt,"important"),Tt.style.setProperty("background-color",dt,"important"),Tt.style.setProperty("--chart-background-color",dt),Tt.offsetHeight}})}}function il(pt){var At,Bt;if(b(Zt,$({...pt.detail})),k.set("gridGradient",i(Zt)),s()&&i(Ae)==="gradient"){const dt=pt.detail.stops[0],Vt=pt.detail.stops[pt.detail.stops.length-1],Tt=Qa(dt.color,Vt.color,.5),Co=s().getStyles()??{},Ro=_t.cloneDeep(Co);(Bt=(At=n().styles)==null?void 0:At.candle)!=null&&Bt.type&&_t.set(Ro,"candle.type",n().styles.candle.type),_t.set(Ro,"grid.horizontal.color",Tt),_t.set(Ro,"grid.vertical.color",Tt);const Tn=Fr(Ro);s().setStyles(Tn)}}function Qa(pt,At,Bt){const dt=pt.replace("#",""),Vt=At.replace("#",""),Tt=parseInt(dt.substr(0,2),16),Co=parseInt(dt.substr(2,2),16),Ro=parseInt(dt.substr(4,2),16),Tn=parseInt(Vt.substr(0,2),16),jo=parseInt(Vt.substr(2,2),16),En=parseInt(Vt.substr(4,2),16),mo=Math.round(Tt*(1-Bt)+Tn*Bt),Es=Math.round(Co*(1-Bt)+jo*Bt),zn=Math.round(Ro*(1-Bt)+En*Bt);return`#${mo.toString(16).padStart(2,"0")}${Es.toString(16).padStart(2,"0")}${zn.toString(16).padStart(2,"0")}`}function Ma(pt,At){var Co,Ro,Tn;const Bt=(Co=s())==null?void 0:Co.getStyles(),dt=_t.get(Bt,pt);if(pt==="yAxis.reverse")try{(Ro=s())==null||Ro.setPaneOptions({axis:{reverse:At}}),d.update(jo=>(_t.set(jo.styles,pt,At),jo)),Se.set(pt,At);return}catch(jo){console.warn("setPaneOptions not available, falling back to styles:",jo)}else if(pt==="yAxis.type"){console.warn("yAxis.type is not supported in klinecharts v10");return}if(dt==At)return;Se.set(pt,At),d.update(jo=>(_t.set(jo.styles,pt,At),jo));const Vt=ga(n().theme),Tt=_t.merge({},Vt,n().styles);(Tn=s())==null||Tn.setStyles(Fr(Tt))}function ka(){let pt=s();if(!pt)return;const At=pt.getStyles()??{};Te.forEach(Bt=>{const dt=_t.get(At,Bt.key);Bt.key==="yAxis.reverse"?Se.set(Bt.key,dt||!1):Se.set(Bt.key,dt||Bt.default)})}function zr(pt,At){const Bt=pt.replace("#",""),dt=parseInt(Bt.substr(0,2),16),Vt=parseInt(Bt.substr(2,2),16),Tt=parseInt(Bt.substr(4,2),16);return`rgba(${dt}, ${Vt}, ${Tt}, ${At})`}function oa(){b(B,!1),b(O,!1),b(z,!1),b(Y,!1),b(G,!1),b(oe,!1)}function fl(pt){b(ye,$(pt.detail)),Gr()}function bl(pt){b(Ee,$(pt.detail)),Gr()}function rl(pt){b(Je,$(pt.detail)),Gr()}function Ta(pt){b(be,$(pt.detail)),Gr()}function al(pt){b(X,$(pt.detail)),Gr()}function xl(pt){b(H,$(pt.detail)),Gr()}function Gr(){x&&clearTimeout(x),x=setTimeout(()=>{var dt,Vt;if(!s())return;const pt=s().getStyles()??{},At=_t.cloneDeep(pt);(Vt=(dt=n().styles)==null?void 0:dt.candle)!=null&&Vt.type&&_t.set(At,"candle.type",n().styles.candle.type),i(Ue)&&(_t.set(At,"candle.bar.upColor",i(ye)),_t.set(At,"candle.bar.downColor",i(Ee))),i(Be)&&(_t.set(At,"candle.bar.upBorderColor",i(Je)),_t.set(At,"candle.bar.downBorderColor",i(be))),i(le)&&(_t.set(At,"candle.bar.upWickColor",i(X)),_t.set(At,"candle.bar.downWickColor",i(H)));const Bt=Fr(At);s().setStyles(Bt),x=null},16)}function Kl(pt){var At,Bt;if(pt==="confirm"){console.log("ðŸ”§ CONFIRM CLICKED - Using theme manager"),p.updatePending(dt=>{if(i(ke)==="solid"){const Vt=k.get("backgroundColor")||i(Le),Tt=k.get("backgroundOpacity")??i(it);dt.canvas.background.mode="solid",dt.canvas.background.solid={color:Vt,alpha:Tt/100},delete dt.canvas.background.gradient}else if(i(ke)==="gradient"){const Vt=k.get("backgroundGradient")||i(Do);dt.canvas.background.mode="gradient",dt.canvas.background.gradient=Vt,delete dt.canvas.background.solid}if(i(Ae)==="solid"){const Vt=k.get("gridColor")||i(He),Tt=k.get("gridOpacity")??i(Ne);dt.canvas.grid.mode="solid",dt.canvas.grid.solid={color:Vt,alpha:Tt/100},delete dt.canvas.grid.gradient}else if(i(Ae)==="gradient"){const Vt=k.get("gridGradient")||i(Zt);dt.canvas.grid.mode="gradient",dt.canvas.grid.gradient=Vt,delete dt.canvas.grid.solid}}),d.update(dt=>{var Tt,Co,Ro,Tn,jo,En;dt.styles||(dt.styles={}),dt.styles.candle||(dt.styles.candle={}),dt.styles.candle.bar||(dt.styles.candle.bar={}),console.log("ðŸŽ¨ Saving settings - Background Type:",i(ke)),console.log("ðŸŽ¨ Saving settings - Grid Type:",i(Ae));const Vt=(Co=(Tt=dt.styles)==null?void 0:Tt.candle)==null?void 0:Co.type;if(Vt&&console.log("ðŸ”’ Preserving chart type:",Vt),i(ke)==="solid"){const mo=k.get("backgroundColor")||i(Le),Es=k.get("backgroundOpacity")??i(it);console.log("ðŸŽ¨ Solid BG:",{bgColor:mo,bgOpacity:Es}),mo&&(dt.styles.backgroundColor=mo,dt.styles.backgroundOpacity=Es,dt.styles.backgroundType="solid",delete dt.styles.backgroundGradient)}else if(i(ke)==="gradient"){const mo=k.get("backgroundGradient")||i(Do);console.log("ðŸŽ¨ Gradient BG:",mo),mo&&mo.stops&&mo.stops.length>0?(dt.styles.backgroundGradient=mo,dt.styles.backgroundType="gradient",delete dt.styles.backgroundColor,delete dt.styles.backgroundOpacity,console.log("âœ… Gradient background saved to $save.styles")):console.warn("âš ï¸ Invalid gradient data:",mo)}if(i(Ae)==="solid"){const mo=k.get("gridColor")||i(He),Es=k.get("gridOpacity")??100;console.log("ðŸŽ¨ Solid Grid:",{gridColor:mo,gridOpacity:Es}),mo&&(dt.styles.grid||(dt.styles.grid={}),dt.styles.grid.horizontal||(dt.styles.grid.horizontal={}),dt.styles.grid.vertical||(dt.styles.grid.vertical={}),dt.styles.grid.horizontal.color=mo,dt.styles.grid.vertical.color=mo,dt.styles.gridOpacity=Es,dt.styles.gridType="solid",delete dt.styles.gridGradient)}else if(i(Ae)==="gradient"){const mo=k.get("gridGradient")||i(Zt);console.log("ðŸŽ¨ Gradient Grid:",mo),mo&&mo.stops&&mo.stops.length>0?(dt.styles.gridGradient=mo,dt.styles.gridType="gradient",(Tn=(Ro=dt.styles.grid)==null?void 0:Ro.horizontal)==null||delete Tn.color,(En=(jo=dt.styles.grid)==null?void 0:jo.vertical)==null||delete En.color,delete dt.styles.gridOpacity,console.log("âœ… Gradient grid saved to $save.styles")):console.warn("âš ï¸ Invalid grid gradient data:",mo)}try{const mo=k.get("xAxisTickTextColor")||sn().xAxisTickTextColor,Es=k.get("xAxisTickTextOpacity")??100,zn=zr(mo,Es/100);_t.set(dt.styles,"xAxis.tickText.color",zn),_t.set(dt.styles,"xAxis.tickText.opacity",Es);const Vi=k.get("yAxisTickTextColor")||sn().yAxisTickTextColor,Rn=k.get("yAxisTickTextOpacity")??100,Fs=zr(Vi,Rn/100);_t.set(dt.styles,"yAxis.tickText.color",Fs),_t.set(dt.styles,"yAxis.tickText.opacity",Rn)}catch(mo){console.warn("Failed to persist axis tick text colors:",mo)}try{const mo=dt.styles.candle.bar;i(Ue)&&(mo.upColor=i(ye),mo.downColor=i(Ee)),i(Be)&&(mo.upBorderColor=i(Je),mo.downBorderColor=i(be)),i(le)&&(mo.upWickColor=i(X),mo.downWickColor=i(H))}catch(mo){console.warn("Failed to persist candle colors to $save.styles:",mo)}return Vt&&dt.styles.candle&&(dt.styles.candle.type=Vt,console.log("âœ… Restored chart type:",Vt)),dt}),p.confirm(),b(h,!0);try{window.__forceApplySavedCanvasColors=!0}catch{}r().applyCanvasColors&&r().applyCanvasColors(),a(!1)}else if(pt==="reset"){console.log("ðŸ”„ RESET CLICKED - Using theme manager"),p.reset();const dt=sn();b(ke,"solid"),b(it,$(dt.backgroundOpacity)),b(Ae,"solid"),b(Ne,$(dt.gridOpacity)),b(we,100),b(je,100),b(Ue,!0),b(Be,!0),b(le,!0),b(ye,"#26a69a"),b(Ee,"#ef5350"),b(Je,"#26a69a"),b(be,"#ef5350"),b(X,"#26a69a"),b(H,"#ef5350");try{const Vt=sn();if(d.update(Tt=>{Tt.styles||(Tt.styles={}),Tt.styles.backgroundType="solid",Tt.styles.backgroundColor=Vt.backgroundColor,Tt.styles.backgroundOpacity=Vt.backgroundOpacity,delete Tt.styles.backgroundGradient,Tt.styles.grid||(Tt.styles.grid={}),Tt.styles.grid.horizontal||(Tt.styles.grid.horizontal={}),Tt.styles.grid.vertical||(Tt.styles.grid.vertical={}),Tt.styles.gridType="solid",Tt.styles.gridOpacity=Vt.gridOpacity,Tt.styles.grid.horizontal.color=Vt.gridColor,Tt.styles.grid.vertical.color=Vt.gridColor,delete Tt.styles.gridGradient;const Co=Vt.xAxisTickTextColor,Ro=Vt.yAxisTickTextColor,Tn=zr(Co,1),jo=zr(Ro,1);_t.set(Tt.styles,"xAxis.tickText.color",Tn),_t.set(Tt.styles,"xAxis.tickText.opacity",100),_t.set(Tt.styles,"yAxis.tickText.color",jo),_t.set(Tt.styles,"yAxis.tickText.opacity",100),Tt.styles.candle||(Tt.styles.candle={}),Tt.styles.candle.bar||(Tt.styles.candle.bar={});const En=Tt.styles.candle.bar;return En.upColor=i(ye),En.downColor=i(Ee),En.upBorderColor=i(Je),En.downBorderColor=i(be),En.upWickColor=i(X),En.downWickColor=i(H),Tt}),s()){const Tt=ga(n().theme),Co=_t.merge({},Tt,n().styles);(Bt=(At=n().styles)==null?void 0:At.candle)!=null&&Bt.type&&_t.set(Co,"candle.type",n().styles.candle.type);const Ro=sn().xAxisTickTextColor,Tn=sn().yAxisTickTextColor,jo=zr(Ro,1),En=zr(Tn,1);_t.set(Co,"xAxis.tickText.color",jo),_t.set(Co,"yAxis.tickText.color",En);const mo=Fr(Co);s().setStyles(mo);try{const Es=document.querySelector(".kline-main"),zn=document.querySelector(".kline-widget");[Es,zn].forEach(Vi=>{if(Vi){const Rn=Vi;Rn.style.removeProperty("background"),Rn.style.removeProperty("background-color"),Rn.style.removeProperty("background-image"),Rn.style.removeProperty("--chart-background-color")}})}catch{}try{window.__forceApplySavedCanvasColors=!0}catch{}r().applyCanvasColors&&r().applyCanvasColors()}}catch(Vt){console.warn("Failed to apply default candle colors on reset:",Vt)}ka(),k.clear(),k.set("backgroundColor",dt.backgroundColor),k.set("backgroundOpacity",dt.backgroundOpacity),k.set("gridColor",dt.gridColor),k.set("gridOpacity",dt.gridOpacity),k.set("xAxisTickTextColor",dt.xAxisTickTextColor),k.set("xAxisTickTextOpacity",100),k.set("yAxisTickTextColor",dt.yAxisTickTextColor),k.set("yAxisTickTextOpacity",100)}else console.log("ðŸš« CANCEL CLICKED - Using theme manager"),p.cancel(),a(!1);b(S,!1),b(M,!1),b(T,!1),b(D,!1),b(U,!1),b(ae,!1),oa()}var gl=i$(),el=nt(gl);nd(el,{title:"Chart Setting",width:"min(90vw, 700px)",get show(){return a()},set show(pt){a(pt)},get theme(){return n().theme},click:Kl,buttons:["confirm","reset"],children:(pt,At)=>{var Bt=s$(),dt=m(Bt),Vt=m(dt),Tt=m(Vt);Tt.__click=[Oj,w];var Co=v(Tt,2);Co.__click=[Rj,w];var Ro=v(Co,2);Ro.__click=[Nj,w];var Tn=v(Ro,2);xe(Tn,()=>i(Ce),Es=>{var zn=Vj();zn.__click=[zj,w],Re(()=>{Ls(zn,"bg-primary",i(w)==="renko"),Ls(zn,"text-primary-content",i(w)==="renko"),Ls(zn,"hover:bg-base-200",i(w)!=="renko")}),N(Es,zn)});var jo=v(Tn,2);xe(jo,()=>i(Kt),Es=>{var zn=Wj();zn.__click=[qj,w],Re(()=>{Ls(zn,"bg-primary",i(w)==="pnf"),Ls(zn,"text-primary-content",i(w)==="pnf"),Ls(zn,"hover:bg-base-200",i(w)!=="pnf")}),N(Es,zn)}),_(Vt),_(dt);var En=v(dt,2),mo=m(En);xe(mo,()=>i(w)==="canvas",Es=>{var zn=Gj(),Vi=v(m(zn),2),Rn=v(m(Vi),2),Fs=m(Rn),Fi=m(Fs);Fi.value=(Fi.__value="solid")==null?"":"solid";var vr=v(Fi);vr.value=(vr.__value="gradient")==null?"":"gradient",_(Fs);var js=v(Fs,2);const qi=tt(()=>{var ft;return`background: ${(i(ke)==="gradient"?((ft=k.get("backgroundGradient"))==null?void 0:ft.css)||Go(i(Do))||"linear-gradient(0deg, #ffffff 0%, #000000 100%)":k.get("backgroundColor")||sn().backgroundColor)??""}`});js.__click=[Cj,ke,A,S,M,U,ae,T,D,oa],_(Rn),_(Vi);var Ti=v(Vi,2),xi=v(m(Ti),2),oi=m(xi),ir=m(oi);ir.value=(ir.__value="solid")==null?"":"solid";var Ws=v(ir);Ws.value=(Ws.__value="gradient")==null?"":"gradient",_(oi);var di=v(oi,2);const Ps=tt(()=>{var ft;return`background: ${(i(Ae)==="gradient"?((ft=k.get("gridGradient"))==null?void 0:ft.css)||Go(i(Zt))||"linear-gradient(0deg, #f3f3f3 0%, #1c1c1c 100%)":k.get("gridColor")||i(He)||sn().gridColor)??""}`});di.__click=[Ij,Ae,j,M,S,U,ae,T,D],_(xi),_(Ti);var ps=v(Ti,2),ni=v(m(ps),2),Zi=m(ni);const ui=tt(()=>`background: ${(k.get("xAxisTickTextColor")||sn().xAxisTickTextColor)??""}`);Zi.__click=[Pj,F,T,S,M,U,ae,D,oa],_(ni),_(ps);var pr=v(ps,2),Hr=v(m(pr),2),ge=m(Hr);const We=tt(()=>`background: ${(k.get("yAxisTickTextColor")||sn().yAxisTickTextColor)??""}`);ge.__click=[Mj,q,D,S,M,U,ae,T,oa],_(Hr),_(pr),_(zn),Re(()=>{lt(js,"style",i(qi)),lt(di,"style",i(Ps)),lt(Zi,"style",i(ui)),lt(ge,"style",i(We))}),qt(Fs,()=>i(ke),ft=>b(ke,ft)),qt(oi,()=>i(Ae),ft=>b(Ae,ft)),N(Es,zn)},Es=>{var zn=yt(),Vi=nt(zn);xe(Vi,()=>i(w)==="other",Rn=>{var Fs=Jj(),Fi=v(m(Fs),2);Qo(Fi,21,()=>Te,ln,(vr,js)=>{var qi=Xj(),Ti=m(qi),xi=m(Ti,!0);_(Ti);var oi=v(Ti,2);xe(oi,()=>i(js).type==="select",ir=>{var Ws=Yj();Qg(Ws,()=>Se.get(i(js).key)||i(js).default);var di;Ws.__change=[Hj,Ma,js],Qo(Ws,21,()=>i(js).options||[],ln,(Ps,ps)=>{var ni=Uj(),Zi={},ui=m(ni,!0);_(ni),Re(()=>{Zi!==(Zi=i(ps).value)&&(ni.value=(ni.__value=i(ps).value)==null?"":i(ps).value),wt(ui,i(ps).label)}),N(Ps,ni)}),_(Ws),Re(()=>{di!==(di=Se.get(i(js).key)||i(js).default)&&(Ws.value=(Ws.__value=Se.get(i(js).key)||i(js).default)==null?"":Se.get(i(js).key)||i(js).default,sp(Ws,Se.get(i(js).key)||i(js).default))}),N(ir,Ws)},ir=>{var Ws=yt(),di=nt(Ws);xe(di,()=>i(js).type==="switch",Ps=>{var ps=Zj();ut(ps),Re(()=>Yd(ps,Se.get(i(js).key)||i(js).default)),ps.__change=[Kj,Ma,js],N(Ps,ps)},null,!0),N(ir,Ws)}),_(qi),Re(()=>wt(xi,i(js).label)),N(vr,qi)}),_(Fi),_(Fs),N(Rn,Fs)},Rn=>{var Fs=yt(),Fi=nt(Fs);xe(Fi,()=>i(w)==="candle",vr=>{var js=Qj(),qi=v(m(js),2),Ti=m(qi),xi=m(Ti),oi=m(xi);ut(oi),oi.__change=[jj,Ue,Gr],ei(2),_(xi);var ir=v(xi,2),Ws=m(ir),di=v(m(Ws),2);di.__click=[Tj,re,S,M,T,D,U,ae,oa,B],_(Ws);var Ps=v(Ws,2),ps=v(m(Ps),2);ps.__click=[Aj,se,S,M,T,D,U,ae,oa,O],_(Ps),_(ir),_(Ti);var ni=v(Ti,2),Zi=m(ni),ui=m(Zi);ut(ui),ui.__change=[$j,Be,Gr],ei(2),_(Zi);var pr=v(Zi,2),Hr=m(pr),ge=v(m(Hr),2);ge.__click=[Dj,ie,S,M,T,D,U,ae,oa,z],_(Hr);var We=v(Hr,2),ft=v(m(We),2);ft.__click=[Lj,te,S,M,T,D,U,ae,oa,Y],_(We),_(pr),_(ni);var Ht=v(ni,2),jt=m(Ht),go=m(jt);ut(go),go.__change=[Bj,le,Gr],ei(2),_(jt);var Rt=v(jt,2),To=m(Rt),Lo=v(m(To),2);Lo.__click=[Ej,K,S,M,T,D,U,ae,oa,G],_(To);var Mo=v(To,2),Fn=v(m(Mo),2);Fn.__click=[Fj,J,S,M,T,D,U,ae,oa,oe],_(Mo),_(Rt),_(Ht),_(qi),_(js),Re(()=>{lt(di,"style",`background-color: ${i(ye)??""}`),di.disabled=!i(Ue),Ls(di,"opacity-50",!i(Ue)),lt(ps,"style",`background-color: ${i(Ee)??""}`),ps.disabled=!i(Ue),Ls(ps,"opacity-50",!i(Ue)),lt(ge,"style",`background-color: ${i(Je)??""}`),ge.disabled=!i(Be),Ls(ge,"opacity-50",!i(Be)),lt(ft,"style",`background-color: ${i(be)??""}`),ft.disabled=!i(Be),Ls(ft,"opacity-50",!i(Be)),lt(Lo,"style",`background-color: ${i(X)??""}`),Lo.disabled=!i(le),Ls(Lo,"opacity-50",!i(le)),lt(Fn,"style",`background-color: ${i(H)??""}`),Fn.disabled=!i(le),Ls(Fn,"opacity-50",!i(le))}),fd(oi,()=>i(Ue),fs=>b(Ue,fs)),fd(ui,()=>i(Be),fs=>b(Be,fs)),fd(go,()=>i(le),fs=>b(le,fs)),N(vr,js)},vr=>{var js=yt(),qi=nt(js);xe(qi,()=>i(w)==="renko",Ti=>{var xi=e$(),oi=v(m(xi),2),ir=m(oi),Ws=m(ir),di=m(Ws);ut(di),di.__change=[fj,Qe,yo],ei(2),_(Ws),_(ir);var Ps=v(ir,2),ps=m(Ps),ni=v(m(ps),2);ni.__change=[gj,mt,yo];var Zi=m(ni);Zi.value=(Zi.__value="close")==null?"":"close";var ui=v(Zi);ui.value=(ui.__value="open")==null?"":"open";var pr=v(ui);pr.value=(pr.__value="high")==null?"":"high";var Hr=v(pr);Hr.value=(Hr.__value="low")==null?"":"low",_(ni),_(ps);var ge=v(ps,2),We=v(m(ge),2);We.__change=[_j,bt,yo];var ft=m(We);ft.value=(ft.__value="ATR")==null?"":"ATR",_(We),_(ge);var Ht=v(ge,2),jt=v(m(Ht),2);ut(jt),jt.__input=[mj,ct,yo],_(Ht),_(Ps),_(oi),_(xi),Re(()=>{Yd(di,i(Qe)),Ud(jt,i(ct))}),qt(ni,()=>i(mt),go=>b(mt,go)),qt(We,()=>i(bt),go=>b(bt,go)),N(Ti,xi)},Ti=>{var xi=yt(),oi=nt(xi);xe(oi,()=>i(w)==="pnf",ir=>{var Ws=n$(),di=v(m(Ws),2),Ps=m(di),ps=m(Ps),ni=v(m(ps),2);ni.__change=[hj,to,uo];var Zi=m(ni);Zi.value=(Zi.__value="ATR")==null?"":"ATR";var ui=v(Zi);ui.value=(ui.__value="absolute")==null?"":"absolute";var pr=v(ui);pr.value=(pr.__value="percent")==null?"":"percent",_(ni),_(ps);var Hr=v(ps,2);xe(Hr,()=>i(to)==="ATR",_i=>{var br=t$(),bs=v(m(br),2);ut(bs),bs.__input=[bj,ro,uo],_(br),Re(()=>Ud(bs,i(ro))),N(_i,br)},_i=>{var br=o$(),bs=m(br),Xi=m(bs);_(bs);var xr=v(bs,2);ut(xr),xr.__input=[yj,io,uo],_(br),Re(()=>{wt(Xi,`Box Size ${(i(to)==="percent"?"(%)":"(Price)")??""}`),Ud(xr,i(io))}),N(_i,br)}),_(Ps);var ge=v(Ps,2),We=v(m(ge),2);ut(We),We.__input=[xj,Uo,uo],_(ge);var ft=v(ge,2),Ht=v(m(ft),2),jt=m(Ht),go=v(m(jt),2),Rt=m(go);ut(Rt),Rt.__input=[wj,an,uo];var To=v(Rt,2),Lo=m(To,!0);_(To),_(go),_(jt);var Mo=v(jt,2),Fn=v(m(Mo),2),fs=m(Fn);ut(fs),fs.__input=[kj,Mn,uo];var si=v(fs,2),ji=m(si,!0);_(si),_(Fn),_(Mo),_(Ht),_(ft);var Ai=v(ft,2),$i=m(Ai);$i.__click=[Sj,to,io,ro,Uo,an,Mn,uo],_(Ai),_(di),_(Ws),Re(()=>{Ud(We,i(Uo)),wt(Lo,i(an)),wt(ji,i(Mn))}),qt(ni,()=>i(to),_i=>b(to,_i)),Mt(Rt,()=>i(an),_i=>b(an,_i)),Mt(fs,()=>i(Mn),_i=>b(Mn,_i)),N(ir,Ws)},null,!0),N(Ti,xi)},!0),N(vr,js)},!0),N(Rn,Fs)},!0),N(Es,zn)}),_(En),_(Bt),Re(()=>{Ls(Tt,"bg-primary",i(w)==="canvas"),Ls(Tt,"text-primary-content",i(w)==="canvas"),Ls(Tt,"hover:bg-base-200",i(w)!=="canvas"),Ls(Co,"bg-primary",i(w)==="other"),Ls(Co,"text-primary-content",i(w)==="other"),Ls(Co,"hover:bg-base-200",i(w)!=="other"),Ls(Ro,"bg-primary",i(w)==="candle"),Ls(Ro,"text-primary-content",i(w)==="candle"),Ls(Ro,"hover:bg-base-200",i(w)!=="candle")}),N(pt,Bt)},$$slots:{default:!0}});var _l=v(el,2);xe(_l,()=>i(S),pt=>{var At=tt(()=>k.get("backgroundColor")||sn().backgroundColor);Qc(pt,{get show(){return i(S)},set show(Bt){b(S,$(Bt))},get selectedColor(){return i(At)},get opacity(){return i(it)},$$events:{colorChange:zi,opacityChange:Ki}})});var Ba=v(_l,2);xe(Ba,()=>i(M),pt=>{var At=tt(()=>k.get("gridColor")||i(He)||sn().gridColor);Qc(pt,{get show(){return i(M)},set show(Bt){b(M,$(Bt))},get selectedColor(){return i(At)},get opacity(){return i(Ne)},$$events:{colorChange:wa,opacityChange:Ei}})});var ll=v(Ba,2);xe(ll,()=>i(T),pt=>{var At=tt(()=>k.get("xAxisTickTextColor")||sn().xAxisTickTextColor);Qc(pt,{get show(){return i(T)},set show(Bt){b(T,$(Bt))},get selectedColor(){return i(At)},get opacity(){return i(we)},$$events:{colorChange:Za,opacityChange:sl}})});var Kr=v(ll,2);xe(Kr,()=>i(D),pt=>{var At=tt(()=>k.get("yAxisTickTextColor")||sn().yAxisTickTextColor);Qc(pt,{get show(){return i(D)},set show(Bt){b(D,$(Bt))},get selectedColor(){return i(At)},get opacity(){return i(je)},$$events:{colorChange:Xa,opacityChange:Ja}})});var yr=v(Kr,2);xe(yr,()=>i(B),pt=>{Qc(pt,{get show(){return i(B)},set show(At){b(B,$(At))},get selectedColor(){return i(ye)},$$events:{colorChange:fl}})});var Oa=v(yr,2);xe(Oa,()=>i(O),pt=>{Qc(pt,{get show(){return i(O)},set show(At){b(O,$(At))},get selectedColor(){return i(Ee)},$$events:{colorChange:bl}})});var wl=v(Oa,2);xe(wl,()=>i(z),pt=>{Qc(pt,{get show(){return i(z)},set show(At){b(z,$(At))},get selectedColor(){return i(Je)},$$events:{colorChange:rl}})});var Vr=v(wl,2);xe(Vr,()=>i(Y),pt=>{Qc(pt,{get show(){return i(Y)},set show(At){b(Y,$(At))},get selectedColor(){return i(be)},$$events:{colorChange:Ta}})});var tl=v(Vr,2);xe(tl,()=>i(G),pt=>{Qc(pt,{get show(){return i(G)},set show(At){b(G,$(At))},get selectedColor(){return i(X)},$$events:{colorChange:al}})});var Ra=v(tl,2);xe(Ra,()=>i(oe),pt=>{Qc(pt,{get show(){return i(oe)},set show(At){b(oe,$(At))},get selectedColor(){return i(H)},$$events:{colorChange:xl}})});var ol=v(Ra,2);xe(ol,()=>i(U),pt=>{r2(pt,{get show(){return i(U)},set show(At){b(U,$(At))},get initialGradient(){return i(Do)},$$events:{gradientChange:pl}})});var Na=v(ol,2);xe(Na,()=>i(ae),pt=>{r2(pt,{get show(){return i(ae)},set show(At){b(ae,$(At))},get initialGradient(){return i(Zt)},$$events:{gradientChange:il}})}),N(o,gl),Mr()}Pa(["click","change","input"]);var r$=(o,e,t)=>e(i(t).key,o.currentTarget.value),a$=ue("<option> </option>"),l$=ue('<select class="select select-bordered select-sm w-full"></select>'),c$=(o,e,t)=>e(i(t).key,o.currentTarget.checked),d$=ue('<input type="checkbox" class="toggle toggle-sm">'),u$=ue('<span class="text-base-content/70 text-right"> </span> <!>',1),v$=(o,e)=>b(e,!0),p$=ue('<div class="grid grid-cols-[3fr_2fr_3fr_2fr] gap-5 mx-7 my-5 items-center"><!> <div class="col-span-4 mt-4 pt-4 border-t border-base-300"><button class="btn btn-outline btn-primary w-full">Chart Setting</button></div></div>'),f$=ue("<!> <!>",1);function g$(o,e){Pr(e,!0);const t=El(),n=()=>ti(u,"$chart",t),s=()=>ti(d,"$save",t);let r=Po(e,"show",15);const a=new M0,c=ur("ctx"),d=ur("save"),u=ur("chart");let p=Z(!1);const h=[{key:"candle.priceMark.last.show",text:"last_price_show",component:"switch"},{key:"candle.priceMark.high.show",text:"high_price_show",component:"switch"},{key:"candle.priceMark.low.show",text:"low_price_show",component:"switch"},{key:"indicator.lastValueMark.show",text:"indicator_last_value_show",component:"switch"},{key:"yAxis.reverse",text:"reverse_coordinate",component:"switch"},{key:"grid.show",text:"grid_show",component:"switch"}];function x(j,F){var Y,G,oe;const q=(Y=n())==null?void 0:Y.getStyles(),B=_t.get(q,j);if(j==="yAxis.reverse")try{(G=n())==null||G.setPaneOptions({axis:{reverse:F}}),d.update(re=>(_t.set(re.styles,j,F),re)),a.set(j,F);return}catch(re){console.warn("setPaneOptions not available, falling back to styles:",re)}if(B==F)return;a.set(j,F),d.update(re=>(_t.set(re.styles,j,F),re));const O=ga(s().theme),z=_t.merge({},O,s().styles);(oe=n())==null||oe.setStyles(Fr(z))}function w(j){var F,q,B;if(j==="reset"){const O=(q=(F=s().styles)==null?void 0:F.candle)==null?void 0:q.type,z=ga(s().theme),Y=s().styles;h.forEach(oe=>{_t.unset(Y,oe.key)}),d.update(oe=>(oe.styles=Y,O&&(oe.styles.candle||(oe.styles.candle={}),oe.styles.candle.type=O),oe));const G=_t.merge({},z,s().styles);(B=n())==null||B.setStyles(Fr(G)),k()}else r(!1)}function k(){let j=n();if(!j)return;const F=j.getStyles()??{};h.forEach(q=>{const B=_t.get(F,q.key);q.key==="yAxis.reverse"?a.set(q.key,B||!1):a.set(q.key,B)})}ja(c,j=>j.initDone).subscribe(k),Ds(()=>{r()&&n()&&k()});var M=f$(),T=nt(M),D=tt(()=>by());nd(T,{get title(){return i(D)},width:760,get show(){return r()},set show(j){r(j)},get theme(){return s().theme},click:w,buttons:["confirm","reset"],children:(j,F)=>{var q=p$(),B=m(q);Qo(B,17,()=>h,ln,(Y,G)=>{var oe=u$(),re=nt(oe),se=m(re,!0);Re(()=>{var te;return wt(se,(te=_d[i(G).text])==null?void 0:te.call(_d))}),_(re);var ie=v(re,2);xe(ie,()=>i(G).component==="select",te=>{var K=l$();Qg(K,()=>a.get(i(G).key));var J;K.__change=[r$,x,G],Qo(K,21,()=>i(G).dataSource||[],ln,(U,ae)=>{var me=a$(),ke={},Ae=m(me,!0);Re(()=>{var Le;return wt(Ae,((Le=_d[i(ae).text])==null?void 0:Le.call(_d))||i(ae).text)}),_(me),Re(()=>{ke!==(ke=i(ae).key)&&(me.value=(me.__value=i(ae).key)==null?"":i(ae).key)}),N(U,me)}),_(K),Re(()=>{J!==(J=a.get(i(G).key))&&(K.value=(K.__value=a.get(i(G).key))==null?"":a.get(i(G).key),sp(K,a.get(i(G).key)))}),N(te,K)},te=>{var K=yt(),J=nt(K);xe(J,()=>i(G).component==="switch",U=>{var ae=d$();ut(ae),Re(()=>Yd(ae,!!a.get(i(G).key))),ae.__change=[c$,x,G],N(U,ae)},null,!0),N(te,K)}),N(Y,oe)});var O=v(B,2),z=m(O);z.__click=[v$,p],_(O),_(q),N(j,q)},$$slots:{default:!0}});var A=v(T,2);Eb(A,{get show(){return i(p)},set show(j){b(p,$(j))}}),N(o,M),Mr()}Pa(["change","click"]);var _$=ue('<img alt="screenshot" class="w-[500px] mt-5">');function m$(o,e){Pr(e,!0);const t=El(),n=()=>ti(r,"$save",t);let s=Po(e,"show",15);const r=ur("save");function a(c){if(c==="confirm"){const d=document.createElement("a");d.download="screenshot",d.href=e.url,document.body.appendChild(d),d.click(),d.remove()}s(!1)}nd(o,{title:"Screenshot",width:540,get show(){return s()},set show(c){s(c)},get theme(){return n().theme},click:a,children:(c,d)=>{var u=_$();Re(()=>lt(u,"src",e.url)),N(c,u)},$$slots:{default:!0}}),Mr()}function h$(o,e,t){const n=o.target;Qs(t,Qt(e).timezone=n.value,Qt(e))}var y$=ue("<option> </option>"),b$=ue('<div class="flex justify-center items-center min-h-[70px]"><select class="select select-bordered w-[70%]"></select></div>');function x$(o,e){Pr(e,!0);const t=El(),n=()=>ti(r,"$save",t);let s=Po(e,"show",15);const r=ur("save"),a=V3();function c(u){s(!1)}var d=tt(()=>_y());nd(o,{get title(){return i(d)},width:400,get show(){return s()},set show(u){s(u)},get theme(){return n().theme},click:c,children:(u,p)=>{var h=b$(),x=m(h);Qg(x,()=>n().timezone);var w;x.__change=[h$,n,r],Qo(x,21,()=>a,ln,(k,S)=>{var M=y$(),T={},D=m(M,!0);Re(()=>wt(D,_d[i(S).text]())),_(M),Re(()=>{T!==(T=i(S).key)&&(M.value=(M.__value=i(S).key)==null?"":i(S).key)}),N(k,M)}),_(x),_(h),Re(()=>{w!==(w=n().timezone)&&(x.value=(x.__value=n().timezone)==null?"":n().timezone,sp(x,n().timezone))}),N(u,h)},$$slots:{default:!0}}),Mr()}Pa(["change"]);var w$=ue('<div class="warning-banner"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 9v2m0 4h.01M10.29 3.86l-7.6 13.17A1 1 0 003.53 19h16.94a1 1 0 00.84-1.5L13.71 3.86a1 1 0 00-1.73 0z"></path></svg> <span> </span></div>'),k$=(o,e,t)=>e(i(t),o),S$=ue('<div class="selection-badge"><svg width="14" height="14" viewBox="0 0 16 16" fill="none"><path d="M13.3 4.3L6 11.6 2.7 8.3l1.1-1.1L6 9.4l6.2-6.2 1.1 1.1z" fill="currentColor" stroke="currentColor" stroke-width="0.5"></path></svg></div>'),C$=ue('<button class="chart-card"><div class="card-bg"></div> <!> <div class="icon-container"><div class="icon-glow"></div> <!></div> <span class="chart-name"> </span> <div class="shine-effect"></div></button>'),I$=ue(`<!> <div class="premium-grid"></div> <style>/* ===== PREMIUM GRID LAYOUT ===== */
    .premium-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 14px;
      padding: 8px;
    }
    
    @media (max-width: 640px) {
      .premium-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
        padding: 6px;
      }
    }
    
    @media (max-width: 480px) {
      .premium-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
        padding: 8px;
      }
    }
    
    /* ===== PREMIUM CHART CARD ===== */
    .chart-card {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 20px 12px 18px;
      background: linear-gradient(145deg, 
        rgba(30, 35, 48, 0.6) 0%, 
        rgba(20, 25, 35, 0.4) 100%);
      border: 1.5px solid rgba(255, 255, 255, 0.06);
      border-radius: 14px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      box-shadow: 
        0 4px 20px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }
    
    @media (max-width: 640px) {
      .chart-card {
        padding: 16px 10px 14px;
        gap: 8px;
      }
    }
    
    @media (max-width: 480px) {
      .chart-card {
        padding: 22px 14px 20px;
        gap: 12px;
      }
    }
    
    /* Animated background */
    .card-bg {
      position: absolute;
      inset: 0;
      background: linear-gradient(145deg,
        rgba(45, 55, 75, 0.3) 0%,
        rgba(30, 40, 60, 0.2) 50%,
        rgba(20, 30, 50, 0.3) 100%);
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 0;
    }
    
    /* Hover state */
    .chart-card:hover {
      transform: translateY(-3px);
      border-color: rgba(255, 255, 255, 0.12);
      background: linear-gradient(145deg, 
        rgba(35, 45, 60, 0.7) 0%, 
        rgba(25, 35, 50, 0.5) 100%);
      box-shadow: 
        0 12px 40px rgba(0, 0, 0, 0.4),
        0 6px 20px rgba(20, 30, 50, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.08);
    }
    
    .chart-card:hover .card-bg {
      opacity: 1;
    }
    
    /* Active state */
    .chart-card.active {
      background: linear-gradient(145deg, 
        rgba(30, 50, 80, 0.5) 0%,
        rgba(20, 40, 70, 0.4) 50%,
        rgba(25, 45, 75, 0.5) 100%);
      border-color: rgba(70, 120, 180, 0.4);
      box-shadow: 
        0 8px 32px rgba(30, 60, 100, 0.3),
        0 4px 16px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.1),
        0 0 0 1px rgba(60, 100, 150, 0.2);
      transform: translateY(-2px);
    }
    
    .chart-card.active .card-bg {
      background: linear-gradient(145deg,
        rgba(40, 65, 95, 0.4) 0%,
        rgba(30, 55, 85, 0.3) 50%,
        rgba(35, 60, 90, 0.4) 100%);
      opacity: 1;
    }
    
    .chart-card.active:hover {
      transform: translateY(-2px);
      border-color: rgba(80, 130, 190, 0.5);
    }
    
    /* ===== SELECTION BADGE ===== */
    .selection-badge {
      position: absolute;
      top: 8px;
      right: 8px;
      width: 20px;
      height: 20px;
      background: linear-gradient(135deg, 
        rgba(70, 120, 180, 0.9) 0%, 
        rgba(50, 100, 160, 0.85) 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      z-index: 10;
      border: 1px solid rgba(255, 255, 255, 0.15);
      box-shadow: 
        0 3px 10px rgba(30, 60, 100, 0.4),
        0 1px 3px rgba(0, 0, 0, 0.3);
      animation: badgePulse 2.5s ease-in-out infinite;
    }
    
    @keyframes badgePulse {
      0%, 100% {
        transform: scale(1);
        box-shadow: 
          0 3px 10px rgba(30, 60, 100, 0.4),
          0 1px 3px rgba(0, 0, 0, 0.3);
      }
      50% {
        transform: scale(1.05);
        box-shadow: 
          0 4px 14px rgba(40, 70, 110, 0.5),
          0 2px 5px rgba(0, 0, 0, 0.35);
      }
    }
    
    /* ===== ICON CONTAINER ===== */
    .icon-container {
      position: relative;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 12px;
      background: linear-gradient(145deg, 
        rgba(40, 50, 65, 0.5) 0%, 
        rgba(25, 35, 50, 0.3) 100%);
      border: 1px solid rgba(255, 255, 255, 0.08);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 
        0 3px 12px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.06);
      z-index: 1;
    }
    
    @media (max-width: 640px) {
      .icon-container {
        width: 42px;
        height: 42px;
        border-radius: 10px;
      }
    }
    
    @media (max-width: 480px) {
      .icon-container {
        width: 50px;
        height: 50px;
        border-radius: 12px;
      }

    }
    
    .icon-glow {
      position: absolute;
      inset: -3px;
      background: linear-gradient(145deg, 
        rgba(50, 90, 140, 0.3) 0%, 
        rgba(35, 70, 120, 0.25) 100%);
      border-radius: inherit;
      opacity: 0;
      filter: blur(10px);
      transition: opacity 0.3s ease;
      z-index: -1;
    }
    
    .chart-card:hover .icon-container {
      transform: scale(1.06);
      background: linear-gradient(145deg, 
        rgba(50, 65, 85, 0.6) 0%, 
        rgba(35, 50, 70, 0.4) 100%);
      box-shadow: 
        0 5px 18px rgba(0, 0, 0, 0.25),
        0 2px 10px rgba(30, 50, 80, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }
    
    .chart-card.active .icon-container {
      background: linear-gradient(145deg, 
        rgba(40, 70, 110, 0.5) 0%, 
        rgba(30, 60, 95, 0.4) 100%);
      border-color: rgba(70, 110, 160, 0.3);
      transform: scale(1.04);
      box-shadow: 
        0 6px 20px rgba(30, 60, 100, 0.3),
        0 3px 12px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.12);
    }
    
    .chart-card.active .icon-glow {
      opacity: 0.5;
    }
    
    /* ===== CHART ICON ===== */
    :global(.chart-icon) {
      color: rgba(200, 210, 230, 0.85);
      filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.3));
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 2;
    }
    
    .chart-card:hover :global(.chart-icon) {
      color: rgba(220, 230, 245, 0.95);
      filter: drop-shadow(0 3px 8px rgba(0, 0, 0, 0.35));
      transform: scale(1.05);
    }
    
    .chart-card.active :global(.chart-icon) {
      color: rgba(160, 200, 240, 1);
      filter: drop-shadow(0 4px 12px rgba(40, 80, 130, 0.5));
      transform: scale(1.03);
    }
    
    /* ===== CHART NAME ===== */
    .chart-name {
      color: rgba(180, 190, 210, 0.85);
      font-size: 12px;
      font-weight: 500;
      text-align: center;
      line-height: 1.3;
      letter-spacing: 0.4px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1;
    }
    
    @media (max-width: 640px) {
      .chart-name {
        font-size: 11px;
      }
    }
    
    @media (max-width: 480px) {
      .chart-name {
        font-size: 12.5px;
      }
    }
    
    .chart-card:hover .chart-name {
      color: rgba(210, 220, 235, 0.95);
      transform: translateY(-1px);
    }
    
    .chart-card.active .chart-name {
      color: rgba(180, 210, 240, 1);
      font-weight: 600;
      letter-spacing: 0.5px;
    }
    
    /* ===== SHINE EFFECT ===== */
    .shine-effect {
      position: absolute;
      inset: 0;
      background: linear-gradient(
        115deg,
        transparent 25%,
        rgba(255, 255, 255, 0.08) 45%,
        rgba(200, 220, 240, 0.12) 50%,
        rgba(255, 255, 255, 0.08) 55%,
        transparent 75%
      );
      transform: translateX(-100%) skewX(-15deg);
      transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .chart-card:hover .shine-effect {
      transform: translateX(100%) skewX(-15deg);
    }
    
    /* ===== LIGHT THEME ===== */
    :global([data-theme="light"]) .chart-card {
      background: linear-gradient(145deg, #ffffff 0%, #f9fbff 100%);
      border-color: rgba(59, 130, 246, 0.15);
      box-shadow: 
        0 2px 6px rgba(59, 130, 246, 0.08),
        0 1px 2px rgba(0, 0, 0, 0.04);
    }
    
    :global([data-theme="light"]) .card-bg {
      background: transparent;
      opacity: 0;
    }
    
    :global([data-theme="light"]) .chart-card:hover {
      background: #ffffff;
      border-color: rgba(59, 130, 246, 0.25);
      box-shadow: 
        0 6px 14px rgba(59, 130, 246, 0.10),
        0 3px 8px rgba(0, 0, 0, 0.05);
    }
    
    :global([data-theme="light"]) .chart-card.active {
      background: linear-gradient(145deg, #e8f4ff 0%, #f0f8ff 100%);
      border-color: rgba(100, 150, 220, 0.4);
      box-shadow: 
        0 3px 10px rgba(100, 150, 220, 0.15),
        0 1px 4px rgba(0, 0, 0, 0.05);
    }
    
    :global([data-theme="light"]) .chart-card.active .card-bg {
      opacity: 0;
    }
    
    :global([data-theme="light"]) .icon-container {
      background: #f3f6fb;
      border-color: rgba(59, 130, 246, 0.15);
      box-shadow: 
        0 1px 3px rgba(0, 0, 0, 0.04),
        inset 0 0.5px 0 rgba(255, 255, 255, 1);
    }
    
    :global([data-theme="light"]) .chart-card:hover .icon-container {
      background: #f0f2f5;
      box-shadow: 
        0 2px 6px rgba(0, 0, 0, 0.05),
        inset 0 0.5px 0 rgba(255, 255, 255, 1);
    }
    
    :global([data-theme="light"]) .chart-card.active .icon-container {
      background: linear-gradient(145deg, #dceeff 0%, #e6f3ff 100%);
      border-color: rgba(100, 150, 220, 0.2);
      box-shadow: 
        0 2px 8px rgba(100, 150, 220, 0.12),
        inset 0 0.5px 0 rgba(255, 255, 255, 1);
    }
    
    :global([data-theme="light"]) .icon-glow {
      opacity: 0;
    }
    
    :global([data-theme="light"]) :global(.chart-icon) {
      color: #3b82f6;
      filter: drop-shadow(0 0.5px 1px rgba(59, 130, 246, 0.15));
    }
    
    :global([data-theme="light"]) .chart-card:hover :global(.chart-icon) {
      color: #2563eb;
      filter: drop-shadow(0 1px 2px rgba(37, 99, 235, 0.2));
    }
    
    :global([data-theme="light"]) .chart-card.active :global(.chart-icon) {
      color: #1d4ed8;
      filter: drop-shadow(0 1px 3px rgba(29, 78, 216, 0.3));
    }
    
    :global([data-theme="light"]) .chart-name {
      color: #334155;
    }
    
    :global([data-theme="light"]) .chart-card:hover .chart-name {
      color: #1f2937;
    }
    
    :global([data-theme="light"]) .chart-card.active .chart-name {
      color: #2563eb;
      font-weight: 600;
    }
    
    :global([data-theme="light"]) .selection-badge {
      background: linear-gradient(135deg, #5ba3f5 0%, #4a90e2 100%);
      border-color: rgba(255, 255, 255, 0.8);
      box-shadow: 
        0 2px 8px rgba(74, 144, 226, 0.3),
        0 1px 2px rgba(0, 0, 0, 0.1);
    }
    
    /* ===== WARNING BANNER ===== */
    .warning-banner {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px 18px;
      margin-bottom: 16px;
      background: linear-gradient(135deg, rgba(245, 158, 11, 0.15) 0%, rgba(239, 68, 68, 0.1) 100%);
      border: 1px solid rgba(245, 158, 11, 0.3);
      border-radius: 12px;
      color: rgba(251, 191, 36, 0.95);
      font-size: 14px;
      font-weight: 500;
      box-shadow: 0 4px 12px rgba(245, 158, 11, 0.15);
    }
    
    .warning-banner svg {
      flex-shrink: 0;
      color: rgba(251, 191, 36, 1);
      filter: drop-shadow(0 2px 4px rgba(245, 158, 11, 0.3));
    }
    
    :global([data-theme="light"]) .warning-banner {
      background: linear-gradient(135deg, rgba(254, 243, 199, 0.9) 0%, rgba(254, 226, 226, 0.8) 100%);
      border-color: rgba(217, 119, 6, 0.3);
      color: rgba(146, 64, 14, 0.95);
      box-shadow: 0 2px 8px rgba(217, 119, 6, 0.15);
    }
    
    :global([data-theme="light"]) .warning-banner svg {
      color: rgba(217, 119, 6, 1);
      filter: drop-shadow(0 1px 2px rgba(217, 119, 6, 0.2));
    }
    
    /* ===== DISABLED STATE ===== */
    .chart-card.disabled {
      opacity: 0.35;
      cursor: not-allowed;
      pointer-events: auto;
    }
    
    .chart-card.disabled:hover {
      transform: none;
      opacity: 0.35;
      border-color: rgba(255, 255, 255, 0.06);
      background: linear-gradient(145deg, 
        rgba(30, 35, 48, 0.6) 0%, 
        rgba(20, 25, 35, 0.4) 100%);
      box-shadow: 
        0 4px 20px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }
    
    .chart-card.disabled .card-bg {
      opacity: 0;
    }
    
    .chart-card.disabled .icon-container {
      transform: none;
    }
    
    .chart-card.disabled .shine-effect {
      display: none;
    }
    
    :global([data-theme="light"]) .chart-card.disabled {
      opacity: 0.4;
    }
    
    :global([data-theme="light"]) .chart-card.disabled:hover {
      opacity: 0.4;
    }</style>`,1);function P$(o,e){Pr(e,!0);const t=El(),n=()=>ti(a,"$save",t),s=()=>ti(c,"$chart",t);let r=Po(e,"show",15);ur("ctx");const a=ur("save"),c=ur("chart"),d=[{id:"candle_solid",name:"Candlestick",icon:"candle_solid"},{id:"candle_stroke",name:"Hollow",icon:"candle_stroke"},{id:"candle_up_stroke",name:"Up Hollow",icon:"candle_up_stroke"},{id:"candle_down_stroke",name:"Down Hollow",icon:"candle_down_stroke"},{id:"heikin_ashi",name:"Heikin Ashi",icon:"candle_solid"},{id:"renko_atr",name:"Duty AI Renko",icon:"candle_solid"},{id:"point_and_figure",name:"Point & Figure",icon:"point_and_figure"},{id:"ohlc",name:"OHLC",icon:"ohlc"},{id:"area",name:"Area",icon:"area"},{id:"line_chart",name:"Line",icon:"line"}],u=["SMART_MONEY","TRAP_HUNTER","VOLCANIC","VOLCANIC_SIG"];function p(){return!n()||!n().saveInds?!1:Object.values(n().saveInds).some(S=>S&&u.includes(S.name))}let h=Z(!1),x=Z("");Ds(()=>{if(i(h)){const S=setTimeout(()=>{b(h,!1)},5e3);return()=>clearTimeout(S)}});function w(S,M){var j,F,q,B,O;const T=S;if(T.id==="renko_atr"&&p()){b(x,"You cannot use Duty AI Renko chart with AI Indicator"),b(h,!0),console.log("âš ï¸ Cannot add Renko chart: AI indicators present");return}if(T.id==="point_and_figure"&&p()){b(x,"You cannot use Point & Figure chart with AI Indicator"),b(h,!0),console.log("âš ï¸ Cannot add P&F chart: AI indicators present");return}if(console.log("ðŸ“Š CHART TYPE CLICK:",T.id),M){const z=M.currentTarget;z.classList.add("selecting"),setTimeout(()=>{z.classList.remove("selecting")},800)}if(n().styles.candle||Qs(a,Qt(n).styles.candle={},Qt(n)),T.id==="line_chart"){console.log("ðŸŽ¯ Setting up LINE CHART (using area with transparent background)"),Qs(a,Qt(n).styles.candle.type="area",Qt(n));const z=((F=(j=n().styles.candle)==null?void 0:j.bar)==null?void 0:F.upColor)||"#2196F3";Qs(a,Qt(n).styles.candle.area={lineSize:2,lineColor:z,lineSmooth:!1,value:"close",backgroundColor:[{offset:0,color:"rgba(0, 0, 0, 0)"},{offset:1,color:"rgba(0, 0, 0, 0)"}]},Qt(n)),Qs(a,Qt(n).styles.candle._isLineChart=!0,Qt(n)),console.log("âœ… Line chart configured with area type and transparent background")}else if(T.id==="area"){console.log("ðŸŽ¯ Setting up AREA CHART with gradient fill"),Qs(a,Qt(n).styles.candle.type="area",Qt(n)),delete n().styles.candle._isLineChart;const z=((B=(q=n().styles.candle)==null?void 0:q.bar)==null?void 0:B.upColor)||"#2196F3";Qs(a,Qt(n).styles.candle.area={lineSize:2,lineColor:z,lineSmooth:!1,value:"close",backgroundColor:[{offset:0,color:z+"60"},{offset:1,color:z+"10"}]},Qt(n)),console.log("âœ… Area chart configured with gradient background")}else T.id==="renko_atr"?(console.log("ðŸŽ¯ Setting up RENKO (ATR) chart"),Qs(a,Qt(n).styles.candle.type="renko_atr",Qt(n)),n().styles.candle.renko||Qs(a,Qt(n).styles.candle.renko={method:"ATR",atrLength:14,source:"close",wick:!1},Qt(n)),delete n().styles.candle._isLineChart,delete n().styles.candle.area):T.id==="point_and_figure"?(console.log("ðŸŽ¯ Setting up POINT & FIGURE chart"),Qs(a,Qt(n).styles.candle.type="point_and_figure",Qt(n)),n().styles.candle.pnf||Qs(a,Qt(n).styles.candle.pnf={boxSizeMode:"ATR",boxSize:1,atrLength:14,reversalBoxes:3,upColor:"#00E6D8",downColor:"#FF4D4D"},Qt(n)),delete n().styles.candle._isLineChart,delete n().styles.candle.area):(Qs(a,Qt(n).styles.candle.type=T.id,Qt(n)),delete n().styles.candle._isLineChart,delete n().styles.candle.area);console.log("âœ… Saved chart type to $save.styles:",{type:n().styles.candle.type,isLineChart:n().styles.candle._isLineChart,area:n().styles.candle.area});const D=ga(n().theme);_t.merge(D,n().styles);const A=Fr(D);(O=s())==null||O.setStyles(A),console.log("âœ… Styles applied to chart with processing"),r(!1)}function k(){var M,T,D,A;return(T=(M=n().styles)==null?void 0:M.candle)!=null&&T._isLineChart?"line_chart":((A=(D=n().styles)==null?void 0:D.candle)==null?void 0:A.type)||"renko_atr"}nd(o,{get show(){return r()},set show(S){r(S)},title:"Chart Type",width:"550px",maxWidth:"95vw",maxHeight:"90vh",buttons:[],get theme(){return n().theme},class:"chart-type-modal-premium",children:(S,M)=>{var T=I$(),D=nt(T);xe(D,()=>i(h),j=>{var F=w$(),q=v(m(F),2),B=m(q,!0);_(q),_(F),Re(()=>wt(B,i(x))),bu(3,F,()=>Kg,()=>({y:-20,duration:300})),N(j,F)});var A=v(D,2);Qo(A,21,()=>d,j=>j.id,(j,F)=>{var q=C$();const B=tt(()=>(i(F).id==="renko_atr"||i(F).id==="point_and_figure")&&p());q.__click=[k$,w,F];const O=tt(()=>k()===i(F).id);Re(()=>Ls(q,"active",i(O)));var z=v(m(q),2);xe(z,()=>k()===i(F).id&&!i(B),se=>{var ie=S$();N(se,ie)});var Y=v(z,2),G=v(m(Y),2);Hd(G,{get name(){return i(F).icon},size:26,class:"chart-icon"}),_(Y);var oe=v(Y,2),re=m(oe,!0);_(oe),ei(2),_(q),Re(()=>{Ls(q,"disabled",i(B)),wt(re,i(F).name)}),N(j,q)}),_(A),ei(2),N(S,T)},$$slots:{default:!0}}),Mr()}Pa(["click"]);function l2(o,e){e(!1)}var M$=(o,e,t,n,s)=>!i(e)&&!i(t)&&n(i(s).is_main,i(s).name),T$=ue('<div class="particle svelte-uswuii"></div>'),A$=ue('<div class="stream-line svelte-uswuii"></div>'),D$=ue('<div class="segment svelte-uswuii"></div>'),L$=ue('<div class="ai-loading-overlay svelte-uswuii"><div class="particles-container svelte-uswuii"></div> <div class="data-stream svelte-uswuii"></div> <div class="loading-content svelte-uswuii"><div class="ai-loader-icon svelte-uswuii"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-uswuii"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" class="svelte-uswuii"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96" class="svelte-uswuii"></polyline><line x1="12" y1="22.08" x2="12" y2="12" class="svelte-uswuii"></line></svg> <div class="ai-pulse-ring ring-1 svelte-uswuii"></div> <div class="ai-pulse-ring ring-2 svelte-uswuii"></div> <div class="ai-pulse-ring ring-3 svelte-uswuii"></div> <div class="ai-glow svelte-uswuii"></div></div> <div class="loading-text-container svelte-uswuii"><div class="loading-text-main svelte-uswuii"> </div> <div class="loading-text-sub svelte-uswuii"> </div></div> <div class="progress-container svelte-uswuii"><div class="progress-bar svelte-uswuii"><div class="progress-glow svelte-uswuii"></div></div> <div class="progress-segments svelte-uswuii"></div></div> <div class="progress-info svelte-uswuii"><div class="progress-percentage svelte-uswuii"> </div> <div class="progress-status svelte-uswuii"> </div></div></div></div>'),E$=(o,e,t,n)=>{o.stopPropagation(),e(i(t),i(n).name)},F$=(o,e,t,n)=>{o.stopPropagation(),e(i(t),i(n).name)},j$=ue('<div class="indicator-actions svelte-uswuii"><button class="action-btn edit-btn svelte-uswuii" title="Edit Parameters"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-uswuii"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" class="svelte-uswuii"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" class="svelte-uswuii"></path></svg></button> <button class="action-btn delete-btn svelte-uswuii" title="Remove Indicator"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-uswuii"><polyline points="3 6 5 6 21 6" class="svelte-uswuii"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" class="svelte-uswuii"></path><line x1="10" y1="11" x2="10" y2="17" class="svelte-uswuii"></line><line x1="14" y1="11" x2="14" y2="17" class="svelte-uswuii"></line></svg></button></div>'),$$=ue('<div class="add-indicator-hint svelte-uswuii"><span class="svelte-uswuii">Click to add</span></div>'),B$=ue('<div class="indicator-icon svelte-uswuii"> </div> <div class="indicator-info svelte-uswuii"><span class="indicator-name svelte-uswuii"> </span></div> <!>',1),O$=ue("<div><!></div>"),R$=o=>o.stopPropagation(),N$=ue('<div class="ai-modal-backdrop svelte-uswuii" role="presentation"></div> <div class="ai-modal-container svelte-uswuii" role="dialog" aria-modal="true" aria-labelledby="ai-modal-title"><div class="ai-background svelte-uswuii"><div class="orb orb-1 svelte-uswuii"></div> <div class="orb orb-2 svelte-uswuii"></div> <div class="orb orb-3 svelte-uswuii"></div></div> <div class="ai-content svelte-uswuii"><div class="ai-header svelte-uswuii"><div class="ai-header-left svelte-uswuii"><div class="ai-icon-small svelte-uswuii"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-uswuii"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" class="svelte-uswuii"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96" class="svelte-uswuii"></polyline><line x1="12" y1="22.08" x2="12" y2="12" class="svelte-uswuii"></line></svg></div> <div class="ai-header-text svelte-uswuii"><h2 id="ai-modal-title" class="ai-title svelte-uswuii">AI Indicators</h2> <p class="ai-subtitle svelte-uswuii">Duty AI Advanced Algorithm - Exclusive for Pro Traders</p></div></div> <button class="close-btn svelte-uswuii" aria-label="Close"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-uswuii"><line x1="18" y1="6" x2="6" y2="18" class="svelte-uswuii"></line><line x1="6" y1="6" x2="18" y2="18" class="svelte-uswuii"></line></svg></button></div> <div class="indicators-list svelte-uswuii"><!> <div class="indicator-row coming-soon-item disabled svelte-uswuii"><div class="coming-soon-glitter-bg svelte-uswuii"></div> <div class="coming-soon-glitter-particle coming-soon-glitter-1 svelte-uswuii"></div> <div class="coming-soon-glitter-particle coming-soon-glitter-2 svelte-uswuii"></div> <div class="coming-soon-glitter-particle coming-soon-glitter-3 svelte-uswuii"></div> <div class="coming-soon-glitter-particle coming-soon-glitter-4 svelte-uswuii"></div> <div class="coming-soon-glitter-particle coming-soon-glitter-5 svelte-uswuii"></div> <div class="coming-soon-shine-sweep svelte-uswuii"></div> <div class="indicator-icon svelte-uswuii"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-uswuii"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" class="svelte-uswuii"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96" class="svelte-uswuii"></polyline><line x1="12" y1="22.08" x2="12" y2="12" class="svelte-uswuii"></line></svg></div> <div class="indicator-info svelte-uswuii"><span class="indicator-name svelte-uswuii">AI Trade Entry Finder and more AI algorithms</span> <span class="coming-soon-badge svelte-uswuii">Coming Soon</span></div></div></div> <div class="ai-powered-footer svelte-uswuii"><span class="powered-by-text svelte-uswuii">Powered by Duty AI</span></div></div></div>',1),z$=(o,e)=>b(e,!1),V$=(o,e)=>b(e,!1),q$=ue('<div class="premium-modal-backdrop svelte-uswuii" role="presentation"></div> <div class="premium-modal-container svelte-uswuii" role="dialog" aria-modal="true" aria-labelledby="premium-modal-title"><div class="premium-background svelte-uswuii"><div class="premium-orb premium-orb-1 svelte-uswuii"></div> <div class="premium-orb premium-orb-2 svelte-uswuii"></div></div> <div class="premium-content svelte-uswuii"><button class="premium-close-btn svelte-uswuii" aria-label="Close"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-uswuii"><line x1="18" y1="6" x2="6" y2="18" class="svelte-uswuii"></line><line x1="6" y1="6" x2="18" y2="18" class="svelte-uswuii"></line></svg></button> <div class="premium-icon-wrapper svelte-uswuii"><div class="premium-icon svelte-uswuii"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-uswuii"><path d="M12 2L2 7l10 5 10-5-10-5z" class="svelte-uswuii"></path><path d="M2 17l10 5 10-5" class="svelte-uswuii"></path><path d="M2 12l10 5 10-5" class="svelte-uswuii"></path></svg> <div class="premium-icon-glow svelte-uswuii"></div></div></div> <h2 id="premium-modal-title" class="premium-title svelte-uswuii">Premium Feature</h2> <p class="premium-message svelte-uswuii">AI Indicators are exclusive premium features. Upgrade to Premium to unlock all advanced AI algorithms and take your trading to the next level.</p> <div class="premium-features svelte-uswuii"><div class="premium-feature-item svelte-uswuii"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-uswuii"><polyline points="20 6 9 17 4 12" class="svelte-uswuii"></polyline></svg> <span class="svelte-uswuii">Smart Money Footprint</span></div> <div class="premium-feature-item svelte-uswuii"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-uswuii"><polyline points="20 6 9 17 4 12" class="svelte-uswuii"></polyline></svg> <span class="svelte-uswuii">Trap Hunter (Bull/Bear Traps)</span></div> <div class="premium-feature-item svelte-uswuii"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-uswuii"><polyline points="20 6 9 17 4 12" class="svelte-uswuii"></polyline></svg> <span class="svelte-uswuii">Volcanic Move & Eruptions</span></div> <div class="premium-feature-item svelte-uswuii"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-uswuii"><polyline points="20 6 9 17 4 12" class="svelte-uswuii"></polyline></svg> <span class="svelte-uswuii">More AI algorithms coming soon</span></div></div> <a target="_blank" rel="noopener noreferrer" class="premium-payment-btn svelte-uswuii"><span class="svelte-uswuii">Upgrade to Premium</span> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-uswuii"><line x1="5" y1="12" x2="19" y2="12" class="svelte-uswuii"></line><polyline points="12 5 19 12 12 19" class="svelte-uswuii"></polyline></svg></a></div></div>',1),W$=ue("<!> <!>",1);function G$(o,e){Pr(e,!0);const t=El(),n=()=>ti(p,"$chart",t),s=()=>ti(u,"$save",t),r=()=>ti(d,"$ctx",t),a=()=>ti(Iu,"$userPreferences",t);let c=Po(e,"show",15);const d=ur("ctx"),u=ur("save"),p=ur("chart"),h=[{name:"SMART_MONEY",title:"Smart Money Footprint",is_main:!0,icon:"ðŸ’°"},{name:"TRAP_HUNTER",title:"Trap Hunter (Bull/Bear Traps)",is_main:!0,icon:"ðŸŽ¯"},{name:"VOLCANIC",title:"Volcanic Move (Pressure) (Sub Pane)",is_main:!1,icon:"ðŸŒ‹"},{name:"VOLCANIC_SIG",title:"Volcanic Eruptions (Markers) (Main Pane)",is_main:!0,icon:"ðŸ’¥"}],x={SMART_MONEY:[{text:"ðŸ’° Tracking institutional money flow",duration:1200,subtext:"Analyzing whale movements..."},{text:"ðŸ¦ Detecting smart money footprints",duration:1400,subtext:"Scanning OBV patterns..."},{text:"ðŸ“Š Mapping accumulation zones",duration:1300,subtext:"Identifying support levels..."},{text:"ðŸŽ¯ Calculating volume clusters",duration:1200,subtext:"Processing 50,000+ trades..."},{text:"âœ¨ Activating smart money radar",duration:1100,subtext:"Deploying footprint tracker..."}],TRAP_HUNTER:[{text:"ðŸŽ¯ Scanning for bull/bear traps",duration:1200,subtext:"Analyzing false breakouts..."},{text:"ðŸ” Detecting fake-out patterns",duration:1400,subtext:"Identifying trap signatures..."},{text:"âš¡ Processing trap probability",duration:1300,subtext:"Calculating 20+ parameters..."},{text:"ðŸš¨ Mapping high-risk zones",duration:1200,subtext:"Locating potential traps..."},{text:"âœ¨ Deploying trap detection AI",duration:1100,subtext:"Activating alert system..."}],VOLCANIC:[{text:"ðŸŒ‹ Measuring market pressure",duration:1200,subtext:"Analyzing momentum buildup..."},{text:"ðŸ“ˆ Detecting volcanic activity",duration:1400,subtext:"Scanning RSI extremes..."},{text:"ðŸ”¥ Calculating eruption zones",duration:1300,subtext:"Processing pressure levels..."},{text:"âš¡ Tracking explosive setups",duration:1200,subtext:"Identifying breakout points..."},{text:"âœ¨ Activating volcanic pressure",duration:1100,subtext:"Deploying oscillator..."}],VOLCANIC_SIG:[{text:"ðŸ’¥ Detecting eruption signals",duration:1200,subtext:"Scanning breakout candles..."},{text:"ðŸš€ Analyzing explosive moves",duration:1400,subtext:"Tracking volume spikes..."},{text:"ðŸŽ¯ Mapping eruption markers",duration:1300,subtext:"Calculating signal strength..."},{text:"âš¡ Processing 15,000+ patterns",duration:1200,subtext:"Identifying eruption points..."},{text:"âœ¨ Deploying eruption markers",duration:1100,subtext:"Activating signal alerts..."}]};let w=Z($(new Set));Ds(()=>{var J;if(!c()||!n())return;const te=n();let K=new Set;try{const U=((J=te.getIndicators)==null?void 0:J.call(te))??[];K=new Set(U.map(ae=>ae.name)),console.log("ðŸ§  AI Modal (open) - from chart.getIndicators:",U)}catch(U){console.warn("âš ï¸ AI Modal - getIndicators failed, falling back to saveInds",U);const ae=new Set;s()&&s().saveInds&&Object.values(s().saveInds).forEach(me=>{me&&me.name&&ae.add(me.name)}),K=ae}console.log("ðŸ”„ AI Modal (open) - selectedIndicators updated:",Array.from(K)),console.log("ðŸ” AI Modal (open) - saveInds keys:",Object.keys(s().saveInds||{})),b(w,$(K))});let k=Z(!1),S=Z(null),M=Z(0),T=Z(0),D=Z($([])),A=Z(!1);Ds(()=>{!r().modalIndCfg&&i(k)&&(b(k,!1),setTimeout(()=>{c(!0)},100))}),Ds(()=>{c()&&(console.log("ðŸŽ¯ AI Modal opened"),console.log("ðŸ“Š Current saveInds:",s().saveInds),console.log("âœ… AI indicators in chart:",Array.from(i(w))))});function j(){var K,J,U;if(((J=(K=s().styles)==null?void 0:K.candle)==null?void 0:J.type)==="renko_atr"){console.log("ðŸ”„ Converting Renko chart to Candlestick for AI indicator compatibility"),Qs(u,Qt(s).styles.candle.type="candle_solid",Qt(s)),delete s().styles.candle.renko,delete s().styles.candle._isLineChart,delete s().styles.candle.area;const ae=ga(s().theme);_t.merge(ae,s().styles);const me=Fr(ae);return(U=n())==null||U.setStyles(me),console.log("âœ… Chart converted from Renko to Candlestick"),!0}return!1}async function F(te){b(S,$(te)),b(M,0),b(T,0),b(D,$(x[te]||x.SMART_MONEY));for(let K=0;K<i(D).length;(K+=1)-1){b(M,$(K));const J=i(D)[K],U=K/i(D).length*100,ae=(K+1)/i(D).length*100,me=20,ke=J.duration/me;for(let Ae=0;Ae<=me;(Ae+=1)-1)b(T,U+(ae-U)*(Ae/me)),await new Promise(Le=>setTimeout(Le,ke))}b(S,null),b(M,0),b(T,0),b(D,$([]))}function q(){var K;const te=(K=a())==null?void 0:K.data;return te?te.isPremium===!0||te.isTrial===!0:!1}async function B(te,K){if(!q()){console.log("ðŸ”’ Premium access required for AI indicators"),b(A,!0);return}await F(K),j();let J=!1;if(K==="SMART_MONEY"){const U="candle_pane",ae=n();if(ae&&ae.createIndicator({name:"SMART_MONEY",calcParams:[40,5,25,14,20,1.2,.03,20,.2,.6,1,20,1]},!0,{id:U})){const ke={name:"SMART_MONEY",pane_id:U,params:[40,5,25,14,20,1.2,.03,20,.2,.6,1,20,1]},Ae=`${U}_SMART_MONEY`;u.update(Le=>(Le.saveInds[Ae]=ke,Le)),md(),Gl.recordAddIndicator(K,U,ke.params,Ae),J=!0}}else if(K==="TRAP_HUNTER"){const U="candle_pane",ae=n();if(ae){const me=[20,20,3,5,20,1.3,7e-4,.35,.5,1,5];if(ae.createIndicator({name:"TRAP_HUNTER",calcParams:me},!0,{id:U})){const Ae={name:"TRAP_HUNTER",pane_id:U,params:me},Le=`${U}_TRAP_HUNTER`;u.update(He=>(He.saveInds[Le]=Ae,He)),md(),Gl.recordAddIndicator(K,U,Ae.params,Le),J=!0}}}else if(K==="VOLCANIC"){const U="pane_VOLCANIC",ae=n();if(ae){const me=[16,2,14,20,60,2,.5,1,.8,.8,.4,10,1,30,0,7e-4,0,1];if(ae.createIndicator({name:"VOLCANIC",calcParams:me},!1,{id:U})){const Ae={name:"VOLCANIC",pane_id:U,params:me},Le=`${U}_VOLCANIC`;u.update(He=>(He.saveInds[Le]=Ae,He)),md(),Gl.recordAddIndicator(K,U,Ae.params,Le),J=!0}}}else if(K==="VOLCANIC_SIG"){const U="candle_pane",ae=n();if(ae){const me=[16,2,14,20,60,2,.5,1,.8,.8,.4,10,1,30,0,7e-4,0,1];if(ae.createIndicator({name:"VOLCANIC_SIG",calcParams:me},!0,{id:U})){const Ae={name:"VOLCANIC_SIG",pane_id:U,params:me},Le=`${U}_VOLCANIC_SIG`;u.update(He=>(He.saveInds[Le]=Ae,He)),md(),Gl.recordAddIndicator(K,U,Ae.params,Le),J=!0}}}J&&console.log(`âœ… ${K} added successfully from AI modal`)}function O(te,K){b(k,!0),c(!1),d.update(J=>(J.editPaneId=te,J.editIndName=K,J.modalIndCfg=!0,J))}async function z(te,K){if(console.log("ðŸ—‘ï¸ Deleting indicator:",{paneId:te,name:K}),!n()){console.log("âŒ No chart available");return}const J=n(),U=`${te}_${K}`,ae=s().saveInds[U];ae&&Gl.recordRemoveIndicator(K,te,ae.params||[],U);try{J.removeIndicator({paneId:te,name:K}),console.log("âœ… Indicator removed"),u.update(me=>(delete me.saveInds[U],me)),md()}catch(me){console.log("âŒ Error removing indicator:",me)}}const Y=T0(),[G,oe]=Y;var re=W$(),se=nt(re);xe(se,c,te=>{var K=N$(),J=nt(K);J.__click=[l2,c];var U=v(J,2),ae=v(m(U),2),me=m(ae),ke=v(m(me),2);ke.__click=[l2,c],_(me);var Ae=v(me,2),Le=m(Ae);Qo(Le,19,()=>h,it=>it.name,(it,Ne)=>{var we=O$();const je=tt(()=>i(w).has(i(Ne).name)),Te=tt(()=>i(S)===i(Ne).name),Se=tt(()=>i(Ne).is_main?"candle_pane":`pane_${i(Ne).name}`);we.__click=[M$,je,Te,B,Ne];var Ue=m(we);xe(Ue,()=>i(Te),Be=>{var le=L$(),ye=m(le);Qo(ye,20,()=>Array(12),ln,(uo,Do,Zt)=>{var Go=T$();lt(Go,"style",`--delay: ${Zt*.15}s; --x: ${Math.random()*100}%; --y: ${Math.random()*100}%`),N(uo,Go)}),_(ye);var Je=v(ye,2);Qo(Je,20,()=>Array(8),ln,(uo,Do,Zt)=>{var Go=A$();lt(Go,"style",`--stream-delay: ${Zt*.2}s; left: ${10+Zt*12}%`),N(uo,Go)}),_(Je);var X=v(Je,2),H=v(m(X),2),Ce=m(H),Qe=m(Ce,!0);_(Ce);var mt=v(Ce,2),bt=m(mt,!0);_(mt),_(H);var ct=v(H,2),yo=m(ct),Kt=v(yo,2);Qo(Kt,20,()=>Array(5),ln,(uo,Do,Zt)=>{var Go=D$();Re(()=>Ls(Go,"active",i(M)>=Zt)),N(uo,Go)}),_(Kt),_(ct);var io=v(ct,2),ro=m(io),Uo=m(ro);Re(()=>wt(Uo,`${Math.round(i(T))??""}%`)),_(ro);var an=v(ro,2),Mn=m(an);_(an),_(io),_(X),_(le),Re(()=>{var uo,Do;wt(Qe,((uo=i(D)[i(M)])==null?void 0:uo.text)||""),wt(bt,((Do=i(D)[i(M)])==null?void 0:Do.subtext)||""),lt(yo,"style",`width: ${i(T)??""}%`),wt(Mn,`Phase ${i(M)+1}/5`)}),N(Be,le)},Be=>{var le=B$(),ye=nt(le),Ee=m(ye,!0);_(ye);var Je=v(ye,2),be=m(Je),X=m(be,!0);_(be),_(Je);var H=v(Je,2);xe(H,()=>i(je),Ce=>{var Qe=j$(),mt=m(Qe);mt.__click=[E$,O,Se,Ne];var bt=v(mt,2);bt.__click=[F$,z,Se,Ne],_(Qe),N(Ce,Qe)},Ce=>{var Qe=$$();N(Ce,Qe)}),Re(()=>{wt(Ee,i(Ne).icon),wt(X,i(Ne).title)}),N(Be,le)}),_(we),Re(()=>Un(we,`indicator-row ${(i(je)?"indicator-selected":"")??""} ${(i(Te)?"indicator-loading":"")??""} svelte-uswuii`)),N(it,we)});var He=v(Le,2);He.__click=[R$],_(Ae),ei(2),_(ae),_(U),bu(3,J,()=>Yg,()=>({duration:200})),bu(3,U,()=>Kg,()=>({y:20,duration:300,easing:bh})),N(te,K)});var ie=v(se,2);xe(ie,()=>i(A),te=>{var K=q$(),J=nt(K);J.__click=[z$,A];var U=v(J,2),ae=v(m(U),2),me=m(ae);me.__click=[V$,A];var ke=v(me,10);Re(()=>lt(ke,"href",G("https://dutyai.app/payment",void 0))),_(ae),_(U),bu(3,J,()=>Yg,()=>({duration:200})),bu(3,U,()=>Kg,()=>({y:20,duration:300,easing:bh})),N(te,K)}),N(o,re),Mr()}Pa(["click"]);var H$=ue('<span class="loading loading-spinner loading-xs"></span>'),U$=ue('<span class="text-xs">â€¢</span>'),Y$=ue('<button class="btn btn-primary btn-sm min-w-[100px] transition-all duration-200 svelte-1ib83i5" title="Save Layout Options"><!> Save <!></button>');function K$(o,e){Pr(e,!1);const t=Yr(),n=Yr();let s=Po(e,"savedLayouts",24,()=>[]),r=Po(e,"activeSaveId",8,null),a=Po(e,"isLoading",8,!1),c=Po(e,"hasUnsavedChanges",8,!1);const d=nc();function u(){d("showPopup")}Ac(()=>(mc(r()),mc(s())),()=>{b(t,r()?s().find(w=>w.id===r()):null)}),Ac(()=>i(t),()=>{b(n,!!i(t))}),hv(),wc();var p=Y$(),h=m(p);xe(h,a,w=>{var k=H$();N(w,k)},w=>{fT(w,{class:"h-4 w-4"})});var x=v(h,2);xe(x,c,w=>{var k=U$();N(w,k)}),_(p),Re(()=>{p.disabled=a(),Ls(p,"btn-warning",c())}),$a("click",p,u),N(o,p),Mr()}function Z$(o,e,t,n,s){o.key==="Enter"&&i(e).valid&&i(t).trim()?(o.preventDefault(),n()):o.key==="Escape"&&(o.preventDefault(),s())}var X$=ue('<div class="flex items-center gap-2 text-sm text-error"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> </div>'),J$=ue('<div class="flex items-center gap-2 text-sm text-success"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Layout name is available</div>'),Q$=ue('<div class="flex items-center justify-between text-sm"><span class="text-base-content/80"> </span> <span class="text-xs text-base-content/50"> </span></div>'),eB=ue('<div class="space-y-2"><h4 class="text-sm font-medium text-base-content/70"> </h4> <div class="max-h-32 overflow-y-auto space-y-1 p-3 bg-base-200/30 rounded-lg border border-base-300/50 svelte-bhlz05"></div></div>'),tB=ue('<span class="loading loading-spinner loading-sm"></span> Saving...',1),oB=ue('<div class="space-y-6"><div class="space-y-2"><label for="layout-name" class="block text-sm font-medium text-base-content">Layout Name</label> <input id="layout-name" type="text" placeholder="Enter layout name..." class="w-full px-4 py-3 border border-base-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 bg-base-100 text-base-content placeholder-base-content/50"> <!></div> <!> <div class="flex gap-3 justify-end pt-4 border-t border-base-300/50"><button class="btn btn-ghost min-w-[100px] rounded-lg font-medium transition-all duration-200">Cancel</button> <button class="btn btn-primary min-w-[100px] rounded-lg font-medium transition-all duration-200 hover:scale-105"><!></button></div></div>');function nB(o,e){Pr(e,!1);const t=Yr();let n=Po(e,"show",12,!1),s=Po(e,"savedLayouts",24,()=>[]),r=Po(e,"isLoading",8,!1),a=Po(e,"mode",8,"save"),c=Po(e,"showExisting",8,!1),d=Yr(""),u=Yr({valid:!0}),p=Yr(!1);const h=nc();function x(S){if(b(p,!0),!S){b(u,{valid:!1,error:"Layout name is required"}),b(p,!1);return}if(S.length<2){b(u,{valid:!1,error:"Layout name must be at least 2 characters"}),b(p,!1);return}if(S.length>50){b(u,{valid:!1,error:"Layout name must be less than 50 characters"}),b(p,!1);return}if(/[<>:"/\\|?*]/.test(S)){b(u,{valid:!1,error:"Layout name contains invalid characters"}),b(p,!1);return}if(s().some(D=>D.name.toLowerCase()===S.toLowerCase())){b(u,{valid:!1,error:"A layout with this name already exists"}),b(p,!1);return}b(u,{valid:!0}),b(p,!1)}function w(){const S=i(d).trim();i(u).valid&&S&&h("save",{name:S})}function k(){n(!1),h("cancel")}Ac(()=>mc(n()),()=>{n()&&(b(d,""),b(u,{valid:!0}),b(p,!1))}),Ac(()=>i(d),()=>{i(d).trim()?x(i(d).trim()):b(u,{valid:!1,error:"Layout name is required"})}),Ac(()=>mc(a()),()=>{b(t,a()==="save"?"Save Chart Layout":"Save Layout As")}),hv(),wc(),nd(o,{get show(){return n()},set show(S){n(S)},get title(){return i(t)},width:450,buttons:[],children:(S,M)=>{var T=oB(),D=m(T),A=v(m(D),2);ut(A),A.__keydown=[Z$,u,d,w,k],x2(A,!0);const j=hc(()=>!i(u).valid&&i(d).trim()),F=hc(()=>i(u).valid&&i(d).trim());var q=v(A,2);xe(q,()=>i(d).trim()&&!i(u).valid,oe=>{var re=X$(),se=v(m(re));_(re),Re(()=>wt(se,` ${i(u).error??""}`)),N(oe,re)},oe=>{var re=yt(),se=nt(re);xe(se,()=>i(u).valid&&i(d).trim(),ie=>{var te=J$();N(ie,te)},null,!0),N(oe,re)}),_(D);var B=v(D,2);xe(B,()=>c()&&s().length>0,oe=>{var re=eB(),se=m(re),ie=m(se);_(se);var te=v(se,2);Qo(te,5,s,ln,(K,J)=>{var U=Q$(),ae=m(U),me=m(ae,!0);_(ae);var ke=v(ae,2),Ae=m(ke,!0);Re(()=>wt(Ae,new Date(i(J).updatedAt).toLocaleDateString())),_(ke),_(U),Re(()=>wt(me,i(J).name)),N(K,U)}),_(te),_(re),Re(()=>wt(ie,`Existing Layouts (${s().length??""})`)),N(oe,re)});var O=v(B,2),z=m(O);z.__click=k;var Y=v(z,2);Y.__click=w,Re(()=>Y.disabled=!i(u).valid||!i(d).trim()||r()||i(p));var G=m(Y);xe(G,r,oe=>{var re=tB();ei(),N(oe,re)},oe=>{var re=k2("Save Layout");N(oe,re)}),_(Y),_(O),_(T),Re(()=>{A.disabled=r(),Ls(A,"border-error",i(j)),Ls(A,"border-success",i(F)),z.disabled=r()}),Mt(A,()=>i(d),oe=>b(d,oe)),N(S,T)},$$slots:{default:!0},$$legacy:!0}),Mr()}Pa(["keydown","click"]);var sB=ue('<span class="loading loading-spinner loading-xs"></span>'),iB=ue('<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"></path></svg>'),rB=ue('<span class="text-xs text-warning">â€¢ Unsaved changes</span>'),aB=ue('<div class="p-4 bg-primary/5 border-b border-base-300/50"><div class="flex items-center gap-2 text-sm"><div class="w-2 h-2 bg-primary rounded-full"></div> <span class="font-medium text-base-content"> </span> <!></div> <div class="text-xs text-base-content/60 mt-1"> </div></div>'),lB=ue('<div class="p-6 text-center text-base-content/60 text-sm">No saved layouts yet</div>'),cB=ue('<div class="w-1.5 h-1.5 bg-primary rounded-full"></div>'),dB=ue('<div><div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="text-sm font-medium text-base-content truncate"> </span> <!></div> <div class="text-xs text-base-content/60"> </div></div> <button class="opacity-0 group-hover:opacity-100 p-1 hover:bg-error/20 rounded transition-all duration-150" title="Delete layout"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 text-error" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div>'),uB=ue('<div class="p-4"><div class="text-xs font-medium text-base-content/70 px-2 py-2"> </div> <div class="space-y-1"></div></div>'),vB=ue('<div class="max-h-48 overflow-y-auto svelte-10s4pck"><!></div>'),pB=ue('<div class="fixed inset-0 bg-transparent z-40"></div> <div class="fixed z-50 bg-base-100 border border-base-300 rounded-lg shadow-xl animate-in fade-in zoom-in-95 duration-200"><div class="flex items-center justify-between p-4 border-b border-base-300/50"><h3 class="text-lg font-semibold text-base-content">Save Chart Layout</h3> <button class="btn btn-ghost btn-sm btn-circle" title="Close"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="p-4 border-b border-base-300/50"><div class="space-y-2"><button class="w-full flex items-center gap-3 px-4 py-3 text-sm bg-primary text-primary-content hover:bg-primary/90 rounded-md transition-colors duration-150"><!> </button> <button class="w-full flex items-center gap-3 px-4 py-3 text-sm hover:bg-base-200 rounded-md transition-colors duration-150"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Save As...</button> <button class="w-full flex items-center gap-3 px-4 py-3 text-sm hover:bg-base-200 rounded-md transition-colors duration-150"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> New Layout</button></div></div> <!> <!></div>',1);function fB(o,e){Pr(e,!1);const t=Yr(),n=Yr();let s=Po(e,"show",12,!1),r=Po(e,"savedLayouts",24,()=>[]),a=Po(e,"activeSaveId",8,null),c=Po(e,"isLoading",8,!1),d=Po(e,"hasUnsavedChanges",8,!1),u=Po(e,"position",24,()=>({x:0,y:0})),p=Po(e,"showLayouts",8,!0),h=Yr();const x=nc();function w(z){i(h)&&!i(h).contains(z.target)&&S()}function k(z){z.key==="Escape"&&S()}yc(()=>{console.log("ðŸŽ¯ ChartSavePopup mounted with props:",{show:s(),savedLayouts:r(),activeSaveId:a(),isLoading:c(),hasUnsavedChanges:d(),position:u()}),s()&&(document.addEventListener("click",w),document.addEventListener("keydown",k))}),Su(()=>{document.removeEventListener("click",w),document.removeEventListener("keydown",k)});function S(){s(!1),x("close")}function M(){i(n)?x("quickSave"):(x("save"),S())}function T(){x("saveAs"),S()}function D(){x("newLayout"),S()}function A(z){x("load",{layoutId:z}),S()}function j(z,Y){z.stopPropagation(),x("delete",{layoutId:Y})}function F(z){return new Date(z).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function q(){const G=document.querySelector(".chart-container")||document.querySelector(".kline-widget");if(!G)return`left: ${u().x}px; top: ${u().y}px;`;const oe=G.getBoundingClientRect();let re=oe.left+oe.width/2-320/2,se=oe.top+oe.height/2-400/2;return re=Math.max(20,Math.min(re,window.innerWidth-320-20)),se=Math.max(20,Math.min(se,window.innerHeight-400-20)),`left: ${re}px; top: ${se}px;`}Ac(()=>(mc(a()),mc(r())),()=>{b(t,a()?r().find(z=>z.id===a()):null)}),Ac(()=>i(t),()=>{b(n,!!i(t))}),Ac(()=>(mc(s()),mc(r()),mc(a()),i(t),i(n)),()=>{var z;s()&&console.log("ðŸ”„ ChartSavePopup reactive update (visible):",{show:s(),savedLayouts:((z=r())==null?void 0:z.length)||0,savedLayoutsData:r(),activeSaveId:a(),activeLayout:i(t),hasActiveSave:i(n)})}),Ac(()=>mc(s()),()=>{s()?setTimeout(()=>{document.addEventListener("click",w),document.addEventListener("keydown",k)},0):(document.removeEventListener("click",w),document.removeEventListener("keydown",k))}),hv(),wc();var B=yt(),O=nt(B);xe(O,s,z=>{var Y=pB(),G=nt(Y),oe=v(G,2);const re=hc(q);var se=m(oe),ie=v(m(se),2);_(se);var te=v(se,2),K=m(te),J=m(K),U=m(J);xe(U,c,He=>{var it=sB();N(He,it)},He=>{var it=iB();N(He,it)});var ae=v(U);_(J);var me=v(J,2),ke=v(me,2);_(K),_(te);var Ae=v(te,2);xe(Ae,()=>i(t),He=>{var it=aB(),Ne=m(it),we=v(m(Ne),2),je=m(we);_(we);var Te=v(we,2);xe(Te,d,Be=>{var le=rB();N(Be,le)}),_(Ne);var Se=v(Ne,2),Ue=m(Se);Re(()=>wt(Ue,`Last saved: ${F(new Date(i(t).updatedAt).getTime())??""}`)),_(Se),_(it),Re(()=>wt(je,`Active: ${i(t).name??""}`)),N(He,it)});var Le=v(Ae,2);xe(Le,p,He=>{var it=vB(),Ne=m(it);xe(Ne,()=>r().length===0,we=>{var je=lB();N(we,je)},we=>{var je=uB(),Te=m(je),Se=m(Te);_(Te);var Ue=v(Te,2);Qo(Ue,5,r,ln,(Be,le)=>{var ye=dB(),Ee=m(ye),Je=m(Ee),be=m(Je),X=m(be,!0);_(be);var H=v(be,2);xe(H,()=>i(le).id===a(),bt=>{var ct=cB();N(bt,ct)}),_(Je);var Ce=v(Je,2),Qe=m(Ce,!0);Re(()=>wt(Qe,F(new Date(i(le).updatedAt).getTime()))),_(Ce),_(Ee);var mt=v(Ee,2);_(ye),Re(()=>{Un(ye,`group flex items-center justify-between px-3 py-2 hover:bg-base-200 rounded-md transition-colors duration-150 cursor-pointer ${(i(le).id===a()?"bg-primary/10":"")??""}`),wt(X,i(le).name)}),$a("click",mt,bt=>j(bt,i(le).id)),$a("click",ye,()=>A(i(le).id)),N(Be,ye)}),_(Ue),_(je),Re(()=>wt(Se,`Saved Layouts (${r().length??""})`)),N(we,je)}),_(it),N(He,it)}),_(oe),Al(oe,He=>b(h,He),()=>i(h)),Re(()=>{lt(oe,"style",i(re)),J.disabled=c(),wt(ae,` ${(i(n)?"Save to Current Layout":"Save New Layout")??""}`)}),$a("click",G,S),$a("click",ie,S),$a("click",J,M),$a("click",me,T),$a("click",ke,D),N(z,Y)}),N(o,B),Mr()}var gB=ue('<div class="p-6 text-center text-base-content/60 text-sm"><span class="loading loading-spinner loading-xs"></span></div>'),_B=ue('<div class="p-6 text-center text-base-content/60 text-sm">No saved layouts yet</div>'),mB=ue('<div class="w-1.5 h-1.5 bg-primary rounded-full"></div>'),hB=ue('<div><div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="text-sm font-medium text-base-content truncate"> </span> <!></div> <div class="text-xs text-base-content/60"> </div></div> <button class="opacity-0 group-hover:opacity-100 p-1 hover:bg-error/20 rounded transition-all duration-150" title="Delete layout"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 text-error" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div>'),yB=ue('<div class="p-4"><div class="text-xs font-medium text-base-content/70 px-2 py-2"> </div> <div class="space-y-1"></div></div>'),bB=ue('<div class="fixed inset-0 bg-transparent z-40"></div> <div class="fixed z-50 bg-base-100 border border-base-300 rounded-lg shadow-xl animate-in fade-in zoom-in-95 duration-200"><div class="flex items-center justify-between p-4 border-b border-base-300/50"><h3 class="text-lg font-semibold text-base-content">Load Chart Layout</h3> <button class="btn btn-ghost btn-sm btn-circle" title="Close"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="max-h-80 overflow-y-auto svelte-ciowbr"><!></div></div>',1);function xB(o,e){Pr(e,!1);let t=Po(e,"show",12,!1),n=Po(e,"savedLayouts",24,()=>[]),s=Po(e,"activeSaveId",8,null),r=Po(e,"isLoading",8,!1),a=Po(e,"position",24,()=>({x:0,y:0})),c=Yr();const d=nc();function u(A){i(c)&&!i(c).contains(A.target)&&h()}function p(A){A.key==="Escape"&&h()}yc(()=>{t()&&(document.addEventListener("click",u),document.addEventListener("keydown",p))}),Su(()=>{document.removeEventListener("click",u),document.removeEventListener("keydown",p)});function h(){t(!1),d("close")}function x(A){d("load",{layoutId:A}),h()}function w(A){A!==s()&&x(A)}function k(A,j){A.stopPropagation(),d("delete",{layoutId:j})}function S(A){return new Date(A).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function M(){const F=document.querySelector(".chart-container")||document.querySelector(".kline-widget");if(!F)return`left: ${a().x}px; top: ${a().y}px;`;const q=F.getBoundingClientRect();let B=q.left+q.width/2-320/2,O=q.top+q.height/2-400/2;return B=Math.max(20,Math.min(B,window.innerWidth-320-20)),O=Math.max(20,Math.min(O,window.innerHeight-400-20)),`left: ${B}px; top: ${O}px;`}Ac(()=>mc(t()),()=>{t()?setTimeout(()=>{document.addEventListener("click",u),document.addEventListener("keydown",p)},0):(document.removeEventListener("click",u),document.removeEventListener("keydown",p))}),hv(),wc();var T=yt(),D=nt(T);xe(D,t,A=>{var j=bB(),F=nt(j),q=v(F,2);const B=hc(M);var O=m(q),z=v(m(O),2);_(O);var Y=v(O,2),G=m(Y);xe(G,r,oe=>{var re=gB();N(oe,re)},oe=>{var re=yt(),se=nt(re);xe(se,()=>n().length===0,ie=>{var te=_B();N(ie,te)},ie=>{var te=yB(),K=m(te),J=m(K);_(K);var U=v(K,2);Qo(U,5,n,ln,(ae,me)=>{var ke=hB(),Ae=m(ke),Le=m(Ae),He=m(Le),it=m(He,!0);_(He);var Ne=v(He,2);xe(Ne,()=>i(me).id===s(),Se=>{var Ue=mB();N(Se,Ue)}),_(Le);var we=v(Le,2),je=m(we,!0);Re(()=>wt(je,S(new Date(i(me).updatedAt).getTime()))),_(we),_(Ae);var Te=v(Ae,2);_(ke),Re(()=>{Un(ke,`group flex items-center justify-between px-3 py-2 hover:bg-base-200 rounded-md transition-colors duration-150 cursor-pointer ${(i(me).id===s()?"bg-primary/10":"")??""}`),wt(it,i(me).name)}),$a("click",Te,Se=>k(Se,i(me).id)),$a("click",ke,()=>w(i(me).id)),N(ae,ke)}),_(U),_(te),Re(()=>wt(J,`Saved Layouts (${n().length??""})`)),N(ie,te)},!0),N(oe,re)}),_(Y),_(q),Al(q,oe=>b(c,oe),()=>i(c)),Re(()=>lt(q,"style",i(B))),$a("click",F,h),$a("click",z,h),N(A,j)}),N(o,T),Mr()}function wB(o,e,t){i(e)?(console.log("ðŸ’¾ SaveAsSelectModal dispatching saveTo event with layoutId:",i(e)),t("saveTo",{layoutId:i(e)})):console.log("âŒ SaveAsSelectModal: No layout selected")}function kB(o,e){e("back")}function SB(o,e){e("cancel")}var CB=ue('<div class="p-6 text-center text-base-content/60 text-sm"><span class="loading loading-spinner loading-xs"></span></div>'),IB=ue('<div class="p-6 text-center text-base-content/60 text-sm">No saved layouts found.</div>'),PB=ue('<label class="flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-base-200"><input type="radio" name="save-as-target" class="radio radio-primary"> <div class="flex-1 min-w-0"><div class="text-sm font-medium text-base-content truncate"> </div> <div class="text-xs text-base-content/60"> </div></div></label>'),MB=ue('<span class="loading loading-spinner loading-xs"></span> Saving...',1),TB=ue('<div class="space-y-4"><div class="flex items-center justify-between"><button class="btn btn-ghost btn-sm" title="Back">â† Back</button> <div></div></div> <div class="text-sm text-base-content/70">Select a saved layout to overwrite with the current chart.</div> <div class="max-h-80 overflow-y-auto divide-y divide-base-300/50 rounded-lg border border-base-300/50 svelte-1a3gcnl"><!></div> <div class="flex justify-end gap-3 pt-2"><button class="btn btn-ghost">Cancel</button> <button class="btn btn-primary"><!></button></div></div>');function AB(o,e){Pr(e,!1);const t=[];let n=Po(e,"show",12,!1),s=Po(e,"savedLayouts",24,()=>[]),r=Po(e,"isLoading",8,!1),a=Yr(null);const c=nc();Ac(()=>mc(n()),()=>{n()&&b(a,null)}),hv(),wc(),nd(o,{get show(){return n()},set show(d){n(d)},title:"Save As: Choose Layout to Overwrite",width:520,buttons:[],children:(d,u)=>{var p=TB(),h=m(p),x=m(h);x.__click=[kB,c],ei(2),_(h);var w=v(h,4),k=m(w);xe(k,r,A=>{var j=CB();N(A,j)},A=>{var j=yt(),F=nt(j);xe(F,()=>s().length===0,q=>{var B=IB();N(q,B)},q=>{var B=yt(),O=nt(B);Qo(O,1,s,ln,(z,Y)=>{var G=PB(),oe=m(G);ut(oe);var re,se=v(oe,2),ie=m(se),te=m(ie,!0);_(ie);var K=v(ie,2),J=m(K,!0);Re(()=>wt(J,new Date(i(Y).updatedAt).toLocaleString())),_(K),_(se),_(G),Re(()=>{re!==(re=i(Y).id)&&(oe.value=(oe.__value=i(Y).id)==null?"":i(Y).id),wt(te,i(Y).name)}),r6(t,[],oe,()=>(i(Y).id,i(a)),U=>b(a,U)),N(z,G)}),N(q,B)},!0),N(A,j)}),_(w);var S=v(w,2),M=m(S);M.__click=[SB,c];var T=v(M,2);T.__click=[wB,a,c];var D=m(T);xe(D,r,A=>{var j=MB();ei(),N(A,j)},A=>{var j=k2("Save");N(A,j)}),_(T),_(S),_(p),Re(()=>{M.disabled=r(),T.disabled=!i(a)||r()}),N(d,p)},$$slots:{default:!0},$$legacy:!0}),Mr()}Pa(["click"]);function DB(o,e,t,n,s){wb("normal"),E0(!0),mb(e().symbol),n(!1),s("close");try{window.predictNextCandle&&window.predictNextCandle()}catch{}}function LB(o,e,t,n){mb(e().symbol),b(n,"deposit")}function EB(o,e,t,n){hb(i(e)),yb(Math.max(0,Number(i(t))||0)),b(n,"leverage")}function c2(o,e,t,n,s){bb(i(e)?i(t)||100:null),xb(!0),wb("strategy"),n(!1),s("close");const r=window.sidebarHostRef;r&&r.openSidebar&&r.openSidebar()}var FB=ue('<div class="grid grid-cols-1 md:grid-cols-2 gap-3 items-stretch"><div class="card lux-card shadow overflow-hidden h-full svelte-ojcx6s"><div class="card-body p-4 min-w-0 flex flex-col h-full"><div class="flex items-center gap-2"><div class="text-sm font-semibold">Normal Price Simulator</div></div> <div class="text-xs opacity-70 mt-1">Auto-play historical candles to simulate price movement.</div> <div class="mt-auto pt-3"><button class="btn btn-premium-primary w-full svelte-ojcx6s" type="button">Start Normal Mode</button></div></div></div> <div class="card lux-card shadow overflow-hidden h-full svelte-ojcx6s"><div class="card-body p-4 min-w-0 flex flex-col h-full"><div class="flex items-center gap-2"><div class="p-2 rounded-full bg-base-300/60"><!></div> <div class="text-sm font-semibold">Trade Strategy Test</div></div> <div class="text-xs opacity-70 mt-1">Deposit, set leverage, buy/pending orders, and track portfolio & PnL.</div> <div class="mt-auto pt-3"><button class="btn btn-premium-outline w-full svelte-ojcx6s" type="button">Start Strategy Mode</button></div></div></div></div>'),jB=(o,e)=>b(e,"choose"),$B=ue("<option> </option>"),BB=ue('<div class="card lux-card shadow overflow-hidden svelte-ojcx6s"><div class="card-body p-4 min-w-0"><div class="text-sm font-semibold">Confirm Deposit</div> <div class="mt-2 flex items-center"><button class="btn btn-xs btn-premium-outline svelte-ojcx6s" type="button">Back</button></div> <div class="mt-3 grid grid-cols-1 md:grid-cols-3 gap-2 items-end"><div class="flex flex-col gap-1"><div class="text-xs opacity-80">Currency</div> <select class="select select-bordered select-sm"></select></div> <input class="input input-bordered input-sm" type="number" min="0" placeholder="Deposit"> <button class="btn btn-sm btn-premium-primary svelte-ojcx6s" type="button">Confirm Deposit</button></div></div></div>'),OB=(o,e)=>b(e,"deposit"),RB=(o,e)=>b(e,!0),NB=(o,e)=>b(e,!1),zB=ue('<div class="mt-2 flex items-center gap-2"><select class="select select-bordered select-sm"><option>1:50</option><option>1:100</option><option>1:200</option><option>1:400</option><option>1:500</option></select> <button class="btn btn-sm btn-premium-primary svelte-ojcx6s" type="button">Confirm</button></div>'),VB=ue('<div class="mt-2"><button class="btn btn-sm btn-premium-outline svelte-ojcx6s" type="button">Confirm</button></div>'),qB=ue('<div class="card lux-card shadow overflow-hidden svelte-ojcx6s"><div class="card-body p-4 min-w-0"><div class="text-sm font-semibold">Take leverage?</div> <div class="mt-2 flex items-center"><button class="btn btn-xs btn-premium-outline svelte-ojcx6s" type="button">Back</button></div> <div class="mt-2 flex items-center gap-2"><label class="label cursor-pointer"><input type="radio" name="lev-modal" class="radio radio-sm"> <span class="label-text ml-2">Yes</span></label> <label class="label cursor-pointer"><input type="radio" name="lev-modal" class="radio radio-sm"> <span class="label-text ml-2">No</span></label></div> <!></div></div>'),WB=ue('<div class="p-3 space-y-3"><!></div>');function GB(o,e){Pr(e,!0);const t=El(),n=()=>ti(u,"$save",t);let s=Po(e,"show",15),r=Z("choose"),a=Z(1e5),c=Z(!1),d=Z(null);const u=ur("save");let p=Z($(n().symbol.priceCurrency||"USD"));const h=nc();function x(w){w==="close"&&h("close")}nd(o,{get show(){return s()},set show(w){s(w)},title:"Choose Simulator Mode",buttons:[],click:x,get theme(){return n().theme},children:(w,k)=>{var S=WB(),M=m(S);xe(M,()=>i(r)==="choose",T=>{var D=FB(),A=m(D),j=m(A),F=v(m(j),4),q=m(F);q.__click=[DB,n,u,s,h],_(F),_(j),_(A);var B=v(A,2),O=m(B),z=m(O),Y=m(z),G=m(Y);rT(G,{size:18}),_(Y),ei(2),_(z);var oe=v(z,4),re=m(oe);re.__click=[LB,n,u,r],_(oe),_(O),_(B),_(D),N(T,D)},T=>{var D=yt(),A=nt(D);xe(A,()=>i(r)==="deposit",j=>{var F=BB(),q=m(F),B=v(m(q),2),O=m(B);O.__click=[jB,r],_(B);var z=v(B,2),Y=m(z),G=v(m(Y),2);Qo(G,21,()=>fb,ln,(se,ie)=>{var te=$B(),K={},J=m(te,!0);_(te),Re(()=>{K!==(K=i(ie))&&(te.value=(te.__value=i(ie))==null?"":i(ie)),wt(J,i(ie))}),N(se,te)}),_(G),_(Y);var oe=v(Y,2);ut(oe);var re=v(oe,2);re.__click=[EB,p,a,r],_(z),_(q),_(F),qt(G,()=>i(p),se=>b(p,se)),Mt(oe,()=>i(a),se=>b(a,se)),N(j,F)},j=>{var F=qB(),q=m(F),B=v(m(q),2),O=m(B);O.__click=[OB,r],_(B);var z=v(B,2),Y=m(z),G=m(Y);ut(G),G.__click=[RB,c],ei(2),_(Y);var oe=v(Y,2),re=m(oe);ut(re),re.__click=[NB,c],ei(2),_(oe),_(z);var se=v(z,2);xe(se,()=>i(c),ie=>{var te=zB(),K=m(te),J=m(K);J.value=(J.__value=50)==null?"":50;var U=v(J);U.value=(U.__value=100)==null?"":100;var ae=v(U);ae.value=(ae.__value=200)==null?"":200;var me=v(ae);me.value=(me.__value=400)==null?"":400;var ke=v(me);ke.value=(ke.__value=500)==null?"":500,_(K);var Ae=v(K,2);Ae.__click=[c2,c,d,s,h],_(te),qt(K,()=>i(d),Le=>b(d,Le)),N(ie,te)},ie=>{var te=VB(),K=m(te);K.__click=[c2,c,d,s,h],_(te),N(ie,te)}),_(q),_(F),Re(()=>{Yd(G,i(c)),Yd(re,!i(c))}),N(j,F)},!0),N(T,D)}),_(S),N(w,S)},$$slots:{default:!0}}),Mr()}Pa(["click"]);var HB=ue('<div class="toast svelte-66mo1o"><span class="toast-message svelte-66mo1o"> </span></div>');function Fb(o,e){Pr(e,!1);let t=Po(e,"message",8,""),n=Po(e,"duration",8,3e3),s=Po(e,"visible",12,!1);const r=nc();let a=Yr();yc(()=>{s()&&c()});function c(){s(!0),setTimeout(()=>{d()},n())}function d(){s(!1),r("hide")}wc();var u=yt(),p=nt(u);return xe(p,s,h=>{var x=HB(),w=m(x),k=m(w,!0);_(w),_(x),Al(x,S=>b(a,S),()=>i(a)),Re(()=>{Ls(x,"show",s()),wt(k,t())}),N(h,x)}),N(o,u),d1(e,"showToast",c),d1(e,"hideToast",d),Mr({showToast:c,hideToast:d})}function UB(o,e,t,n,s,r,a){const c=e().theme==="dark"?"light":"dark";if(n()){b(s,$(c)),b(r,!0);return}a(c,!0)}function YB(o,e,t,n){i(e)&&(t(i(e),!0),b(n,!1),b(e,null))}function KB(o,e,t,n){i(e)&&(t(i(e),!1),b(n,!1),b(e,null))}function ZB(o,e,t,n,s,r,a,c){const d=o.target;if(!d.files||!d.files.length)return;const u=d.files[0],p=u.name.split(".").shift()||"Unknown";FA.parse(u,{skipEmptyLines:!0,complete:h=>{var w;const x=h.data.map(k=>({timestamp:parseInt(k[0]),open:parseFloat(k[1]),high:parseFloat(k[2]),low:parseFloat(k[3]),close:parseFloat(k[4]),volume:parseFloat(k[5])}));if(b(e,$(p)),x.length>1){const k=x.length-1,S=Math.min(x[1].timestamp-x[0].timestamp,x[k].timestamp-x[k-1].timestamp);Qs(n,Qt(t).period=Jc(N3(S/1e3)),Qt(t))}x.length>0&&PP(Math.min(x[0].low,x[x.length-1].low))+3,(w=s())==null||w.applyNewData(x,!1),Qs(c,Qt(a).loadingKLine=!1,Qt(a)),Qs(c,Qt(a).klineLoaded+=1,Qt(a))}})}function XB(o,e,t,n,s){const r=!i(e);b(e,r);try{sessionStorage.setItem("drawbarShown",String(r))}catch{}try{const a=t();a&&a.style.setProperty("--drawing-bar-width",r?"52px":"0px");const c=typeof document<"u"?document.querySelector(".kline-main"):null;c&&c.style.setProperty("--drawing-bar-width",r?"52px":"0px");const d=typeof document<"u"?document.querySelector(".drawbar-host"):null;d&&(d.style.width=r?"52px":"0px",d.style.overflow="hidden");const u=typeof document<"u"?document.querySelector(".drawbar-wrapper"):null;u&&r&&(u.style.display="")}catch{}requestAnimationFrame(()=>{var a;(a=n())==null||a.resize()})}async function JB(o,e,t,n,s,r,a,c,d,u,p,h){if(!i(e)){b(e,!0);try{if(i(t))if(n())try{u();let x=!1;if(document.webkitExitFullscreen)try{document.webkitExitFullscreen(),x=!0}catch(w){console.log("webkitExitFullscreen failed:",w)}if(window.iosFullscreenCleanup)try{window.iosFullscreenCleanup(),delete window.iosFullscreenCleanup,x=!0}catch(w){console.log("iOS cleanup function failed:",w)}if(!x)try{document.body.classList.remove("ios-fullscreen");const w=document.getElementById("ios-fullscreen-style");w&&w.remove();const k=document.querySelector('meta[name="viewport"]');k&&k.setAttribute("content","width=device-width, initial-scale=1.0")}catch(w){console.log("Manual iOS cleanup failed:",w)}b(t,!1),b(p,!1),setTimeout(()=>{a()&&a().resize(),setTimeout(()=>{b(e,!1)},50)},150)}catch(x){console.log("iOS exit rotation failed:",x),b(t,!1),b(p,!1),b(e,!1)}else{try{"screen"in window&&"orientation"in window.screen&&"unlock"in window.screen.orientation&&window.screen.orientation.unlock()}catch(x){console.log("Screen orientation unlock failed:",x)}await h(),b(t,!1),a()?setTimeout(()=>{a().resize(),setTimeout(()=>{b(e,!1)},50)},150):setTimeout(()=>{b(e,!1)},50)}else if(n())try{await s(),window.DeviceOrientationEvent&&r(),b(t,!0),setTimeout(()=>{window.scrollTo(0,1),setTimeout(()=>{window.scrollTo(0,0),a()&&a().resize(),setTimeout(()=>{b(e,!1)},50)},50)},100)}catch(x){console.log("iOS rotation setup failed:",x),b(t,!0),b(e,!1)}else await d(),setTimeout(async()=>{try{"screen"in window&&"orientation"in window.screen&&"lock"in window.screen.orientation?await window.screen.orientation.lock("landscape"):console.log("Screen Orientation API not supported. Please rotate your device manually.")}catch(x){console.log("Screen orientation lock failed:",x)}b(t,!0),a()?setTimeout(()=>{a().resize(),setTimeout(()=>{b(e,!1)},50)},100):setTimeout(()=>{b(e,!1)},50)},50)}catch(x){console.error("Rotation failed:",x),b(t,!1),b(e,!1)}}}function QB(o,e,t,n){if(e()){const s=e().querySelector(".chart-container");if(s){const r=s.getBoundingClientRect();b(t,$({x:r.left+r.width/2,y:r.top+r.height/2}))}else{const r=e().getBoundingClientRect();b(t,$({x:r.left+r.width/2,y:r.top+r.height/2}))}}b(n,!0)}var eO=(o,e)=>{var t;return(t=i(e))==null?void 0:t.click()},tO=ue('<div class="custom-load-section svelte-1oqs6cc"><input type="file" class="hidden svelte-1oqs6cc" accept="text/csv"> <button class="custom-load-btn svelte-1oqs6cc"><span class="custom-load-text svelte-1oqs6cc">æ‰“å¼€</span> <div class="custom-load-glow svelte-1oqs6cc"></div></button></div>'),oO=ue('<div class="rotate-loading-overlay svelte-1oqs6cc"><div class="rotate-loading-spinner svelte-1oqs6cc"><div class="rotate-spinner-ring svelte-1oqs6cc"></div> <div class="rotate-spinner-ring svelte-1oqs6cc"></div> <div class="rotate-spinner-ring svelte-1oqs6cc"></div></div> <div class="rotate-loading-text svelte-1oqs6cc">Rotating...</div></div>'),nO=Ln('<path d="M322.402 1.33524C319.002 2.83524 282.402 41.3352 279.802 46.2352C277.602 50.4352 277.602 56.6352 279.802 60.9352C282.102 65.5352 317.402 107.535 320.802 109.735C324.702 112.235 335.002 112.035 338.602 109.335C345.002 104.635 347.402 97.6352 345.002 90.4352C344.302 88.4352 340.902 83.3352 337.402 79.1352C333.902 74.9352 331.302 71.3352 331.502 71.1352C331.702 70.8352 334.802 71.2352 338.202 71.8352C379.802 79.7352 409.802 111.735 415.002 153.835C416.302 163.835 417.802 167.035 422.702 170.435C430.002 175.335 440.902 173.135 445.702 165.735C448.202 162.135 448.302 161.435 447.702 152.135C446.102 124.435 432.902 96.5352 411.102 74.9352C390.202 54.0352 367.102 42.7352 336.702 38.4352L331.902 37.8352L338.402 30.9352C345.302 23.5352 347.002 18.9352 345.502 12.0352C343.502 2.73524 331.702 -2.66476 322.402 1.33524Z" fill="currentColor" class="svelte-1oqs6cc"></path><path d="M169.504 40.9358C163.204 42.2358 157.004 44.7358 152.004 47.9358C149.504 49.5358 125.204 73.2358 97.8044 100.636C44.9044 153.736 44.8044 153.936 41.4044 167.236C39.3044 175.336 40.0044 188.336 43.0044 196.136C44.1044 199.336 47.1044 204.436 49.4044 207.636C51.8044 210.836 95.8043 255.336 147.104 306.536C217.704 376.836 241.704 400.236 245.604 402.236C259.904 409.736 277.304 409.836 292.304 402.336C296.404 400.336 308.404 388.836 348.304 349.136C393.904 303.636 399.404 297.736 402.504 291.736C406.904 282.936 408.404 275.436 407.704 265.436C407.104 255.636 404.304 247.836 398.604 240.236C396.204 237.036 352.404 192.736 301.404 141.836C200.004 40.8358 204.204 44.5358 189.304 41.4358C181.904 39.8358 175.704 39.7358 169.504 40.9358ZM185.804 74.8358C187.904 75.9358 229.704 117.136 281.704 169.136C363.504 251.136 373.904 261.836 374.504 265.236C376.204 274.436 377.804 272.436 326.204 324.336C299.004 351.536 277.104 372.736 275.304 373.536C270.904 375.436 266.604 375.336 262.204 373.036C257.604 370.636 76.8043 189.636 74.6043 185.236C72.4043 180.936 72.6043 175.636 75.0043 170.936C78.3043 164.336 78.8044 164.436 94.8044 172.336C108.704 179.136 109.704 179.436 117.404 179.736C123.904 180.036 126.704 179.636 131.504 177.936C136.904 175.836 139.304 173.836 156.604 156.536C173.904 139.236 175.904 136.836 178.004 131.436C179.704 126.636 180.104 123.836 179.804 117.336C179.504 109.636 179.204 108.636 172.404 94.7358C164.504 78.8358 164.504 78.3358 170.804 74.9358C175.604 72.4358 181.104 72.4358 185.804 74.8358ZM133.404 133.036L119.404 147.036L112.204 143.736L105.004 140.436L122.804 122.636L140.504 104.936L144.004 111.936L147.504 118.936L133.404 133.036Z" fill="currentColor" class="svelte-1oqs6cc"></path><path d="M310.402 275.936C308.602 276.336 305.902 277.536 304.402 278.736C299.102 282.436 278.102 304.436 277.102 307.336C275.502 311.236 275.802 318.536 277.502 321.836C280.902 328.436 288.102 331.836 295.802 330.436C298.802 329.836 302.002 327.236 313.902 315.636C321.802 307.836 328.902 300.036 329.602 298.236C334.902 285.836 323.602 272.736 310.402 275.936Z" fill="currentColor" class="svelte-1oqs6cc"></path><path d="M7.40372 276.837C-0.296283 281.537 -1.79628 290.337 2.00372 309.037C12.9037 362.537 55.5037 401.637 111.304 409.437L116.104 410.037L109.604 416.937C102.704 424.337 101.004 428.937 102.504 435.837C104.504 445.137 116.004 450.537 125.304 446.537C128.904 445.037 165.304 407.037 168.304 401.637C170.504 397.537 170.504 391.337 168.204 386.937C165.904 382.337 130.604 340.337 127.204 338.137C123.304 335.637 113.004 335.837 109.404 338.537C103.004 343.237 100.604 350.237 103.004 357.437C103.704 359.437 107.104 364.537 110.604 368.737C114.104 372.937 116.704 376.537 116.504 376.737C116.304 377.037 113.204 376.637 109.804 376.037C79.4037 370.237 54.9037 351.637 41.9037 324.437C36.6037 313.337 34.4037 305.937 32.9037 293.737C31.7037 284.037 30.2037 280.837 25.3037 277.437C20.5037 274.237 12.1037 273.937 7.40372 276.837Z" fill="currentColor" class="svelte-1oqs6cc"></path>',1),sO=Ln('<path d="M322.402 1.33524C319.002 2.83524 282.402 41.3352 279.802 46.2352C277.602 50.4352 277.602 56.6352 279.802 60.9352C282.102 65.5352 317.402 107.535 320.802 109.735C324.702 112.235 335.002 112.035 338.602 109.335C345.002 104.635 347.402 97.6352 345.002 90.4352C344.302 88.4352 340.902 83.3352 337.402 79.1352C333.902 74.9352 331.302 71.3352 331.502 71.1352C331.702 70.8352 334.802 71.2352 338.202 71.8352C379.802 79.7352 409.802 111.735 415.002 153.835C416.302 163.835 417.802 167.035 422.702 170.435C430.002 175.335 440.902 173.135 445.702 165.735C448.202 162.135 448.302 161.435 447.702 152.135C446.102 124.435 432.902 96.5352 411.102 74.9352C390.202 54.0352 367.102 42.7352 336.702 38.4352L331.902 37.8352L338.402 30.9352C345.302 23.5352 347.002 18.9352 345.502 12.0352C343.502 2.73524 331.702 -2.66476 322.402 1.33524Z" fill="currentColor" class="svelte-1oqs6cc"></path><path d="M169.504 40.9358C163.204 42.2358 157.004 44.7358 152.004 47.9358C149.504 49.5358 125.204 73.2358 97.8044 100.636C44.9044 153.736 44.8044 153.936 41.4044 167.236C39.3044 175.336 40.0044 188.336 43.0044 196.136C44.1044 199.336 47.1044 204.436 49.4044 207.636C51.8044 210.836 95.8043 255.336 147.104 306.536C217.704 376.836 241.704 400.236 245.604 402.236C259.904 409.736 277.304 409.836 292.304 402.336C296.404 400.336 308.404 388.836 348.304 349.136C393.904 303.636 399.404 297.736 402.504 291.736C406.904 282.936 408.404 275.436 407.704 265.436C407.104 255.636 404.304 247.836 398.604 240.236C396.204 237.036 352.404 192.736 301.404 141.836C200.004 40.8358 204.204 44.5358 189.304 41.4358C181.904 39.8358 175.704 39.7358 169.504 40.9358ZM185.804 74.8358C187.904 75.9358 229.704 117.136 281.704 169.136C363.504 251.136 373.904 261.836 374.504 265.236C376.204 274.436 377.804 272.436 326.204 324.336C299.004 351.536 277.104 372.736 275.304 373.536C270.904 375.436 266.604 375.336 262.204 373.036C257.604 370.636 76.8043 189.636 74.6043 185.236C72.4043 180.936 72.6043 175.636 75.0043 170.936C78.3043 164.336 78.8044 164.436 94.8044 172.336C108.704 179.136 109.704 179.436 117.404 179.736C123.904 180.036 126.704 179.636 131.504 177.936C136.904 175.836 139.304 173.836 156.604 156.536C173.904 139.236 175.904 136.836 178.004 131.436C179.704 126.636 180.104 123.836 179.804 117.336C179.504 109.636 179.204 108.636 172.404 94.7358C164.504 78.8358 164.504 78.3358 170.804 74.9358C175.604 72.4358 181.104 72.4358 185.804 74.8358ZM133.404 133.036L119.404 147.036L112.204 143.736L105.004 140.436L122.804 122.636L140.504 104.936L144.004 111.936L147.504 118.936L133.404 133.036Z" fill="currentColor" class="svelte-1oqs6cc"></path><path d="M310.402 275.936C308.602 276.336 305.902 277.536 304.402 278.736C299.102 282.436 278.102 304.436 277.102 307.336C275.502 311.236 275.802 318.536 277.502 321.836C280.902 328.436 288.102 331.836 295.802 330.436C298.802 329.836 302.002 327.236 313.902 315.636C321.802 307.836 328.902 300.036 329.602 298.236C334.902 285.836 323.602 272.736 310.402 275.936Z" fill="currentColor" class="svelte-1oqs6cc"></path><path d="M7.40372 276.837C-0.296283 281.537 -1.79628 290.337 2.00372 309.037C12.9037 362.537 55.5037 401.637 111.304 409.437L116.104 410.037L109.604 416.937C102.704 424.337 101.004 428.937 102.504 435.837C104.504 445.137 116.004 450.537 125.304 446.537C128.904 445.037 165.304 407.037 168.304 401.637C170.504 397.537 170.504 391.337 168.204 386.937C165.904 382.337 130.604 340.337 127.204 338.137C123.304 335.637 113.004 335.837 109.404 338.537C103.004 343.237 100.604 350.237 103.004 357.437C103.704 359.437 107.104 364.537 110.604 368.737C114.104 372.937 116.704 376.537 116.504 376.737C116.304 377.037 113.204 376.637 109.804 376.037C79.4037 370.237 54.9037 351.637 41.9037 324.437C36.6037 313.337 34.4037 305.937 32.9037 293.737C31.7037 284.037 30.2037 280.837 25.3037 277.437C20.5037 274.237 12.1037 273.937 7.40372 276.837Z" fill="currentColor" class="svelte-1oqs6cc"></path>',1),iO=(o,e)=>b(e,!0),rO=(o,e,t)=>e(i(t)),aO=ue('<button><span class="timeframe-text svelte-1oqs6cc"> </span> <div class="timeframe-glow svelte-1oqs6cc"></div></button>'),lO=(o,e,t)=>e(t[0]),cO=(o,e,t)=>e(i(t)),dO=ue('<button><span class="timeframe-text svelte-1oqs6cc"> </span> <div class="timeframe-glow svelte-1oqs6cc"></div></button>'),uO=ue('<div class="timeframe-group desktop-only svelte-1oqs6cc"><!> <button><span class="timeframe-text svelte-1oqs6cc">4h</span> <div class="timeframe-glow svelte-1oqs6cc"></div></button> <!></div>'),vO=(o,e,t)=>e(t.find(n=>n.timeframe==="1d")),pO=ue('<button><span class="timeframe-text svelte-1oqs6cc">1d</span> <div class="timeframe-glow svelte-1oqs6cc"></div></button>'),fO=(o,e,t)=>e(t.find(n=>n.timeframe==="1w")),gO=ue('<button><span class="timeframe-text svelte-1oqs6cc">1w</span> <div class="timeframe-glow svelte-1oqs6cc"></div></button>'),_O=(o,e)=>b(e,!i(e)),mO=(o,e,t)=>e(i(t)),hO=ue('<button><span class="timeframe-text svelte-1oqs6cc"> </span> <div class="timeframe-glow svelte-1oqs6cc"></div></button>'),yO=(o,e,t)=>e(t[0]),bO=(o,e,t)=>e(t.find(n=>n.timeframe==="1M")),xO=ue('<button><span class="timeframe-text svelte-1oqs6cc">1M</span> <div class="timeframe-glow svelte-1oqs6cc"></div></button>'),wO=ue('<div class="timeframe-inline-expand svelte-1oqs6cc"><!> <button><span class="timeframe-text svelte-1oqs6cc">4h</span> <div class="timeframe-glow svelte-1oqs6cc"></div></button> <!></div>'),kO=ue('<div class="timeframe-group mobile-only svelte-1oqs6cc"><!> <!> <button aria-label="More timeframes" title="More"><span class="timeframe-text svelte-1oqs6cc">â‹¯</span> <div class="timeframe-glow svelte-1oqs6cc"></div></button> <!></div>'),SO=(o,e)=>b(e,!0),CO=(o,e)=>b(e,!0),IO=(o,e)=>b(e,!0),PO=(o,e)=>b(e,!0),MO=ue('<button class="pro-menu-btn pro-menu-btn-icon-only svelte-1oqs6cc" title="Play" type="button"><!></button>'),TO=ue('<button class="pro-menu-btn pro-menu-btn-icon-only svelte-1oqs6cc" disabled title="Simulator active" type="button"><!></button>'),AO=(o,e)=>b(e,!0),DO=(o,e)=>b(e,!0),LO=(o,e,t)=>{e("ðŸ–±ï¸ Fullscreen button clicked!"),t()},EO=(o,e)=>e(o),FO=(o,e)=>e(o),jO=o=>{o.preventDefault(),o.stopPropagation()},$O=(o,e)=>e(o),BO=ue('<button class="menu-scroll-arrow svelte-1oqs6cc" title="Scroll to see more" aria-label="Scroll right" type="button"><span class="arrow-icon svelte-1oqs6cc"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="svelte-1oqs6cc"><polyline points="9 18 15 12 9 6" class="svelte-1oqs6cc"></polyline></svg></span></button>'),OO=ue(`<div class="fixed inset-0 z-[100] flex items-center justify-center bg-black/50 svelte-1oqs6cc" role="dialog" aria-modal="true"><div class="bg-base-100 rounded-lg shadow-xl p-6 w-full max-w-md svelte-1oqs6cc"><div class="text-base-content text-lg font-semibold mb-2 svelte-1oqs6cc">Switch chart template theme?</div> <div class="text-base-content/80 text-sm mb-5 svelte-1oqs6cc"> <br class="svelte-1oqs6cc"> Would you like to switch the chart template's theme too?</div> <div class="flex justify-end gap-2 svelte-1oqs6cc"><button class="btn btn-sm svelte-1oqs6cc" type="button">No</button> <button class="btn btn-sm btn-primary svelte-1oqs6cc" type="button">Yes</button></div></div></div>`),RO=ue('<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <div class="menu-wrapper svelte-1oqs6cc"><div class="menu-container svelte-1oqs6cc"><div class="menu-left-section svelte-1oqs6cc"><div class="menu-toggle-wrapper svelte-1oqs6cc"><button class="menu-toggle-btn svelte-1oqs6cc" title="Toggle Left Panel"><div class="menu-toggle-icon-wrapper svelte-1oqs6cc"><svg viewBox="0 0 1024 1024"><path d="M192.037 287.953h640.124c17.673 0 32-14.327 32-32s-14.327-32-32-32H192.037c-17.673 0-32 14.327-32 32s14.327 32 32 32zM832.161 479.169H438.553c-17.673 0-32 14.327-32 32s14.327 32 32 32h393.608c17.673 0 32-14.327 32-32s-14.327-32-32-32zM832.161 735.802H192.037c-17.673 0-32 14.327-32 32s14.327 32 32 32h640.124c17.673 0 32-14.327 32-32s-14.327-32-32-32zM319.028 351.594l-160 160 160 160z" class="svelte-1oqs6cc"></path></svg></div> <div class="menu-toggle-glow svelte-1oqs6cc"></div></button></div> <!> <div class="rotate-button-wrapper-mobile svelte-1oqs6cc"><button type="button"><!> <div class="menu-btn-content svelte-1oqs6cc"><div class="menu-icon-wrapper svelte-1oqs6cc"><svg width="20" height="20" viewBox="0 0 448 448" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1oqs6cc"><!></svg></div></div> <div class="menu-btn-glow svelte-1oqs6cc"></div></button></div> <div class="symbol-search-section svelte-1oqs6cc"><div class="symbol-search-content svelte-1oqs6cc"><div class="symbol-search-icon svelte-1oqs6cc"><!></div> <span class="symbol-name svelte-1oqs6cc"> </span></div></div> <div class="timeframe-section svelte-1oqs6cc"><!> <!></div> <div class="ai-section svelte-1oqs6cc"><button class="ai-btn group relative overflow-hidden svelte-1oqs6cc" aria-label="AI Indicators" title="AI Powered Indicators" type="button"><div class="ai-glitter-bg svelte-1oqs6cc"></div> <div class="ai-glitter-particle ai-glitter-1 svelte-1oqs6cc"></div> <div class="ai-glitter-particle ai-glitter-2 svelte-1oqs6cc"></div> <div class="ai-glitter-particle ai-glitter-3 svelte-1oqs6cc"></div> <div class="ai-glitter-particle ai-glitter-4 svelte-1oqs6cc"></div> <div class="ai-glitter-particle ai-glitter-5 svelte-1oqs6cc"></div> <div class="ai-shine-sweep svelte-1oqs6cc"></div> <div class="ai-btn-content svelte-1oqs6cc"><div class="ai-icon-wrapper svelte-1oqs6cc"><svg class="ai-icon svelte-1oqs6cc" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" class="svelte-1oqs6cc"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96" class="svelte-1oqs6cc"></polyline><line x1="12" y1="22.08" x2="12" y2="12" class="svelte-1oqs6cc"></line></svg></div> <span class="ai-text svelte-1oqs6cc">AI</span> <div class="ai-badge-mini svelte-1oqs6cc">New</div></div></button></div> <div class="chart-type-section svelte-1oqs6cc"><button class="pro-menu-btn svelte-1oqs6cc" title="Chart Type"><!> <span class="pro-menu-text svelte-1oqs6cc"> </span></button></div> <div class="indicator-section svelte-1oqs6cc"><button class="pro-menu-btn svelte-1oqs6cc" title="Indicators"><!> <span class="pro-menu-text svelte-1oqs6cc"> </span></button></div> <div class="undo-redo-section svelte-1oqs6cc"><button title="Undo (Ctrl+Z)"><!></button> <button title="Redo (Ctrl+Y)"><!></button></div></div> <div class="menu-right-section svelte-1oqs6cc"><!> <button class="pro-menu-btn pro-menu-btn-icon-only svelte-1oqs6cc" title="Load Chart Layout" type="button"><!></button> <!> <button class="pro-menu-btn pro-menu-btn-icon-only svelte-1oqs6cc" title="Timezone" type="button"><!></button> <button class="pro-menu-btn pro-menu-btn-icon-only svelte-1oqs6cc" title="Settings" type="button"><!></button> <button class="pro-menu-btn pro-menu-btn-icon-only svelte-1oqs6cc" title="Script Studio" type="button"><!></button> <button class="pro-menu-btn pro-menu-btn-icon-only svelte-1oqs6cc" title="Screenshot" type="button"><!></button> <button class="pro-menu-btn pro-menu-btn-icon-only svelte-1oqs6cc" type="button"><!></button> <button class="pro-menu-btn pro-menu-btn-icon-only svelte-1oqs6cc" title="Toggle Theme" type="button"><!></button></div></div> <!></div> <!> <!>',1);function NO(o,e){Pr(e,!0);const t=El(),n=()=>ti(p,"$chart",t),s=()=>ti(x,"$save",t),r=()=>ti(h,"$ctx",t),a=()=>ti(Iu,"$userPreferences",t),c=()=>ti(dc,"$simulator",t);let d=Po(e,"customLoad",3,!1),u=Po(e,"mainContainer",15);const p=ur("chart"),h=ur("ctx"),x=ur("save");let w=Z(!0);yc(()=>{try{const Ge=sessionStorage.getItem("drawbarShown");if(Ge!=null){b(w,Ge==="true");const Xe=u(),eo=typeof document<"u"?document.querySelector(".kline-main"):null,Et=typeof document<"u"?document.querySelector(".drawbar-host"):null,xo=i(w)?"52px":"0px";Xe&&Xe.style.setProperty("--drawing-bar-width",xo),eo&&eo.style.setProperty("--drawing-bar-width",xo),Et&&(Et.style.width=xo)}else{const Xe=typeof document<"u"?document.querySelector(".drawbar-host"):null;if(Xe){const eo=parseFloat(getComputedStyle(Xe).width||"52");b(w,eo>0)}}}catch{}});const k="*";function S(){let Ge=document;return(Ge.fullscreenElement||Ge.mozFullScreenElement||Ge.webkitFullscreenElement||Ge.msFullscreenElement)!=null}let M=Z($(S())),T=Z(!1);{const Ge=()=>{const eo=i(M);if(b(M,$(S())),eo&&!i(M)){if(n()&&s().styles){window.__forceApplySavedCanvasColors=!0;const Et=ga(s().theme);_t.merge(Et,s().styles),n().setStyles(Fr(Et)),r().applyCanvasColors&&r().applyCanvasColors(),console.log("ðŸŽ¨ Pre-applied chart styles before fullscreen exit")}u()&&(u(u().style.cssText="",!0),u().classList.remove("fullscreen")),setTimeout(()=>{var Et;if(u()&&(u().offsetHeight,u().offsetWidth,window.getComputedStyle(u()).height),(Et=n())==null||Et.resize(),n()&&s().styles){window.__forceApplySavedCanvasColors=!0;const xo=ga(s().theme);_t.merge(xo,s().styles),n().setStyles(Fr(xo)),r().applyCanvasColors&&r().applyCanvasColors()}},10),setTimeout(()=>{var Et;if((Et=n())==null||Et.resize(),n()&&s().styles){window.__forceApplySavedCanvasColors=!0;const xo=ga(s().theme);_t.merge(xo,s().styles),n().setStyles(Fr(xo)),r().applyCanvasColors&&r().applyCanvasColors()}},100),setTimeout(()=>{var Et;if((Et=n())==null||Et.resize(),n()&&s().styles){window.__forceApplySavedCanvasColors=!0;const xo=ga(s().theme);if(_t.merge(xo,s().styles),n().setStyles(Fr(xo)),r().applyCanvasColors){r().applyCanvasColors();const Eo=n().getVisibleRange();Eo&&n().scrollToDataIndex(Eo.to,0)}console.log("âœ… Final chart colors applied after fullscreen exit")}},300),setTimeout(()=>{var Et;(Et=n())==null||Et.resize()},600),setTimeout(()=>{var Et;(Et=n())==null||Et.resize()},1200)}else setTimeout(()=>{var Et;(Et=n())==null||Et.resize()},100)},Xe=()=>{if(console.log("ðŸ“± handleIOSFullscreenChange triggered"),Zt()){const eo=window.innerHeight===screen.height,Et=document.body.classList.contains("ios-fullscreen"),xo=window.navigator.standalone;console.log("ðŸ” iOS fullscreen checks:",{heightMatch:eo,hasIOSClass:Et,isStandalone:xo,windowHeight:window.innerHeight,screenHeight:screen.height,currentFullScreen:i(M)});const Eo=eo||Et||xo,Vo=i(M);if(i(M)!==Eo){if(console.log(`ðŸ”„ iOS fullscreen state changed: ${i(M)} â†’ ${Eo}`),b(M,$(Eo)),Vo&&!Eo&&n()&&s().styles){window.__forceApplySavedCanvasColors=!0;const $o=ga(s().theme);_t.merge($o,s().styles),n().setStyles(Fr($o)),r().applyCanvasColors&&r().applyCanvasColors(),console.log("ðŸŽ¨ Pre-applied chart styles for iOS exit")}console.log("ðŸ“ Scheduling iOS chart resizes..."),setTimeout(()=>{var $o;if(($o=n())==null||$o.resize(),Vo&&!Eo&&n()&&s().styles){window.__forceApplySavedCanvasColors=!0;const un=ga(s().theme);_t.merge(un,s().styles),n().setStyles(Fr(un)),r().applyCanvasColors&&r().applyCanvasColors()}},100),setTimeout(()=>{var $o;if(($o=n())==null||$o.resize(),Vo&&!Eo&&n()&&s().styles){window.__forceApplySavedCanvasColors=!0;const un=ga(s().theme);if(_t.merge(un,s().styles),n().setStyles(Fr(un)),r().applyCanvasColors){r().applyCanvasColors();const Yo=n().getVisibleRange();Yo&&n().scrollToDataIndex(Yo.to,0)}console.log("âœ… Final iOS chart colors applied")}},300)}else console.log("âœ… No iOS fullscreen state change needed")}else console.log("âŒ Not iOS Safari, skipping handler")};document.addEventListener("fullscreenchange",Ge),document.addEventListener("webkitfullscreenchange",Ge),document.addEventListener("mozfullscreenchange",Ge),document.addEventListener("MSFullscreenChange",Ge),Zt()&&(window.addEventListener("resize",Xe),window.addEventListener("orientationchange",Xe),document.addEventListener("webkitfullscreenchange",Xe),"standalone"in window.navigator&&window.addEventListener("beforeunload",()=>{i(Te)&&i(Te)()}))}let D=Z(!1),A=Z(!1),j=Z(!1),F=Z(!1),q=Z(!1),B=Z(!1),O=Z(!1),z=Z(!1),Y=Z(""),G=Z(""),oe=Z(!1),re=Z(!1),se=Z(!1),ie=Z(!1),te=Z(!1),K=Z(null),J=Z(!1),U=Z(!1),ae=Z(!1),me=Z($({x:0,y:0})),ke=Z(!1),Ae=Z($({x:0,y:0})),Le=Z($([])),He=Z(null),it=Z(!1),Ne=!1,we=Z(!1),je=Z(""),Te=Z(null);function Se(Ge){console.log(Ge)}let Ue=Z(void 0);const Be=[{timeframe:"1m",multiplier:1,timespan:"minute",secs:60},{timeframe:"5m",multiplier:5,timespan:"minute",secs:300},{timeframe:"15m",multiplier:15,timespan:"minute",secs:900},{timeframe:"30m",multiplier:30,timespan:"minute",secs:1800},{timeframe:"1h",multiplier:1,timespan:"hour",secs:3600}],le=[{timeframe:"1d",multiplier:1,timespan:"day",secs:86400},{timeframe:"1w",multiplier:1,timespan:"week",secs:604800},{timeframe:"1M",multiplier:1,timespan:"month",secs:2592e3}],ye=[{timeframe:"4h",multiplier:4,timespan:"hour",secs:14400}],Ee=[{id:"candle_solid",name:"Candlestick",icon:"candle_solid"},{id:"candle_stroke",name:"Hollow",icon:"candle_stroke"},{id:"candle_up_stroke",name:"Up Hollow",icon:"candle_up_stroke"},{id:"candle_down_stroke",name:"Down Hollow",icon:"candle_down_stroke"},{id:"heikin_ashi",name:"Heikin Ashi",icon:"candle_solid"},{id:"renko_atr",name:"Duty AI Renko",icon:"candle_solid"},{id:"point_and_figure",name:"Point & Figure",icon:"point_and_figure"},{id:"ohlc",name:"OHLC",icon:"ohlc"},{id:"area",name:"Area",icon:"area"},{id:"line_chart",name:"Line",icon:"line"}];let Je=Z(!1),be=Z(!1),X=Z(!1),H=Z(!1),Ce=Z(void 0);Ds(()=>{let Ge=null,Xe=null;function eo(){return typeof window<"u"&&window.saveManager?(Ge=window.saveManager.state.subscribe(xo=>{console.log("ðŸ“Š SaveManager state updated:",xo),xo.initialized?(console.log("ðŸ”— SaveManager is initialized, updating UI state..."),b(Le,$(xo.savedLayouts)),b(He,$(xo.activeSaveId)),b(it,$(xo.isLoading)),Xe&&(clearInterval(Xe),Xe=null)):console.log("â³ SaveManager exists but not yet initialized...")}),!0):!1}return eo()||(console.log("â³ Waiting for SaveManager to be available..."),Xe=setInterval(()=>{eo()},100)),()=>{Ge&&Ge(),Xe&&clearInterval(Xe)}});function Qe(){n()&&setTimeout(()=>{n().resize()},300)}yc(()=>{Gl.init({chart:n(),saveStore:x,overlaysStore:null});const Ge=()=>{b(be,$(Gl.canUndo())),b(X,$(Gl.canRedo()))};Ge();const Xe=setInterval(Ge,100);"screen"in window&&"orientation"in window.screen?window.screen.orientation.addEventListener("change",Qe):window.addEventListener("orientationchange",Qe),ka();const eo=()=>{ka()},Et=()=>{ka(),typeof window<"u"&&b(ie,window.innerWidth<=768)};return i(Ce)&&i(Ce).addEventListener("scroll",eo),window.addEventListener("resize",Et),setTimeout(()=>{ka(),typeof window<"u"&&b(ie,window.innerWidth<=768)},500),()=>{clearInterval(Xe),"screen"in window&&"orientation"in window.screen?window.screen.orientation.removeEventListener("change",Qe):window.removeEventListener("orientationchange",Qe),i(Ce)&&i(Ce).removeEventListener("scroll",eo),window.removeEventListener("resize",Et)}});function mt(){i(be)&&Gl.undo()}function bt(){i(X)&&Gl.redo()}function ct(Ge){Qs(x,Qt(s).period=Ge,Qt(s)),i(se)&&b(se,!1)}function yo(){var eo,Et,xo,Eo;if((Et=(eo=s().styles)==null?void 0:eo.candle)!=null&&Et._isLineChart)return Ee.find(Vo=>Vo.id==="line_chart")||Ee[0];const Ge=((Eo=(xo=s().styles)==null?void 0:xo.candle)==null?void 0:Eo.type)||"renko_atr";return Ee.find(Vo=>Vo.id===Ge)||Ee[0]}const Kt=ja(x,Ge=>Ge.symbol.ticker),to=ja(x,Ge=>Ge.symbol.shortName);Kt.subscribe(()=>{b(G,$(s().symbol.shortName||s().symbol.ticker))}),to.subscribe(()=>{b(G,$(s().symbol.shortName||s().symbol.ticker))});function io(){const Ge=s().styles||{},Xe=ga(s().theme);if(Ge.backgroundColor||Ge.backgroundGradient||Ge.backgroundType||Ge.backgroundOpacity!==void 0||Ge.gridGradient||Ge.gridType||Ge.gridOpacity!==void 0)return!0;const eo=vn=>{if(!vn||typeof vn!="string")return"";const ii=vn.trim().toLowerCase();if(ii.startsWith("rgba(")){const fr=ii.match(/rgba\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)/);if(fr){const Ar=Number(fr[1]).toString(16).padStart(2,"0"),rr=Number(fr[2]).toString(16).padStart(2,"0"),Zr=Number(fr[3]).toString(16).padStart(2,"0");return`#${Ar}${rr}${Zr}`}}return ii},Et=eo(_t.get(Ge,"pane.backgroundColor")),xo=eo(_t.get(Ge,"candle.pane.backgroundColor")),Eo=eo(_t.get(Xe,"pane.backgroundColor"));if(Et&&Eo&&Et!==Eo||xo&&Eo&&xo!==Eo)return!0;const Vo=eo(_t.get(Ge,"grid.horizontal.color")),$o=eo(_t.get(Ge,"grid.vertical.color")),un=eo(_t.get(Xe,"grid.horizontal.color")),Yo=eo(_t.get(Xe,"grid.vertical.color"));return!!(Vo&&un&&Vo!==un||$o&&Yo&&$o!==Yo)}function ro(Ge){try{if(window.self!==window.top){const Xe={type:"theme-change",theme:Ge};let eo=k;try{window.parent.location&&(eo=window.parent.location.origin)}catch{eo=k}window.parent.postMessage(Xe,eo),console.log("ðŸ“¤ Sent theme-change message to parent:",Xe,"origin:",eo)}}catch(Xe){console.error("Failed to send theme-change message to parent:",Xe)}}function Uo(Ge,Xe){var xo,Eo,Vo,$o,un;const eo=document.querySelector(".kline-main");if(eo&&eo.setAttribute("data-theme",Ge),Xe){try{const Yo=localStorage.getItem("chart");if(Yo){const vn=JSON.parse(Yo);vn.styles&&(delete vn.styles.backgroundColor,delete vn.styles.backgroundOpacity,delete vn.styles.backgroundType,delete vn.styles.backgroundGradient,vn.styles.grid&&(delete vn.styles.grid.horizontal,delete vn.styles.grid.vertical),delete vn.styles.gridColor,delete vn.styles.gridOpacity,delete vn.styles.gridType,delete vn.styles.gridGradient,localStorage.setItem("chart",JSON.stringify(vn)),console.log("ðŸ§¹ Cleared custom background and grid colors from localStorage"))}}catch(Yo){console.error("Failed to clear custom colors from localStorage:",Yo)}if(n()){window.__forceApplyThemeDefaults=!0;const Yo=ga(Ge),vn=JSON.parse(JSON.stringify(s().styles||{})),ii=Yo,fr={...vn,pane:{...vn.pane,backgroundColor:ii.pane.backgroundColor},candle:{...vn.candle,pane:{...(xo=vn.candle)==null?void 0:xo.pane,backgroundColor:ii.candle.pane.backgroundColor}},grid:{...vn.grid,horizontal:{...(Eo=vn.grid)==null?void 0:Eo.horizontal,color:ii.grid.horizontal.color},vertical:{...(Vo=vn.grid)==null?void 0:Vo.vertical,color:ii.grid.vertical.color}}},Ar=($o=vn==null?void 0:vn.candle)==null?void 0:$o.type,rr=_t.merge({},Yo,fr);delete rr.backgroundColor,delete rr.backgroundOpacity,delete rr.backgroundType,delete rr.backgroundGradient,delete rr.gridColor,delete rr.gridOpacity,delete rr.gridType,delete rr.gridGradient,Ar&&rr.candle&&(rr.candle.type=Ar),n().setStyles(Fr(rr)),Qs(x,Qt(s).styles=rr,Qt(s))}try{const Yo=new Vh("chart-settings",p,Ge);Yo.resetToThemeDefaults(Ge),Yo.destroy(),console.log("ðŸ”„ Reset TransactionalThemeManager for theme toggle")}catch(Yo){console.error("Failed to reset TransactionalThemeManager:",Yo)}}Qs(x,Qt(s).theme=Ge,Qt(s));const Et=(un=a())==null?void 0:un.data;if(Et!=null&&Et.clerkId){const Yo=Ge==="dark"?"Dark":"Light";SP(Et.clerkId,Yo).catch(vn=>{console.error("Failed to save theme to API:",vn)})}ro(Ge)}function an(){const Ge=_t.get(s().styles,"backgroundType")==="gradient",Xe=_t.get(s().styles,"backgroundGradient"),eo=Ge&&Xe&&Array.isArray(Xe.stops)&&Xe.stops.length>0,Et=(Eo,Vo)=>{const $o=(Eo||"#000000").replace("#",""),un=parseInt($o.substring(0,2),16)||0,Yo=parseInt($o.substring(2,4),16)||0,vn=parseInt($o.substring(4,6),16)||0,ii=Math.max(0,Math.min(1,Vo??1));return`rgba(${un}, ${Yo}, ${vn}, ${ii})`};if(eo){requestAnimationFrame(()=>{var Eo,Vo;try{const $o=(Eo=n())==null?void 0:Eo.getConvertPictureUrl(!0,"png","rgba(0, 0, 0, 0)");if(!$o)return;const un=new Image;un.onload=()=>{const Yo=un.naturalWidth||un.width,vn=un.naturalHeight||un.height,ii=document.createElement("canvas");ii.width=Yo,ii.height=vn;const fr=ii.getContext("2d");if(!fr)return;let Ar;if((Xe.type==="radial"?"radial":"linear")==="radial")Ar=fr.createRadialGradient(Yo/2,vn/2,0,Yo/2,vn/2,Math.max(Yo,vn)/2);else{const Ii=((typeof Xe.direction=="number"?Xe.direction:90)-90)*Math.PI/180,Ur=Math.cos(Ii),_a=Math.sin(Ii),Nc=Yo/2-Yo/2*Ur,kl=vn/2-vn/2*_a,nl=Yo/2+Yo/2*Ur,Fl=vn/2+vn/2*_a;Ar=fr.createLinearGradient(Nc,kl,nl,Fl)}[...Xe.stops].sort((qr,Ii)=>(qr.position??0)-(Ii.position??0)).forEach(qr=>{const Ii=Math.max(0,Math.min(1,(qr.position??0)/100)),Ur=Et(qr.color,(qr.opacity??100)/100);Ar.addColorStop(Ii,Ur)}),fr.fillStyle=Ar,fr.fillRect(0,0,Yo,vn),fr.drawImage(un,0,0,Yo,vn),b(Y,$(ii.toDataURL("image/png"))),b(B,!0)},un.src=$o}catch{let un=s().theme==="dark"?"#151517":"#ffffff";b(Y,$(((Vo=n())==null?void 0:Vo.getConvertPictureUrl(!0,"jpeg",un))??"")),b(B,!0)}});return}let xo;try{const Eo=document.querySelector(".kline-widget"),Vo=document.querySelector(".kline-main"),$o=un=>{if(!un)return"";const Yo=getComputedStyle(un).getPropertyValue("--chart-background-color").trim();return Yo&&!Yo.includes("gradient")?Yo:""};if(xo=$o(Eo)||$o(Vo)||void 0,!xo&&n()&&typeof n().getStyles=="function"){const un=n().getStyles()??{};xo=_t.get(un,"pane.backgroundColor")||_t.get(un,"candle.pane.backgroundColor")||void 0}if(!xo){const un=_t.get(s().styles,"backgroundColor");xo=un&&typeof un=="string"?un:void 0}}catch{}xo||(xo=s().theme==="dark"?"#151517":"#ffffff"),requestAnimationFrame(()=>{var Eo;b(Y,$(((Eo=n())==null?void 0:Eo.getConvertPictureUrl(!0,"jpeg",xo))??"")),b(B,!0)})}function Mn(){if(Zt()&&i(Te)){i(Te)();return}let Ge=document;const Xe=Ge.exitFullscreen??Ge.mozCancelFullScreen??Ge.webkitExitFullscreen??Ge.msExitFullscreen;Xe?Xe.call(Ge):Zt()&&cn()}function uo(){Se("ðŸ”„ toggleFullscreen called, current fullScreen: "+i(M)),Se("ðŸ” iOS detection - isIOS(): "+Do()+", isIOSSafari(): "+Zt()),i(M)?(Se("ðŸšª Exiting fullscreen..."),Mn()):Zt()?(Se("ðŸ“± Using iOS Safari fullscreen method"),Go()):(Se("ðŸ–¥ï¸ Using standard fullscreen method"),sn())}function Do(){return/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1}function Zt(){const Ge=navigator.userAgent,Xe=/iPad|iPhone|iPod/.test(Ge)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,eo=/Safari/.test(Ge)&&!/Chrome|CriOS|FxiOS/.test(Ge);return Xe&&eo}function Go(){return Se("ðŸ“± enterFullscreenIOS called"),new Promise(Ge=>{var eo;const Xe=u();if(Se("ðŸŽ¯ mainContainer element: "+(Xe?"Found":"Not found")),Xe&&Xe.webkitRequestFullscreen){Se("ðŸ”§ Trying webkitRequestFullscreen...");try{Xe.webkitRequestFullscreen(),setTimeout(()=>{Se("âœ… webkitRequestFullscreen success, setting fullScreen = true"),b(M,!0),Ge(!0)},300);return}catch(Et){Se("âŒ webkitRequestFullscreen failed: "+Et)}}else Se("âŒ webkitRequestFullscreen not available");if(Xe&&Xe.webkitEnterFullscreen)try{Xe.webkitEnterFullscreen(),setTimeout(()=>{b(M,!0),Ge(!0)},300);return}catch(Et){console.log("webkitEnterFullscreen failed:",Et)}Se("ðŸ”§ Trying viewport manipulation fallback...");try{const Et=document.querySelector('meta[name="viewport"]'),xo=(Et==null?void 0:Et.getAttribute("content"))||"";Se("ðŸ“‹ Original viewport content: "+xo);const Eo=Et||document.createElement("meta");Eo.setAttribute("name","viewport"),Eo.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"),Et?console.log("ðŸ”„ Updated existing viewport meta tag"):(document.head.appendChild(Eo),console.log("âž• Added new viewport meta tag")),window.scrollTo(0,1),console.log("ðŸ“œ Scrolled to hide Safari UI");const Vo=document.createElement("style");Vo.id="ios-fullscreen-style",Vo.textContent=`
          body.ios-fullscreen {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100vh !important;
            overflow: hidden !important;
            -webkit-overflow-scrolling: touch !important;
          }
          
          .ios-fullscreen #main-container {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100vw !important;
            height: 100vh !important;
            z-index: 9999 !important;
          }
          
          /* Hide Safari bottom bar */
          @supports (padding: max(0px)) {
            .ios-fullscreen {
              padding-bottom: env(safe-area-inset-bottom) !important;
            }
          }
        `,document.head.appendChild(Vo),console.log("ðŸŽ¨ Added iOS fullscreen CSS styles");const $o=((eo=u())==null?void 0:eo.getAttribute("data-theme"))||s().theme;Se("ðŸŽ¨ Preserving theme during iOS fullscreen: "+$o),document.body.classList.add("ios-fullscreen"),console.log("âœ… Applied ios-fullscreen class to body"),u()&&(u().setAttribute("data-theme",$o),Se("ðŸ”„ Restored theme attribute: "+$o)),setTimeout(()=>{window.scrollTo(0,0),b(M,!0),Se("ðŸŽ¯ iOS fullscreen activated successfully!"),b(Te,()=>{var vn;Se("ðŸ§¹ Cleaning up iOS fullscreen...");const un=((vn=u())==null?void 0:vn.getAttribute("data-theme"))||s().theme;Se("ðŸŽ¨ Preserving theme during cleanup: "+un),document.body.classList.remove("ios-fullscreen");const Yo=document.getElementById("ios-fullscreen-style");Yo&&Yo.remove(),Et&&xo&&Et.setAttribute("content",xo),u()&&(u().setAttribute("data-theme",un),Se("ðŸ”„ Restored theme attribute after cleanup: "+un)),b(M,!1),Se("âœ… iOS fullscreen cleanup completed")}),Ge(!0)},100)}catch(Et){console.log("iOS Safari viewport fallback failed:",Et),Ge(!1)}})}function cn(){var Ge;if(console.log("ðŸšª exitFullscreenIOS called"),n()&&s().styles){window.__forceApplySavedCanvasColors=!0;const Xe=ga(s().theme);_t.merge(Xe,s().styles),n().setStyles(Fr(Xe)),r().applyCanvasColors&&r().applyCanvasColors(),console.log("ðŸŽ¨ Pre-applied styles before iOS exit")}try{document.webkitExitFullscreen?(console.log("ðŸ”§ Trying webkitExitFullscreen..."),document.webkitExitFullscreen()):console.log("âŒ webkitExitFullscreen not available"),i(Te)?(console.log("ðŸ§¹ Using stored cleanup function..."),i(Te)(),b(Te,null)):console.log("âŒ No stored cleanup function available"),console.log("ðŸ”§ Performing manual cleanup...");const Xe=((Ge=u())==null?void 0:Ge.getAttribute("data-theme"))||s().theme;console.log("ðŸŽ¨ Preserving theme during manual cleanup: "+Xe),document.body.classList.remove("ios-fullscreen");const eo=document.getElementById("ios-fullscreen-style");eo&&(eo.remove(),console.log("ðŸ—‘ï¸ Removed iOS fullscreen styles"));const Et=document.querySelector('meta[name="viewport"]');Et&&(Et.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"),console.log("ðŸ“± Restored viewport meta tag")),u()&&(u().setAttribute("data-theme",Xe),console.log("ðŸ”„ Restored theme attribute after manual cleanup: "+Xe)),b(M,!1),console.log("âœ… Set fullScreen = false"),setTimeout(()=>{var xo;if(console.log("ðŸ“ First chart resize..."),(xo=n())==null||xo.resize(),n()&&s().styles){window.__forceApplySavedCanvasColors=!0;const Eo=ga(s().theme);_t.merge(Eo,s().styles),n().setStyles(Fr(Eo)),r().applyCanvasColors&&r().applyCanvasColors()}},10),setTimeout(()=>{var xo;if((xo=n())==null||xo.resize(),n()&&s().styles){window.__forceApplySavedCanvasColors=!0;const Eo=ga(s().theme);_t.merge(Eo,s().styles),n().setStyles(Fr(Eo)),r().applyCanvasColors&&r().applyCanvasColors()}},100),setTimeout(()=>{var xo;if((xo=n())==null||xo.resize(),n()&&s().styles){window.__forceApplySavedCanvasColors=!0;const Eo=ga(s().theme);if(_t.merge(Eo,s().styles),n().setStyles(Fr(Eo)),r().applyCanvasColors){r().applyCanvasColors();const Vo=n().getVisibleRange();Vo&&n().scrollToDataIndex(Vo.to,0)}console.log("âœ… Final iOS chart colors applied after exit")}},300)}catch(Xe){console.log("âŒ iOS exit fullscreen failed:",Xe)}}function sn(){return Do()?Go():new Promise(Ge=>{let Xe=u();Xe&&Xe.requestFullscreen?Xe.requestFullscreen().then(()=>Ge(!0)).catch(()=>Ge(!1)):Xe&&Xe.mozRequestFullScreen?(Xe.mozRequestFullScreen(),setTimeout(()=>Ge(!0),100)):Xe&&Xe.webkitRequestFullscreen?(Xe.webkitRequestFullscreen(),setTimeout(()=>Ge(!0),100)):Xe&&Xe.msRequestFullscreen?(Xe.msRequestFullscreen(),setTimeout(()=>Ge(!0),100)):Ge(!1)})}function Tr(){zi();const Ge=document.createElement("div");Ge.id="ios-rotation-hint",Ge.innerHTML=`
      <div style="
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.9);
        color: white;
        padding: 20px;
        border-radius: 12px;
        text-align: center;
        z-index: 10000;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        max-width: 280px;
        backdrop-filter: blur(10px);
      ">
        <div style="font-size: 24px; margin-bottom: 10px;">ðŸ“±</div>
        <div style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Rotate Your Device</div>
        <div style="font-size: 14px; opacity: 0.8;">Turn your device to landscape mode for the best experience</div>
        <div style="margin-top: 15px; font-size: 12px; opacity: 0.6;">Tap anywhere to dismiss</div>
      </div>
    `,Ge.onclick=zi,document.body.appendChild(Ge),setTimeout(zi,4e3)}function zi(){const Ge=document.getElementById("ios-rotation-hint");Ge&&Ge.remove()}async function Ki(){if(typeof window<"u"&&window.saveManager){const Ge=window.saveManager;if(Ge.getState().activeSaveId){const eo=await Ge.quickSave();eo.success||console.error("Quick save failed:",eo.error),eo.success&&(b(ae,!1),b(je,"Saved to current layout"),b(we,!0),setTimeout(()=>{b(we,!1)},2e3))}else b(ae,!1),b(J,!0)}}function wa(){b(ae,!1),b(U,!0)}function Ei(){b(ae,!1),b(J,!0)}async function Za(Ge){const{layoutId:Xe}=Ge.detail;if(typeof window<"u"&&window.saveManager){const Et=await window.saveManager.load(Xe);Et.success||console.error("Load failed:",Et.error)}}async function Xa(Ge){const{layoutId:Xe}=Ge.detail;if(typeof window<"u"&&window.saveManager){const Et=await window.saveManager.delete(Xe);if(!Et.success){console.error("Delete failed:",Et.error);return}b(Le,$((i(Le)||[]).filter(xo=>xo.id!==Xe))),i(He)===Xe&&b(He,null),b(it,!1)}}async function sl(Ge){const{name:Xe}=Ge.detail;if(typeof window<"u"&&window.saveManager){const Et=await window.saveManager.save(Xe);Et.success?b(J,!1):console.error("Save failed:",Et.error)}}function Ja(){b(J,!1)}async function pl(Ge){const{layoutId:Xe}=Ge.detail;if(console.log("ðŸ’¾ SaveAsSelectSave triggered with layoutId:",Xe),typeof window<"u"&&window.saveManager){const eo=window.saveManager;console.log("âœ… SaveManager found, calling saveTo...");const Et=await eo.saveTo(Xe);Et.success?(console.log("âœ… Save to existing successful"),b(U,!1)):console.error("âŒ Save to existing failed:",Et.error)}else console.error("âŒ SaveManager not available")}function il(){b(U,!1),Ma()}function Qa(){b(U,!1)}function Ma(){console.log("ðŸŽ¯ Save button clicked, showing popup..."),console.log("ðŸ“Š Current savedLayouts:",i(Le)),console.log("ðŸŽ¯ Current activeSaveId:",i(He)),console.log("ðŸ’¾ SaveManager available:",!!window.saveManager);try{if(typeof window<"u"&&window.saveManager){const Xe=window.saveManager.getState();if(!Xe||!Array.isArray(Xe.savedLayouts)||Xe.savedLayouts.length===0){b(ae,!1),b(J,!0);return}}else if(!i(Le)||i(Le).length===0){b(ae,!1),b(J,!0);return}}catch{b(ae,!1),b(J,!0);return}if(u()){const Ge=u().querySelector(".chart-container");if(Ge){const Xe=Ge.getBoundingClientRect();b(me,$({x:Xe.left+Xe.width/2,y:Xe.top+Xe.height/2}))}else{const Xe=u().getBoundingClientRect();b(me,$({x:Xe.left+Xe.width/2,y:Xe.top+Xe.height/2}))}}b(ae,!0)}function ka(){if(!i(Ce))return;const{scrollWidth:Ge,clientWidth:Xe,scrollLeft:eo}=i(Ce),Et=Ge>Xe,xo=eo+Xe>=Ge-5;b(H,$(Et&&!xo))}function zr(Ge){if(Ge&&(Ge.preventDefault(),Ge.stopPropagation()),!i(Ce))return;const{scrollLeft:Xe,clientWidth:eo,scrollWidth:Et}=i(Ce),xo=eo*.7,Eo=Math.min(Xe+xo,Et-eo);try{i(Ce).scrollTo({left:Eo,behavior:"smooth"})}catch{i(Ce).scrollLeft=Eo}}function oa(Ge){Ge.preventDefault(),Ge.stopPropagation(),zr()}var fl=RO(),bl=nt(fl);GA(bl,{get show(){return i(D)},set show(Ge){b(D,$(Ge))}});var rl=v(bl,2);KA(rl,{get show(){return i(A)},set show(Ge){b(A,$(Ge))}});var Ta=v(rl,2);LD(Ta,{get show(){return i(j)},set show(Ge){b(j,$(Ge))}});var al=v(Ta,2);GF(al,{get show(){return r().modalIndCfg},set show(Ge){Qs(h,Qt(r).modalIndCfg=Ge,Qt(r))}});var xl=v(al,2);g$(xl,{get show(){return i(F)},set show(Ge){b(F,$(Ge))}});var Gr=v(xl,2);Eb(Gr,{get show(){return i(q)},set show(Ge){b(q,$(Ge))}});var Kl=v(Gr,2);m$(Kl,{get show(){return i(B)},set show(Ge){b(B,$(Ge))},get url(){return i(Y)},set url(Ge){b(Y,$(Ge))}});var gl=v(Kl,2);x$(gl,{get show(){return i(O)},set show(Ge){b(O,$(Ge))}});var el=v(gl,2);P$(el,{get show(){return i(Je)},set show(Ge){b(Je,$(Ge))}});var _l=v(el,2);G$(_l,{get show(){return i(z)},set show(Ge){b(z,$(Ge))}});var Ba=v(_l,2);nB(Ba,{get show(){return i(J)},set show(Ge){b(J,$(Ge))},get savedLayouts(){return i(Le)},get isLoading(){return i(it)},mode:"save",showExisting:!1,$$events:{save:sl,cancel:Ja}});var ll=v(Ba,2);AB(ll,{get show(){return i(U)},set show(Ge){b(U,$(Ge))},get savedLayouts(){return i(Le)},get isLoading(){return i(it)},$$events:{saveTo:pl,back:il,cancel:Qa}});var Kr=v(ll,2);fB(Kr,{get show(){return i(ae)},set show(Ge){b(ae,$(Ge))},get savedLayouts(){return i(Le)},get activeSaveId(){return i(He)},get isLoading(){return i(it)},get hasUnsavedChanges(){return Ne},get position(){return i(me)},showLayouts:!1,$$events:{save:Ki,saveAs:wa,quickSave:Ki,newLayout:Ei}});var yr=v(Kr,2);xB(yr,{get show(){return i(ke)},set show(Ge){b(ke,$(Ge))},get savedLayouts(){return i(Le)},get activeSaveId(){return i(He)},get position(){return i(Ae)},get isLoading(){return i(it)},$$events:{load:Za,delete:Xa}});var Oa=v(yr,2);Fb(Oa,{get visible(){return i(we)},set visible(Ge){b(we,$(Ge))},get message(){return i(je)},duration:2e3});var wl=v(Oa,2),Vr=m(wl),tl=m(Vr),Ra=m(tl),ol=m(Ra);ol.__click=[XB,w,u,n,p];var Na=m(ol),pt=m(Na);_(Na),ei(2),_(ol),_(Ra);var At=v(Ra,2);xe(At,d,Ge=>{var Xe=tO(),eo=m(Xe);eo.__change=[ZB,G,s,x,n,p,r,h],Al(eo,xo=>b(Ue,xo),()=>i(Ue));var Et=v(eo,2);Et.__click=[eO,Ue],_(Xe),N(Ge,Xe)});var Bt=v(At,2),dt=m(Bt);dt.__click=[JB,re,oe,Do,Go,Tr,n,p,sn,zi,M,Mn];var Vt=m(dt);xe(Vt,()=>i(re),Ge=>{var Xe=oO();N(Ge,Xe)});var Tt=v(Vt,2),Co=m(Tt),Ro=m(Co),Tn=m(Ro);xe(Tn,()=>i(oe),Ge=>{var Xe=nO();ei(3),N(Ge,Xe)},Ge=>{var Xe=sO();ei(3),N(Ge,Xe)}),_(Ro),_(Co),_(Tt),ei(2),_(dt),_(Bt);var jo=v(Bt,2);jo.__click=[iO,D];var En=m(jo),mo=m(En),Es=m(mo);gT(Es,{class:"search-icon"}),_(mo);var zn=v(mo,2),Vi=m(zn,!0);_(zn),_(En),_(jo);var Rn=v(jo,2),Fs=m(Rn);xe(Fs,()=>!i(ie),Ge=>{var Xe=uO(),eo=m(Xe);Qo(eo,17,()=>Be,ln,(Eo,Vo)=>{var $o=aO();$o.__click=[rO,ct,Vo];var un=m($o),Yo=m(un,!0);_(un),ei(2),_($o),Re(()=>{var vn;Un($o,`timeframe-btn ${(i(Vo).timeframe===((vn=s().period)==null?void 0:vn.timeframe)?"timeframe-btn-active":"")??""} svelte-1oqs6cc`),wt(Yo,i(Vo).timeframe)}),N(Eo,$o)});var Et=v(eo,2);Et.__click=[lO,ct,ye];var xo=v(Et,2);Qo(xo,17,()=>le,ln,(Eo,Vo)=>{var $o=dO();$o.__click=[cO,ct,Vo];var un=m($o),Yo=m(un,!0);_(un),ei(2),_($o),Re(()=>{var vn;Un($o,`timeframe-btn ${(i(Vo).timeframe===((vn=s().period)==null?void 0:vn.timeframe)?"timeframe-btn-active":"")??""} svelte-1oqs6cc`),wt(Yo,i(Vo).timeframe)}),N(Eo,$o)}),_(Xe),Re(()=>{var Eo;return Un(Et,`timeframe-btn ${(((Eo=s().period)==null?void 0:Eo.timeframe)==="4h"?"timeframe-btn-active":"")??""} svelte-1oqs6cc`)}),N(Ge,Xe)});var Fi=v(Fs,2);xe(Fi,()=>i(ie),Ge=>{var Xe=kO(),eo=m(Xe);xe(eo,()=>le.find(Vo=>Vo.timeframe==="1d"),Vo=>{var $o=pO();$o.__click=[vO,ct,le],Re(()=>{var un;return Un($o,`timeframe-btn ${(((un=s().period)==null?void 0:un.timeframe)==="1d"?"timeframe-btn-active":"")??""} svelte-1oqs6cc`)}),N(Vo,$o)});var Et=v(eo,2);xe(Et,()=>le.find(Vo=>Vo.timeframe==="1w"),Vo=>{var $o=gO();$o.__click=[fO,ct,le],Re(()=>{var un;return Un($o,`timeframe-btn ${(((un=s().period)==null?void 0:un.timeframe)==="1w"?"timeframe-btn-active":"")??""} svelte-1oqs6cc`)}),N(Vo,$o)});var xo=v(Et,2);xo.__click=[_O,se];var Eo=v(xo,2);xe(Eo,()=>i(se),Vo=>{var $o=wO(),un=m($o);Qo(un,17,()=>Be,ln,(ii,fr)=>{var Ar=hO();Ar.__click=[mO,ct,fr];var rr=m(Ar),Zr=m(rr,!0);_(rr),ei(2),_(Ar),Re(()=>{var qr;Un(Ar,`timeframe-btn ${(i(fr).timeframe===((qr=s().period)==null?void 0:qr.timeframe)?"timeframe-btn-active":"")??""} svelte-1oqs6cc`),wt(Zr,i(fr).timeframe)}),N(ii,Ar)});var Yo=v(un,2);Yo.__click=[yO,ct,ye];var vn=v(Yo,2);xe(vn,()=>le.find(ii=>ii.timeframe==="1M"),ii=>{var fr=xO();fr.__click=[bO,ct,le],Re(()=>{var Ar;return Un(fr,`timeframe-btn ${(((Ar=s().period)==null?void 0:Ar.timeframe)==="1M"?"timeframe-btn-active":"")??""} svelte-1oqs6cc`)}),N(ii,fr)}),_($o),Re(()=>{var ii;return Un(Yo,`timeframe-btn ${(((ii=s().period)==null?void 0:ii.timeframe)==="4h"?"timeframe-btn-active":"")??""} svelte-1oqs6cc`)}),bu(1,$o,()=>XA,()=>({duration:180})),bu(2,$o,()=>Yg,()=>({duration:120})),N(Vo,$o)}),_(Xe),Re(()=>{Un(xo,`timeframe-btn timeframe-more-btn ${(i(se)?"timeframe-btn-active":"")??""} svelte-1oqs6cc`),lt(xo,"aria-expanded",i(se))}),N(Ge,Xe)}),_(Rn);var vr=v(Rn,2),js=m(vr);js.__click=[SO,z],_(vr);var qi=v(vr,2),Ti=m(qi);Ti.__click=[CO,Je];var xi=m(Ti);Hd(xi,{get name(){return yo().icon},size:16});var oi=v(xi,2),ir=m(oi,!0);Re(()=>wt(ir,yo().name)),_(oi),_(Ti),_(qi);var Ws=v(qi,2),di=m(Ws);di.__click=[IO,j];var Ps=m(di);Hd(Ps,{name:"indicator",size:16});var ps=v(Ps,2),ni=m(ps,!0);Re(()=>wt(ni,jh())),_(ps),_(di),_(Ws);var Zi=v(Ws,2),ui=m(Zi);ui.__click=function(...Ge){var Xe;(Xe=i(be)?mt:void 0)==null||Xe.apply(this,Ge)};var pr=m(ui);Hd(pr,{class:"undo-redo-icon",name:"undo",size:16}),_(ui);var Hr=v(ui,2);Hr.__click=function(...Ge){var Xe;(Xe=i(X)?bt:void 0)==null||Xe.apply(this,Ge)};var ge=m(Hr);Hd(ge,{class:"undo-redo-icon",name:"redo",size:16}),_(Hr),_(Zi),_(tl);var We=v(tl,2),ft=m(We);K$(ft,{get savedLayouts(){return i(Le)},get activeSaveId(){return i(He)},get isLoading(){return i(it)},get hasUnsavedChanges(){return Ne},$$events:{save:Ki,saveAs:wa,quickSave:Ki,load:Za,delete:Xa,newLayout:Ei,showPopup:Ma}});var Ht=v(ft,2);Ht.__click=[QB,u,Ae,ke];var jt=m(Ht);iT(jt,{size:18}),_(Ht);var go=v(Ht,2);xe(go,()=>c().mode==="none",Ge=>{var Xe=MO();Xe.__click=[PO,T];var eo=m(Xe);Hd(eo,{name:"play",size:18}),_(Xe),N(Ge,Xe)},Ge=>{var Xe=TO(),eo=m(Xe);Hd(eo,{name:"play",size:18}),_(Xe),N(Ge,Xe)});var Rt=v(go,2);Rt.__click=[AO,O];var To=m(Rt);nT(To,{size:18}),_(Rt);var Lo=v(Rt,2);Lo.__click=[DO,q];var Mo=m(Lo);_T(Mo,{size:18}),_(Lo);var Fn=v(Lo,2);Fn.__click=function(...Ge){var Xe;(Xe=e.onToggleScriptStudio)==null||Xe.apply(this,Ge)};var fs=m(Fn);sT(fs,{size:18}),_(Fn);var si=v(Fn,2);si.__click=an;var ji=m(si);oT(ji,{size:18}),_(si);var Ai=v(si,2);Ai.__click=[LO,Se,uo];var $i=m(Ai);xe($i,()=>i(M),Ge=>{dT(Ge,{size:18})},Ge=>{cT(Ge,{size:18})}),_(Ai);var _i=v(Ai,2);_i.__click=[UB,s,x,io,K,te,Uo];var br=m(_i);xe(br,()=>s().theme==="dark",Ge=>{uT(Ge,{size:20})},Ge=>{mT(Ge,{size:20})}),_(_i),_(We),_(Vr),Al(Vr,Ge=>b(Ce,Ge),()=>i(Ce));var bs=v(Vr,2);xe(bs,()=>i(H),Ge=>{var Xe=BO();Xe.__click=[EO,zr],Xe.__touchstart=[FO,oa],Xe.__touchend=[jO],Xe.__pointerdown=[$O,zr],N(Ge,Xe)}),_(wl);var Xi=v(wl,2);xe(Xi,()=>i(te),Ge=>{var Xe=OO(),eo=m(Xe),Et=v(m(eo),2),xo=m(Et);ei(2),_(Et);var Eo=v(Et,2),Vo=m(Eo);Vo.__click=[KB,K,Uo,te];var $o=v(Vo,2);$o.__click=[YB,K,Uo,te],_(Eo),_(eo),_(Xe),Re(()=>wt(xo,`${`You're changing the user interface to the ${i(K)==="light"?"Light":"Dark"} theme.`??""} `)),N(Ge,Xe)});var xr=v(Xi,2);GB(xr,{get show(){return i(T)},$$events:{close:()=>b(T,!1)}}),Re(()=>{Vg(pt,`menu-toggle-icon ${(i(w)?"":"rotate")??""} svelte-1oqs6cc`),Un(dt,`menu-btn ${(i(oe)?"menu-btn-active":"")??""} ${(i(re)?"rotate-loading":"")??""} svelte-1oqs6cc`),lt(dt,"title",i(oe)?"Exit Fullscreen & Rotation":"Fullscreen & Rotate to Landscape"),dt.disabled=i(re),Ls(Tt,"rotate-content-hidden",i(re)),Ls(Ro,"rotate-icon-spinning",i(re)),wt(Vi,i(G)),Un(ui,`undo-redo-btn ${(i(be)?"":"undo-redo-disabled")??""} svelte-1oqs6cc`),Un(Hr,`undo-redo-btn ${(i(X)?"":"undo-redo-disabled")??""} svelte-1oqs6cc`),lt(Ai,"title",i(M)?"Exit Fullscreen":"Fullscreen")}),N(o,fl),Mr()}Pa(["click","change","touchstart","touchend","pointerdown"]);var zO=ue('<div class="modal-backdrop svelte-1oypfgf"><div class="modal-content svelte-1oypfgf"><div class="modal-actions svelte-1oypfgf"><button class="action-btn copy-btn svelte-1oypfgf"><svg width="12" height="12" viewBox="0 0 24 24" fill="none"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" stroke-width="2"></rect><path d="M5 15H4C2.9 15 2 14.1 2 13V4C2 2.9 2.9 2 4 2H13C14.1 2 15 2.9 15 4V5" stroke="currentColor" stroke-width="2"></path></svg> <span class="svelte-1oypfgf"> </span></button> <button class="action-btn reset-btn svelte-1oypfgf"><svg width="12" height="12" viewBox="0 0 24 24" fill="none"><path d="M3 12C3 7.03 7.03 3 12 3C16.97 3 21 7.03 21 12C21 16.97 16.97 21 12 21" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M3 12L7 8M3 12L7 16" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg> <span class="svelte-1oypfgf">Reset View</span></button></div></div></div>');function VO(o,e){Pr(e,!1);let t=Po(e,"isOpen",12,!1),n=Po(e,"x",8,0),s=Po(e,"y",8,0),r=Po(e,"currentPrice",8,"");const a=nc();function c(){t(!1),a("close")}function d(){a("reset"),c()}function u(){a("copy",{price:r()}),c()}function p(k){k.target===k.currentTarget&&c()}function h(k){k.key==="Escape"&&c()}wc();var x=yt();$a("keydown",Kx,h);var w=nt(x);xe(w,t,k=>{var S=zO(),M=m(S),T=m(M),D=m(T),A=v(m(D),2),j=m(A);_(A),_(D);var F=v(D,2);_(T),_(M),_(S),Re(()=>{lt(M,"style",`left: ${n()??""}px; top: ${s()??""}px;`),wt(j,`Copy Price ${(r()?`(${r()})`:"")??""}`)}),$a("click",D,u),$a("click",F,d),$a("click",S,p),N(k,S)}),N(o,x),Mr()}class qO{constructor(e){Wt(this,"chart");Wt(this,"overlays",new Map);Wt(this,"projectionQueue",new Set);Wt(this,"isProjecting",!1);Wt(this,"eventListeners",new Map);Wt(this,"resizeObserver");Wt(this,"periodicProjectionId");Wt(this,"lastViewportState");Wt(this,"animationFrameId",null);this.chart=e,this.initializeEventListeners()}initializeEventListeners(){if(typeof ResizeObserver<"u"){const e=this.chart.getDom();if(e){const t=new ResizeObserver(()=>{this.scheduleProjection("resize")});t.observe(e),this.resizeObserver=t}}this.setupPeriodicProjection()}setupPeriodicProjection(){this.periodicProjectionId=window.setInterval(()=>{const e=this.getViewportState();e!==this.lastViewportState&&(this.lastViewportState=e,this.scheduleProjection("scroll"))},100)}getViewportState(){try{const e=this.chart.getVisibleRange(),t=this.chart.getSize();return JSON.stringify({visibleRange:e,chartSize:t})}catch{return""}}scheduleProjection(e){this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame(()=>{this.projectAllOverlays(e),this.animationFrameId=null})}addOverlay(e){this.overlays.set(e.id,e),e.points.length>0&&(e.points,this.chart,void 0),this.projectOverlay(e)}removeOverlay(e){this.overlays.delete(e);try{this.chart.removeOverlay({id:e})}catch(t){console.warn("Could not remove overlay from chart:",t)}}updateOverlay(e){this.overlays.has(e.id)&&(this.overlays.set(e.id,e),e.points.length>0&&(e.points,this.chart,void 0),this.projectOverlay(e))}getOverlay(e){return this.overlays.get(e)}getAllOverlays(){return Array.from(this.overlays.values())}projectOverlay(e){const t={chart:this.chart,paneId:"candle_pane"},n=Tb(e.points,t);return n.isValid&&e.visible!==!1&&this.updateChartOverlay(e,n.screenPoints),n}projectAllOverlays(e){if(!this.isProjecting){this.isProjecting=!0;try{const t={type:e,chart:this.chart,timestamp:Date.now()};this.emitEvent(e,t);for(const n of this.overlays.values())n.visible!==!1&&this.projectOverlay(n)}finally{this.isProjecting=!1}}}updateChartOverlay(e,t){try{const n=t.map(c=>({x:c.x,y:c.y})),s={id:e.id,name:e.type,points:n.map((c,d)=>{var u,p;return{...c,timestamp:(u=e.points[d])==null?void 0:u.t,value:(p=e.points[d])==null?void 0:p.p}}),styles:this.convertOverlayStyles(e.style),visible:e.visible,lock:e.lock},r=this.chart.getOverlays({id:e.id});(r.length>0?r[0]:null)?this.chart.overrideOverlay(s):this.chart.createOverlay(s)}catch(n){console.error("Error updating chart overlay:",n)}}convertOverlayStyles(e){const t={};return e.line&&(t.line={color:e.line.color,size:e.line.size,style:e.line.style==="dashed"?"dashed":"solid"},e.line.dashedValue&&(t.line.dashedValue=e.line.dashedValue)),e.text&&(t.text={color:e.text.color,backgroundColor:e.text.backgroundColor,borderColor:e.text.borderColor,fontSize:e.text.fontSize}),e.polygon&&(t.polygon={color:e.polygon.color,fillColor:e.polygon.fillColor}),t}onTimeframeChange(){this.scheduleProjection("timeframeChange")}onTimezoneChange(){this.scheduleProjection("timezoneChange")}onPriceScaleChange(){this.scheduleProjection("priceScaleChange")}addEventListener(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e).add(t)}removeEventListener(e,t){const n=this.eventListeners.get(e);n&&n.delete(t)}emitEvent(e,t){const n=this.eventListeners.get(e);n&&n.forEach(s=>{try{s(t)}catch(r){console.error("Error in overlay event listener:",r)}})}forceProjection(){this.projectAllOverlays("resize")}clearAllOverlays(){for(const e of this.overlays.keys())this.removeOverlay(e);this.overlays.clear()}dispose(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0),this.periodicProjectionId&&(clearInterval(this.periodicProjectionId),this.periodicProjectionId=void 0),this.clearAllOverlays(),this.eventListeners.clear()}}const WO={timeframeChange:{debounceMs:100,enabled:!0},zoom:{throttleMs:16,enabled:!0},scroll:{throttleMs:16,enabled:!0},resize:{debounceMs:250,enabled:!0},dataUpdate:{debounceMs:50,enabled:!0},priceScaleChange:{debounceMs:100,enabled:!0}};class GO{constructor(e,t={}){Wt(this,"chart");Wt(this,"projectionManager",null);Wt(this,"creationManager",null);Wt(this,"eventListeners",new Map);Wt(this,"resizeObserver",null);Wt(this,"config");Wt(this,"debounceTimers",new Map);Wt(this,"throttleTimers",new Map);this.chart=e,this.config={...WO,...t}}setProjectionManager(e){this.projectionManager=e}setCreationManager(e){this.creationManager=e}initialize(){this.setupChartEventListeners(),this.setupResizeObserver(),this.setupCustomEventListeners()}setupChartEventListeners(){this.setupViewportChangeDetection()}setupViewportChangeDetection(){let e=null;const n=setInterval(()=>{try{const s=this.chart.getVisibleRange();s&&this.hasRangeChanged(e,s)&&(e=s,this.handleEvent("scroll"))}catch(s){console.error("Error checking viewport changes:",s)}},16);this.eventListeners.set("viewportPolling",()=>clearInterval(n))}setupResizeObserver(){const e=this.chart.getDom();e&&(this.resizeObserver=new ResizeObserver(()=>{this.handleEvent("resize")}),this.resizeObserver.observe(e))}setupCustomEventListeners(){const e=this.chart.getDom();if(!e)return;const t=()=>this.handleEvent("timeframeChange"),n=()=>this.handleEvent("dataUpdate");e.addEventListener("timeframeChange",t),e.addEventListener("dataUpdate",n),this.eventListeners.set("timeframeChange",()=>{e.removeEventListener("timeframeChange",t)}),this.eventListeners.set("dataUpdate",()=>{e.removeEventListener("dataUpdate",n)})}handleEvent(e){const t=this.config[e];t.enabled&&(t.debounceMs?this.debounceEvent(e,t.debounceMs):t.throttleMs?this.throttleEvent(e,t.throttleMs):this.executeEvent(e))}debounceEvent(e,t){const n=this.debounceTimers.get(e);n&&clearTimeout(n);const s=setTimeout(()=>{this.executeEvent(e),this.debounceTimers.delete(e)},t);this.debounceTimers.set(e,s)}throttleEvent(e,t){const n=this.throttleTimers.get(e)||0,s=Date.now();s-n>=t&&(this.executeEvent(e),this.throttleTimers.set(e,s))}executeEvent(e){try{this.projectionManager&&this.projectionManager.forceProjection();const t=this.chart.getDom();t&&t.dispatchEvent(new CustomEvent("overlayEvent",{detail:{type:e,timestamp:Date.now()}}))}catch(t){console.error(`Error handling ${e} event:`,t)}}hasRangeChanged(e,t){return e?e.from!==t.from||e.to!==t.to:!0}hasPriceRangeChanged(e,t){return e?Math.abs(e.min-t.min)>1e-8||Math.abs(e.max-t.max)>1e-8:!0}triggerEvent(e){this.handleEvent(e)}updateConfig(e,t){this.config[e]={...this.config[e],...t}}setEventEnabled(e,t){this.config[e].enabled=t}destroy(){this.debounceTimers.forEach(e=>clearTimeout(e)),this.debounceTimers.clear(),this.throttleTimers.clear(),this.eventListeners.forEach(e=>e()),this.eventListeners.clear(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}}function d2(o){return typeof o=="object"&&o!==null&&typeof o.x=="number"&&typeof o.y=="number"}function u2(o){return typeof o=="object"&&o!==null&&typeof o.timestamp=="number"&&typeof o.value=="number"}function Zm(o){return typeof o=="object"&&o!==null}class HO{constructor(e){Wt(this,"chart");Wt(this,"currentSymbolKey",null);this.chart=e}toDrawing(e,t){try{if(!this.currentSymbolKey)return null;const n=Array.isArray(t==null?void 0:t.points)?t.points.map(u=>{if(u&&typeof u=="object"){if(typeof u.timestamp=="number"&&typeof u.value=="number")return{time:u.timestamp,price:u.value};if(typeof u.t=="number"&&typeof u.p=="number")return{time:u.t,price:u.p}}return null}).filter(Boolean):[];if(n.length===0)return null;const s=(t==null?void 0:t.name)||(t==null?void 0:t.type)||"unknown",r=(t==null?void 0:t.styles)||(t==null?void 0:t.style)||{},a=!!(t!=null&&t.lock),c=(t==null?void 0:t.visible)!==!1;return{id:e,symbolKey:this.currentSymbolKey,type:s,points:n,styles:r,...t!=null&&t.extendData?{extendData:t.extendData}:{},locked:a,visible:c}}catch{return null}}setCurrentSymbolKey(e){this.currentSymbolKey=e,console.log("ðŸ“ OverlayCreationManager symbol set:",e)}getCurrentSymbolKey(){return this.currentSymbolKey}createPointFromMouse(e,t){try{const n={x:e,y:t},s={chart:this.chart},r=JA(n,s);return r?{timestamp:r.t,value:r.p}:null}catch(n){return console.error("Failed to create point from mouse coordinates:",n),null}}createDataSpaceOverlay(e){if(!Zm(e)||!e.points||!Array.isArray(e.points))return e;const t=e.points.map(n=>{if(d2(n)){const s=this.createPointFromMouse(n.x,n.y);return s?{timestamp:s.timestamp,value:s.value}:n}else if(u2(n))return n;return n});return{...e,points:t,_isDataSpace:!0}}convertLegacyOverlay(e){if(!Zm(e)||e._isDataSpace||!e.points)return e;const t=e.points.map(n=>{if(d2(n)){const s=this.createPointFromMouse(n.x,n.y);return s?{timestamp:s.timestamp,value:s.value}:n}return n});return{...e,points:t,_isDataSpace:!0}}projectOverlayToScreen(e){if(!Zm(e)||!e._isDataSpace||!e.points)return e;const t=e.points.map(n=>{if(u2(n)){const s={id:n.id||"temp",t:n.timestamp,p:n.value},r={chart:this.chart},a=zh(s,r);return a?{x:a.x,y:a.y}:n}return n});return{...e,points:t}}addOverlay(e){try{const t=this.createDataSpaceOverlay(e),n=this.projectOverlayToScreen(t),s=this.chart.createOverlay(n);if(s){const r=Array.isArray(s)?s[0]:s;if(typeof r=="string"){const a=xu();if(a){const c=this.toDrawing(r,t);if(c){a.addDrawing(c);try{md()}catch{}}}}return r}return null}catch(t){return console.error("Failed to add overlay:",t),null}}storeDataSpaceOverlay(e,t){}getStoredDataSpaceOverlay(e){try{const t=localStorage.getItem("dataSpaceOverlays");return t&&JSON.parse(t)[e]||null}catch(t){return console.error("Failed to retrieve data-space overlay:",t),null}}removeStoredDataSpaceOverlay(e){try{const t=xu();if(t){t.removeDrawing(e);try{md()}catch{}}}catch(t){console.error("Failed to remove overlay from DrawingManager:",t)}}}function UO(o){return o.createDataSpaceTemplate("enhancedRect",{totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createDataSpaceFigures:({overlay:e,projectionResult:t,screenCoordinates:n})=>{var d,u,p,h,x,w;if(n.length<2)return[];const[s,r]=n,a=[],c=30;return a.push({type:"rect",attrs:{x:Math.min(s.x,r.x)-c,y:Math.min(s.y,r.y)-c,width:Math.abs(r.x-s.x)+c*2,height:Math.abs(r.y-s.y)+c*2},styles:{style:"fill",color:"transparent"},ignoreEvent:!1}),a.push({type:"rect",attrs:{x:Math.min(s.x,r.x),y:Math.min(s.y,r.y),width:Math.abs(r.x-s.x),height:Math.abs(r.y-s.y)},styles:{style:"stroke",color:((u=(d=e.style)==null?void 0:d.line)==null?void 0:u.color)||"#1677FF",borderSize:((h=(p=e.style)==null?void 0:p.line)==null?void 0:h.size)||1,borderStyle:((w=(x=e.style)==null?void 0:x.line)==null?void 0:w.style)||"solid"}}),a},onDrawStart:()=>!0,onDrawing:()=>!0,onDrawEnd:()=>!0})}function YO(o){return o.createDataSpaceTemplate("enhancedCircle",{totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createDataSpaceFigures:({overlay:e,projectionResult:t,screenCoordinates:n})=>{var u,p,h,x,w,k;if(n.length<2)return[];const[s,r]=n,a=Math.sqrt(Math.pow(r.x-s.x,2)+Math.pow(r.y-s.y,2)),c=[];return c.push({type:"circle",attrs:{x:s.x,y:s.y,r:a+30},styles:{style:"fill",color:"transparent"},ignoreEvent:!1}),c.push({type:"circle",attrs:{x:s.x,y:s.y,r:a},styles:{style:"stroke",color:((p=(u=e.style)==null?void 0:u.line)==null?void 0:p.color)||"#1677FF",borderSize:((x=(h=e.style)==null?void 0:h.line)==null?void 0:x.size)||1,borderStyle:((k=(w=e.style)==null?void 0:w.line)==null?void 0:k.style)||"solid"}}),c},onDrawStart:()=>!0,onDrawing:()=>!0,onDrawEnd:()=>!0})}function KO(o){return o.createDataSpaceTemplate("enhancedLine",{totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createDataSpaceFigures:({overlay:e,projectionResult:t,screenCoordinates:n})=>{var r,a,c,d,u,p;if(n.length<2)return[];const s=[];for(let h=0;h<n.length-1;h++){const x=n[h],w=n[h+1];s.push({type:"line",attrs:{coordinates:[{x:x.x,y:x.y},{x:w.x,y:w.y}]},styles:{color:"transparent",size:40,style:"solid"},ignoreEvent:!1}),s.push({type:"line",attrs:{coordinates:[{x:x.x,y:x.y},{x:w.x,y:w.y}]},styles:{color:((a=(r=e.style)==null?void 0:r.line)==null?void 0:a.color)||"#1677FF",size:((d=(c=e.style)==null?void 0:c.line)==null?void 0:d.size)||.5,style:((p=(u=e.style)==null?void 0:u.line)==null?void 0:p.style)||"solid"}})}return s},onDrawStart:()=>!0,onDrawing:()=>!0,onDrawEnd:()=>!0})}function ZO(o){return o.createDataSpaceTemplate("enhancedTrendLine",{totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createDataSpaceFigures:({overlay:e,projectionResult:t,screenCoordinates:n,chart:s})=>{var x,w,k,S,M,T;if(n.length<2)return[];const[r,a]=n,c=[];let d=r,u=a;const p=e.extendLeft,h=e.extendRight;if(p||h){const D=s.getSize();if(D){const A=(a.y-r.y)/(a.x-r.x);if(p&&(d={x:0,y:r.y+A*(0-r.x)}),h){const j=r.y+A*(D.width-r.x);u={x:D.width,y:j}}}}return c.push({type:"line",attrs:{coordinates:[{x:d.x,y:d.y},{x:u.x,y:u.y}]},styles:{color:"transparent",size:40,style:"solid"},ignoreEvent:!1}),c.push({type:"line",attrs:{coordinates:[{x:d.x,y:d.y},{x:u.x,y:u.y}]},styles:{color:((w=(x=e.style)==null?void 0:x.line)==null?void 0:w.color)||"#1677FF",size:((S=(k=e.style)==null?void 0:k.line)==null?void 0:S.size)||.5,style:((T=(M=e.style)==null?void 0:M.line)==null?void 0:T.style)||"solid"}}),c},onDrawStart:()=>!0,onDrawing:()=>!0,onDrawEnd:()=>!0})}function XO(o){return o.createDataSpaceTemplate("enhancedFibonacci",{totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createDataSpaceFigures:({overlay:e,projectionResult:t,screenCoordinates:n})=>{if(n.length<2)return[];const[s,r]=n,a=[],c=[0,.236,.382,.5,.618,.786,1,1.618,2.618],d=r.y-s.y;return c.forEach(u=>{var h,x,w,k,S,M,T,D;const p=s.y+d*u;a.push({type:"line",attrs:{coordinates:[{x:Math.min(s.x,r.x),y:p},{x:Math.max(s.x,r.x),y:p}]},styles:{color:"transparent",size:30,style:"solid"},ignoreEvent:!1}),a.push({type:"line",attrs:{coordinates:[{x:Math.min(s.x,r.x),y:p},{x:Math.max(s.x,r.x),y:p}]},styles:{color:((x=(h=e.style)==null?void 0:h.line)==null?void 0:x.color)||"#1677FF",style:"dashed",size:((k=(w=e.style)==null?void 0:w.line)==null?void 0:k.size)||2}}),a.push({type:"text",attrs:{x:Math.max(s.x,r.x)+5,y:p,text:`${(u*100).toFixed(1)}%`},styles:{color:((M=(S=e.style)==null?void 0:S.text)==null?void 0:M.color)||"#666666",size:((D=(T=e.style)==null?void 0:T.text)==null?void 0:D.fontSize)||12}})}),a},onDrawStart:()=>!0,onDrawing:()=>!0,onDrawEnd:()=>!0})}function JO(o){return{enhancedRect:UO(o),enhancedCircle:YO(o),enhancedLine:KO(o),enhancedTrendLine:ZO(o),enhancedFibonacci:XO(o)}}const Tg=o=>o>="0"&&o<="9",v2=o=>o>="a"&&o<="z"||o>="A"&&o<="Z"||o==="_"||o==="$";class QO{constructor(e){Wt(this,"pos",0);this.input=e}next(){const e=this.input,t=e.length;for(;this.pos<t&&/\s/.test(e[this.pos]??"");)this.pos++;if(this.pos>=t)return{type:"eof",start:this.pos,end:this.pos};const n=e[this.pos],s=this.pos;if(Tg(n)||n==="."&&Tg(e[this.pos+1]??"")){let r=n===".";for(this.pos++;this.pos<t;){const a=e[this.pos];if(Tg(a))this.pos++;else if(a==="."&&!r)r=!0,this.pos++;else break}return{type:"number",value:e.slice(s,this.pos),start:s,end:this.pos}}if(v2(n)){for(this.pos++;this.pos<t;){const r=e[this.pos];if(v2(r)||Tg(r))this.pos++;else break}return{type:"identifier",value:e.slice(s,this.pos),start:s,end:this.pos}}switch(this.pos++,n){case"+":return{type:"plus",start:s,end:this.pos};case"-":return{type:"minus",start:s,end:this.pos};case"*":return{type:"star",start:s,end:this.pos};case"/":return{type:"slash",start:s,end:this.pos};case"%":return{type:"percent",start:s,end:this.pos};case"(":return{type:"lparen",start:s,end:this.pos};case")":return{type:"rparen",start:s,end:this.pos};case",":return{type:"comma",start:s,end:this.pos};default:throw new Error(`Unexpected character "${n}" at position ${s}`)}}}class k0 extends Error{constructor(e,t){super(e),this.position=t,this.name="ParseError"}}class eR{constructor(e){Wt(this,"current");this.tokenizer=e,this.current=e.next()}eat(e){if(this.current.type!==e)throw new k0(`Expected ${e} but found ${this.current.type}`,this.current.start);const t=this.current;return this.current=this.tokenizer.next(),t}match(e){return this.current.type===e?(this.current=this.tokenizer.next(),!0):!1}parseExpression(){const e=this.parseTerm();return this.parseAddSub(e)}parseAddSub(e){let t=e;for(;this.current.type==="plus"||this.current.type==="minus";){const n=this.current;this.current=this.tokenizer.next();const s=this.parseTerm();t={kind:"BinaryExpression",operator:n.type==="plus"?"+":"-",left:t,right:s}}return t}parseTerm(){let e=this.parseFactor();for(;this.current.type==="star"||this.current.type==="slash"||this.current.type==="percent";){const t=this.current;this.current=this.tokenizer.next();const n=this.parseFactor();e={kind:"BinaryExpression",operator:t.type==="star"?"*":t.type==="slash"?"/":"%",left:e,right:n}}return e}parseFactor(){if(this.current.type==="plus"||this.current.type==="minus"){const e=this.current.type==="minus";this.current=this.tokenizer.next();const t=this.parseFactor();return e?{kind:"BinaryExpression",operator:"*",left:{kind:"NumberLiteral",value:-1},right:t}:t}return this.parsePrimary()}parsePrimary(){const e=this.current;switch(e.type){case"number":{this.current=this.tokenizer.next();const t=Number(e.value);if(!Number.isFinite(t))throw new k0("Invalid number literal",e.start);return{kind:"NumberLiteral",value:t}}case"identifier":{this.current=this.tokenizer.next();const t=(e.value||"").toString();if(this.current.type==="lparen"){this.eat("lparen");const n=[];if(this.current.type!=="rparen")for(;n.push(this.parseExpression()),!!this.match("comma"););return this.eat("rparen"),{kind:"CallExpression",callee:t,args:n}}return{kind:"Identifier",name:t}}case"lparen":{this.eat("lparen");const t=this.parseExpression();return this.eat("rparen"),t}default:throw new k0(`Unexpected token ${e.type}`,e.start)}}}function tR(o){const e=new eR(new QO(o)),t=e.parseExpression();if(e.current.type!=="eof")throw new k0("Unexpected input after end of expression",e.current.start);return t}class Bc extends Error{constructor(e){super(e),this.name="ExpressionEngineError"}}function Mc(o,e){if(o.kind==="series")return o.value;const t=new Float32Array(e.length);return t.fill(o.value),t}function Xm(o){if(o.kind==="scalar")return o.value;const e=o.value;return e.length?e[e.length-1]:NaN}function oR(o,e,t,n){const s=e.kind==="series",r=t.kind==="series";if(!s&&!r){const p=e.value,h=t.value;switch(o){case"+":return{kind:"scalar",value:p+h};case"-":return{kind:"scalar",value:p-h};case"*":return{kind:"scalar",value:p*h};case"/":return{kind:"scalar",value:h===0?NaN:p/h};case"%":return{kind:"scalar",value:h===0?NaN:p%h}}}const a=Mc(e,n),c=Mc(t,n),d=n.length,u=new Float32Array(d);for(let p=0;p<d;p++){const h=a[p],x=c[p];switch(o){case"+":u[p]=h+x;break;case"-":u[p]=h-x;break;case"*":u[p]=h*x;break;case"/":u[p]=x===0?NaN:h/x;break;case"%":u[p]=x===0?NaN:h%x;break}}return{kind:"series",value:u}}function nR(o,e){const t=o.length,n=new Float32Array(t);let s=0;for(let r=0;r<t;r++)s+=o[r],r>=e&&(s-=o[r-e]),r>=e-1?n[r]=s/e:n[r]=NaN;return n}function sR(o,e){const t=o.length,n=new Float32Array(t),s=2/(e+1);let r;for(let a=0;a<t;a++){const c=o[a];r===void 0?r=c:r=c*s+r*(1-s),n[a]=r}return n}function iR(o,e){const t=o.length,n=new Float32Array(t);let s,r=0;for(let a=0;a<t;a++){const c=o[a];if(s===void 0){if(r+=c,a<e-1){n[a]=NaN;continue}s=r/e,n[a]=s;continue}s=(s*(e-1)+c)/e,n[a]=s}return n}function rR(o,e){const t=o.length,n=new Float32Array(t);let s,r=0,a=0,c=!1;const d=[],u=[];for(let p=0;p<t;p++){const h=o[p];if(s===void 0){s=h,n[p]=NaN;continue}const x=h-s;s=h;const w=x>0?x:0,k=x<0?-x:0;if(c)r=(r*(e-1)+w)/e,a=(a*(e-1)+k)/e;else{if(d.push(w),u.push(k),d.length<e){n[p]=NaN;continue}r=d.reduce((S,M)=>S+M,0)/e,a=u.reduce((S,M)=>S+M,0)/e,c=!0}if(a===0)n[p]=100;else{const S=r/a;n[p]=100-100/(1+S)}}return n}function aR(o,e){const t=o.length,n=new Float32Array(t);for(let s=0;s<t;s++){if(s<e-1){n[s]=NaN;continue}let r=0;for(let d=s-e+1;d<=s;d++)r+=o[d];const a=r/e;let c=0;for(let d=s-e+1;d<=s;d++){const u=o[d]-a;c+=u*u}n[s]=Math.sqrt(c/e)}return n}function lR(o,e){const t=o.length,n=new Float32Array(t),s=e*(e+1)/2;for(let r=0;r<t;r++){if(r<e-1){n[r]=NaN;continue}let a=0;for(let c=0;c<e;c++)a+=o[r-c]*(e-c);n[r]=a/s}return n}function cR(o,e){const t=o.length,n=new Float32Array(t);for(let s=0;s<t;s++){let r=-1/0;const a=Math.max(0,s-e+1);for(let c=a;c<=s;c++)o[c]>r&&(r=o[c]);n[s]=r}return n}function dR(o,e){const t=o.length,n=new Float32Array(t);for(let s=0;s<t;s++){let r=1/0;const a=Math.max(0,s-e+1);for(let c=a;c<=s;c++)o[c]<r&&(r=o[c]);n[s]=r}return n}function uR(o,e){const t=o.callee.toLowerCase(),n=o.args.map(r=>Zg(r,e)),s=()=>{if(n.length!==2)throw new Bc(`${t} expects (series, period)`);const r=Mc(n[0],e),a=Math.max(1,Math.floor(Xm(n[1])));return[r,a]};switch(t){case"sma":{const[r,a]=s();return{kind:"series",value:nR(r,a)}}case"wma":{const[r,a]=s();return{kind:"series",value:lR(r,a)}}case"ema":{const[r,a]=s();return{kind:"series",value:sR(r,a)}}case"smma":{const[r,a]=s();return{kind:"series",value:iR(r,a)}}case"rsi":{const[r,a]=s();return{kind:"series",value:rR(r,a)}}case"atr":{if(n.length!==4)throw new Bc("atr expects (high, low, close, period)");const r=Mc(n[0],e),a=Mc(n[1],e),c=Mc(n[2],e),d=Math.max(1,Math.floor(Xm(n[3]))),u=e.length,p=new Float32Array(u);let h=NaN;for(let k=0;k<u;k++){const S=r[k],M=a[k],T=c[k];let D=Math.max(0,S-M);Number.isFinite(h)&&(D=Math.max(D,Math.abs(S-h),Math.abs(M-h))),p[k]=D,h=T}const x=new Float32Array(u);let w=0;for(let k=0;k<u;k++)w+=p[k],k===d-1?x[k]=w/d:k>=d?x[k]=(x[k-1]*(d-1)+p[k])/d:x[k]=NaN;return{kind:"series",value:x}}case"stdev":{const[r,a]=s();return{kind:"series",value:aR(r,a)}}case"highest":{const[r,a]=s();return{kind:"series",value:cR(r,a)}}case"lowest":{const[r,a]=s();return{kind:"series",value:dR(r,a)}}case"lag":{const[r,a]=s();return{kind:"series",value:vR(r,a)}}case"vwap":{if(n.length!==2)throw new Bc("vwap expects (close, volume)");const r=Mc(n[0],e),a=Mc(n[1],e),c=e.length,d=new Float32Array(c);let u=0,p=0;for(let h=0;h<c;h++){const x=r[h],w=a[h];if(!Number.isFinite(x)||!Number.isFinite(w)){d[h]=NaN;continue}u+=x*w,p+=w,d[h]=p===0?NaN:u/p}return{kind:"series",value:d}}case"vwma":{if(n.length!==3)throw new Bc("vwma expects (close, volume, period)");const r=Mc(n[0],e),a=Mc(n[1],e),c=Math.max(1,Math.floor(Xm(n[2]))),d=e.length,u=new Float32Array(d);let p=0,h=0;for(let x=0;x<d;x++){const w=r[x],k=a[x];if(Number.isFinite(w)&&Number.isFinite(k)&&(p+=w*k,h+=k),x>=c){const S=r[x-c],M=a[x-c];Number.isFinite(S)&&Number.isFinite(M)&&(p-=S*M,h-=M)}u[x]=x>=c-1&&h!==0?p/h:NaN}return{kind:"series",value:u}}case"min":{if(n.length!==2)throw new Bc("min expects 2 arguments");const r=n[0],a=n[1];if(r.kind==="scalar"&&a.kind==="scalar")return{kind:"scalar",value:Math.min(r.value,a.value)};const c=Mc(r,e),d=Mc(a,e),u=e.length,p=new Float32Array(u);for(let h=0;h<u;h++)p[h]=Math.min(c[h],d[h]);return{kind:"series",value:p}}case"max":{if(n.length!==2)throw new Bc("max expects 2 arguments");const r=n[0],a=n[1];if(r.kind==="scalar"&&a.kind==="scalar")return{kind:"scalar",value:Math.max(r.value,a.value)};const c=Mc(r,e),d=Mc(a,e),u=e.length,p=new Float32Array(u);for(let h=0;h<u;h++)p[h]=Math.max(c[h],d[h]);return{kind:"series",value:p}}case"abs":{if(n.length!==1)throw new Bc("abs expects 1 argument");const r=n[0];if(r.kind==="scalar")return{kind:"scalar",value:Math.abs(r.value)};const a=r.value,c=e.length,d=new Float32Array(c);for(let u=0;u<c;u++)d[u]=Math.abs(a[u]);return{kind:"series",value:d}}default:throw new Bc(`Unknown function "${o.callee}"`)}}function Zg(o,e){switch(o.kind){case"NumberLiteral":return{kind:"scalar",value:o.value};case"Identifier":{const t=o.name.replace(/\s+/g,"_").toLowerCase(),n=e.series[t];if(n)return{kind:"series",value:n};throw e.seriesNames.has(t)?new Bc(`Series "${o.name}" is used before it is defined (circular or forward reference)`):new Bc(`Unknown identifier "${o.name}"`)}case"BinaryExpression":return oR(o.operator,Zg(o.left,e),Zg(o.right,e),e);case"CallExpression":return uR(o,e);default:throw new Bc("Unsupported expression node")}}function Jm(o,e){var d;const t=new Set;for(const u of o){const p=u.name.replace(/\s+/g,"_").toLowerCase();t.add(p)}const n=Object.entries(e),s=((d=n[0])==null?void 0:d[1].length)??0;for(const[,u]of n)if(u.length!==s)throw new Bc("All base series must have the same length");const r=o.map(u=>{try{const p=tR(u.expr);return{name:u.name.replace(/\s+/g,"_").toLowerCase(),expr:u.expr,ast:p}}catch(p){throw p instanceof k0?new Bc(`Syntax error in series "${u.name}" at position ${p.position}: ${p.message}`):p}}),a={length:s,series:{...e},seriesNames:t},c={};for(const u of r){if(a.series[u.name])throw new Bc(`Series name "${u.name}" conflicts with an existing base series`);const p=Zg(u.ast,a),h=Mc(p,a);a.series[u.name]=h,c[u.name]=h}return c}function vR(o,e){const t=o.length,n=new Float32Array(t);for(let s=0;s<t;s++){const r=s-e;n[s]=r>=0?o[r]:NaN}return n}const Ag=o=>o>="0"&&o<="9",p2=o=>o>="a"&&o<="z"||o>="A"&&o<="Z"||o==="_"||o==="$";class pR{constructor(e){Wt(this,"pos",0);this.input=e}next(){const e=this.input,t=e.length;for(;this.pos<t&&/\s/.test(e[this.pos]??"");)this.pos++;if(this.pos>=t)return{type:"eof",pos:this.pos};const n=this.pos,s=e[this.pos];if(Ag(s)||s==="."&&Ag(e[this.pos+1]??"")){let r=s===".";for(this.pos++;this.pos<t;){const a=e[this.pos];if(Ag(a))this.pos++;else if(a==="."&&!r)r=!0,this.pos++;else break}return{type:"number",value:e.slice(n,this.pos),pos:n}}if(p2(s)){for(this.pos++;this.pos<t;){const c=e[this.pos];if(p2(c)||Ag(c))this.pos++;else break}const r=e.slice(n,this.pos),a=r.toLowerCase();return a==="and"?{type:"and",pos:n}:a==="or"?{type:"or",pos:n}:a==="not"?{type:"not",pos:n}:a==="crossesabove"?{type:"crossesAbove",pos:n}:a==="crossesbelow"?{type:"crossesBelow",pos:n}:{type:"identifier",value:r,pos:n}}switch(this.pos++,s){case">":return e[this.pos]==="="?(this.pos++,{type:"gte",pos:n}):{type:"gt",pos:n};case"<":return e[this.pos]==="="?(this.pos++,{type:"lte",pos:n}):{type:"lt",pos:n};case"=":{if(e[this.pos]==="=")return this.pos++,{type:"eq",pos:n};throw new Error(`Unexpected '=' at ${n}, expected '=='`)}case"!":{if(e[this.pos]==="=")return this.pos++,{type:"neq",pos:n};throw new Error(`Unexpected '!' at ${n}, expected '!='`)}case"(":return{type:"lparen",pos:n};case")":return{type:"rparen",pos:n};case",":return{type:"comma",pos:n};default:throw new Error(`Unexpected character "${s}" at position ${n}`)}}}class vv extends Error{constructor(e,t){super(e),this.position=t,this.name="ConditionParseError"}}class fR{constructor(e){Wt(this,"current");this.tokenizer=e,this.current=e.next()}eat(e){if(this.current.type!==e)throw new vv(`Expected ${e} but found ${this.current.type}`,this.current.pos);const t=this.current;return this.current=this.tokenizer.next(),t}match(e){return this.current.type===e?(this.current=this.tokenizer.next(),!0):!1}parseCondition(){const e=this.parseOr();if(this.current.type!=="eof")throw new vv("Unexpected input after end of condition",this.current.pos);return e}parseOr(){let e=this.parseAnd();for(;this.current.type==="or";){this.eat("or");const t=this.parseAnd();e={kind:"Logical",op:"or",left:e,right:t}}return e}parseAnd(){let e=this.parsePrimary();for(;this.current.type==="and";){this.eat("and");const t=this.parsePrimary();e={kind:"Logical",op:"and",left:e,right:t}}return e}parsePrimary(){if(this.current.type==="lparen"){this.eat("lparen");const e=this.parseOr();return this.eat("rparen"),e}if(this.current.type==="not")return this.eat("not"),{kind:"Negation",expr:this.parsePrimary()};if(this.current.type==="identifier"){const e=this.current,t=String(e.value||""),n=t.toLowerCase();if(this.current=this.tokenizer.next(),this.current.type==="lparen"){this.eat("lparen");const s=[];if(this.current.type!=="rparen")for(;s.push(this.parseValue()),!!this.match("comma"););return this.eat("rparen"),n==="between"&&s.length===3?{kind:"Between",value:s[0],a:s[1],b:s[2]}:{kind:"Call",name:t,args:s}}this.current=e}return this.parseAtomCondition()}parseAtomCondition(){const e=this.parseValue();if(this.current.type==="crossesAbove"||this.current.type==="crossesBelow"){const a=this.current;if(this.current=this.tokenizer.next(),e.kind!=="SeriesRef")throw new vv("`crossesAbove/crossesBelow` left side must be a series name",a.pos);const c=this.parseValue();return{kind:"Cross",dir:a.type==="crossesAbove"?"above":"below",left:e,right:c}}if(this.current.type!=="gt"&&this.current.type!=="lt"&&this.current.type!=="gte"&&this.current.type!=="lte"&&this.current.type!=="eq"&&this.current.type!=="neq")return{kind:"Comparison",op:">",left:e,right:{kind:"NumberLiteral",value:0}};const t=this.current;let n;switch(t.type){case"gt":n=">";break;case"lt":n="<";break;case"gte":n=">=";break;case"lte":n="<=";break;case"eq":n="==";break;case"neq":n="==";break;default:n=">";break}this.current=this.tokenizer.next();const s=this.parseValue(),r={kind:"Comparison",op:n,left:e,right:s};return t.type==="neq"?{kind:"Logical",op:"or",left:{kind:"Comparison",op:">",left:e,right:s},right:{kind:"Comparison",op:"<",left:e,right:s}}:r}parseSeriesRef(){if(this.current.type!=="identifier")throw new vv("Expected series name",this.current.pos);const e=this.current;return this.current=this.tokenizer.next(),{kind:"SeriesRef",name:e.value||""}}parseValue(){if(this.current.type==="number"){const e=this.current;this.current=this.tokenizer.next();const t=Number(e.value);if(!Number.isFinite(t))throw new vv("Invalid number literal",e.pos);return{kind:"NumberLiteral",value:t}}if(this.current.type==="identifier"){const e=this.current;if(this.current=this.tokenizer.next(),this.current.type==="lparen"){this.eat("lparen");const t=[];if(this.current.type!=="rparen")for(;t.push(this.parseValue()),!!this.match("comma"););return this.eat("rparen"),{kind:"ValueCall",name:String(e.value||""),args:t}}return{kind:"SeriesRef",name:String(e.value||"")}}throw new vv(`Expected number or identifier but found ${this.current.type}`,this.current.pos)}}function Qv(o){return new fR(new pR(o)).parseCondition()}class jb extends Error{constructor(e){super(e),this.name="ConditionEngineError"}}function gR(o){return o.replace(/\s+/g,"_").toLowerCase()}function Nl(o,e){const t=gR(e),n=o[t];if(!n)throw new jb(`Unknown series "${e}" in condition`);return n}function _R(o){const e=Object.entries(o);if(!e.length)return 0;const t=e[0][1].length;for(const[,n]of e)if(n.length!==t)throw new jb("All series must have the same length");return t}function Pd(o,e,t){var n,s,r,a,c,d;if(o.kind==="NumberLiteral")return o.value;if(o.kind==="SeriesRef")return Nl(t,o.name)[e];if(o.kind==="ValueCall"){const u=String(o.name||"").toLowerCase(),p=o.args;if(u==="lowest"||u==="highest"){const h=p[0],x=p[1],w=Nl(t,h.name||String(h)),k=Math.max(1,Math.floor(x.value??Number(x.name)??1)),S=Math.max(0,e-k+1);let M=u==="lowest"?1/0:-1/0;for(let T=S;T<=e;T++){const D=w[T];Number.isFinite(D)&&(u==="lowest"?M=Math.min(M,D):M=Math.max(M,D))}return Number.isFinite(M)?M:NaN}if(u==="lag"||u==="prev"){const h=p[0],x=p[1],w=Nl(t,h.name||String(h)),k=Math.max(1,Math.floor((x==null?void 0:x.value)??Number(x==null?void 0:x.name)??1)),S=e-k;return S>=0?w[S]:NaN}if(u==="change"){const h=p[0],x=p[1],w=Nl(t,h.name||String(h)),k=Math.max(1,Math.floor((x==null?void 0:x.value)??Number(x==null?void 0:x.name)??1)),S=e-k,M=w[e],T=S>=0?w[S]:NaN;return Number.isFinite(M)&&Number.isFinite(T)?M-T:NaN}if(u==="abs"){const h=Pd(p[0],e,t);return Math.abs(h)}if(u==="add"||u==="sub"||u==="mul"||u==="div"){const h=Pd(p[0],e,t),x=Pd(p[1],e,t);return[h,x].every(Number.isFinite)?u==="add"?h+x:u==="sub"?h-x:u==="mul"?h*x:x===0?NaN:h/x:NaN}if(u==="min"||u==="max"){const h=Pd(p[0],e,t),x=Pd(p[1],e,t);return[h,x].every(Number.isFinite)?u==="min"?Math.min(h,x):Math.max(h,x):NaN}if(u==="sma"){const h=((n=p[0])==null?void 0:n.name)||String(p[0]),x=((s=p[1])==null?void 0:s.value)??Number((r=p[1])==null?void 0:r.name),w=Math.max(1,Math.floor(Number(x)||0)),k=Nl(t,h);if(!Number.isFinite(k[e]))return NaN;let S=0,M=0;const T=Math.max(0,e-w+1);for(let D=T;D<=e;D++){const A=k[D];Number.isFinite(A)&&(S+=A,M++)}return M?S/M:NaN}if(u==="ema"){const h=((a=p[0])==null?void 0:a.name)||String(p[0]),x=((c=p[1])==null?void 0:c.value)??Number((d=p[1])==null?void 0:d.name),w=Math.max(1,Math.floor(Number(x)||0)),k=Nl(t,h),S=2/(w+1);let M;for(let T=0;T<=e;T++){const D=k[T];Number.isFinite(D)&&(M===void 0?M=D:M=D*S+M*(1-S))}return M??NaN}return NaN}return NaN}function mR(o,e,t){const n=Pd(o.left,e,t),s=Pd(o.right,e,t);if(!Number.isFinite(n)||!Number.isFinite(s))return!1;switch(o.op){case">":return n>s;case"<":return n<s;case">=":return n>=s;case"<=":return n<=s;case"==":return Math.abs(n-s)<1e-9;default:return!1}}function hR(o,e,t){if(e===0)return!1;const n=Nl(t,o.left.name);let s,r;if(o.right.kind==="NumberLiteral")s=o.right.value,r=o.right.value;else{const d=Nl(t,o.right.name);s=d[e-1],r=d[e]}const a=n[e-1],c=n[e];return!Number.isFinite(a)||!Number.isFinite(s)||!Number.isFinite(c)||!Number.isFinite(r)?!1:o.dir==="above"?a<=s&&c>r:a>=s&&c<r}function yR(o,e,t){return o.op==="and"?ep(o.left,e,t)&&ep(o.right,e,t):ep(o.left,e,t)||ep(o.right,e,t)}function bR(o,e,t){let n=-1/0;for(let s=e;s<=t;s++){const r=o[s];Number.isFinite(r)&&r>n&&(n=r)}return n}function xR(o,e,t){let n=1/0;for(let s=e;s<=t;s++){const r=o[s];Number.isFinite(r)&&r<n&&(n=r)}return n}function uv(o,e=1){if(!o)return e;if(o.kind==="NumberLiteral")return Number(o.value)||e;const t=o.name?String(o.name):"",n=Number(t);return Number.isFinite(n)?n:e}function wR(o,e,t,n){var c,d;const s=o.toLowerCase(),r=u=>Pd(u,t,n),a=u=>{const p=u?r(u):NaN;return Number.isFinite(p)?Math.max(0,p):0};if(s==="higherhigh"){const u=Math.max(1,Math.floor(uv(e[0],1))),p=Nl(n,"high"),h=Math.max(0,t-u),x=bR(p,h,Math.max(0,t-1));return Number.isFinite(p[t])&&p[t]>x}if(s==="lowerlow"){const u=Math.max(1,Math.floor(uv(e[0],1))),p=Nl(n,"low"),h=Math.max(0,t-u),x=xR(p,h,Math.max(0,t-1));return Number.isFinite(p[t])&&p[t]<x}if(s==="swinghigh"){const u=Math.max(1,Math.floor(uv(e[0],3))),p=Nl(n,"high"),h=p[t];if(!Number.isFinite(h))return!1;for(let x=t-u;x<=t+u;x++){if(x===t)continue;const w=p[x];if(Number.isFinite(w)&&w>=h)return!1}return!0}if(s==="swinglow"){const u=Math.max(1,Math.floor(uv(e[0],3))),p=Nl(n,"low"),h=p[t];if(!Number.isFinite(h))return!1;for(let x=t-u;x<=t+u;x++){if(x===t)continue;const w=p[x];if(Number.isFinite(w)&&w<=h)return!1}return!0}if(s==="volspike"){const u=Math.max(1,uv(e[0],1)),p=Nl(n,"volume"),x=Math.max(0,t-20+1),w=(()=>{let k=0,S=0;for(let M=x;M<=t;M++){const T=p[M];Number.isFinite(T)&&(k+=T,S++)}return S?k/S:NaN})();return Number.isFinite(p[t])&&Number.isFinite(w)&&p[t]>u*w}if(s==="atrspike"){const u=Math.max(1,uv(e[0],1)),p=Nl(n,"high"),h=Nl(n,"low"),x=Nl(n,"close"),w=14,k=j=>{const F=p[j],q=h[j],B=x[j-1];let O=Math.max(0,F-q);return Number.isFinite(B)&&(O=Math.max(O,Math.abs(F-B),Math.abs(q-B))),O};let S=NaN,M=0;for(let j=0;j<=t;j++){const F=k(j);M+=F,j===w-1?S=M/w:j>=w&&(S=(S*(w-1)+F)/w)}let T=NaN,D=0,A=0;for(let j=Math.max(0,t-w+1);j<=t;j++){const F=k(j);D+=F,A++}return T=A?D/A:NaN,Number.isFinite(S)&&Number.isFinite(T)&&S>u*T}if(s==="trend"){const u=String(((c=e[0])==null?void 0:c.name)||"").toLowerCase()||"up",p=Nl(n,"close"),x=Math.max(0,t-10+1),w=(()=>{let k=0,S=0,M=0,T=0,D=0;for(let j=x;j<=t;j++){const F=j-x,q=p[j];Number.isFinite(q)&&(k+=F,S+=q,M+=F*F,T+=F*q,D++)}const A=D*M-k*k;return A===0||D===0?0:(D*T-k*S)/A})();return u==="up"?w>0:w<0}if(s==="crossover"||s==="crossunder"){const u=e[0],p=e[1],h=a(e[2]),x=Nl(n,u.name||String(u));let w,k;if(p.kind==="NumberLiteral")w=p.value,k=p.value;else{const T=Nl(n,p.name||String(p));w=T[t-1],k=T[t]}const S=x[t-1],M=x[t];return[S,M,w,k].every(Number.isFinite)?s==="crossover"?S<=w+h&&M>k+h:S>=w-h&&M<k-h:!1}if(s==="rising"||s==="falling"){const u=Nl(n,((d=e[0])==null?void 0:d.name)||String(e[0])),p=Math.max(1,Math.floor(uv(e[1],3))),h=Math.max(0,t-p+1);let x=0,w=0,k=0,S=0,M=0;for(let A=h;A<=t;A++){const j=A-h,F=u[A];Number.isFinite(F)&&(x+=j,w+=F,k+=j*j,S+=j*F,M++)}const T=M*k-x*x,D=T===0||M===0?0:(M*S-x*w)/T;return s==="rising"?D>0:D<0}if(s==="above"||s==="below"){const u=r(e[0]),p=r(e[1]),h=a(e[2]);return!Number.isFinite(u)||!Number.isFinite(p)?!1:s==="above"?u>p+h:u<p-h}return!1}function ep(o,e,t){switch(o.kind){case"Comparison":return mR(o,e,t);case"Cross":return hR(o,e,t);case"Logical":return yR(o,e,t);case"Negation":return!ep(o.expr,e,t);case"Between":{const n=o,s=Pd(n.value,e,t),r=Pd(n.a,e,t),a=Pd(n.b,e,t);if(![s,r,a].every(Number.isFinite))return!1;const c=Math.min(r,a),d=Math.max(r,a);return s>=c&&s<=d}case"Call":{const n=o;return wR(String(n.name||""),n.args||[],e,t)}default:return!1}}function f2(o,e){const t=_R(e),n=new Uint8Array(t);for(let s=0;s<t;s++)n[s]=ep(o,s,e)?1:0;return n}const g2=["sma","smma","ema","wma","rsi","bbands","bollinger","bollinger_bands","atr","obv","cci","mfi","ao","trix","vwap","vwma","zscore","evwma","roc","macd","supertrend","kc","keltner","donchian","atr_bands","vwap_bands","linreg_channel","sar","stoch","ichimoku","pivot_high","pivot_low","last_value","prev_value","line_value"],_2=["line","histogram","area","dots","stepped","bar","neon_line","bezier_line","glow_points","heatmap","distortion","cloud","aura","candleshadow","supertrend_cloud","fractal_boxes","liquidity_tiles"],m2=["arrowUp","arrowDown","circle","square","triangle_up_filled","triangle_down_filled","box","label","text","emoji","triangle_up_gradient","arrow_up_glow","pill","tag","flag"];function Ka(o){return Array.isArray(o)?o:[]}function Xc(o){return typeof o=="string"?o:void 0}function yl(o){return typeof o=="number"&&Number.isFinite(o)?o:void 0}function $b(o){const e=[];if(!o||typeof o!="object")return e.push("Script must be an object"),{ok:!1,errors:e};const t=o,n=Ka(t.calc),s=Ka(t.series),r=[];if(Array.isArray(t.panes)&&t.panes.length)for(const c of t.panes){const d=c.pane==="sub"?"sub":"main";r.push({pane:d,plots:Ka(c.plots),levels:Ka(c.levels),labels:Ka(c.labels),lines:Ka(c.lines),min:yl(c.min),max:yl(c.max),shortName:Xc(c.shortName),fills:Ka(c.fills),backgroundZones:Ka(c.backgroundZones),height:yl(c.height)})}else if(t.main||t.sub)t.main&&r.push({pane:"main",plots:Ka(t.main.plots),levels:Ka(t.main.levels),labels:Ka(t.main.labels),lines:Ka(t.main.lines),min:yl(t.main.min),max:yl(t.main.max),shortName:Xc(t.main.shortName||t.shortName),fills:Ka(t.main.fills),backgroundZones:Ka(t.main.backgroundZones),height:yl(t.main.height)}),t.sub&&r.push({pane:"sub",plots:Ka(t.sub.plots),levels:Ka(t.sub.levels),labels:Ka(t.sub.labels),lines:Ka(t.sub.lines),min:yl(t.sub.min),max:yl(t.sub.max),shortName:Xc(t.sub.shortName||t.shortName),fills:Ka(t.sub.fills),backgroundZones:Ka(t.sub.backgroundZones),height:yl(t.sub.height)});else if(t.pane||t.plots||t.labels||t.levels||t.lines){const c=t.pane==="sub"?"sub":"main";r.push({pane:c,plots:Ka(t.plots),levels:Ka(t.levels),labels:Ka(t.labels),lines:Ka(t.lines),min:yl(t.min),max:yl(t.max),shortName:Xc(t.shortName),fills:[],backgroundZones:[],height:void 0})}r.length||e.push("No panes defined");const a={calc:n.map((c,d)=>({name:Xc(c.name)||Xc(c.type)||`calc_${d}`,type:Xc(c.type)||Xc(c.name),source:Xc(c.source),period:yl(c.period),fast:yl(c.fast),slow:yl(c.slow),signal:yl(c.signal),kPeriod:yl(c.kPeriod),dPeriod:yl(c.dPeriod),left:yl(c.left),right:yl(c.right),tenkan:yl(c.tenkan),kijun:yl(c.kijun),senkouB:yl(c.senkouB),expr:Xc(c.expr),params:c.params,style:c.style})),series:s.map((c,d)=>({name:Xc(c.name)||`series_${d}`,expr:Xc(c.expr)||""})),panes:r,signals:Ka(t.signals).map(c=>({type:String((c==null?void 0:c.type)||""),when:String((c==null?void 0:c.when)||"")})),shortName:Xc(t.shortName),params:t.params,style:t.style};return a.series.forEach((c,d)=>{c.name||e.push(`series[${d}] missing name`)}),a.panes.forEach((c,d)=>{var u,p,h,x;!((u=c.plots)!=null&&u.length)&&!((p=c.labels)!=null&&p.length)&&!((h=c.levels)!=null&&h.length)&&!((x=c.lines)!=null&&x.length)&&e.push(`pane[${d}] has no plots/labels/levels/lines`)}),{ok:e.length===0,spec:a,errors:e}}function qh(o,e,t){if(o.save(),e&&(o.beginPath(),o.rect(e.left,e.top,e.width,e.height),o.clip()),t)try{t()}finally{o.restore()}}function h2(o,e,t,n,s){if(!e.length)return;const r=Math.max(1,n/2);qh(o,s,()=>{o.save(),o.fillStyle=t;for(let a=0;a<e.length;a++){const{x:c,y:d}=e[a];!Number.isFinite(c)||!Number.isFinite(d)||(o.beginPath(),o.arc(c,d,r,0,Math.PI*2),o.fill())}o.restore()})}function kR(o,e,t,n,s){e.length&&qh(o,s,()=>{o.beginPath();let r=!1;for(let a=0;a<e.length-1;a++){const c=e[a],d=e[a+1];!Number.isFinite(c.x)||!Number.isFinite(c.y)||!Number.isFinite(d.x)||!Number.isFinite(d.y)||(r||(o.moveTo(c.x,c.y),r=!0),o.lineTo(d.x,c.y),o.lineTo(d.x,d.y))}r&&(o.strokeStyle=t,o.lineWidth=n,o.setLineDash([]),o.stroke())})}function y2(o,e,t,n,s){!e.length||!t.length||qh(o,s,()=>{var a,c;o.beginPath();let r=0;for(;r<e.length&&!(Number.isFinite((a=e[r])==null?void 0:a.x)&&Number.isFinite((c=e[r])==null?void 0:c.y));)r++;if(!(r>=e.length)){for(o.moveTo(e[r].x,e[r].y);r<e.length;r++){const d=e[r];!Number.isFinite(d==null?void 0:d.x)||!Number.isFinite(d==null?void 0:d.y)||o.lineTo(d.x,d.y)}for(let d=t.length-1;d>=0;d--){const u=t[d];!Number.isFinite(u==null?void 0:u.x)||!Number.isFinite(u==null?void 0:u.y)||o.lineTo(u.x,u.y)}o.closePath(),o.save(),o.fillStyle=n,o.fill(),o.restore()}})}class Bb{constructor(e){Wt(this,"storage");Wt(this,"runtime",null);Wt(this,"events",{});Wt(this,"state");Wt(this,"symbolChangeCallbacks",new Set);Wt(this,"currentSymbol",null);this.storage=e||WD,this.state=bc({activeSaveId:null,savedLayouts:[],isLoading:!1,lastError:null,initialized:!1}),this.initialize()}async initialize(){try{this.updateState({isLoading:!0});const[e,t]=await Promise.all([this.storage.getActiveSaveId(),this.storage.listSavedLayouts()]);this.updateState({activeSaveId:e,savedLayouts:t,isLoading:!1,lastError:null})}catch(e){console.error("Failed to initialize SaveManager:",e),this.updateState({isLoading:!1,lastError:"Failed to initialize save system"})}}setRuntimeContracts(e){this.runtime=e,this.runtime.onSymbolChange(this.handleSymbolChange.bind(this)),this.currentSymbol=this.runtime.getCurrentSymbol(),this.updateState({initialized:!0}),console.log("âœ… SaveManager fully initialized and ready")}setEventHandlers(e){this.events={...this.events,...e}}async handleSymbolChange(e){this.currentSymbol,this.currentSymbol=e;const t=this.getState();if(t.activeSaveId&&this.runtime)try{const n=await this.storage.getSavedLayout(t.activeSaveId);if(n){this.runtime.clearAllDrawings();const s=n.drawingsBySymbol[e]||[];this.runtime.renderDrawings(s)}}catch(n){console.error("Failed to reload drawings for symbol change:",n)}this.symbolChangeCallbacks.forEach(n=>{try{n(e)}catch(s){console.error("Symbol change callback error:",s)}})}onSymbolChange(e){this.symbolChangeCallbacks.add(e)}offSymbolChange(e){this.symbolChangeCallbacks.delete(e)}updateState(e){this.state.update(t=>({...t,...e}))}getState(){let e;return this.state.subscribe(t=>e=t)(),e}validateSaveName(e,t){return!e||e.trim().length===0?{valid:!1,error:"Name is required"}:e.length>100?{valid:!1,error:"Name must be 100 characters or less"}:this.getState().savedLayouts.some(r=>r.name===e&&r.id!==t)?{valid:!1,error:"Name already exists"}:{valid:!0}}async collectCurrentState(){if(!this.runtime)throw new Error("Runtime contracts not set");try{const e=this.runtime.getCurrentSymbol(),t=this.runtime.collectGlobalState(),n=this.runtime.collectDrawings(e);return{global:t,drawings:n,symbol:e}}catch(e){return console.error("Failed to collect chart state:",e),null}}async save(e){var t,n,s,r;try{this.updateState({isLoading:!0,lastError:null});const a=this.validateSaveName(e);if(!a.valid)return this.updateState({isLoading:!1,lastError:a.error}),{success:!1,error:a.error};const c=await this.collectCurrentState();if(!c)return this.updateState({isLoading:!1,lastError:"Failed to collect chart state"}),{success:!1,error:"Failed to collect chart state"};const d={name:e,timezone:c.global.timezone,interval:c.global.interval,chartType:c.global.chartType,theme:c.global.theme,panes:c.global.panes,indicators:c.global.indicators,styles:c.global.styles,options:c.global.options,drawingsBySymbol:{[c.symbol]:c.drawings}},u=await this.storage.createSavedLayout(d);await this.storage.setActiveSaveId(u.id);const p=await this.storage.listSavedLayouts();return this.updateState({activeSaveId:u.id,savedLayouts:p,isLoading:!1}),(n=(t=this.events).onSaved)==null||n.call(t,u),{success:!0,layout:u}}catch(a){console.error("Save failed:",a);const c=a instanceof Error?a.message:"Save failed";return this.updateState({isLoading:!1,lastError:c}),(r=(s=this.events).onError)==null||r.call(s,c),{success:!1,error:c}}}async quickSave(){var t,n,s,r;const e=this.getState();if(!e.activeSaveId)return this.updateState({isLoading:!1,lastError:"No active save to update"}),{success:!1,error:"No active save to update"};try{this.updateState({isLoading:!0,lastError:null});const a=await this.storage.getSavedLayout(e.activeSaveId);if(!a)return this.updateState({isLoading:!1,lastError:"Active save not found"}),{success:!1,error:"Active save not found"};const c=await this.collectCurrentState();if(!c)return this.updateState({isLoading:!1,lastError:"Failed to collect chart state"}),{success:!1,error:"Failed to collect chart state"};const d={timezone:c.global.timezone,interval:c.global.interval,chartType:c.global.chartType,theme:c.global.theme,panes:c.global.panes,indicators:c.global.indicators,styles:c.global.styles,options:c.global.options,drawingsBySymbol:{...a.drawingsBySymbol,[c.symbol]:c.drawings}},u=await this.storage.updateSavedLayout(e.activeSaveId,d),p=await this.storage.listSavedLayouts();return this.updateState({savedLayouts:p,isLoading:!1}),(n=(t=this.events).onSaved)==null||n.call(t,u),{success:!0,layout:u}}catch(a){console.error("Quick save failed:",a);const c=a instanceof Error?a.message:"Quick save failed";return this.updateState({isLoading:!1,lastError:c}),(r=(s=this.events).onError)==null||r.call(s,c),{success:!1,error:c}}}async saveTo(e){var t,n,s,r,a,c;try{this.updateState({isLoading:!0,lastError:null});const d=await this.collectCurrentState();if(!d)return this.updateState({isLoading:!1,lastError:"Failed to collect chart state"}),{success:!1,error:"Failed to collect chart state"};const u=await this.storage.getSavedLayout(e),p={timezone:d.global.timezone,interval:d.global.interval,chartType:d.global.chartType,theme:d.global.theme,panes:d.global.panes,indicators:d.global.indicators,styles:d.global.styles,options:d.global.options,drawingsBySymbol:u?{...u.drawingsBySymbol,[d.symbol]:d.drawings}:{[d.symbol]:d.drawings}};if(!u){console.log("ðŸ“ Layout not found locally, creating new layout via API");const w={name:`Layout ${new Date().toLocaleString()}`,...p},k=await this.storage.createSavedLayout(w);await this.storage.setActiveSaveId(k.id);const S=await this.storage.listSavedLayouts();return this.updateState({activeSaveId:k.id,savedLayouts:S,isLoading:!1}),(n=(t=this.events).onSaved)==null||n.call(t,k),{success:!0,layout:k}}const h=await this.storage.updateSavedLayout(e,p);await this.storage.setActiveSaveId(e);const x=await this.storage.listSavedLayouts();return this.updateState({activeSaveId:e,savedLayouts:x,isLoading:!1}),(r=(s=this.events).onSaved)==null||r.call(s,h),{success:!0,layout:h}}catch(d){console.error("Save to existing failed:",d);const u=d instanceof Error?d.message:"Save failed";return this.updateState({isLoading:!1,lastError:u}),(c=(a=this.events).onError)==null||c.call(a,u),{success:!1,error:u}}}async saveAs(e){return this.save(e)}async load(e){var t,n,s,r,a,c,d,u;try{this.updateState({isLoading:!0,lastError:null}),console.log("ðŸ”„ Loading layout:",e);const p=await this.storage.getSavedLayout(e);if(!p)return console.error("âŒ Layout not found:",e),this.updateState({isLoading:!1,lastError:"Layout not found"}),{success:!1,error:"Layout not found"};if(console.log("ðŸ“Š Layout data loaded:",{name:p.name,indicatorCount:((t=p.indicators)==null?void 0:t.length)||0,indicators:((n=p.indicators)==null?void 0:n.map(w=>w.type))||[]}),!this.runtime)return console.error("âŒ Runtime contracts not set"),this.updateState({isLoading:!1,lastError:"Runtime contracts not set"}),{success:!1,error:"Runtime contracts not set"};console.log("ðŸ”§ Applying global state with indicators:",((s=p.indicators)==null?void 0:s.length)||0),await this.runtime.applyGlobalState({timezone:p.timezone,interval:p.interval,chartType:p.chartType,theme:p.theme,panes:p.panes,indicators:p.indicators,styles:p.styles,options:p.options});const h=this.runtime.getCurrentSymbol();this.runtime.clearAllDrawings();const x=p.drawingsBySymbol[h]||[];return this.runtime.renderDrawings(x),await this.storage.setActiveSaveId(p.id),this.updateState({activeSaveId:p.id,isLoading:!1}),(a=(r=this.events).onLoaded)==null||a.call(r,p),console.log("âœ… Layout loaded successfully:",{layoutId:p.id,name:p.name,indicatorsRestored:((c=p.indicators)==null?void 0:c.length)||0}),{success:!0}}catch(p){console.error("Load failed:",p);const h=p instanceof Error?p.message:"Load failed";return this.updateState({isLoading:!1,lastError:h}),(u=(d=this.events).onError)==null||u.call(d,h),{success:!1,error:h}}}async delete(e){var t,n,s,r;try{this.updateState({isLoading:!0,lastError:null}),await this.storage.deleteSavedLayout(e);const[a,c]=await Promise.all([this.storage.getActiveSaveId(),this.storage.listSavedLayouts()]);return this.updateState({activeSaveId:a,savedLayouts:c,isLoading:!1}),(n=(t=this.events).onDeleted)==null||n.call(t,e),{success:!0}}catch(a){console.error("Delete failed:",a);const c=a instanceof Error?a.message:"Delete failed";return this.updateState({isLoading:!1,lastError:c}),(r=(s=this.events).onError)==null||r.call(s,c),{success:!1,error:c}}}hasActiveSave(){return this.getState().activeSaveId!==null}getActiveSaveId(){return this.getState().activeSaveId}async clearActiveSave(){await this.storage.setActiveSaveId(null),this.updateState({activeSaveId:null})}async refresh(){try{this.updateState({isLoading:!0});const e=await this.storage.listSavedLayouts();this.updateState({savedLayouts:e,isLoading:!1,lastError:null})}catch(e){console.error("Refresh failed:",e),this.updateState({isLoading:!1,lastError:"Failed to refresh layouts"})}}destroy(){this.runtime&&this.symbolChangeCallbacks.clear()}}new Bb;const Qm="https://noti.dutyai.app/auth/chart/settings";class SR{constructor(){Wt(this,"localStorageProvider");Wt(this,"initialized",!1);this.localStorageProvider=new Lb}async initialize(){this.initialized||(await this.localStorageProvider.initialize(),this.initialized=!0)}hasUserId(){return typeof window<"u"&&!!localStorage.getItem("userId")}getUserId(){return typeof window<"u"?localStorage.getItem("userId"):null}async saveToApi(e){const t=this.getUserId();if(!t)throw new Error("User ID not found in localStorage");if(e._source==="api"&&!e._isModified)return console.log("ðŸ”„ Skipping API save for unmodified API-loaded data"),{...e,_source:"api"};try{console.log(e,"layoutData");const n=e.id||this.generateApiId(),s={clerkId:t,settings:e,id:n};console.log("ðŸŒ Sending to API:",s);const r=await fetch(Qm,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!r.ok){const c=await r.text();throw console.error("API error response:",c),new Error(`API request failed: ${r.status} ${r.statusText} - ${c}`)}const a=await r.json();return console.log("âœ… API save successful:",a),{...e,id:a.id||n,createdAt:a.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()}}catch(n){throw console.error("API save failed:",n),new Error("Failed to save to API")}}generateApiId(){return`api_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async loadFromApi(){var t;const e=this.getUserId();if(!e)throw new Error("User ID not found in localStorage");try{const n=`${Qm}/${e}`;console.log("ðŸŒ API Request:",n);const s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}});if(console.log("ðŸŒ API Response Status:",s.status,s.statusText),!s.ok)throw new Error(`API request failed: ${s.status} ${s.statusText}`);const r=await s.json();return console.log("ðŸŒ API Response Data:",r),Array.isArray(r)?r.map(a=>{var c;return{id:a.id,name:((c=a.settings)==null?void 0:c.name)||"Untitled Layout",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...a.settings,_source:"api"}}):[{id:r.id,name:((t=r.settings)==null?void 0:t.name)||"Untitled Layout",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...r.settings,_source:"api"}]}catch(n){throw console.error("API load failed:",n),new Error("Failed to load from API")}}async deleteFromApi(e){if(!this.getUserId())throw new Error("User ID not found in localStorage");try{const n=`${Qm}/${e}`;console.log("ðŸŒ API Delete Request:",n);const s=await fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(console.log("ðŸŒ API Delete Response Status:",s.status,s.statusText),!s.ok)throw new Error(`API delete request failed: ${s.status} ${s.statusText}`);console.log("âœ… Layout deleted successfully from API")}catch(n){throw console.error("API delete failed:",n),new Error("Failed to delete from API")}}async listSavedLayouts(){if(await this.initialize(),this.hasUserId())try{return console.log("ðŸŒ Loading layouts from API (userId found)"),(await this.loadFromApi()).map(t=>({id:t.id,name:t.name||"Untitled Layout",createdAt:t.createdAt||new Date().toISOString(),updatedAt:t.updatedAt||new Date().toISOString()}))}catch(e){console.error("API load failed, falling back to localStorage:",e)}return console.log("ðŸ’¾ Loading layouts from localStorage (no userId or API failed)"),this.localStorageProvider.listSavedLayouts()}async getSavedLayout(e){if(await this.initialize(),this.hasUserId())try{console.log("ðŸŒ Loading specific layout from API");const n=(await this.loadFromApi()).find(s=>s.id===e);if(n)return n;console.log("ðŸ“– Layout not found in API response, falling back to localStorage")}catch(t){console.error("API load failed, falling back to localStorage:",t)}return this.localStorageProvider.getSavedLayout(e)}async createSavedLayout(e){if(await this.initialize(),this.hasUserId())try{return console.log("ðŸŒ Saving to API (userId found)"),await this.saveToApi(e)}catch(t){console.error("API save failed, falling back to localStorage:",t)}return console.log("ðŸ’¾ Saving to localStorage (no userId or API failed)"),this.localStorageProvider.createSavedLayout(e)}async updateSavedLayout(e,t){if(await this.initialize(),this.hasUserId())try{console.log("ðŸŒ Updating via API (userId found)");try{const a=(await this.loadFromApi()).find(c=>c.id===e);if(a){console.log("ðŸ“ Layout found in API, updating via API");const c={...a,...t,_isModified:!0};return await this.saveToApi(c)}}catch(r){console.log("ðŸ“– Layout not found in API, checking localStorage:",r)}const n=await this.localStorageProvider.getSavedLayout(e);if(n){console.log("ðŸ“ Layout found in localStorage, updating via API");const r={...n,...t};return await this.saveToApi(r)}console.log("ðŸ“ Layout not found, creating new via API");const s={id:e,...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),_isModified:!0};return await this.saveToApi(s)}catch(n){console.error("API update failed, falling back to localStorage:",n)}return console.log("ðŸ’¾ Updating in localStorage"),this.localStorageProvider.updateSavedLayout(e,t)}async deleteSavedLayout(e){if(await this.initialize(),this.hasUserId())try{console.log("ðŸŒ Deleting layout from API"),await this.deleteFromApi(e),console.log("âœ… Layout deleted from API successfully");return}catch(t){console.error("API delete failed, falling back to localStorage:",t)}return console.log("ðŸ’¾ Deleting from localStorage"),this.localStorageProvider.deleteSavedLayout(e)}async getActiveSaveId(){return await this.initialize(),this.localStorageProvider.getActiveSaveId()}async setActiveSaveId(e){return await this.initialize(),this.localStorageProvider.setActiveSaveId(e)}async cleanup(){return await this.initialize(),this.localStorageProvider.cleanup()}}function CR(o,e){Pr(e,!1);const t=El(),n=()=>ti(r,"$save",t),s=()=>ti(a,"$chart",t),r=ur("save");ur("ctx");const a=ur("chart"),c=ur("drawingManager"),d=new SR,u=new Bb(d);let p=null,h=null;function x(){try{console.log("ðŸ§¹ Clearing persisted chart cache to prevent showing unsaved changes...");const S=n(),M=S!=null&&S.key&&typeof S.key=="string"?S.key:"chart";if(typeof localStorage<"u"){const T=localStorage.getItem(M);if(T)try{const j=JSON.parse(T),F={key:j.key||M,theme:j.theme||"dark",symbol:j.symbol||"BINANCE:BTCUSDT",period:j.period||{timeframe:"1h",timespan:"hour"}};localStorage.setItem(M,JSON.stringify(F)),console.log("âœ… Cleared unsaved chart changes, kept basic settings")}catch(j){console.warn("âš ï¸ Could not parse stored chart, clearing completely:",j),localStorage.removeItem(M)}const D=`${M}_drawings`,A=`${M}_overlays`;localStorage.removeItem(D),localStorage.removeItem(A),localStorage.removeItem("dataSpaceOverlays"),console.log("âœ… Persisted chart cache cleared successfully")}try{r.update(T=>{var j,F,q,B;const D=((F=(j=T.styles)==null?void 0:j.candle)==null?void 0:F.type)||"renko_atr",A=((B=(q=T.styles)==null?void 0:q.candle)==null?void 0:B.renko)||{method:"ATR",atrLength:14,source:"close",wick:!1};return T.styles={candle:{type:D,renko:A}},T.options={},T.saveInds={},T})}catch(T){console.warn("âš ï¸ Failed to clear inâ€‘memory save styles/options:",T)}}catch(S){console.error("âŒ Error clearing persisted chart cache:",S)}}yc(async()=>{if(s())w(s());else{const S=a.subscribe(M=>{M&&(S(),w(M))})}});async function w(S){try{let M=0;const T=20;for(;!c.get()&&M<T;)await new Promise(j=>setTimeout(j,100)),M+=1;const D=c.get();D?console.log("âœ… DrawingManager is available for save system"):console.error("âŒ DrawingManager not available after waiting");const A={getCurrentSymbol:()=>X1(n()),collectGlobalState:()=>LP(n(),S),collectDrawings:j=>{if(!D)return console.warn("âš ï¸ DrawingManager not available, returning empty drawings"),[];const F=D.getDrawingsForSymbol(j);return console.log(`ðŸ“¥ Collected ${F.length} drawings for symbol:`,j),F},applyGlobalState:async j=>await EP(j,r,S),clearAllDrawings:()=>{if(!D){console.warn("âš ï¸ DrawingManager not available, cannot clear drawings");return}D.hideRenderedDrawings(),console.log("ðŸ—‘ï¸ Cleared rendered drawings from chart (data preserved)")},renderDrawings:j=>{if(!D){console.warn("âš ï¸ DrawingManager not available, cannot render drawings");return}const F=X1(n());console.log(`ðŸŽ¨ Rendering ${j.length} drawings for symbol:`,F),D.setCurrentSymbol(F),D.loadDrawingsForSymbol(F,j)},onSymbolChange:j=>{h=ja(r,q=>ku(q.symbol)).subscribe(q=>{p!==null&&p!==q&&(console.log("ðŸ”„ Save system detected symbol change:",p,"->",q),j(q)),p=q})},offSymbolChange:j=>{h&&(h(),h=null)}};u.setRuntimeContracts(A),u.setEventHandlers({onSaved:()=>{try{Rm()}catch{}},onLoaded:()=>{try{Rm()}catch{}}}),typeof window<"u"&&(window.saveManager=u,window.forceRefreshChart=async()=>{console.log("ðŸ”„ Force refresh triggered from WebView parent"),await k()},window.clearChartCache=()=>{var j;console.log("ðŸ—‘ï¸ Clearing chart cache");try{const F=(j=n())!=null&&j.key&&typeof n().key=="string"?n().key:"chart";localStorage.removeItem(F);const q=`${F}_drawings`;localStorage.removeItem(q);const B=`${F}_overlays`;localStorage.removeItem(B),localStorage.removeItem("dataSpaceOverlays"),console.log("âœ… Chart cache cleared")}catch(F){console.error("âŒ Error clearing cache:",F)}}),setTimeout(async()=>{x(),await k();try{Rm()}catch{}},100),console.log("âœ… Save system initialized successfully")}catch(M){console.error("âŒ Failed to initialize save system:",M)}}async function k(){try{console.log("ðŸ” Starting automatic restoration process (WebView-safe)...");let S=null;try{S=typeof window<"u"?localStorage.getItem("userId"):null}catch{}if(S){console.log("ðŸŒ User logged in, refreshing saved layouts from server...");try{await u.refresh(),console.log("âœ… Saved layouts refreshed from server")}catch(A){console.warn("âš ï¸ Could not refresh saved layouts from server:",A)}}const M=u.getActiveSaveId();if(console.log("ðŸ” Active save ID found:",M),M){console.log("ðŸ”„ Restoring active saved data:",M);const A=await u.load(M);if(A.success){console.log("âœ… Active saved data restored successfully:",M);return}else{console.warn("âš ï¸ Failed to restore active saved data:",A.error);try{await u.clearActiveSave(),console.log("ðŸ§¹ Cleared stale activeSaveId after failed restore")}catch(j){console.warn("âš ï¸ Could not clear activeSaveId:",j)}}}let T=[];const D=u.state.subscribe(A=>{T=(A==null?void 0:A.savedLayouts)||[]});if(D&&D(),T&&T.length>0){const A=T[0];if(console.log("ðŸ§­ Auto-selecting first saved layout:",A==null?void 0:A.id,A==null?void 0:A.name),A!=null&&A.id){const j=await u.load(A.id);if(j.success){console.log("âœ… First saved layout auto-restored and set active:",A.id);return}else console.warn("âš ï¸ Failed to auto-load chosen layout:",j.error)}}console.log("â„¹ï¸ No saved layouts found, using default chart configuration")}catch(S){console.error("âŒ Error restoring active saved data:",S)}}Su(()=>{h&&h(),u.destroy()}),wc(),Mr()}function IR(o,e){e("cancel")}function PR(o,e){e("confirm")}var MR=ue('<div class="ucm-backdrop svelte-16egrl4"><div class="ucm-modal svelte-16egrl4" role="dialog" aria-modal="true" aria-labelledby="ucm-title"><div class="ucm-header svelte-16egrl4"><h2 id="ucm-title" class="svelte-16egrl4"> </h2></div> <div class="ucm-body svelte-16egrl4"><p> </p></div> <div class="ucm-actions svelte-16egrl4"><button class="btn btn-cancel svelte-16egrl4">Cancel</button> <button class="btn btn-confirm svelte-16egrl4">Confirm</button></div></div></div>');function TR(o,e){Pr(e,!1);let t=Po(e,"show",8,!1),n=Po(e,"title",8,"Unsaved changes"),s=Po(e,"message",8,"You have unsaved changes. If you refresh, your changes will be lost.");const r=nc();wc();var a=yt(),c=nt(a);xe(c,t,d=>{var u=MR(),p=m(u),h=m(p),x=m(h),w=m(x,!0);_(x),_(h);var k=v(h,2),S=m(k),M=m(S,!0);_(S),_(k);var T=v(k,2),D=m(T);D.__click=[IR,r];var A=v(D,2);A.__click=[PR,r],_(T),_(p),_(u),Re(()=>{wt(w,n()),wt(M,s())}),N(d,u)}),N(o,a),Mr()}Pa(["click"]);const AR={lookbackPeriod:50,trendWeight:.3,momentumWeight:.25,volatilityWeight:.2,supportResistanceWeight:.15,volumeWeight:.1};function Oc(o,e){return o.length<e?o[o.length-1]||0:o.slice(-e).reduce((n,s)=>n+s,0)/e}function eh(o,e){if(o.length===0)return 0;if(o.length<e)return Oc(o,o.length);const t=2/(e+1);let n=Oc(o.slice(0,e),e);for(let s=e;s<o.length;s++)n=(o[s]-n)*t+n;return n}function Ob(o,e=14){if(o.length<e+1)return 50;const t=[];for(let d=1;d<o.length;d++)t.push(o[d]-o[d-1]);let n=0,s=0;for(let d=0;d<e;d++)t[d]>=0?n+=t[d]:s-=t[d];let r=n/e,a=s/e;for(let d=e;d<t.length;d++)t[d]>=0?(r=(r*(e-1)+t[d])/e,a=a*(e-1)/e):(r=r*(e-1)/e,a=(a*(e-1)-t[d])/e);return a===0?100:100-100/(1+r/a)}function DR(o,e=14){if(o.length<2)return 0;const t=[];for(let n=1;n<o.length;n++){const s=o[n].high,r=o[n].low,a=o[n-1].close,c=Math.max(s-r,Math.abs(s-a),Math.abs(r-a));t.push(c)}return Oc(t,Math.min(e,t.length))}function LR(o,e=3){if(o.length<10)return{support:[],resistance:[]};const t=o.map(a=>a.high),n=o.map(a=>a.low),s=[],r=[];for(let a=2;a<o.length-2;a++)t[a]>t[a-1]&&t[a]>t[a-2]&&t[a]>t[a+1]&&t[a]>t[a+2]&&s.push(t[a]),n[a]<n[a-1]&&n[a]<n[a-2]&&n[a]<n[a+1]&&n[a]<n[a+2]&&r.push(n[a]);return s.sort((a,c)=>c-a),r.sort((a,c)=>a-c),{resistance:s.slice(0,e),support:r.slice(0,e)}}function ER(o){if(o.length<3)return{pattern:"none",bullish:!0,confidence:.5};const e=o[o.length-1],t=o[o.length-2],n=o[o.length-3],s=Math.abs(e.close-e.open),r=e.high-e.low,a=e.close>e.open,c=Math.abs(t.close-t.open),d=t.close>t.open;if(s>c*1.5){if(a&&!d)return{pattern:"bullish_engulfing",bullish:!0,confidence:.75};if(!a&&d)return{pattern:"bearish_engulfing",bullish:!1,confidence:.75}}if(s<r*.1)return{pattern:"doji",bullish:d,confidence:.4};const u=a?e.open-e.low:e.close-e.low,p=a?e.high-e.close:e.high-e.open;return u>s*2&&p<s*.5?{pattern:"hammer",bullish:!0,confidence:.65}:p>s*2&&u<s*.5?{pattern:"shooting_star",bullish:!1,confidence:.65}:a&&d&&n.close>n.open?{pattern:"three_white_soldiers",bullish:!0,confidence:.7}:!a&&!d&&n.close<n.open?{pattern:"three_black_crows",bullish:!1,confidence:.7}:{pattern:"none",bullish:a,confidence:.5}}function FR(o){if(o.length<30)return{phase:"accumulation",confidence:.5};const e=o.slice(-30),t=e.map(p=>p.close),n=e.map(p=>p.volume||0),s=e.map(p=>p.high-p.low),r=(t[t.length-1]-t[0])/t.length,a=Oc(n,n.length),c=Oc(n.slice(-5),5),d=Oc(s,s.length),u=Oc(s.slice(-5),5);return Math.abs(r)<d*.1&&c<a*1.1&&u<d*1.1?{phase:"accumulation",confidence:.7}:r>d*.3&&c>a*1.2?{phase:"markup",confidence:.75}:Math.abs(r)<d*.15&&c>a*1.3&&(t[t.length-10]-t[0])/10>0?{phase:"distribution",confidence:.7}:r<-d*.3&&c>a*1.2?{phase:"markdown",confidence:.75}:{phase:"accumulation",confidence:.5}}function jR(o){if(o.length<20)return{direction:"sideways",strength:.5};const e=o.map(B=>B.close),t=o.map(B=>B.high),n=o.map(B=>B.low),s=eh(e,9),r=eh(e,21),a=eh(e,Math.min(50,e.length)),c=e[e.length-1];let d="sideways",u=0,p=0;s>r?u++:p++,r>a?u++:p++,c>s?u++:p++;const h=t.slice(-5),x=n.slice(-5),w=h[h.length-1]>h[0],k=x[x.length-1]>x[0],S=h[h.length-1]<h[0],M=x[x.length-1]<x[0];w&&k?u+=2:S&&M&&(p+=2);const T=e.slice(-10),D=(T[T.length-1]-T[0])/T.length,A=Oc(T,T.length),j=D/A*100;j>.15?u+=2:j<-.15&&(p+=2),u>p+1?d="up":p>u+1&&(d="down");const F=u+p,q=F>0?Math.abs(u-p)/F:.5;return{direction:d,strength:Math.min(q,1)}}function $R(o){if(o.length<20)return{value:0,strength:.5};const e=o.map(d=>d.close),t=Ob(e,14),n=(t-50)/50,s=(e[e.length-1]-e[e.length-10])/e[e.length-10],r=n*.6+s*10*.4,a=Math.max(-1,Math.min(1,r)),c=Math.abs(t-50)/50;return{value:a,strength:Math.min(c,1)}}function BR(o){if(o.length<20)return{trend:"stable",relativeCurrent:1};const e=o.map(c=>c.volume||0),t=Oc(e,Math.min(20,e.length)),n=Oc(e.slice(-5),5),s=e[e.length-1],r=t>0?s/t:1;let a="stable";return n>t*1.2?a="increasing":n<t*.8&&(a="decreasing"),{trend:a,relativeCurrent:r}}function OR(o,e={}){const t={...AR,...e};if(o.length<10)return console.warn("Not enough historical data for prediction"),null;const n=o.slice(-t.lookbackPeriod),s=n[n.length-1];console.log("ðŸ”® Predicting next candle from",n.length,"candles");const r=jR(n);console.log("ðŸ“ˆ Trend:",r);const a=$R(n);console.log("âš¡ Momentum:",a);const c=DR(n,14),d=Oc(n.map(Te=>Te.close),n.length),u=c/d*100;console.log("ðŸ“Š Volatility (ATR%):",u.toFixed(2));const p=LR(n);console.log("ðŸŽ¯ Support/Resistance:",p);const h=BR(n);console.log("ðŸ“¦ Volume:",h);const x=ER(n);console.log("ðŸŽ¨ Pattern:",x);const w=FR(n);console.log("ðŸ”„ Market Cycle:",w);let k=0;const S=(Math.random()-.5)*.8;k+=S;const M=Ob(n.map(Te=>Te.close),14),T=M>70,D=M<30,A=r.strength>.7;let j=.15;if(T&&r.direction==="up"&&(j+=.25),D&&r.direction==="down"&&(j+=.25),A&&(j+=.15),Math.random()<j){console.log("ðŸ”„ REVERSAL DETECTED - Creating counter-trend candle");const Te=.5+Math.random()*1.5;r.direction==="up"?k-=Te:r.direction==="down"?k+=Te:k+=(Math.random()>.5?1:-1)*Te}else r.direction==="up"?k+=r.strength*t.trendWeight*1.5:r.direction==="down"?k-=r.strength*t.trendWeight*1.5:k+=(Math.random()-.5)*.6,k+=a.value*a.strength*t.momentumWeight*1.8;if(x.pattern!=="none"){const Te=x.confidence*1.2;x.bullish?k+=Te:k-=Te,console.log(`ðŸŽ¯ Pattern impact: ${x.bullish?"+":"-"}${Te.toFixed(2)}%`)}w.phase==="markup"?k+=w.confidence*.5:w.phase==="markdown"?k-=w.confidence*.5:w.phase==="distribution"?k-=w.confidence*.2:w.phase==="accumulation"&&(k+=w.confidence*.2);const q=Math.min(u/2,2)*t.volatilityWeight;let B=0;const O=s.close;for(const Te of p.resistance)O>=Te*.98&&O<=Te*1.02&&(B-=.5);for(const Te of p.support)O>=Te*.98&&O<=Te*1.02&&(B+=.5);if(k+=B*t.supportResistanceWeight*1.5,h.trend==="increasing"){const Te=t.volumeWeight*.8;(k>0||k<0)&&(k*=1+Te)}else h.trend==="decreasing"&&(k*=.85);const z=(Math.random()-.5)*q*2.5;if(k+=z,Math.random()<.05){const Te=(Math.random()-.5)*3;k+=Te,console.log("ðŸ“° Surprise move:",Te.toFixed(2)+"%")}k=Math.max(-6,Math.min(6,k)),console.log("ðŸ’¹ Predicted change:",k.toFixed(2)+"%");const Y=O*(k/100),G=k>0;let oe,re,se,ie;const te=u>2?.15:.05,J=Math.random()<te?(Math.random()*.5+.2)*(G?1:-1):0,U=Math.abs(Y),ae=(Math.random()-.5)*.4,me=U*(1+ae);if(G){oe=O*(1+J/100),ie=oe+me;const Te=Math.random();let Se,Ue;Te<.2?(Se=c*(.05+Math.random()*.15),Ue=c*(.05+Math.random()*.15)):Te<.4?(Se=c*(.4+Math.random()*.5),Ue=c*(.1+Math.random()*.2)):Te<.6?(Se=c*(.05+Math.random()*.15),Ue=c*(.4+Math.random()*.6)):(Se=c*(.15+Math.random()*.35),Ue=c*(.15+Math.random()*.35)),re=ie+Se,se=oe-Ue}else{oe=O*(1+J/100),ie=oe-me;const Te=Math.random();let Se,Ue;Te<.2?(Se=c*(.05+Math.random()*.15),Ue=c*(.05+Math.random()*.15)):Te<.4?(Se=c*(.4+Math.random()*.6),Ue=c*(.05+Math.random()*.15)):Te<.6?(Se=c*(.1+Math.random()*.2),Ue=c*(.4+Math.random()*.5)):(Se=c*(.15+Math.random()*.35),Ue=c*(.15+Math.random()*.35)),re=oe+Se,se=ie-Ue}const ke=r.direction==="sideways"?.15:.05;if(Math.random()<ke){ie=oe+(Math.random()-.5)*c*.1;const Te=c*(.3+Math.random()*.4);re=Math.max(oe,ie)+Te,se=Math.min(oe,ie)-Te,console.log("ðŸŽ² Created Doji candle (indecision)")}re=Math.max(oe,ie,re),se=Math.min(oe,ie,se);const Ae=Oc(n.map(Te=>Te.volume||0),20);Oc(n.slice(-5).map(Te=>Te.volume||0),5);let Le=Ae;const He=Math.min(Math.abs(k)/2,1.5);Le*=.8+He*.4,h.trend==="increasing"?Le*=1.1+Math.random()*.3:h.trend==="decreasing"?Le*=.7+Math.random()*.2:Le*=.85+Math.random()*.3,x.pattern==="bullish_engulfing"||x.pattern==="bearish_engulfing"?Le*=1.2+Math.random()*.3:x.pattern==="doji"&&(Le*=.7+Math.random()*.2),(w.phase==="distribution"||w.phase==="markdown")&&(Le*=1.1+Math.random()*.2),Le=Math.max(Ae*.3,Math.min(Le,Ae*3));const it=n.slice(-5).map((Te,Se,Ue)=>Se>0?Te.timestamp-Ue[Se-1].timestamp:0).filter(Te=>Te>0),Ne=it.length>0?Oc(it,it.length):6e4,je={timestamp:s.timestamp+Ne,open:Math.round(oe*100)/100,high:Math.round(re*100)/100,low:Math.round(se*100)/100,close:Math.round(ie*100)/100,volume:Math.round(Le)};return console.log("ðŸŽ¯ Predicted candle:",je),je}function RR(o,e){return Date.now()-o>e*2}function NR(){var o;try{(o=window.predictNextCandle)==null||o.call(window)}catch{}E0(!0)}function zR(o,e){(!(typeof window<"u")||window.confirm("Exit simulator?"))&&(e(),_b())}function VR(o){const e=parseFloat(o.target.value);Oh(e)}var qR=ue('<button class="fc-btn svelte-u36ajg" type="button">Stop</button>'),WR=ue('<button class="fc-btn svelte-u36ajg" type="button">Start</button>'),GR=ue('<div class="floating-controls svelte-u36ajg"><div class="fc-content svelte-u36ajg"><div class="fc-header svelte-u36ajg"><div class="fc-title svelte-u36ajg">Simulator</div> <div class="fc-badge svelte-u36ajg"> </div></div> <div class="fc-row svelte-u36ajg"><input type="range" min="0.5" max="10" step="0.5" class="fc-range svelte-u36ajg"></div> <div class="fc-row svelte-u36ajg"><!> <button class="fc-btn fc-danger svelte-u36ajg" type="button">Exit</button></div></div></div>');function HR(o,e){Pr(e,!0);const t=El(),n=()=>ti(dc,"$simulator",t);let s=Z(20),r=Z(80),a=Z(!1),c=0,d=0;function u(S){const M="touches"in S?S.touches[0]:S;c=M.clientX-i(s),d=M.clientY-i(r),b(a,!0),window.addEventListener("mousemove",p),window.addEventListener("mouseup",h),window.addEventListener("touchmove",p,{passive:!0}),window.addEventListener("touchend",h)}function p(S){if(!i(a))return;const M="touches"in S?S.touches[0]:S;b(s,M.clientX-c),b(r,M.clientY-d)}function h(){b(a,!1),window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",h),window.removeEventListener("touchmove",p),window.removeEventListener("touchend",h)}function x(){var S;try{(S=window.stopPrediction)==null||S.call(window)}catch{}E0(!1)}var w=yt(),k=nt(w);xe(k,()=>n().mode==="normal",S=>{var M=GR(),T=m(M),D=m(T);D.__mousedown=u,D.__touchstart=u;var A=v(m(D),2),j=m(A);_(A),_(D);var F=v(D,2),q=m(F);ut(q),q.__input=[VR],_(F);var B=v(F,2),O=m(B);xe(O,()=>n().playing,Y=>{var G=qR();G.__click=x,N(Y,G)},Y=>{var G=WR();G.__click=[NR],N(Y,G)});var z=v(O,2);z.__click=[zR,x],_(B),_(T),_(M),Re(()=>{lt(M,"style",`left:${i(s)}px;top:${i(r)}px;`),wt(j,`${n().speed??""}x`),Ud(q,n().speed)}),N(S,M)}),N(o,w),Mr()}Pa(["mousedown","touchstart","input","click"]);function UR(o,e,t){e("run",{code:t()})}function YR(o,e,t){e("save",{code:t()})}function KR(o,e){e("close")}function ZR(o,e){e("guide")}var XR=(o,e)=>e("main"),JR=(o,e)=>e("sub"),QR=ue('<div class="pane-toggle svelte-gq9qkl" aria-label="Target pane"><button type="button" class="svelte-gq9qkl">Main</button> <button type="button" class="svelte-gq9qkl">Sub pane</button></div>'),eN=ue('<div class="gutter-line svelte-gq9qkl"></div>'),tN=ue('<span class="status error svelte-gq9qkl"> </span>'),oN=ue('<span class="status success svelte-gq9qkl"> </span>'),nN=ue('<span class="status muted svelte-gq9qkl">Ready to run</span>'),sN=ue('<span class="diag-hint svelte-gq9qkl"> </span>'),iN=ue('<div><span class="diag-dot svelte-gq9qkl"></span> <span class="diag-msg svelte-gq9qkl"> </span> <!></div>'),rN=ue('<div class="diag-list svelte-gq9qkl" aria-live="polite"></div>'),aN=ue('<div class="script-studio svelte-gq9qkl"><div class="studio-header svelte-gq9qkl"><div class="studio-title svelte-gq9qkl"><div class="title-dot svelte-gq9qkl"></div> <div class="title-text-group svelte-gq9qkl"><div class="title-text svelte-gq9qkl">Script Studio</div> <div class="title-sub svelte-gq9qkl">Inline editor Â· draft â†’ chart</div></div></div> <div class="studio-meta svelte-gq9qkl"><div><span class="pill-dot svelte-gq9qkl"></span> <span class="pill-text svelte-gq9qkl"> </span></div></div> <div class="studio-actions svelte-gq9qkl"><!> <button class="ghost ghost-secondary svelte-gq9qkl" type="button"><span>Documentation</span></button> <button class="ghost svelte-gq9qkl" type="button"><span class="btn-icon svelte-gq9qkl"><svg width="12" height="12" viewBox="0 0 12 12" fill="none" aria-hidden="true"><path d="M3 2.5h6v7H3z" stroke="currentColor" stroke-width="1.2"></path><path d="M4 1h4v2H4z" fill="currentColor"></path><path d="M5 7h2" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></path></svg></span> <span>Save</span></button> <button class="primary svelte-gq9qkl" type="button"><span class="btn-icon svelte-gq9qkl"><svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor" aria-hidden="true"><path d="M4 3.2v5.6L9 6 4 3.2Z"></path></svg></span> <span> </span></button> <button class="icon svelte-gq9qkl" type="button" aria-label="Collapse script dock">&times;</button></div></div> <div class="editor-area svelte-gq9qkl"><div class="editor-shell svelte-gq9qkl"><div class="editor-gutter svelte-gq9qkl"></div> <div class="editor-main svelte-gq9qkl"><div class="editor-toolbar svelte-gq9qkl"><div class="editor-file svelte-gq9qkl"><span class="file-dot svelte-gq9qkl"></span> <span class="file-name svelte-gq9qkl">inline-script.dsl</span> <span class="file-meta svelte-gq9qkl"> </span></div> <div class="editor-hints svelte-gq9qkl"><span class="hint svelte-gq9qkl">1. Write or paste script</span> <span class="hint svelte-gq9qkl">2. Press Run â–¶</span></div></div> <textarea class="code-input svelte-gq9qkl" spellcheck="false" placeholder="Write or paste your script here, then press Run to see it on the chart"></textarea></div></div></div> <div class="studio-footer svelte-gq9qkl"><div class="status-block svelte-gq9qkl"><!></div> <!></div></div>');function lN(o,e){Pr(e,!0);let t=Po(e,"code",15,""),n=Po(e,"status",3,null),s=Po(e,"error",3,null),r=Po(e,"isRunning",3,!1),a=Po(e,"isOpen",3,!0),c=Po(e,"paneTarget",7,"main");const d=nc(),u=tt(()=>s()?"error":r()?"running":n()?"success":"idle"),p=tt(()=>s()?"Error":r()?"Running":n()?"Ready":"Idle");function h(we){c()!==we&&(c(we),d("pane",{target:we}))}const x=tt(()=>()=>{try{const we=JSON.parse(String(t()||"").trim());return!!(we!=null&&we.pane||we!=null&&we.panes||we!=null&&we.main||we!=null&&we.sub)}catch{return!1}}),w=tt(()=>{var we;return((we=t())==null?void 0:we.split(`
`).length)||1});function k(){const we=[],je=String(t()||"").trim();if(!je)return we;try{const Te=JSON.parse(je);if(Te&&(Te.plots||Te.calc||Te.panes||Te.main||Te.sub)){const Se=$b(Te);Se.ok||(Se.errors||[]).forEach(be=>we.push({level:"error",message:be,hint:M(be)}));const Ue=[].concat(Te.panes||[]).concat(Te.main?[Te.main]:[]).concat(Te.sub?[Te.sub]:[]),Be=Array.isArray(Te.calc)?Te.calc:[],le=Array.isArray(Te.series)?Te.series:[],ye=new Set(["open","high","low","close","volume"]);le.forEach(be=>{const X=String((be==null?void 0:be.name)||"").replace(/\s+/g,"_").toLowerCase();X&&ye.add(X)}),Be.forEach(be=>{const X=String((be==null?void 0:be.type)||(be==null?void 0:be.name)||"").toLowerCase(),H=String((be==null?void 0:be.name)||(be==null?void 0:be.type)||"").replace(/\s+/g,"_").toLowerCase();if(g2.includes(X)||X&&we.push({level:"error",message:`Unsupported calc type "${be==null?void 0:be.type}"`,hint:`Use one of: ${Array.from(g2).join(", ")}`}),X==="ema"){const Ce=be==null?void 0:be.period;(typeof Ce!="number"||!(Ce>0))&&we.push({level:"error",message:"EMA requires numeric period > 0",hint:'Add "period": e.g., 20'})}if(X==="macd"){const Ce=Qe=>typeof Qe=="number"&&Qe>0;(!Ce(be==null?void 0:be.fast)||!Ce(be==null?void 0:be.slow)||!Ce(be==null?void 0:be.signal))&&we.push({level:"error",message:"MACD requires numeric fast/slow/signal",hint:'Add "fast":12, "slow":26, "signal":9'})}if(X==="stoch"){const Ce=Qe=>typeof Qe=="number"&&Qe>0;(!Ce(be==null?void 0:be.kPeriod)||!Ce(be==null?void 0:be.dPeriod))&&we.push({level:"error",message:"Stochastic requires kPeriod and dPeriod",hint:'Add "kPeriod":14, "dPeriod":3'})}H&&(X==="bbands"||X==="bollinger"||X==="bollinger_bands"||X==="kc"||X==="keltner"||X==="donchian"||X==="linreg_channel"?(ye.add(`${H}_mid`),ye.add(`${H}_upper`),ye.add(`${H}_lower`)):X==="atr_bands"?(ye.add(`${H}_upper`),ye.add(`${H}_lower`)):X==="macd"?(ye.add("macd_line"),ye.add("macd_signal"),ye.add("macd_hist")):X==="stoch"?(ye.add(`${H}_k`),ye.add(`${H}_d`)):X==="ichimoku"?["tenkan","kijun","spana","spanb","chikou"].forEach(Ce=>ye.add(Ce)):ye.add(H))}),Ue.forEach((be,X)=>{(be.plots||[]).forEach((H,Ce)=>{const Qe=String((H==null?void 0:H.type)||"line").toLowerCase();_2.includes(Qe)||we.push({level:"warning",message:`Pane[${X}] plot[${Ce}] unsupported type "${H==null?void 0:H.type}"`,hint:`Supported: ${Array.from(_2).join(", ")}`});const mt=String((H==null?void 0:H.source)||"").replace(/\s+/g,"_").toLowerCase();mt&&!ye.has(mt)&&we.push({level:"error",message:`Pane[${X}] plot[${Ce}] source "${H==null?void 0:H.source}" not defined`,hint:"Define it in calc/series or use a valid alias."})}),(be.labels||[]).forEach((H,Ce)=>{const Qe=String((H==null?void 0:H.shape)||"label");Qe&&!m2.includes(Qe)&&we.push({level:"warning",message:`Pane[${X}] label[${Ce}] unsupported shape "${Qe}"`,hint:`Supported: ${Array.from(m2).join(", ")}`}),H!=null&&H.shape||we.push({level:"warning",message:`Pane[${X}] label[${Ce}] no shape set (default: label)`,hint:'Set "shape": triangle_up_filled, triangle_down_filled, label, pill, tag, flag'});const mt=String((H==null?void 0:H.source)||"").replace(/\s+/g,"_").toLowerCase();mt&&!["open","high","low","close","volume"].includes(mt)&&!ye.has(mt)&&we.push({level:"error",message:`Pane[${X}] label[${Ce}] source "${H==null?void 0:H.source}" not defined`,hint:"Use high/low/open/close or a defined series"}),String((be==null?void 0:be.pane)||"main").toLowerCase()==="sub"&&(mt==="high"||mt==="low")&&we.push({level:"warning",message:`Pane[${X}] label[${Ce}] anchors to price in sub pane`,hint:"Move label to main pane for price anchors"});const bt=String((H==null?void 0:H.when)||"");if(bt.trim())try{const ct=Qv(bt),yo=[],Kt=to=>{!to||typeof to!="object"||(to.kind==="SeriesRef"&&yo.push(String(to.name||"")),Object.values(to).forEach(Kt))};Kt(ct),yo.forEach(to=>{const io=to.replace(/\s+/g,"_").toLowerCase();!ye.has(io)&&!["open","high","low","close","volume"].includes(io)&&we.push({level:"warning",message:`Label[${X}:${Ce}] references unknown series "${to}"`,hint:"Define via calc/series or use a base series (open/high/low/close/volume)."})})}catch(ct){const yo=(ct==null?void 0:ct.position)!=null?` at ${ct.position}`:"",Kt=ct instanceof vv?ct.message:String(ct);we.push({level:"error",message:`Label[${X}:${Ce}] condition parse failed${yo}: ${Kt}`,hint:"Use crossover(a,b), crossunder(a,b), between(x,a,b). Ensure series names exist."})}})});const Ee=new Set;Ue.forEach(be=>{(be.plots||[]).forEach(X=>{const H=String((X==null?void 0:X.source)||"").replace(/\s+/g,"_").toLowerCase();H&&Ee.add(H)}),(be.labels||[]).forEach(X=>{const H=String((X==null?void 0:X.source)||"").replace(/\s+/g,"_").toLowerCase();H&&Ee.add(H);const Ce=String((X==null?void 0:X.when)||"");try{const Qe=Qv(Ce),mt=[],bt=ct=>{!ct||typeof ct!="object"||(ct.kind==="SeriesRef"&&mt.push(String(ct.name||"")),Object.values(ct).forEach(bt))};bt(Qe),mt.forEach(ct=>Ee.add(ct.replace(/\s+/g,"_").toLowerCase()))}catch{}}),(be.lines||[]).forEach(X=>{const H=String((X==null?void 0:X.segmentsFrom)||"").replace(/\s+/g,"_").toLowerCase();H&&Ee.add(H);const Ce=String((X==null?void 0:X.start)||"").replace(/\s+/g,"_").toLowerCase();Ce&&Ee.add(Ce);const Qe=String((X==null?void 0:X.end)||"").replace(/\s+/g,"_").toLowerCase();Qe&&Ee.add(Qe)})});const Je=(be,X)=>{const H=be.toLowerCase(),Ce=X;return H==="bbands"||H==="bollinger"||H==="bollinger_bands"||H==="kc"||H==="keltner"||H==="donchian"||H==="linreg_channel"?[`${Ce}_mid`,`${Ce}_upper`,`${Ce}_lower`]:H==="atr_bands"?[`${Ce}_upper`,`${Ce}_lower`]:H==="stoch"?[`${Ce}_k`,`${Ce}_d`]:H==="macd"?["macd_line","macd_signal","macd_hist"]:H==="ichimoku"?["tenkan","kijun","spana","spanb","chikou"]:[Ce]};return Be.forEach(be=>{const X=String((be==null?void 0:be.name)||(be==null?void 0:be.type)||"").replace(/\s+/g,"_").toLowerCase();if(X&&!Ee.has(X)){const H=String((be==null?void 0:be.type)||"");Je(H,X).some(mt=>Ee.has(mt))||we.push({level:"warning",message:`Calc "${H}" (${X}) is defined but not used`,hint:"Reference it in plots or label conditions"})}}),we}}catch{we.push({level:"warning",message:"Nonâ€‘JSON script detected",hint:"Use JSON spec or the DSL examples from Guide. If JSON, ensure valid commas/quotes/braces."})}return we}const S=tt(k);function M(we){const je=we.toLowerCase();return je.includes("no panes defined")?'Add pane:"main" or {main:{...}} with plots/labels.':je.includes("has no plots/labels/levels/lines")?"Add at least one plot or label in the pane.":je.includes("series")?"Check series names and expressions; use normalized aliases like macd_line.":"Review field names/types; see Guide examples."}T0();var T=aN(),D=m(T),A=v(m(D),2),j=m(A),F=v(m(j),2),q=m(F,!0);_(F),_(j),_(A);var B=v(A,2),O=m(B);xe(O,()=>!i(x),we=>{var je=QR(),Te=m(je);Te.__click=[XR,h];var Se=v(Te,2);Se.__click=[JR,h],_(je),Re(()=>{Ls(Te,"active",c()==="main"),Ls(Se,"active",c()==="sub")}),N(we,je)});var z=v(O,2);z.__click=[ZR,d];var Y=v(z,2);Y.__click=[YR,d,t];var G=v(Y,2);G.__click=[UR,d,t];var oe=v(m(G),2),re=m(oe,!0);_(oe),_(G);var se=v(G,2);se.__click=[KR,d],_(B),_(D);var ie=v(D,2),te=m(ie),K=m(te);Qo(K,21,()=>Array(i(w)),ln,(we,je,Te)=>{var Se=eN();Se.textContent=Te+1,N(we,Se)}),_(K);var J=v(K,2),U=m(J),ae=m(U),me=v(m(ae),4),ke=m(me);_(me),_(ae),ei(2),_(U);var Ae=v(U,2);Mx(Ae),_(J),_(te),_(ie);var Le=v(ie,2),He=m(Le),it=m(He);xe(it,s,we=>{var je=tN(),Te=m(je,!0);_(je),Re(()=>wt(Te,s())),N(we,je)},we=>{var je=yt(),Te=nt(je);xe(Te,n,Se=>{var Ue=oN(),Be=m(Ue,!0);_(Ue),Re(()=>wt(Be,n())),N(Se,Ue)},Se=>{var Ue=nN();N(Se,Ue)},!0),N(we,je)}),_(He);var Ne=v(He,2);xe(Ne,()=>i(S).length,we=>{var je=rN();Qo(je,21,()=>i(S),ln,(Te,Se)=>{var Ue=iN(),Be=v(m(Ue),2),le=m(Be,!0);_(Be);var ye=v(Be,2);xe(ye,()=>i(Se).hint,Ee=>{var Je=sN(),be=m(Je);_(Je),Re(()=>wt(be,`â€” ${i(Se).hint??""}`)),N(Ee,Je)}),_(Ue),Re(()=>{Un(Ue,`${`diag-item ${i(Se).level}`??""} svelte-gq9qkl`),wt(le,i(Se).message)}),N(Te,Ue)}),_(je),N(we,je)}),_(Le),_(T),Re(()=>{lt(T,"aria-hidden",!a()),Un(j,`${`status-pill ${i(u)}`??""} svelte-gq9qkl`),wt(q,i(p)),G.disabled=r(),wt(re,r()?"Running...":"Run"),wt(ke,`Lines: ${i(w)??""}`)}),Mt(Ae,t),N(o,T),Mr()}Pa(["click"]);var cN=(o,e)=>{o.target===o.currentTarget&&e()},dN=(o,e)=>b(e,"details"),uN=(o,e)=>b(e,"examples"),vN=(o,e)=>b(e,"bn"),pN=(o,e)=>b(e,"en"),fN=ue('<p class="ss-guide-intro svelte-7drkl6">Script Studio à¦¦à§à¦‡à¦­à¦¾à¦¬à§‡ à¦•à¦¾à¦œ à¦•à¦°à§‡: DSL (à¦¸à¦¹à¦œ à¦Ÿà§‡à¦•à§à¦¸à¦Ÿ) à¦à¦¬à¦‚ JSONà¥¤ à¦¨à¦¿à¦šà§‡ à¦ªà§‡à¦¶à¦¾à¦¦à¦¾à¦° à¦¸à§à¦Ÿà¦¾à¦‡à¦²à§‡à¦° à¦¸à§à¦Ÿà§‡à¦ªâ€‘à¦¬à¦¾à¦‡â€‘à¦¸à§à¦Ÿà§‡à¦ª à¦¡à¦•à§à¦®à§‡à¦¨à§à¦Ÿà§‡à¦¶à¦¨ à¦¦à§‡à¦“à§Ÿà¦¾ à¦¹à¦²à§‹à¥¤</p> <h3 class="ss-section-title svelte-7drkl6">à¦•à§à¦‡à¦• à¦¸à§à¦Ÿà¦¾à¦°à§à¦Ÿ</h3> <ul class="ss-list svelte-7drkl6"><li>à¦ªà§à¦¯à¦¾à¦¨ à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¨ à¦•à¦°à§à¦¨: <code>pane</code> = <code>main</code> à¦¬à¦¾ <code>sub</code></li> <li>à¦•à§à¦¯à¦¾à¦²à¦•à§à¦²à§‡à¦¶à¦¨ à¦¯à§‹à¦— à¦•à¦°à§à¦¨: <code>calc</code> à¦ EMA/RSI/MACD à¦‡à¦¤à§à¦¯à¦¾à¦¦à¦¿</li> <li>à¦ªà§à¦²à¦Ÿ à¦†à¦à¦•à§à¦¨: <code>plots</code> à¦ à¦¸à¦¿à¦°à¦¿à¦œà¦•à§‡ line/neon_line/dots</li> <li>à¦¸à¦¿à¦—à¦¨à§à¦¯à¦¾à¦²/à¦²à§‡à¦¬à§‡à¦² à¦¦à¦¿à¦¨: <code>labels</code> à¦“ <code>signals</code> à¦ à¦¶à¦°à§à¦¤</li> <li>Run à¦šà¦¾à¦ªà§à¦¨ à¦à¦¬à¦‚ à¦šà¦¾à¦°à§à¦Ÿà§‡ à¦«à¦²à¦¾à¦«à¦² à¦¦à§‡à¦–à§à¦¨</li></ul> <h3 class="ss-section-title svelte-7drkl6">à¦¸à§à¦•à§à¦°à¦¿à¦ªà§à¦Ÿ à¦Ÿà¦¾à¦‡à¦ª</h3> <ul class="ss-list svelte-7drkl6"><li>DSL: à¦›à§‹à¦Ÿ, à¦¦à§à¦°à§à¦¤ à¦Ÿà§‡à¦•à§à¦¸à¦Ÿ à¦­à¦¿à¦¤à§à¦¤à¦¿à¦• à¦¸à¦¿à¦¨à¦Ÿà§à¦¯à¦¾à¦•à§à¦¸</li> <li>JSON: à¦¸à§à¦Ÿà§à¦°à¦¾à¦•à¦šà¦¾à¦°à¦¡, à¦¬à¦¿à¦¸à§à¦¤à¦¾à¦°à¦¿à¦¤ à¦•à¦¨à¦«à¦¿à¦—</li></ul> <div class="ss-example svelte-7drkl6"><div class="ss-example-head svelte-7drkl6"><div class="ss-example-title svelte-7drkl6">DSL à¦‰à¦¦à¦¾à¦¹à¦°à¦£</div></div> <pre class="ss-code svelte-7drkl6"><code></code></pre></div> <div class="ss-example svelte-7drkl6"><div class="ss-example-head svelte-7drkl6"><div class="ss-example-title svelte-7drkl6">JSON à¦‰à¦¦à¦¾à¦¹à¦°à¦£</div></div> <pre class="ss-code svelte-7drkl6"><code></code></pre></div> <h3 class="ss-section-title svelte-7drkl6">à¦¸à§à¦•à¦¿à¦®à¦¾ à¦šà¦¿à¦Ÿà¦¶à¦¿à¦Ÿ</h3> <ul class="ss-list svelte-7drkl6"><li><code>calc</code>: à¦‡à¦¨à¦¡à¦¿à¦•à§‡à¦Ÿà¦° à¦¸à¦¿à¦°à¦¿à¦œ à¦¡à¦¿à¦«à¦¾à¦‡à¦¨ (à¦‰à¦¦à¦¾: EMA/RSI/MACD)</li> <li><code>plots</code>: à¦¸à¦¿à¦°à¦¿à¦œ à¦•à¦¿à¦­à¦¾à¦¬à§‡ à¦†à¦à¦•à¦¬à§‡à¦¨ (color/width/style)</li> <li><code>labels</code>: à¦¶à¦°à§à¦¤ à¦ªà§‚à¦°à¦£à§‡ à¦¶à§‡à¦ª/à¦Ÿà§‡à¦•à§à¦¸à¦Ÿ à¦¦à§‡à¦–à¦¾à§Ÿ</li> <li><code>signals</code>: à¦Ÿà§à¦°à§‡à¦¡ à¦‡à¦­à§‡à¦¨à§à¦Ÿ (entry/exit)</li> <li><code>levels</code>: à¦¸à¦¾à¦¬â€‘à¦ªà§à¦¯à¦¾à¦¨à§‡ à¦²à§‡à¦­à§‡à¦² à¦²à¦¾à¦‡à¦¨</li> <li><code>lines</code>: à¦ªà¦¿à¦­à¦Ÿ à¦¥à§‡à¦•à§‡ à¦Ÿà§à¦°à§‡à¦¨à§à¦¡à¦²à¦¾à¦‡à¦¨ à¦¸à§‡à¦—à¦®à§‡à¦¨à§à¦Ÿ</li> <li><code>fills</code>: à¦¦à§à¦‡ à¦¸à¦¿à¦°à¦¿à¦œà§‡à¦° à¦®à¦§à§à¦¯à§‡ à¦«à¦¿à¦² à¦•à¦¾à¦²à¦¾à¦°</li></ul> <h3 class="ss-section-title svelte-7drkl6">à¦¸à§à¦Ÿà§‡à¦ªâ€‘à¦¬à¦¾à¦‡â€‘à¦¸à§à¦Ÿà§‡à¦ª: EMA à¦•à§à¦°à¦¸ à¦¸à§à¦•à§à¦°à¦¿à¦ªà§à¦Ÿ</h3> <ul class="ss-list svelte-7drkl6"><li>Step 1 â€” <code>pane</code>: <code>main</code></li> <li>Step 2 â€” <code>calc</code>: <code>ema_fast</code> à¦“ <code>ema_slow</code></li> <li>Step 3 â€” <code>plots</code>: à¦¦à§à¦‡ EMA à¦²à¦¾à¦‡à¦¨</li> <li>Step 4 â€” <code>labels</code>: à¦•à§à¦°à¦¸ à¦¹à¦²à§‡ BUY/SELL à¦Ÿà§à¦¯à¦¾à¦—</li> <li>Step 5 â€” Run à¦•à¦°à§‡ à¦šà¦¾à¦°à§à¦Ÿ à¦¦à§‡à¦–à§à¦¨</li></ul> <div class="ss-example svelte-7drkl6"><div class="ss-example-head svelte-7drkl6"><div class="ss-example-title svelte-7drkl6">JSON Â· EMA à¦•à§à¦°à¦¸</div></div> <pre class="ss-code svelte-7drkl6"><code></code></pre></div> <h3 class="ss-section-title svelte-7drkl6">à¦•à¦¨à§à¦¡à¦¿à¦¶à¦¨ à¦°à§‡à¦«à¦¾à¦°à§‡à¦¨à§à¦¸</h3> <ul class="ss-list svelte-7drkl6"><li>à¦•à¦®à§à¦ªà¦¾à¦°à¦¿à¦œà¦¨: <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code>, <code>==</code>, <code>!=</code></li> <li>à¦²à¦œà¦¿à¦•: <code>and</code>, <code>or</code>, <code>not</code></li> <li>à¦•à§à¦°à¦¸: <code>crossesAbove</code>, <code>crossesBelow</code></li> <li>à¦Ÿà§à¦°à§‡à¦¨à§à¦¡: <code>trend(up)</code>, <code>trend(down)</code></li></ul> <h3 class="ss-section-title svelte-7drkl6">à¦¡à¦¾à¦‡à¦¨à¦¾à¦®à¦¿à¦• à¦ªà§à¦¯à¦¾à¦°à¦¾à¦®</h3> <ul class="ss-list svelte-7drkl6"><li><code>when</code>â€‘à¦à¦° à¦­à¦¿à¦¤à¦°à§‡ à¦¡à¦²à¦¾à¦° à¦¸à¦¾à¦‡à¦¨ + à¦•à§€ à¦²à¦¿à¦–à§à¦¨ (à¦‰à¦¦à¦¾à¦¹à¦°à¦£: tol) â€” à¦à¦Ÿà¦¿ <code>params</code> à¦¥à§‡à¦•à§‡ à¦®à¦¾à¦¨ à¦¨à§‡à§Ÿ</li> <li>à¦‰à¦¦à¦¾à¦¹à¦°à¦£: params.tol = 0.0003 à¦¹à¦²à§‡ <code>when</code>â€‘à¦ à¦²à¦¿à¦–à§à¦¨ <code>crossover(close, bb_mid, tol)</code></li></ul> <h3 class="ss-section-title svelte-7drkl6">à¦à¦•à§à¦¸à¦Ÿà§‡à¦¨à§à¦¡à§‡à¦¡ à¦«à¦¾à¦‚à¦¶à¦¨</h3> <ul class="ss-list svelte-7drkl6"><li>à¦•à§à¦°à¦¸/à¦•à¦®à§à¦ªà§‡à§Ÿà¦¾à¦°: <code>crossover</code>, <code>crossunder</code>, <code>above</code>, <code>below</code>, <code>between</code></li> <li>à¦¡à¦¿à¦°à§‡à¦•à¦¶à¦¨: <code>rising(series[, n])</code>, <code>falling(series[, n])</code></li> <li>à¦‰à¦‡à¦¨à§à¦¡à§‹/à¦²à§à¦¯à¦¾à¦—: <code>lowest</code>, <code>highest</code>, <code>lag</code>, <code>prev</code>, <code>change</code>, <code>abs</code></li> <li>à¦…à§à¦¯à¦¾à¦°à¦¿à¦¥à¦®à§‡à¦Ÿà¦¿à¦•: <code>add</code>, <code>sub</code>, <code>mul</code>, <code>div</code>, <code>min</code>, <code>max</code></li> <li>à¦®à§à¦­à¦¿à¦‚ à¦à¦­à¦¾à¦°à§‡à¦œ: <code>sma(series, period)</code>, <code>ema(series, period)</code></li></ul> <h3 class="ss-section-title svelte-7drkl6">à¦¸à¦¾à¦ªà§‹à¦°à§à¦Ÿà§‡à¦¡ à¦«à¦¿à¦šà¦¾à¦°</h3> <ul class="ss-list svelte-7drkl6"><li>Pane: <code>main</code>, <code>sub</code></li> <li>Indicators (calc): <code>sma</code>, <code>smma</code>, <code>ema</code>, <code>wma</code>, <code>rsi</code>, <code>macd</code>, <code>bbands</code>, <code>atr</code>, <code>supertrend</code>, <code>kc</code>, <code>donchian</code>, <code>ichimoku</code>, <code>stoch</code>, <code>sar</code>, <code>zscore</code>, <code>vwap</code>, <code>vwma</code>, <code>atr_bands</code>, <code>vwap_bands</code>, <code>linreg_channel</code>, <code>pivot_high</code>, <code>pivot_low</code>, <code>last_value</code>, <code>prev_value</code></li> <li>Plots: <code>line</code>, <code>neon_line</code>, <code>bezier_line</code>, <code>histogram</code>, <code>area</code>, <code>dots</code>, <code>bar</code>, <code>cloud</code>, <code>aura</code>, <code>candleshadow</code>, <code>supertrend_cloud</code></li> <li>Label shapes: <code>arrowUp</code>, <code>arrowDown</code>, <code>circle</code>, <code>square</code>, <code>triangle_up_filled</code>, <code>triangle_down_filled</code>, <code>box</code>, <code>label</code>, <code>text</code>, <code>emoji</code>, <code>triangle_up_gradient</code>, <code>arrow_up_glow</code>, <code>pill</code>, <code>tag</code>, <code>flag</code></li> <li>Signals: <code>entry_long</code>, <code>exit_long</code>, <code>entry_short</code>, <code>exit_short</code></li></ul> <h3 class="ss-section-title svelte-7drkl6">à¦¸à§€à¦®à¦¾à¦¬à¦¦à§à¦§à¦¤à¦¾</h3> <ul class="ss-list svelte-7drkl6"><li>JSON à¦¸à§à¦•à§à¦°à¦¿à¦ªà§à¦Ÿà§‡ à¦•à¦®à§‡à¦¨à§à¦Ÿ/à¦¬à§à¦¯à¦¾à¦•à¦Ÿà¦¿à¦•/à¦¸à¦¿à¦™à§à¦—à§‡à¦² à¦•à§‹à¦Ÿ à¦¸à¦¾à¦ªà§‹à¦°à§à¦Ÿ à¦¨à¦¾ â€” à¦¡à¦¾à¦¬à¦² à¦•à§‹à¦Ÿ à¦“ à¦¬à§ˆà¦§ à¦•à¦®à¦¾ à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à§à¦¨</li> <li>DSL à¦ªà§‡à¦¸à§à¦Ÿ à¦•à¦°à¦²à§‡ à¦à¦¡à¦¿à¦Ÿà¦° <code>Nonâ€‘JSON script</code> à¦¦à§‡à¦–à¦¾à¦¤à§‡ à¦ªà¦¾à¦°à§‡ â€” à¦¤à¦¬à§à¦“ Run à¦•à¦°à¦²à§‡ à¦•à¦¾à¦œ à¦•à¦°à¦¬à§‡</li> <li><code>when</code>â€‘à¦ à¦‡à¦šà§à¦›à§‡à¦®à¦¤à§‹ à¦œà¦¾à¦­à¦¾à¦¸à§à¦•à§à¦°à¦¿à¦ªà§à¦Ÿ à¦¨à§Ÿ â€” à¦¸à¦®à¦°à§à¦¥à¦¿à¦¤ à¦«à¦¾à¦‚à¦¶à¦¨/à¦•à¦®à§à¦ªà¦¾à¦°à¦¿à¦œà¦¨ à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à§à¦¨</li></ul> <h3 class="ss-section-title svelte-7drkl6">à¦à¦°à¦° à¦¡à¦¾à§Ÿà¦¾à¦—à¦¨à¦¸à§à¦Ÿà¦¿à¦•à§à¦¸</h3> <ul class="ss-list svelte-7drkl6"><li>à¦ªà¦¾à¦°à§à¦¸ à¦«à§‡à¦² à¦¹à¦²à§‡: <code>Label[i:j] parse failed at &lt;pos&gt;</code> â€” à¦ à¦¿à¦• à¦•à§‹à¦¥à¦¾à§Ÿ à¦¸à¦®à¦¸à§à¦¯à¦¾</li> <li>à¦…à¦œà¦¾à¦¨à¦¾ à¦¸à¦¿à¦°à¦¿à¦œ: <code>Label[i:j] unknown series: â€¦</code> â€” à¦à¦²à¦¿à§Ÿà¦¾à¦¸ à¦ à¦¿à¦• à¦•à¦°à§‡ à¦¨à¦¿à¦¨</li> <li>à¦ªà§à¦¯à¦¾à¦¨ à¦•à¦¨à§à¦Ÿà§‡à¦¨à§à¦Ÿ: <code>Pane has no plots</code> â€” à¦…à¦¨à§à¦¤à¦¤ à¦à¦•à¦Ÿà¦¿ à¦ªà§à¦²à¦Ÿ à¦¯à§‹à¦— à¦•à¦°à§à¦¨</li></ul> <h3 class="ss-section-title svelte-7drkl6">à¦¸à¦¾à¦¬â€‘à¦ªà§à¦¯à¦¾à¦¨à§‡ à¦…à§à¦¯à¦¾à¦™à§à¦•à¦°à¦¿à¦‚</h3> <ul class="ss-list svelte-7drkl6"><li>à¦¸à¦¾à¦¬â€‘à¦ªà§à¦¯à¦¾à¦¨à§‡ à¦²à§‡à¦¬à§‡à¦²/à¦¸à¦¿à¦—à¦¨à§à¦¯à¦¾à¦²à§‡à¦° <code>source</code> à¦¹à¦¿à¦¸à§‡à¦¬à§‡ à¦‡à¦¨à¦¡à¦¿à¦•à§‡à¦Ÿà¦° à¦¸à¦¿à¦°à¦¿à¦œ à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à§à¦¨</li></ul> <div class="ss-example svelte-7drkl6"><div class="ss-example-head svelte-7drkl6"><div class="ss-example-title svelte-7drkl6">RSI à¦¸à¦¾à¦¬â€‘à¦ªà§à¦¯à¦¾à¦¨</div></div> <pre class="ss-code svelte-7drkl6"><code></code></pre></div> <h3 class="ss-section-title svelte-7drkl6">à¦Ÿà§à¦°à§‡à¦¨à§à¦¡à¦²à¦¾à¦‡à¦¨ à¦“ à¦«à¦¿à¦²</h3> <div class="ss-example svelte-7drkl6"><div class="ss-example-head svelte-7drkl6"><div class="ss-example-title svelte-7drkl6">à¦…à¦Ÿà§‹ à¦Ÿà§à¦°à§‡à¦¨à§à¦¡à¦²à¦¾à¦‡à¦¨</div></div> <pre class="ss-code svelte-7drkl6"><code></code></pre></div> <div class="ss-example svelte-7drkl6"><div class="ss-example-head svelte-7drkl6"><div class="ss-example-title svelte-7drkl6">à¦¬à§‹à¦²à¦¿à¦žà§à¦œà¦¾à¦° à¦«à¦¿à¦²</div></div> <pre class="ss-code svelte-7drkl6"><code></code></pre></div> <h3 class="ss-section-title svelte-7drkl6">à¦®à¦¾à¦²à§à¦Ÿà¦¿â€‘à¦ªà§à¦¯à¦¾à¦¨ à¦Ÿà§‡à¦®à¦ªà§à¦²à§‡à¦Ÿ</h3> <div class="ss-example svelte-7drkl6"><div class="ss-example-head svelte-7drkl6"><div class="ss-example-title svelte-7drkl6">Main + Sub</div></div> <pre class="ss-code svelte-7drkl6"><code></code></pre></div> <h3 class="ss-section-title svelte-7drkl6">à¦•à¦®à¦¨ à¦­à§à¦² à¦“ à¦«à¦¿à¦•à§à¦¸</h3> <ul class="ss-list svelte-7drkl6"><li>à¦Ÿà§à¦°à§‡à¦‡à¦²à¦¿à¦‚ à¦•à¦®à¦¾/à¦¸à§‡à¦®à¦¿à¦•à§‹à¦²à¦¨ à¦¥à¦¾à¦•à¦²à§‡ à¦¸à§à¦¬à§Ÿà¦‚à¦•à§à¦°à¦¿à§Ÿà¦­à¦¾à¦¬à§‡ à¦ªà¦°à¦¿à¦·à§à¦•à¦¾à¦° à¦¹à§Ÿ</li> <li>à¦à§à¦²à§‡ à¦¥à¦¾à¦•à¦¾ <code>and</code>/<code>or</code> à¦¥à¦¾à¦•à¦²à§‡ à¦¶à¦°à§à¦¤ à¦Ÿà§à¦°à¦¿à¦® à¦¹à§Ÿ</li> <li>à¦•à¦®à§‡à¦¨à§à¦Ÿ à¦²à¦¿à¦–à¦²à§‡ à¦ªà¦¾à¦°à§à¦¸à§‡à¦° à¦†à¦—à§‡ à¦¬à¦¾à¦¦ à¦¦à§‡à¦“à§Ÿà¦¾ à¦¹à§Ÿ</li></ul>',1),gN=ue('<p class="ss-guide-intro svelte-7drkl6">Script Studio supports DSL and JSON. Below is a professional, stepâ€‘byâ€‘step guide.</p> <h3 class="ss-section-title svelte-7drkl6">Quick Start</h3> <ul class="ss-list svelte-7drkl6"><li>Select <code>pane</code>: <code>main</code> or <code>sub</code></li> <li>Add indicators in <code>calc</code> (EMA/RSI/MACD)</li> <li>Draw with <code>plots</code> (line/neon_line/dots)</li> <li>Configure <code>labels</code> and <code>signals</code></li> <li>Press Run and review on chart</li></ul> <h3 class="ss-section-title svelte-7drkl6">Script Types</h3> <ul class="ss-list svelte-7drkl6"><li>DSL: concise text syntax</li> <li>JSON: structured configuration</li></ul> <div class="ss-example svelte-7drkl6"><div class="ss-example-head svelte-7drkl6"><div class="ss-example-title svelte-7drkl6">DSL example</div></div> <pre class="ss-code svelte-7drkl6"><code></code></pre></div> <div class="ss-example svelte-7drkl6"><div class="ss-example-head svelte-7drkl6"><div class="ss-example-title svelte-7drkl6">JSON example</div></div> <pre class="ss-code svelte-7drkl6"><code></code></pre></div> <h3 class="ss-section-title svelte-7drkl6">Schema Cheatsheet</h3> <ul class="ss-list svelte-7drkl6"><li><code>calc</code>: define indicator series</li> <li><code>plots</code>: render series with styles</li> <li><code>labels</code>: draw shapes/text on conditions</li> <li><code>signals</code>: trading events</li> <li><code>levels</code>: horizontal levels in sub pane</li> <li><code>lines</code>: trendline segments from pivots</li> <li><code>fills</code>: fill between two series</li></ul> <h3 class="ss-section-title svelte-7drkl6">Stepâ€‘byâ€‘Step: EMA Cross</h3> <ul class="ss-list svelte-7drkl6"><li>Step 1 â€” <code>pane</code>: <code>main</code></li> <li>Step 2 â€” <code>calc</code>: <code>ema_fast</code> and <code>ema_slow</code></li> <li>Step 3 â€” <code>plots</code>: draw both EMAs</li> <li>Step 4 â€” <code>labels</code>: show BUY/SELL on cross</li> <li>Step 5 â€” Run and verify</li></ul> <div class="ss-example svelte-7drkl6"><div class="ss-example-head svelte-7drkl6"><div class="ss-example-title svelte-7drkl6">JSON Â· EMA cross</div></div> <pre class="ss-code svelte-7drkl6"><code></code></pre></div> <h3 class="ss-section-title svelte-7drkl6">Condition Reference</h3> <ul class="ss-list svelte-7drkl6"><li>Comparisons: <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code>, <code>==</code>, <code>!=</code></li> <li>Logic: <code>and</code>, <code>or</code>, <code>not</code></li> <li>Crosses: <code>crossesAbove</code>, <code>crossesBelow</code></li> <li>Trend: <code>trend(up)</code>, <code>trend(down)</code></li></ul> <h3 class="ss-section-title svelte-7drkl6">Dynamic Params</h3> <ul class="ss-list svelte-7drkl6"><li>Use a parameter name directly inside <code>when</code> (e.g., <code>tol</code>) to substitute from <code>params</code></li> <li>Example: set params.tol = 0.0003 and write <code>when: crossover(close, bb_mid, tol)</code></li></ul> <h3 class="ss-section-title svelte-7drkl6">Extended Functions</h3> <ul class="ss-list svelte-7drkl6"><li>Cross/compare: <code>crossover</code>, <code>crossunder</code>, <code>above</code>, <code>below</code>, <code>between</code></li> <li>Direction: <code>rising(series[, n])</code>, <code>falling(series[, n])</code></li> <li>Window/lag: <code>lowest</code>, <code>highest</code>, <code>lag</code>, <code>prev</code>, <code>change</code>, <code>abs</code></li> <li>Arithmetic: <code>add</code>, <code>sub</code>, <code>mul</code>, <code>div</code>, <code>min</code>, <code>max</code></li> <li>Moving average: <code>sma(series, period)</code>, <code>ema(series, period)</code></li></ul> <h3 class="ss-section-title svelte-7drkl6">Supported Features</h3> <ul class="ss-list svelte-7drkl6"><li>Pane: <code>main</code>, <code>sub</code></li> <li>Indicators (calc): <code>sma</code>, <code>smma</code>, <code>ema</code>, <code>wma</code>, <code>rsi</code>, <code>macd</code>, <code>bbands</code>, <code>atr</code>, <code>supertrend</code>, <code>kc</code>, <code>donchian</code>, <code>ichimoku</code>, <code>stoch</code>, <code>sar</code>, <code>zscore</code>, <code>vwap</code>, <code>vwma</code>, <code>atr_bands</code>, <code>vwap_bands</code>, <code>linreg_channel</code>, <code>pivot_high</code>, <code>pivot_low</code>, <code>last_value</code>, <code>prev_value</code></li> <li>Plots: <code>line</code>, <code>neon_line</code>, <code>bezier_line</code>, <code>histogram</code>, <code>area</code>, <code>dots</code>, <code>bar</code>, <code>cloud</code>, <code>aura</code>, <code>candleshadow</code>, <code>supertrend_cloud</code></li> <li>Label shapes: <code>arrowUp</code>, <code>arrowDown</code>, <code>circle</code>, <code>square</code>, <code>triangle_up_filled</code>, <code>triangle_down_filled</code>, <code>box</code>, <code>label</code>, <code>text</code>, <code>emoji</code>, <code>triangle_up_gradient</code>, <code>arrow_up_glow</code>, <code>pill</code>, <code>tag</code>, <code>flag</code></li> <li>Signals: <code>entry_long</code>, <code>exit_long</code>, <code>entry_short</code>, <code>exit_short</code></li></ul> <h3 class="ss-section-title svelte-7drkl6">Limitations</h3> <ul class="ss-list svelte-7drkl6"><li>JSON: no comments/backticks/single quotes â€” use double quotes and valid commas</li> <li>DSL may show <code>Nonâ€‘JSON script</code> in editor â€” press Run, it still works</li> <li><code>when</code>: no arbitrary JavaScript â€” use supported functions/comparisons</li></ul> <h3 class="ss-section-title svelte-7drkl6">Error Diagnostics</h3> <ul class="ss-list svelte-7drkl6"><li>Parse fail: <code>Label[i:j] parse failed at &lt;pos&gt;</code> shows exact position</li> <li>Unknown series: <code>Label[i:j] unknown series: â€¦</code> fix alias</li> <li>Pane content: <code>Pane has no plots</code> add at least one plot</li></ul> <h3 class="ss-section-title svelte-7drkl6">Subâ€‘Pane Anchoring</h3> <ul class="ss-list svelte-7drkl6"><li>Use indicator series as <code>source</code> for labels/signals in sub pane</li></ul> <div class="ss-example svelte-7drkl6"><div class="ss-example-head svelte-7drkl6"><div class="ss-example-title svelte-7drkl6">RSI sub pane</div></div> <pre class="ss-code svelte-7drkl6"><code></code></pre></div> <h3 class="ss-section-title svelte-7drkl6">Trendlines & Fills</h3> <div class="ss-example svelte-7drkl6"><div class="ss-example-head svelte-7drkl6"><div class="ss-example-title svelte-7drkl6">Auto trendlines</div></div> <pre class="ss-code svelte-7drkl6"><code></code></pre></div> <div class="ss-example svelte-7drkl6"><div class="ss-example-head svelte-7drkl6"><div class="ss-example-title svelte-7drkl6">Bollinger fill</div></div> <pre class="ss-code svelte-7drkl6"><code></code></pre></div> <h3 class="ss-section-title svelte-7drkl6">Multiâ€‘Pane Template</h3> <div class="ss-example svelte-7drkl6"><div class="ss-example-head svelte-7drkl6"><div class="ss-example-title svelte-7drkl6">Main + Sub</div></div> <pre class="ss-code svelte-7drkl6"><code></code></pre></div> <h3 class="ss-section-title svelte-7drkl6">Common Mistakes</h3> <ul class="ss-list svelte-7drkl6"><li>Trailing commas/semicolons are autoâ€‘cleaned</li> <li>Dangling <code>and</code>/<code>or</code> are trimmed</li> <li>Inline comments are stripped before parsing</li></ul>',1),_N=ue('<section class="ss-section svelte-7drkl6" role="tabpanel" id="ss-tabpanel-details" aria-labelledby="ss-tab-details"><div class="ss-details-head svelte-7drkl6"><div class="ss-details-title svelte-7drkl6">Documentation</div> <div class="ss-lang-toggle svelte-7drkl6" aria-label="Language toggle"><button type="button">à¦¬à¦¾à¦‚à¦²à¦¾</button> <button type="button">English</button></div></div> <!></section>'),mN=(o,e,t)=>e(i(t).code),hN=(o,e,t)=>e(i(t).code),yN=ue('<div class="ss-example svelte-7drkl6"><div class="ss-example-head svelte-7drkl6"><div class="ss-example-title svelte-7drkl6"> </div> <div class="ss-example-actions svelte-7drkl6"><button type="button" class="ss-copy svelte-7drkl6">Copy</button><button type="button" class="ss-use svelte-7drkl6">Use in editor</button></div></div> <pre class="ss-code svelte-7drkl6"><code> </code></pre></div>'),bN=ue('<section class="ss-section svelte-7drkl6" role="tabpanel" id="ss-tabpanel-examples" aria-labelledby="ss-tab-examples"><h3 class="ss-section-title svelte-7drkl6">à¦‰à¦¦à¦¾à¦¹à¦°à¦£ à¦¸à§à¦•à§à¦°à¦¿à¦ªà§à¦Ÿ</h3> <!></section>'),xN=ue('<div class="ss-guide-backdrop svelte-7drkl6" role="dialog" aria-modal="true" aria-labelledby="ss-guide-title"><div class="ss-guide-modal svelte-7drkl6"><div class="ss-guide-header svelte-7drkl6"><h2 id="ss-guide-title" class="svelte-7drkl6">Script Studio â€“ Documentation</h2> <button class="ss-guide-close svelte-7drkl6" type="button" aria-label="Close guide">&times;</button></div> <div class="ss-guide-body svelte-7drkl6"><div class="ss-tabs svelte-7drkl6" role="tablist" aria-label="Guide sections"><button id="ss-tab-details" role="tab" aria-controls="ss-tabpanel-details">Documentation</button> <button id="ss-tab-examples" role="tab" aria-controls="ss-tabpanel-examples">Examples</button></div> <!></div></div></div>');function wN(o,e){Pr(e,!1);let t=Po(e,"show",8,!1),n=Yr("details"),s=Yr("bn");const r=nc();function a(){r("close")}function c(A){r("insert",{code:A})}function d(A){try{navigator.clipboard.writeText(A)}catch{}}const u=[{title:"DSL Â· Fractal tops/bots",code:`WIN = 5
HIWIN = highest(close, WIN)
LOWIN = lowest(close, WIN)
label at top text:"â–² fractal" color:#f97316
label at bot text:"â–¼ fractal" color:#3b82f6`},{title:"Simple Â· EMA 20 (main)",code:`{
  "pane": "main",
  "calc": [
    { "name": "ema20", "type": "ema", "source": "close", "period": 20 }
  ],
  "plots": [
    { "name": "EMA 20", "source": "ema20", "color": "#3b82f6", "width": 2 }
  ]
}`},{title:"Simple Â· Stochastic (sub)",code:`{
  "pane": "sub",
  "min": 0,
  "max": 100,
  "calc": [
    { "name": "stoch", "type": "stoch", "kPeriod": 14, "dPeriod": 3 }
  ],
  "plots": [
    { "name": "%K", "source": "stoch_k", "color": "#1E90FF", "width": 2 },
    { "name": "%D", "source": "stoch_d", "color": "#FF1493", "width": 2, "style": "dashed" }
  ]
}`},{title:"EMA 20/50 cross labels",code:`{
  "pane": "main",
  "calc": [
    { "name": "ema20", "type": "ema", "source": "close", "period": 20 },
    { "name": "ema50", "type": "ema", "source": "close", "period": 50 }
  ],
  "plots": [
    { "name": "EMA 20", "source": "ema20", "color": "#22c55e", "width": 2 },
    { "name": "EMA 50", "source": "ema50", "color": "#3b82f6", "width": 2, "style": "dashed" }
  ],
  "labels": [
    { "when": "ema20 crossesAbove ema50", "text": "BUY",  "color": "#16a34a", "position": "below", "source": "low",  "shape": "triangle_up_filled" },
    { "when": "ema20 crossesBelow ema50", "text": "SELL", "color": "#ef4444", "position": "above", "source": "high", "shape": "triangle_down_filled" }
  ]
}`},{title:"RSI signals (sub)",code:`{
  "pane": "sub",
  "min": 0,
  "max": 100,
  "calc": [
    { "name": "rsi14", "type": "rsi", "source": "close", "period": 14 }
  ],
  "plots": [
    { "name": "RSI", "source": "rsi14", "color": "#60a5fa", "width": 2 }
  ],
  "levels": [
    { "name": "30", "value": 30, "color": "#64748b", "style": "dotted" },
    { "name": "50", "value": 50, "color": "#94a3b8" },
    { "name": "70", "value": 70, "color": "#64748b", "style": "dotted" }
  ],
  "labels": [
    { "when": "rsi14 crossesAbove 50", "text": "BUY",  "color": "#16a34a", "position": "above", "source": "rsi14", "shape": "pill", "textPadding": 10 },
    { "when": "rsi14 crossesBelow 50", "text": "SELL", "color": "#ef4444", "position": "below", "source": "rsi14", "shape": "pill", "textPadding": 10 }
  ],
  "signals": [
    { "type": "entry_long",  "when": "rsi14 crossesAbove 50" },
    { "type": "entry_short", "when": "rsi14 crossesBelow 50" }
  ]
}`},{title:"Bollinger basis glow",code:`{
  "pane": "main",
  "calc": [
    { "name": "bb", "type": "bbands", "source": "close", "period": 20, "std": 2 }
  ],
  "plots": [
    { "name": "BB Glow", "source": "bb_mid", "type": "neon_line", "color": "rgba(0,255,255,0.35)", "width": 8 },
    { "name": "BB Core", "source": "bb_mid", "type": "line", "color": "#00ffff", "width": 2 }
  ]
}`},{title:"Full Bollinger with fill",code:`{
  "pane": "main",
  "calc": [
    { "name": "bb", "type": "bbands", "source": "close", "period": 20, "std": 2 }
  ],
  "plots": [
    { "name": "Upper", "source": "bb_upper", "type": "line", "color": "#00ffff", "width": 1, "style": "dashed" },
    { "name": "Lower", "source": "bb_lower", "type": "line", "color": "#00ffff", "width": 1, "style": "dashed" },
    { "name": "Mid Glow", "source": "bb_mid", "type": "neon_line", "color": "rgba(0,255,255,0.30)", "width": 8 },
    { "name": "Mid", "source": "bb_mid", "type": "line", "color": "#00ffff", "width": 2 }
  ],
  "fills": [
    { "between": ["bb_upper", "bb_lower"], "color": "rgba(0,255,255,0.10)" }
  ]
}`},{title:"Shape Â· tags at swing",code:`{
  "pane": "main",
  "calc": [
    { "name": "ph", "type": "pivot_high", "left": 3, "right": 3 },
    { "name": "pl", "type": "pivot_low",  "left": 3, "right": 3 }
  ],
  "labels": [
    { "when": "swinghigh(3)", "text": "â–² HH", "color": "#ef4444", "position": "above", "source": "ph", "shape": "tag" },
    { "when": "swinglow(3)",  "text": "â–¼ LL", "color": "#22c55e", "position": "below", "source": "pl", "shape": "tag" }
  ]
}`},{title:"Box shape Â· engulfing",code:`{
  "pane": "main",
  "series": [
    { "name": "prevOpen",  "expr": "lag(open, 1)" },
    { "name": "prevClose", "expr": "lag(close, 1)" }
  ],
  "labels": [
    { "when": "(close>open) and (prevClose<prevOpen) and (close>=prevOpen) and (open<=prevClose)", "shape": "box", "boxMode": "wick", "bgColor": "rgba(59,130,246,0.25)", "borderColor": "#3b82f6", "text": "Bullish Engulfing", "position": "above", "size": 2, "offsetY": 12 },
    { "when": "(close<open) and (prevClose>prevOpen) and (close<=prevOpen) and (open>=prevClose)", "shape": "box", "boxMode": "wick", "bgColor": "rgba(59,130,246,0.25)", "borderColor": "#3b82f6", "text": "Bearish Engulfing", "position": "below", "size": 2, "offsetY": 12 }
  ]
}`},{title:"Trendlines Â· auto",code:`{
  "pane": "main",
  "calc": [
    { "name": "ph", "type": "pivot_high", "left": 3, "right": 3 },
    { "name": "pl", "type": "pivot_low",  "left": 3, "right": 3 },
    { "name": "ph_prev", "type": "prev_value", "source": "ph" },
    { "name": "pl_prev", "type": "prev_value", "source": "pl" }
  ],
  "plots": [
    { "name": "PH", "source": "ph", "type": "dots", "color": "#ef4444", "width": 2 },
    { "name": "PL", "source": "pl", "type": "dots", "color": "#22c55e", "width": 2 }
  ],
  "lines": [
    { "name": "Down TL", "segmentsFrom": "ph", "color": "#64748b", "width": 1, "style": "dotted", "extend": "right", "maxSegments": 50 },
    { "name": "Up TL",   "segmentsFrom": "pl", "color": "#64748b", "width": 1, "style": "dotted", "extend": "right", "maxSegments": 50 }
  ],
  "labels": [
    { "when": "swinghigh(3)", "text": "â–² HH", "color": "#ef4444", "position": "above", "source": "ph", "shape": "tag" },
    { "when": "swinglow(3)",  "text": "â–¼ LL", "color": "#22c55e", "position": "below", "source": "pl", "shape": "tag" }
  ]
}`},{title:"SuperTrend signals",code:`{
  "pane": "main",
  "calc": [
    { "name": "st", "type": "supertrend", "period": 10, "factor": 3 }
  ],
  "plots": [
    { "name": "ST", "source": "st", "type": "line", "color": "#f59e0b", "width": 2 }
  ],
  "labels": [
    { "when": "close > st", "text": "ST BUY",  "color": "#16a34a", "position": "below", "source": "st", "shape": "triangle_up_filled" },
    { "when": "close < st", "text": "ST SELL", "color": "#ef4444", "position": "above", "source": "st", "shape": "triangle_down_filled" }
  ],
  "signals": [
    { "type": "entry_long",  "when": "close > st" },
    { "type": "entry_short", "when": "close < st" }
  ]
}`},{title:"MACD zeroâ€‘line signals",code:`{
  "pane": "main",
  "calc": [
    { "name": "macd", "type": "macd", "source": "close", "fast": 12, "slow": 26, "signal": 9 }
  ],
  "labels": [
    { "when": "macd_line crossesAbove 0", "shape": "triangle_up_filled", "color": "#16a34a", "source": "low",  "size": 16 },
    { "when": "macd_line crossesBelow 0", "shape": "triangle_down_filled", "color": "#ef4444", "source": "high", "size": 16 }
  ]
}`},{title:"Keltner channels + mid",code:`{
  "pane": "main",
  "calc": [
    { "name": "kc", "type": "keltner", "period": 20, "mult": 2 }
  ],
  "plots": [
    { "name": "KC Mid", "source": "kc_mid",    "color": "#22c55e", "width": 2 },
    { "name": "KC Up",  "source": "kc_upper",  "color": "#22c55e", "width": 1, "style": "dashed" },
    { "name": "KC Low", "source": "kc_lower",  "color": "#22c55e", "width": 1, "style": "dashed" }
  ]
}`},{title:"ATR bands",code:`{
  "pane": "main",
  "calc": [
    { "name": "atrb", "type": "atr_bands", "period": 14, "mult": 2 }
  ],
  "plots": [
    { "name": "ATR Up",  "source": "atrb_upper", "color": "#94a3b8", "width": 1 },
    { "name": "ATR Low", "source": "atrb_lower", "color": "#94a3b8", "width": 1 }
  ]
}`},{title:"VWAP bands",code:`{
  "pane": "main",
  "calc": [
    { "name": "vb", "type": "vwap_bands", "period": 20, "std": 2 }
  ],
  "plots": [
    { "name": "VWAP Mid", "source": "vb_mid",   "color": "#22c55e", "width": 2 },
    { "name": "VWAP Up",  "source": "vb_upper", "color": "#22c55e", "width": 1, "style": "dashed" },
    { "name": "VWAP Low", "source": "vb_lower", "color": "#22c55e", "width": 1, "style": "dashed" }
  ]
}`},{title:"Stochastic cross signals",code:`{
  "pane": "sub",
  "min": 0,
  "max": 100,
  "calc": [
    { "name": "stoch", "type": "stoch", "kPeriod": 14, "dPeriod": 3 }
  ],
  "plots": [
    { "name": "%K", "source": "stoch_k", "color": "#1E90FF", "width": 2 },
    { "name": "%D", "source": "stoch_d", "color": "#FF1493", "width": 2, "style": "dashed" }
  ],
  "labels": [
    { "when": "stoch_k crossesAbove stoch_d", "text": "K>D", "color": "#16a34a", "position": "above", "source": "stoch_k", "shape": "pill" },
    { "when": "stoch_k crossesBelow stoch_d", "text": "K<D", "color": "#ef4444", "position": "below", "source": "stoch_k", "shape": "pill" }
  ]
}`},{title:"Ichimoku cloud (core)",code:`{
  "pane": "main",
  "calc": [
    { "name": "ichimoku", "type": "ichimoku", "tenkan": 9, "kijun": 26, "senkouB": 52 }
  ],
  "plots": [
    { "name": "Tenkan", "source": "tenkan", "color": "#22c55e", "width": 1 },
    { "name": "Kijun",  "source": "kijun",  "color": "#ef4444", "width": 1 }
  ]
}`},{title:"Complex combo signals",code:`{
  "pane": "main",
  "calc": [
    { "name": "ema200", "type": "ema", "source": "close", "period": 200 },
    { "name": "ema50",  "type": "ema", "source": "close", "period": 50 },
    { "name": "ema20",  "type": "ema", "source": "close", "period": 20 },
    { "name": "macd",   "type": "macd", "source": "close", "fast": 12, "slow": 26, "signal": 9 },
    { "name": "rsi14",  "type": "rsi",  "source": "close", "period": 14 },
    { "name": "sar",    "type": "sar",  "step": 0.02, "max": 0.2 }
  ],
  "labels": [
    { "when": "(close>ema200) and (ema20>ema50) and (macd_line>macd_signal) and (rsi14>55) and (sar<close)", "text": "BUY",  "shape": "triangle_up_filled",   "color": "#16a34a", "position": "below", "source": "low" },
    { "when": "(close<ema200) and (ema20<ema50) and (macd_line<macd_signal) and (rsi14<45) and (sar>close)", "text": "SELL", "shape": "triangle_down_filled", "color": "#ef4444", "position": "above", "source": "high" }
  ]
}`},{title:"EMA cross filtered",code:`{
  "pane": "main",
  "calc": [
    { "name": "ema_fast", "type": "ema", "source": "close", "period": 20 },
    { "name": "ema_slow", "type": "ema", "source": "close", "period": 50 }
  ],
  "plots": [
    { "name": "EMA 20", "source": "ema_fast", "color": "#22c55e", "width": 2 },
    { "name": "EMA 50", "source": "ema_slow", "color": "#3b82f6", "width": 2, "style": "dashed" }
  ],
  "labels": [
    { "when": "ema_fast crossesAbove ema_slow and trend(up)",  "text": "BUY",  "color": "#16a34a", "position": "below", "source": "low",  "shape": "triangle_up_filled" },
    { "when": "ema_fast crossesBelow ema_slow and trend(down)", "text": "SELL", "color": "#ef4444", "position": "above", "source": "high", "shape": "triangle_down_filled" }
  ]
}`}],p=`WIN = 5
HIWIN = highest(close, WIN)
LOWIN = lowest(close, WIN)
signal top when (close == HIWIN)
signal bot when (close == LOWIN)
label at top text:"â–² fractal" color:#f97316
label at bot text:"â–¼ fractal" color:#3b82f6`,h=`{
  "pane": "main",
  "calc": [
    { "name": "ema20", "type": "ema", "source": "close", "period": 20 }
  ],
  "plots": [
    { "name": "EMA 20", "source": "ema20", "color": "#3b82f6", "width": 2, "style": "solid" }
  ]
}`,x=`{
  "pane": "sub",
  "min": 0,
  "max": 100,
  "calc": [
    { "name": "stoch", "type": "stoch", "kPeriod": 14, "dPeriod": 3 }
  ],
  "plots": [
    { "name": "%K", "source": "stoch_k", "color": "#1E90FF", "width": 2, "style": "solid" },
    { "name": "%D", "source": "stoch_d", "color": "#FF1493", "width": 2, "style": "dashed" }
  ]
}`,w=`{
  "pane": "main",
  "calc": [
    { "name": "ema_fast", "type": "ema", "source": "close", "period": 20 },
    { "name": "ema_slow", "type": "ema", "source": "close", "period": 50 }
  ],
  "plots": [
    { "name": "EMA 20", "source": "ema_fast", "color": "#22c55e", "width": 2, "style": "solid" },
    { "name": "EMA 50", "source": "ema_slow", "color": "#3b82f6", "width": 2, "style": "dashed" }
  ]
}`,k=`{
  "pane": "sub",
  "min": 0,
  "max": 100,
  "calc": [
    { "name": "stoch", "type": "stoch", "kPeriod": 14, "dPeriod": 3 }
  ],
  "plots": [
    { "name": "%K", "source": "stoch_k", "color": "#1E90FF", "width": 2, "style": "solid" },
    { "name": "%D", "source": "stoch_d", "color": "#FF1493", "width": 2, "style": "dashed" }
  ],
  "levels": [
    { "name": "OB",  "value": 80, "color": "#f97316", "width": 1, "style": "dashed" },
    { "name": "OS",  "value": 20, "color": "#22c55e", "width": 1, "style": "dashed" }
  ],
  "labels": [
    { "when": "stoch_k>80", "text": "OB", "color": "#f97316", "position": "above", "source": "stoch_k" },
    { "when": "stoch_k<20", "text": "OS", "color": "#22c55e", "position": "below", "source": "stoch_k" }
  ]
}`,S=`{
  "calc": [
    { "name": "ema20", "type": "ema", "source": "close", "period": 20 },
    { "name": "stoch", "type": "stoch", "kPeriod": 14, "dPeriod": 3 }
  ],
  "main": {
    "plots": [
      { "name": "EMA 20", "source": "ema20", "color": "#3b82f6", "width": 2, "style": "solid" }
    ]
  },
  "sub": {
    "min": 0,
    "max": 100,
    "plots": [
      { "name": "%K", "source": "stoch_k", "color": "#1E90FF", "width": 2, "style": "solid" },
      { "name": "%D", "source": "stoch_d", "color": "#FF1493", "width": 2, "style": "dashed" }
    ],
    "levels": [
      { "name": "OB", "value": 80, "color": "#f97316", "width": 1, "style": "dashed" },
      { "name": "OS", "value": 20, "color": "#22c55e", "width": 1, "style": "dashed" }
    ]
  }
}`,M=`{
  "pane": "main",
  "calc": [
    { "name": "ph_s", "type": "pivot_high", "left": 2, "right": 2 },
    { "name": "pl_s", "type": "pivot_low",  "left": 2, "right": 2 },
    { "name": "ph_m", "type": "pivot_high", "left": 5, "right": 5 },
    { "name": "pl_m", "type": "pivot_low",  "left": 5, "right": 5 },
    { "name": "ph_l", "type": "pivot_high", "left": 10, "right": 10 },
    { "name": "pl_l", "type": "pivot_low",  "left": 10, "right": 10 }
  ],
  "lines": [
    { "name": "Minor Down", "segmentsFrom": "ph_s", "color": "#fb7185", "width": 1,   "style": "dotted", "extend": "right", "maxSegments": 150 },
    { "name": "Minor Up",   "segmentsFrom": "pl_s", "color": "#86efac", "width": 1,   "style": "dotted", "extend": "right", "maxSegments": 150 },
    { "name": "Mid Down",   "segmentsFrom": "ph_m", "color": "#f97316", "width": 1.5, "style": "dashed", "extend": "right", "maxSegments": 100 },
    { "name": "Mid Up",     "segmentsFrom": "pl_m", "color": "#22d3ee", "width": 1.5, "style": "dashed", "extend": "right", "maxSegments": 100 },
    { "name": "Major Down", "segmentsFrom": "ph_l", "color": "#ef4444", "width": 2,   "style": "solid",  "extend": "both",  "maxSegments": 60 },
    { "name": "Major Up",   "segmentsFrom": "pl_l", "color": "#22c55e", "width": 2,   "style": "solid",  "extend": "both",  "maxSegments": 60 }
  ]
}`;wc();var T=yt(),D=nt(T);xe(D,t,A=>{var j=xN();j.__click=[cN,a];var F=m(j),q=m(F),B=v(m(q),2);B.__click=a,_(q);var O=v(q,2),z=m(O),Y=m(z);Y.__click=[dN,n];var G=v(Y,2);G.__click=[uN,n],_(z);var oe=v(z,2);xe(oe,()=>i(n)==="details",re=>{var se=_N(),ie=m(se),te=v(m(ie),2),K=m(te);K.__click=[vN,s];var J=v(K,2);J.__click=[pN,s],_(te),_(ie);var U=v(ie,2);xe(U,()=>i(s)==="bn",ae=>{var me=fN(),ke=v(nt(me),10),Ae=v(m(ke),2),Le=m(Ae);Le.textContent=p,_(Ae),_(ke);var He=v(ke,2),it=v(m(He),2),Ne=m(it);Ne.textContent=h,_(it),_(He);var we=v(He,10),je=v(m(we),2),Te=m(je);Te.textContent=w,_(je),_(we);var Se=v(we,30),Ue=v(m(Se),2),Be=m(Ue);Be.textContent=k,_(Ue),_(Se);var le=v(Se,4),ye=v(m(le),2),Ee=m(ye);Ee.textContent=M,_(ye),_(le);var Je=v(le,2),be=v(m(Je),2),X=m(be);X.textContent=x,_(be),_(Je);var H=v(Je,4),Ce=v(m(H),2),Qe=m(Ce);Qe.textContent=S,_(Ce),_(H),ei(4),N(ae,me)},ae=>{var me=gN(),ke=v(nt(me),10),Ae=v(m(ke),2),Le=m(Ae);Le.textContent=p,_(Ae),_(ke);var He=v(ke,2),it=v(m(He),2),Ne=m(it);Ne.textContent=h,_(it),_(He);var we=v(He,10),je=v(m(we),2),Te=m(je);Te.textContent=w,_(je),_(we);var Se=v(we,30),Ue=v(m(Se),2),Be=m(Ue);Be.textContent=k,_(Ue),_(Se);var le=v(Se,4),ye=v(m(le),2),Ee=m(ye);Ee.textContent=M,_(ye),_(le);var Je=v(le,2),be=v(m(Je),2),X=m(be);X.textContent=x,_(be),_(Je);var H=v(Je,4),Ce=v(m(H),2),Qe=m(Ce);Qe.textContent=S,_(Ce),_(H),ei(4),N(ae,me)}),_(se),Re(()=>{Un(K,`ss-lang-btn ${(i(s)==="bn"?"active":"")??""} svelte-7drkl6`),Un(J,`ss-lang-btn ${(i(s)==="en"?"active":"")??""} svelte-7drkl6`)}),N(re,se)},re=>{var se=bN(),ie=v(m(se),2);Qo(ie,1,()=>u,ln,(te,K)=>{var J=yN(),U=m(J),ae=m(U),me=m(ae,!0);_(ae);var ke=v(ae,2),Ae=m(ke);Ae.__click=[mN,d,K];var Le=v(Ae);Le.__click=[hN,c,K],_(ke),_(U);var He=v(U,2),it=m(He),Ne=m(it,!0);_(it),_(He),_(J),Re(()=>{wt(me,i(K).title),wt(Ne,i(K).code)}),N(te,J)}),_(se),N(re,se)}),_(O),_(F),_(j),Re(()=>{Un(Y,`ss-tab ${(i(n)==="details"?"active":"")??""} svelte-7drkl6`),lt(Y,"aria-selected",i(n)==="details"),Un(G,`ss-tab ${(i(n)==="examples"?"active":"")??""} svelte-7drkl6`),lt(G,"aria-selected",i(n)==="examples")}),N(A,j)}),N(o,T),Mr()}Pa(["click"]);const Rb="scriptStudio.scripts";function kN(){try{const o=localStorage.getItem(Rb);if(!o)return[];const e=JSON.parse(o);return Array.isArray(e)?e:[]}catch{return[]}}function SN(o){try{localStorage.setItem(Rb,JSON.stringify(o))}catch{}}function CN(o,e,t){const n=kN(),s=Date.now(),a={id:`${s}`,name:o,code:e,tags:[],createdAt:s,updatedAt:s};return n.push(a),SN(n),a}const IN={signals:new Set,label:new Set};function b2(o,e){IN[o].forEach(t=>{try{t(e)}catch{}})}const Nb=bc({});function PN(o,e){Nb.update(t=>({...t,[o]:e}))}function MN(o){return cc(Nb)[o]||[]}function TN(o,e){var t;(o.key==="Delete"||o.key==="Backspace")&&(o.preventDefault(),(t=i(e))==null||t.clickRemove())}function AN(o,e,t,n,s){i(e)&&t(),i(n)&&s()}var DN=(o,e,t)=>Qs(t(),Qt(e).clickChart+=1,Qt(e)),LN=ue('<div class="kline-loading-overlay svelte-d1xqmm"><div class="loader-content svelte-d1xqmm"><div class="ai-minimal svelte-d1xqmm"><div class="brand-text svelte-d1xqmm">Duty AI</div> <span class="brand-shine svelte-d1xqmm"></span> <div class="orbit svelte-d1xqmm"><span class="o-dot o1 svelte-d1xqmm"></span><span class="o-dot o2 svelte-d1xqmm"></span></div> <div class="progress-line svelte-d1xqmm"><span class="dot svelte-d1xqmm"></span></div> <div class="tagline svelte-d1xqmm">Preparing data</div></div></div></div>'),EN=ue('<div class="historical-loading-indicator svelte-d1xqmm"><div class="loading-spinner svelte-d1xqmm"></div> <span class="svelte-d1xqmm">Loading historical data...</span></div>'),FN=ue('<div class="reset-menu svelte-d1xqmm"><button class="action-btn copy-btn svelte-d1xqmm"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" class="svelte-d1xqmm"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" stroke-width="2" class="svelte-d1xqmm"></rect><path d="M5 15H4C2.9 15 2 14.1 2 13V4C2 2.9 2.9 2 4 2H13C14.1 2 15 2.9 15 4V5" stroke="currentColor" stroke-width="2" class="svelte-d1xqmm"></path></svg> <span class="svelte-d1xqmm"> </span></button> <button class="action-btn reset-btn svelte-d1xqmm"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" class="svelte-d1xqmm"><path d="M3 12C3 7.03 7.03 3 12 3C16.97 3 21 7.03 21 12C21 16.97 16.97 21 12 21" stroke="currentColor" stroke-width="2" stroke-linecap="round" class="svelte-d1xqmm"></path><path d="M3 12L7 8M3 12L7 16" stroke="currentColor" stroke-width="2" stroke-linecap="round" class="svelte-d1xqmm"></path></svg> <span class="svelte-d1xqmm">Reset View</span></button></div>'),jN=ue('<div class="kline-main svelte-d1xqmm"><div class="alerts-container svelte-d1xqmm"></div> <!> <div class="chart-container svelte-d1xqmm"><div class="chart-shell svelte-d1xqmm"><div class="kline-content svelte-d1xqmm"><div class="drawbar-host svelte-d1xqmm" style="width: var(--drawing-bar-width); overflow: hidden;"><!></div> <!> <div class="kline-widget svelte-d1xqmm" role="application" tabindex="0"><canvas class="script-overlay svelte-d1xqmm"></canvas> <canvas class="tool-overlay svelte-d1xqmm"></canvas></div> <!></div> <div><div class="dock-resize-handle svelte-d1xqmm" aria-label="Resize script dock"><div class="handle-bar svelte-d1xqmm"></div></div> <div class="dock-body svelte-d1xqmm"><!></div></div></div> <!></div> <!> <!> <!> <!> <!> <!> <!></div>');function $N(o,e){var Sa,sd;Pr(e,!0);const t=El(),n=()=>ti(h(),"$save",t),s=()=>ti(G,"$chart",t),r=()=>ti(p(),"$ctx",t),a=()=>ti(S2,"$page",t),c=()=>ti(Iu,"$userPreferences",t),d=()=>ti(re,"$alerts",t);console.log("%cðŸ¤– Welcome to Duty AI Chart %c v1.0.0 ","background: linear-gradient(90deg, #667eea 0%, #764ba2 100%); color: white; font-size: 16px; font-weight: bold; padding: 10px 15px; border-radius: 8px 0 0 8px; text-shadow: 0 1px 2px rgba(0,0,0,0.3);","background: #1a1a2e; color: #00d4ff; font-size: 14px; font-weight: bold; padding: 10px 15px; border-radius: 0 8px 8px 0;"),console.log("%câš¡ Everything Powered by Duty AI %c All Rights Reserved Â© 2025","background: #0f0f23; color: #00ff88; font-size: 12px; padding: 6px 12px; border-left: 3px solid #00ff88;","background: #0f0f23; color: #888; font-size: 11px; padding: 6px 12px;"),console.log("%cðŸ§  AI-Driven Trading Intelligence | Real-Time Market Analysis","color: #a855f7; font-size: 11px; font-style: italic; padding: 4px 0;"),F1("UTC");const u=new VC;FS.forEach(W=>G2(W)),VS.forEach(W=>G5(W)),NC.forEach(W=>{W.extendData=="datafeed"&&(W.extendData=u),Lm(W)});let p=Po(e,"ctx",19,()=>bc(new Dy)),h=Po(e,"save",19,()=>Lh("chart",new $g)),x=Po(e,"customLoad",3,!1);const w=5e3,k=`{
    "pane": "main",
    "shortName": "Auto Trendline",
    "calc": [
      { "type": "pivot_high", "name": "ph", "left": 3, "right": 3 },
      { "type": "pivot_low", "name": "pl", "left": 3, "right": 3 },
      { "type": "line_value", "name": "down_trendline", "startValue": "ph", "endValue": "ph", "lookback": 300 },
      { "type": "line_value", "name": "up_trendline", "startValue": "pl", "endValue": "pl", "lookback": 300 }
    ],
    "plots": [
      { "name": "down_trendline", "type": "neon_line", "color": "#ef4444", "width": 2 },
      { "name": "up_trendline", "type": "neon_line", "color": "#22c55e", "width": 2 }
    ],
    "lines": [
      { "segmentsFrom": "ph", "color": "#ef4444", "style": "dotted", "width": 1, "extend": "right", "name": "down_segments", "maxSegments": 6 },
      { "segmentsFrom": "pl", "color": "#22c55e", "style": "dotted", "width": 1, "extend": "right", "name": "up_segments", "maxSegments": 6 }
    ],
    "signals": [
      { "type": "entry_long", "when": "close crossesAbove down_trendline" },
      { "type": "exit_long", "when": "close crossesBelow up_trendline" },
      { "type": "entry_short", "when": "close crossesBelow up_trendline" },
      { "type": "exit_short", "when": "close crossesAbove down_trendline" }
    ]
  }`;try{const W=sessionStorage.getItem("chart.tabId");W?Qs(h(),Qt(n).key=`chart:${W}`,Qt(n)):n().key||Qs(h(),Qt(n).key="chart",Qt(n))}catch{n().key||Qs(h(),Qt(n).key="chart",Qt(n))}try{const W=n()&&n().symbol&&typeof n().symbol=="object",ve=n()&&n().period&&typeof n().period=="object";(!W||!ve)&&h().set(new $g)}catch{h().set(new $g)}h().update(W=>{if(!(W.allExgs instanceof Set)){const ve=Array.isArray(W.allExgs)?W.allExgs:[];W.allExgs=new Set(ve)}return W});let S,M,T,D=null,A=[];const j=new Set;let F=null,q=Z(!1),B=Z(void 0),O=Z(void 0),z=Z(void 0),Y=Z(void 0);const G=bc(null),oe=500,re=Qx();let se=Z(!1),ie=Z(!1),te=Z(.35);const K=.2,J=.6;let U=Z(!1),ae=0,me=0,ke=Z(k),Ae=Z("Ready"),Le=Z(null),He=Z(!1);const it="SCRIPT_STUDIO";let Ne=[],we=[],je=Z("main"),Te=null;const Se={solid:de.Solid,dashed:de.Dashed,dotted:de.Dashed};let Ue={};function Be(W){let ve=String(W||"").trim();return ve=ve.replace(/\$\{([^}]+)\}/g,(he,Me)=>{const Oe=Ue[String(Me)];if(Oe==null)return he;if(typeof Oe=="number"&&Number.isFinite(Oe)||typeof Oe=="string")return String(Oe);try{return JSON.stringify(Oe)}catch{return String(Oe)}}),ve=ve.replace(/\/\/.*$/,"").replace(/#.*$/,""),ve=ve.split(";")[0],ve=ve.replace(/,\s*$/,""),ve=ve.replace(/\b(and|or)\b\s*$/i,""),ve=ve.replace(/\bcrosses\s+above\b/gi,"crossesAbove"),ve=ve.replace(/\bcrosses\s+below\b/gi,"crossesBelow"),ve.trim()}function le(W){const ve=Be(W);try{return Qv(ve)}catch{let Me=ve.replace(/[^A-Za-z0-9_().<>=!,\s]/g,"");Me=Me.replace(/[,;]+\s*$/,"").replace(/\b(and|or)\b\s*$/i,"").trim(),Me=Me.replace(/\bcrosses\s+above\b/gi,"crossesAbove").replace(/\bcrosses\s+below\b/gi,"crossesBelow");try{return Qv(Me)}catch{const $e=Me.match(/([A-Za-z_$][A-Za-z0-9_$]*)/),Ve=Me.match(/([-+]?\d+(?:\.\d+)?)/),vt=/crossesBelow|\bbelow\b/i.test(Me),ot=$e?$e[1]:"close",et=Ve?Ve[1]:"0",kt=`${ot} ${vt?"<":">"} ${et}`;return Qv(kt)}}}function ye(W,ve){var he,Me,Oe;try{const $e=le(W);return f2($e,ve)}catch{const vt=Be(W).match(/^(\w+)\s*(crossesAbove|crossesBelow)\s*(\w+|[-+]?\d+(?:\.\d+)?)$/i),ot=((he=Object.values(ve)[0])==null?void 0:he.length)||0,et=new Uint8Array(ot);if(vt&&ot){const kt=vt[1],vo=vt[2],qe=vt[3],$t=ve[((Me=kt==null?void 0:kt.toLowerCase)==null?void 0:Me.call(kt).replace(/\s+/g,"_"))||kt],oo=/^[-+]?\d+(?:\.\d+)?$/.test(qe),Ko=oo?null:ve[((Oe=qe==null?void 0:qe.toLowerCase)==null?void 0:Oe.call(qe).replace(/\s+/g,"_"))||qe],Ut=oo?Number(qe):NaN;if($t&&(Ko||oo))for(let ht=1;ht<ot;(ht+=1)-1){const bn=$t[ht-1],rn=$t[ht],Ms=oo?Ut:Ko[ht-1],Zo=oo?Ut:Ko[ht];if(![bn,rn,Ms,Zo].every(Number.isFinite)){et[ht]=0;continue}et[ht]=vo.toLowerCase()==="crossesabove"?bn<=Ms&&rn>Zo?1:0:bn>=Ms&&rn<Zo?1:0}}return et}}let Ee=!1,Je=Z(!1),be=Z(null),X=!0,H=null,Ce=Z(!1),Qe=null,mt=0;function bt(){return mt+=1,mt}let ct=null,yo=null,Kt=null,to=null;const io=()=>{s()&&(ct&&(clearTimeout(ct),ct=null),yo&&(cancelAnimationFrame(yo),yo=null),yo=requestAnimationFrame(()=>{yo=null,Uo.request(()=>{if(!s())return;s().resize(),window.__forceApplySavedCanvasColors=!0;const W=ga(n().theme);_t.merge(W,cv(n().styles)),s().setStyles(Fr(W)),Vr(),Zt(),cn()})}),ct=setTimeout(()=>{ct=null,Uo.request(()=>{var he,Me;if(!s())return;s().resize(),window.__forceApplySavedCanvasColors=!0;const W=ga(n().theme);_t.merge(W,cv(n().styles)),s().setStyles(Fr(W)),Vr(),Zt(),cn();const ve=(Me=(he=s()).getVisibleRange)==null?void 0:Me.call(he);ve&&typeof ve.to=="number"&&setTimeout(()=>{s()&&(s().scrollToDataIndex(ve.to,0),console.log("ðŸ”„ Forced canvas redraw after window resize to prevent blur"))},30)})},160))},ro=Nh(),Uo=o_(),an=new Vh("global-chart",G,n().theme||"dark");let Mn=null;Bu("ctx",p()),Bu("save",h()),Bu("chart",G),Bu("alerts",re),Bu("datafeed",u),Bu("renderIntegration",ro),Bu("globalThemeManager",an),Bu("drawingManager",{get:()=>Mn});function uo(W){const ve=W.match(/WIN\s*=\s*(\d+)/i),he=Math.max(2,Math.min(500,ve&&parseInt(ve[1],10)||5)),Me=W.match(/label\s+at\s+top\s+text:\s*\"?([^\"\n]+)\"?/i),Oe=W.match(/label\s+at\s+bot\s+text:\s*\"?([^\"\n]+)\"?/i),$e=W.match(/label\s+at\s+top.*color:\s*([#a-zA-Z0-9]+)/i),Ve=W.match(/label\s+at\s+bot.*color:\s*([#a-zA-Z0-9]+)/i),vt=((Me==null?void 0:Me[1])||"â–²").trim(),ot=((Oe==null?void 0:Oe[1])||"â–¼").trim(),et=(($e==null?void 0:$e[1])||"#f97316").trim(),kt=((Ve==null?void 0:Ve[1])||"#3b82f6").trim();if(!vt||!ot)throw new Error("Script is missing label text for top/bot.");return{window:he,topText:vt,botText:ot,topColor:et,botColor:kt}}function Do(W,ve){return{name:ve,shortName:"Script",precision:4,zLevel:10,calcParams:[W.window],figures:[{key:"hi",title:`HI(${W.window})`,type:"line"},{key:"lo",title:`LO(${W.window})`,type:"line"}],styles:{lines:[{color:"rgba(0,0,0,0)",size:1e-4,style:de.Solid},{color:"rgba(0,0,0,0)",size:1e-4,style:de.Solid}]},shouldOhlc:!0,calc:(he,Me)=>{var vt;const Oe=Math.max(2,Math.min(500,((vt=Me.calcParams)==null?void 0:vt[0])||W.window||5)),$e=Math.max(2,Math.floor(Oe/2)),Ve=[];for(let ot=0;ot<he.length;(ot+=1)-1){const et=he[ot].high??he[ot].close,kt=he[ot].low??he[ot].close;let vo,qe,$t=!1,oo=!1;if(ot>=$e&&ot<=he.length-$e-1){const Ko=ot-$e,Ut=ot+$e;let ht=-1/0,bn=1/0;for(let Cs=Ko;Cs<=Ut;(Cs+=1)-1){const tr=he[Cs].high??he[Cs].close,Us=he[Cs].low??he[Cs].close;tr>ht&&(ht=tr),Us<bn&&(bn=Us)}vo=ht,qe=bn;const rn=Math.max(1e-8,Math.abs(et||kt||1)*1e-4);let Ms=-1,Zo=-1;for(let Cs=Ko;Cs<=Ut;(Cs+=1)-1){const tr=he[Cs].high??he[Cs].close,Us=he[Cs].low??he[Cs].close;if(Ms===-1&&Math.abs(tr-ht)<=rn&&(Ms=Cs),Zo===-1&&Math.abs(Us-bn)<=rn&&(Zo=Cs),Ms!==-1&&Zo!==-1)break}$t=Math.abs(et-ht)<=rn&&ot===Ms,oo=Math.abs(kt-bn)<=rn&&ot===Zo}Ve.push({hi:vo,lo:qe,high:et,low:kt,topSignal:$t,botSignal:oo})}return Ve},draw:({ctx:he,indicator:Me,xAxis:Oe,yAxis:$e,bounding:Ve})=>{if(!he||!Oe||!$e)return!1;const vt=(Me==null?void 0:Me.result)||[];he.save(),Ve&&(he.beginPath(),he.rect(Ve.left,Ve.top,Ve.width,Ve.height),he.clip()),he.textAlign="center",he.textBaseline="middle",he.font='12px "Inter", "SF Pro", system-ui, -apple-system, sans-serif';for(let ot=0;ot<vt.length;(ot+=1)-1){const et=vt[ot];if(!et)continue;const kt=Oe.convertToPixel(ot);if(et.topSignal&&et.hi!==void 0){const vo=$e.convertToPixel(et.hi);if(Number.isFinite(vo)){const qe=vo-8;he.fillStyle=W.topColor,he.strokeStyle="rgba(0,0,0,0.35)",he.lineWidth=1,he.textBaseline="middle",he.fillText(W.topText,kt,qe),he.strokeText(W.topText,kt,qe),he.beginPath(),he.arc(kt,qe-8,3.5,0,Math.PI*2),he.fill(),he.stroke()}}if(et.botSignal&&et.lo!==void 0){const vo=$e.convertToPixel(et.lo);if(Number.isFinite(vo)){const qe=vo+8;he.fillStyle=W.botColor,he.strokeStyle="rgba(0,0,0,0.35)",he.lineWidth=1,he.textBaseline="middle",he.fillText(W.botText,kt,qe),he.strokeText(W.botText,kt,qe),he.beginPath(),he.arc(kt,qe+8,3.5,0,Math.PI*2),he.fill(),he.stroke()}}}return he.restore(),!0}}}function Zt(){if(!S)return;const W=S.getBoundingClientRect(),ve=typeof window<"u"?Math.max(1,window.devicePixelRatio||1):1,he=Me=>{if(!Me)return;Me.style.width=`${W.width}px`,Me.style.height=`${W.height}px`,Me.width=Math.floor(W.width*ve),Me.height=Math.floor(W.height*ve);const Oe=Me.getContext("2d");Oe&&Oe.setTransform(ve,0,0,ve,0,0)};he(M),he(T),D=M==null?void 0:M.getContext("2d"),T==null||T.getContext("2d")}function Go(){const W={},ve=S==null?void 0:S.getBoundingClientRect(),he=(ve==null?void 0:ve.width)??((M==null?void 0:M.width)||0),Me=(ve==null?void 0:ve.height)??((M==null?void 0:M.height)||0),Oe=new DOMRect(0,0,he,Me);return((S==null?void 0:S.querySelectorAll('[class*="klinecharts-pane"]'))||[]).forEach((Ve,vt)=>{const et=Ve.getAttribute("data-pane-id")||Ve.getAttribute("data-id")||""||(vt===0?"candle_pane":`pane_index_${vt}`);if(!et)return;const kt=Ve.getBoundingClientRect();if(ve){const vo=kt.left-ve.left,qe=kt.top-ve.top;W[et]=new DOMRect(vo,qe,kt.width,kt.height)}else W[et]=Oe}),W.candle_pane||(W.candle_pane=Oe),W}function cn(){var Me,Oe,$e,Ve;if(!D||!s())return;const W=D;W.clearRect(0,0,M.width,M.height),W.save(),W.font='12px "Inter", system-ui, -apple-system, sans-serif',W.textAlign="center",W.textBaseline="middle";const ve=Go(),he=((Oe=(Me=s()).getDataList)==null?void 0:Oe.call(Me))||[];for(const vt of A){const{def:ot,paneId:et}=vt;let kt=[];try{kt=(($e=ot.calc)==null?void 0:$e.call(ot,he,{calcParams:ot.calcParams||[]}))||[]}catch{}if(!Array.isArray(kt)||kt.length===0)continue;const vo=ve[et]||ve.candle_pane,qe={left:vo.left,top:vo.top,width:vo.width,height:vo.height},$t=MN(ot.name);if(Array.isArray($t)&&$t.length)for(const oo of $t){const Ko=oo.index,Ut=he[Ko],ht=(Ut==null?void 0:Ut.timestamp)??(Ut==null?void 0:Ut.time);if(!Number.isFinite(ht))continue;let bn,rn="",Ms="",Zo=!0,Cs="";oo.type==="entry_long"?(bn=(Ut==null?void 0:Ut.low)??(Ut==null?void 0:Ut.close),rn="triangle_up_filled",Ms="#16a34a",Zo=!0,Cs="BUY"):oo.type==="exit_long"?(bn=(Ut==null?void 0:Ut.high)??(Ut==null?void 0:Ut.close),rn="triangle_down_filled",Ms="#f59e0b",Zo=!1,Cs="EXIT"):oo.type==="entry_short"?(bn=(Ut==null?void 0:Ut.high)??(Ut==null?void 0:Ut.close),rn="triangle_down_filled",Ms="#ef4444",Zo=!1,Cs="SELL"):oo.type==="exit_short"&&(bn=(Ut==null?void 0:Ut.low)??(Ut==null?void 0:Ut.close),rn="triangle_up_filled",Ms="#f59e0b",Zo=!0,Cs="EXIT");const tr=Array.isArray(ot==null?void 0:ot.figures)&&((Ve=ot.figures[0])!=null&&Ve.key)?String(ot.figures[0].key):"",Us=et!=="candle_pane";let pe=bn;if(Us&&tr){const De=(kt[Ko]||{})[tr];De!=null&&Number.isFinite(De)&&(pe=De)}if(!Number.isFinite(pe))continue;const Ct=zh({id:Ko,t:ht,p:pe},{chart:s(),paneId:et});if(!Ct)continue;let Pe=Ct.y;const pn=10;Pe=Zo?Pe-pn:Pe+pn;const qo=qe.top+6,Bi=qe.top+qe.height-6;Pe=Math.max(qo,Math.min(Bi,Pe));const gr=rn==="triangle_up_filled"?"triangleUpFilled":rn==="triangle_down_filled"?"triangleDownFilled":rn==="arrow_up"?"arrowUp":rn==="arrow_down"?"arrowDown":"label",gs=16,Ts=gs/2,Ke="rgba(15,23,42,0.95)",It="rgba(0,0,0,0.65)",Q=Ms;if(W.lineWidth=1,W.strokeStyle=It,W.fillStyle=Ms||Ke,gr==="triangleUpFilled")W.beginPath(),W.moveTo(Ct.x,Pe-Ts),W.lineTo(Ct.x-Ts,Pe+Ts),W.lineTo(Ct.x+Ts,Pe+Ts),W.closePath(),W.fill(),W.stroke();else if(gr==="triangleDownFilled")W.beginPath(),W.moveTo(Ct.x,Pe+Ts),W.lineTo(Ct.x-Ts,Pe-Ts),W.lineTo(Ct.x+Ts,Pe-Ts),W.closePath(),W.fill(),W.stroke();else if(gr==="arrowUp")W.beginPath(),W.moveTo(Ct.x,Pe-Ts),W.lineTo(Ct.x-Ts,Pe+Ts),W.lineTo(Ct.x+Ts,Pe+Ts),W.closePath(),W.fill(),W.stroke();else if(gr==="arrowDown")W.beginPath(),W.moveTo(Ct.x,Pe+Ts),W.lineTo(Ct.x-Ts,Pe-Ts),W.lineTo(Ct.x+Ts,Pe-Ts),W.closePath(),W.fill(),W.stroke();else{const gt=Math.max(10,W.measureText(Cs).width+12),De=Math.max(12,gs+6),Ie=Math.max(3,Math.floor(De/3)),rt=Ct.x-Math.floor(gt/2),Ze=Pe-Math.floor(De/2);W.beginPath();const Ft=Ie;W.moveTo(rt+Ft,Ze),W.lineTo(rt+gt-Ft,Ze),W.quadraticCurveTo(rt+gt,Ze,rt+gt,Ze+Ft),W.lineTo(rt+gt,Ze+De-Ft),W.quadraticCurveTo(rt+gt,Ze+De,rt+gt-Ft,Ze+De),W.lineTo(rt+Ft,Ze+De),W.quadraticCurveTo(rt,Ze+De,rt,Ze+De-Ft),W.lineTo(rt,Ze+Ft),W.quadraticCurveTo(rt,Ze,rt+Ft,Ze),W.closePath(),W.fill(),W.stroke()}Cs&&(W.fillStyle=Q,W.strokeStyle="rgba(0,0,0,0.45)",W.fillText(Cs,Ct.x,Pe),W.strokeText(Cs,Ct.x,Pe))}}D==null||D.restore()}function sn(W,ve){const he=[];let Me=0;for(let Oe=0;Oe<W.length;(Oe+=1)-1){const $e=W[Oe];Me+=$e??0,Oe>=ve&&(Me-=W[Oe-ve]??0),he.push(Oe>=ve-1?Me/ve:void 0)}return he}function Tr(W,ve){const he=[],Me=ve*(ve+1)/2;for(let Oe=0;Oe<W.length;(Oe+=1)-1){if(Oe<ve-1){he.push(void 0);continue}let $e=0;for(let Ve=0;Ve<ve;(Ve+=1)-1)$e+=(W[Oe-Ve]??0)*(ve-Ve);he.push($e/Me)}return he}function zi(W,ve){const he=[];let Me,Oe=0;for(let $e=0;$e<W.length;($e+=1)-1){const Ve=W[$e];if(Ve==null){he.push(void 0);continue}if(Me===void 0){if(Oe+=Ve,$e<ve-1){he.push(void 0);continue}Me=Oe/ve,he.push(Me);continue}Me=(Me*(ve-1)+Ve)/ve,he.push(Me)}return he}function Ki(W,ve){const he=[],Me=2/(ve+1);let Oe;for(let $e=0;$e<W.length;($e+=1)-1){const Ve=W[$e];if(Ve==null){he.push(void 0);continue}Oe=Oe===void 0?Ve:Ve*Me+Oe*(1-Me),he.push(Oe)}return he}function wa(W,ve){const he=[];let Me,Oe=0,$e=0,Ve=!1;const vt=[],ot=[];for(let et=0;et<W.length;(et+=1)-1){const kt=W[et];if(kt==null){he.push(void 0);continue}if(Me===void 0){Me=kt,he.push(void 0);continue}const vo=kt-Me;Me=kt;const qe=vo>0?vo:0,$t=vo<0?-vo:0;if(Ve)Oe=(Oe*(ve-1)+qe)/ve,$e=($e*(ve-1)+$t)/ve;else{if(vt.push(qe),ot.push($t),vt.length<ve){he.push(void 0);continue}Oe=vt.reduce((oo,Ko)=>oo+Ko,0)/ve,$e=ot.reduce((oo,Ko)=>oo+Ko,0)/ve,Ve=!0}if($e===0)he.push(100);else{const oo=Oe/$e;he.push(100-100/(1+oo))}}return he}function Ei(W,ve,he,Me){const Oe=he.length,$e=new Array(Oe).fill(0);let Ve;for(let et=0;et<Oe;(et+=1)-1){const kt=W[et]??he[et]??NaN,vo=ve[et]??he[et]??NaN,qe=he[et]??NaN;let $t=Math.max(0,kt-vo);Ve!==void 0&&($t=Math.max($t,Math.abs(kt-Ve),Math.abs(vo-Ve))),$e[et]=$t,Ve=qe}const vt=new Array(Oe);let ot=0;for(let et=0;et<Oe;(et+=1)-1)ot+=$e[et],et===Me-1?vt[et]=ot/Me:et>=Me?vt[et]=(vt[et-1]*(Me-1)+$e[et])/Me:vt[et]=void 0;return vt}function Za(W,ve){const he=new Array(W.length);let Me=0,Oe;for(let $e=0;$e<W.length;($e+=1)-1){const Ve=W[$e],vt=ve[$e]??0;if(Oe===void 0||Ve===void 0){he[$e]=void 0,Oe=Ve;continue}Ve>Oe?Me+=vt:Ve<Oe&&(Me-=vt),he[$e]=Me,Oe=Ve}return he}function Xa(W,ve,he,Me){const Oe=he.length,$e=new Array(Oe);for(let ot=0;ot<Oe;(ot+=1)-1)$e[ot]=((W[ot]??he[ot]??0)+(ve[ot]??he[ot]??0)+(he[ot]??0))/3;const Ve=sn($e.map(ot=>ot),Me).map(ot=>ot),vt=new Array(Oe);for(let ot=0;ot<Oe;(ot+=1)-1){if(ot<Me-1){vt[ot]=void 0;continue}let et=0;for(let vo=ot-Me+1;vo<=ot;(vo+=1)-1)et+=Math.abs($e[vo]-Ve[ot]);et=et/Me;const kt=.015*et;vt[ot]=kt===0?void 0:($e[ot]-Ve[ot])/kt}return vt}function sl(W,ve,he,Me,Oe){const $e=he.length,Ve=new Array($e),vt=new Array($e);for(let et=0;et<$e;(et+=1)-1)vt[et]=((W[et]??he[et]??0)+(ve[et]??he[et]??0)+(he[et]??0))/3;const ot=new Array($e);for(let et=0;et<$e;(et+=1)-1)ot[et]=vt[et]*(Me[et]??0);for(let et=0;et<$e;(et+=1)-1){if(et<Oe){Ve[et]=void 0;continue}let kt=0,vo=0;for(let $t=et-Oe+1;$t<=et;($t+=1)-1)vt[$t]>=vt[$t-1]?kt+=ot[$t]:vo+=ot[$t];const qe=vo===0?1/0:kt/vo;Ve[et]=100-100/(1+qe)}return Ve}function Ja(W,ve){const he=W.map((Ve,vt)=>((Ve??0)+(ve[vt]??0))/2),Me=sn(he,5),Oe=sn(he,34),$e=new Array(he.length);for(let Ve=0;Ve<he.length;(Ve+=1)-1){const vt=Me[Ve],ot=Oe[Ve];$e[Ve]=vt===void 0||ot===void 0?void 0:vt-ot}return $e}function pl(W,ve){const he=Ki(W,ve).map(Ve=>Ve??NaN),Me=Ki(he,ve).map(Ve=>Ve??NaN),Oe=Ki(Me,ve).map(Ve=>Ve??NaN),$e=new Array(W.length);for(let Ve=1;Ve<W.length;(Ve+=1)-1){const vt=Oe[Ve-1],ot=Oe[Ve];$e[Ve]=vt===void 0||ot===void 0||vt===0?void 0:(ot/vt-1)*100}return $e[0]=void 0,$e}function il(W,ve){const he=new Array(W.length);let Me=0,Oe=0;for(let $e=0;$e<W.length;($e+=1)-1){const Ve=W[$e],vt=ve[$e]??0;if(Ve===void 0){he[$e]=void 0;continue}Me+=Ve*vt,Oe+=vt,he[$e]=Oe===0?void 0:Me/Oe}return he}function Qa(W,ve,he){const Me=new Array(W.length);let Oe=0,$e=0;for(let Ve=0;Ve<W.length;(Ve+=1)-1){const vt=W[Ve],ot=ve[Ve]??0;if(vt!==void 0&&(Oe+=vt*ot,$e+=ot),Ve>=he){const et=W[Ve-he],kt=ve[Ve-he]??0;et!==void 0&&(Oe-=et*kt,$e-=kt)}Me[Ve]=Ve>=he-1&&$e!==0?Oe/$e:void 0}return Me}function Ma(W,ve,he){const Me=W.map(ot=>ot??NaN),Oe=sn(Me,ve);wa(Me,1)&&Me&&sn(Me,1);const $e=[];for(let ot=0;ot<Me.length;(ot+=1)-1){if(ot<ve-1){$e.push(void 0);continue}let et=0;for(let qe=ot-ve+1;qe<=ot;(qe+=1)-1)et+=Me[qe];const kt=et/ve;let vo=0;for(let qe=ot-ve+1;qe<=ot;(qe+=1)-1){const $t=Me[qe]-kt;vo+=$t*$t}$e.push(Math.sqrt(vo/ve))}const Ve=new Array(Me.length),vt=new Array(Me.length);for(let ot=0;ot<Me.length;(ot+=1)-1){const et=Oe[ot],kt=$e[ot];Ve[ot]=et===void 0||kt===void 0?void 0:et+he*kt,vt[ot]=et===void 0||kt===void 0?void 0:et-he*kt}return{mid:Oe,upper:Ve,lower:vt}}function ka(W,ve,he,Me,Oe){const $e=he.length,Ve=Ei(W,ve,he,Me).map($t=>$t??NaN),vt=new Array($e),ot=new Array($e);for(let $t=0;$t<$e;($t+=1)-1){const oo=((W[$t]??he[$t]??0)+(ve[$t]??he[$t]??0))/2,Ko=Ve[$t];vt[$t]=oo+Oe*Ko,ot[$t]=oo-Oe*Ko}const et=new Array($e);let kt=NaN,vo=NaN,qe=!0;for(let $t=0;$t<$e;($t+=1)-1){kt=Number.isFinite(kt)?Math.min(vt[$t],kt):vt[$t],vo=Number.isFinite(vo)?Math.max(ot[$t],vo):ot[$t];const oo=he[$t]??NaN;if(!Number.isFinite(oo)){et[$t]=void 0;continue}qe?(oo<vo&&(qe=!1,kt=vt[$t]),et[$t]=vo):(oo>kt&&(qe=!0,vo=ot[$t]),et[$t]=kt)}return et}function zr(W,ve,he,Me,Oe){const $e=Ki(he,Me).map(kt=>kt??NaN),Ve=Ei(W,ve,he,Me).map(kt=>kt??NaN),vt=he.length,ot=new Array(vt),et=new Array(vt);for(let kt=0;kt<vt;(kt+=1)-1){const vo=$e[kt],qe=Ve[kt];ot[kt]=Number.isFinite(vo)&&Number.isFinite(qe)?vo+Oe*qe:void 0,et[kt]=Number.isFinite(vo)&&Number.isFinite(qe)?vo-Oe*qe:void 0}return{mid:$e,upper:ot,lower:et}}function oa(W,ve,he){const Me=W.length,Oe=new Array(Me),$e=new Array(Me),Ve=new Array(Me);for(let vt=0;vt<Me;(vt+=1)-1){if(vt<he-1){Oe[vt]=void 0,$e[vt]=void 0,Ve[vt]=void 0;continue}let ot=-1/0,et=1/0;for(let kt=vt-he+1;kt<=vt;(kt+=1)-1){const vo=W[kt]??ve[kt]??NaN,qe=ve[kt]??W[kt]??NaN;Number.isFinite(vo)&&vo>ot&&(ot=vo),Number.isFinite(qe)&&qe<et&&(et=qe)}Oe[vt]=ot,$e[vt]=et,Ve[vt]=Number.isFinite(ot)&&Number.isFinite(et)?(ot+et)/2:void 0}return{upper:Oe,lower:$e,mid:Ve}}function fl(W,ve){const he=W.length,Me=new Array(he);for(let Oe=0;Oe<he;(Oe+=1)-1){if(Oe<ve-1){Me[Oe]=void 0;continue}let $e=0;for(let kt=Oe-ve+1;kt<=Oe;(kt+=1)-1)$e+=W[kt]??0;const Ve=$e/ve;let vt=0;for(let kt=Oe-ve+1;kt<=Oe;(kt+=1)-1){const vo=(W[kt]??0)-Ve;vt+=vo*vo}const ot=Math.sqrt(vt/ve),et=W[Oe]??NaN;Me[Oe]=Number.isFinite(ot)&&ot!==0?(et-Ve)/ot:void 0}return Me}function bl(W,ve){const he=W.length,Me=new Array(he);let Oe=W[0];for(let $e=0;$e<he;($e+=1)-1){const Ve=W[$e],vt=ve[$e]??0;if(Ve==null){Me[$e]=void 0;continue}const ot=Ve>=(Oe??Ve)?1:-1;Me[$e]=ot*vt,Oe=Ve}return Me}function rl(W){const ve=W.length,he=new Array(ve);let Me=0;for(let Oe=0;Oe<ve;(Oe+=1)-1){const $e=W[Oe];if($e==null){he[Oe]=void 0;continue}Me+=$e,he[Oe]=Me}return he}function Ta(W,ve){const he=W.length,Me=new Array(he),Oe=new Array(he),$e=new Array(he);for(let Ve=0;Ve<he;(Ve+=1)-1){if(Ve<ve-1){Me[Ve]=void 0,Oe[Ve]=void 0,$e[Ve]=void 0;continue}let vt=0,ot=0,et=0,kt=0,vo=0;for(let rn=Ve-ve+1;rn<=Ve;(rn+=1)-1){const Ms=rn-(Ve-ve+1),Zo=W[rn]??NaN;Number.isFinite(Zo)&&(vt+=Ms,ot+=Zo,et+=Ms*Ms,kt+=Ms*Zo,vo+=1)}const qe=vo*et-vt*vt;if(qe===0||vo===0){Me[Ve]=void 0,Oe[Ve]=void 0,$e[Ve]=void 0;continue}const $t=(vo*kt-vt*ot)/qe,oo=(ot-$t*vt)/vo,Ko=ve-1,Ut=$t*Ko+oo;Me[Ve]=Ut;const ht=fl(W.slice(Ve-ve+1,Ve+1).map(rn=>rn??NaN),ve).pop(),bn=Number(ht)*(W[Ve]??0?1:0);Oe[Ve]=Number.isFinite(Ut)?Ut+Math.abs(bn||0):void 0,$e[Ve]=Number.isFinite(Ut)?Ut-Math.abs(bn||0):void 0}return{mid:Me,upper:Oe,lower:$e}}function al(W,ve,he){const Me=W.length,Oe=new Array(Me);let $e=0;for(let Ve=0;Ve<Me;(Ve+=1)-1){const vt=W[Ve],ot=ve[Ve]??0;if(vt==null){Oe[Ve]=void 0;continue}const et=ot/Math.max(1,ve[Ve-1]??ot);$e=($e*(he-1)+vt*et)/he,Oe[Ve]=$e}return Oe}function xl(W,ve){let he=W.replace(/\s+/g,"_").toLowerCase()||"plot",Me=1;for(;ve.has(he);)he=`${he}_${Me}`,Me+=1;return ve.add(he),he}function Gr(W){W&&(Ne.forEach(ve=>{try{W.removeIndicator({id:ve})}catch{}}),Ne=[],we.forEach(ve=>{try{W.removeIndicator({paneId:"candle_pane",name:ve})}catch{}try{W.removeIndicator({paneId:"pane_script",name:ve})}catch{}try{W.removeIndicator({paneId:"script_pane",name:ve})}catch{}}),we=[])}async function Kl(W){const ve=s();if(!ve)throw new Error("Chart not ready yet. Please try again in a moment.");const he=Array.isArray(W.calc)?W.calc:[],Me=Array.isArray(W.series)?W.series:[],Oe=[],$e=Array.isArray(W.signals)?W.signals:[];if(Array.isArray(W.panes))for(const qe of W.panes){const $t=qe.pane==="sub"?"sub":"main";Oe.push({pane:$t,plots:Array.isArray(qe.plots)?qe.plots:[],levels:Array.isArray(qe.levels)?qe.levels:[],labels:Array.isArray(qe.labels)?qe.labels:[],lines:Array.isArray(qe.lines)?qe.lines:[],min:qe.min,max:qe.max,shortName:qe.shortName||W.shortName})}else if(W.main||W.sub)W.main&&Oe.push({pane:"main",plots:Array.isArray(W.main.plots)?W.main.plots:[],levels:Array.isArray(W.main.levels)?W.main.levels:[],labels:Array.isArray(W.main.labels)?W.main.labels:[],lines:Array.isArray(W.main.lines)?W.main.lines:[],min:W.main.min,max:W.main.max,shortName:W.main.shortName||W.shortName}),W.sub&&Oe.push({pane:"sub",plots:Array.isArray(W.sub.plots)?W.sub.plots:[],levels:Array.isArray(W.sub.levels)?W.sub.levels:[],labels:Array.isArray(W.sub.labels)?W.sub.labels:[],lines:Array.isArray(W.sub.lines)?W.sub.lines:[],min:W.sub.min,max:W.sub.max,shortName:W.sub.shortName||W.shortName});else{const $t=W.pane==="sub"?"sub":W.pane==="main"?"main":i(je);Oe.push({pane:$t,plots:Array.isArray(W.plots)?W.plots:[],levels:Array.isArray(W.levels)?W.levels:[],labels:Array.isArray(W.labels)?W.labels:[],lines:Array.isArray(W.lines)?W.lines:[],min:W.min,max:W.max,shortName:W.shortName}),b(je,$($t))}if(!Oe.length)throw new Error("No panes defined in script.");if(!Oe.some(qe=>qe.plots&&qe.plots.length||qe.labels&&qe.labels.length||qe.levels&&qe.levels.length||qe.lines&&qe.lines.length))throw new Error("No plots or labels defined in script.");Gr(ve);const vt=`${it}_${Date.now()}`,ot=(qe,$t)=>{const oo=new Set,Ko=[],Ut=qe.plots||[],ht=qe.levels||[],bn=qe.labels||[],rn=qe.lines||[],Ms={},Zo=Ut.map(pe=>{const Ct=xl(pe.name||pe.source||"plot",oo);Ko.push(Ct);const Pe=(pe.source||pe.name||"").replace(/\s+/g,"_").toLowerCase();Pe&&(Ms[Pe]=Ct);const pn=(pe.type||pe.style||"").toLowerCase();return pn==="histogram"||pn==="bar"?{key:Ct,title:pe.name||Ct,type:"bar"}:{key:Ct,title:pe.name||Ct,type:"line"}}),Cs=`${vt}_${qe.pane}_${$t}`,tr={};return{name:Cs,shortName:qe.shortName||"Script",precision:4,calcParams:[],figures:Zo,shouldOhlc:!1,minValue:qe.pane==="sub"?typeof qe.min=="number"?qe.min:0:typeof qe.min=="number"?qe.min:void 0,maxValue:qe.pane==="sub"?typeof qe.max=="number"?qe.max:100:typeof qe.max=="number"?qe.max:void 0,styles:{lines:Ut.map((pe,Ct)=>{var qo;const Pe=(pe.source||pe.name||"").replace(/\s+/g,"_").toLowerCase();let pn="#22d3ee";return/ema\d+/i.test(Pe)?pn=(qo=/ema(\d+)/i.exec(Pe))!=null&&qo[1]&&Number(RegExp.$1)<=20?"#22c55e":"#ef4444":/signal|sig/i.test(Pe)?pn="#f59e0b":/hist|bar/i.test(pe.type||pe.style||"")&&(pn="#64748b"),{color:pe.color||pn,size:pe.width??2,style:Se[(pe.style||"solid").toLowerCase()]??de.Solid}})},calc:pe=>{var Ke,It;const Ct=pe.length,Pe={},pn=(W==null?void 0:W.params)||{};Ue=pn;const qo=(Q,gt,De)=>{if(typeof Q=="number"&&Number.isFinite(Q))return Q;if(typeof Q=="string"){const Ie=Q.match(/^\$\{([^}]+)\}$/),rt=Ie?Ie[1]:Q,Ze=pn[rt],Ft=typeof Ze=="number"?Ze:Number(Ze);if(Number.isFinite(Ft))return Ft}if(gt&&pn[gt]!=null){const Ie=pn[gt],rt=typeof Ie=="number"?Ie:Number(Ie);if(Number.isFinite(rt))return rt}return De??0};if(Pe.open=pe.map(Q=>Q.open??Q.close),Pe.close=pe.map(Q=>Q.close),Pe.high=pe.map(Q=>Q.high??Q.close),Pe.low=pe.map(Q=>Q.low??Q.close),Pe.volume=pe.map(Q=>Q.volume??0),Pe.time=pe.map(Q=>Q.timestamp??Q.time??0),Me.length&&Ct>0)try{const Q={open:new Float32Array(Ct),high:new Float32Array(Ct),low:new Float32Array(Ct),close:new Float32Array(Ct),volume:new Float32Array(Ct),time:new Float32Array(Ct)};for(let De=0;De<Ct;(De+=1)-1){const Ie=pe[De];Q.open[De]=Ie.open??Ie.close,Q.high[De]=Ie.high??Ie.close,Q.low[De]=Ie.low??Ie.close,Q.close[De]=Ie.close,Q.volume[De]=Ie.volume??0,Q.time[De]=Ie.timestamp??Ie.time??0}const gt=Jm(Me.map((De,Ie)=>({name:String(De.name||`series_${Ie}`),expr:String(De.expr||"").replace(/\$\{([^}]+)\}/g,(rt,Ze)=>String(pn[Ze]??rt))})),Q);Object.entries(gt).forEach(([De,Ie])=>{const rt=De.replace(/\s+/g,"_").toLowerCase(),Ze=new Array(Ct);for(let Ft=0;Ft<Ct;(Ft+=1)-1)Ze[Ft]=Ie[Ft];Pe[rt]=Ze})}catch(Q){console.error("[ScriptStudio] expression engine error",Q)}for(const Q of he){const gt=Q.name||Q.type;if(!gt)continue;const De=gt.replace(/\s+/g,"_").toLowerCase();if(Q.type==="sma"){const Ie=Q.source||"close";Pe[De]=sn(Pe[Ie]||Pe.close,Math.max(1,qo(Q.period,`${De}_period`,14)))}else if(Q.type==="smma"){const Ie=Q.source||"close";Pe[De]=zi(Pe[Ie]||Pe.close,Math.max(1,qo(Q.period,`${De}_period`,13)))}else if(Q.type==="ema"){const Ie=Q.source||"close";Pe[De]=Ki(Pe[Ie]||Pe.close,Math.max(1,qo(Q.period,`${De}_period`,14)))}else if(Q.type==="wma"){const Ie=Q.source||"close";Pe[De]=Tr(Pe[Ie]||Pe.close,Math.max(1,qo(Q.period,`${De}_period`,14)))}else if(Q.type==="rsi"){const Ie=Q.source||"close";Pe[De]=wa(Pe[Ie]||Pe.close,Math.max(1,qo(Q.period,`${De}_period`,14)))}else if(Q.type==="bbands"||Q.type==="bollinger"||Q.type==="bollinger_bands"){const Ie=Q.source||"close",rt=Math.max(1,qo(Q.period,`${De}_period`,20)),Ze=Math.max(.1,qo(Q.std,`${De}_std`,qo(Q.deviation,`${De}_deviation`,2))),{mid:Ft,upper:Pt,lower:Yt}=Ma(Pe[Ie]||Pe.close,rt,Ze);Pe[De+"_mid"]=Ft,Pe[De+"_upper"]=Pt,Pe[De+"_lower"]=Yt}else if(Q.type==="atr"){const Ie=Math.max(1,qo(Q.period,`${De}_period`,14));Pe[De]=Ei(Pe.high,Pe.low,Pe.close,Ie)}else if(Q.type==="obv")Pe[De]=Za(Pe.close,Pe.volume);else if(Q.type==="cci"){const Ie=Math.max(1,qo(Q.period,`${De}_period`,20));Pe[De]=Xa(Pe.high,Pe.low,Pe.close,Ie)}else if(Q.type==="mfi"){const Ie=Math.max(1,qo(Q.period,`${De}_period`,14));Pe[De]=sl(Pe.high,Pe.low,Pe.close,Pe.volume,Ie)}else if(Q.type==="ao")Pe[De]=Ja(Pe.high,Pe.low);else if(Q.type==="trix"){const Ie=Math.max(1,qo(Q.period,`${De}_period`,12));Pe[De]=pl(Pe.close,Ie)}else if(Q.type==="vwap")Pe[De]=il(Pe.close,Pe.volume);else if(Q.type==="vwma"){const Ie=Math.max(1,qo(Q.period,`${De}_period`,20));Pe[De]=Qa(Pe.close,Pe.volume,Ie)}else if(Q.type==="macd"){const Ie=(Q.source||"close").replace(/\s+/g,"_").toLowerCase(),rt=Math.max(1,Number(Q.fast)||12),Ze=Math.max(1,Number(Q.slow)||26),Ft=Math.max(1,Number(Q.signal)||9),Pt=Pe[Ie]||Pe.close,Yt=Ki(Pt,rt),po=Ki(Pt,Ze),so=new Array(Ct);for(let Dt=0;Dt<Ct;(Dt+=1)-1)so[Dt]=Yt[Dt]===void 0||po[Dt]===void 0?void 0:Yt[Dt]-po[Dt];const wo=Ki(so,Ft),dn=new Array(Ct),fn=new Array(Ct);for(let Dt=0;Dt<Ct;(Dt+=1)-1){const xt=so[Dt],lo=wo[Dt];dn[Dt]=typeof lo=="number"&&Number.isFinite(lo)?lo:void 0,fn[Dt]=xt!==void 0&&lo!==void 0?xt-lo:void 0}Pe.macd_line=so,Pe.macd_signal=dn,Pe.macd_hist=fn}else if(Q.type==="supertrend"){const Ie=Math.max(1,Number(Q.period)||10),rt=Math.max(.1,Number(Q.factor)||3);Pe[De]=ka(Pe.high,Pe.low,Pe.close,Ie,rt)}else if(Q.type==="kc"||Q.type==="keltner"){const Ie=Math.max(1,Number(Q.period)||20),rt=Math.max(.1,Number(Q.mult)||2),Ze=zr(Pe.high,Pe.low,Pe.close,Ie,rt);Pe[De+"_mid"]=Ze.mid,Pe[De+"_upper"]=Ze.upper,Pe[De+"_lower"]=Ze.lower}else if(Q.type==="donchian"){const Ie=Math.max(1,Number(Q.period)||20),rt=oa(Pe.high,Pe.low,Ie);Pe[De+"_mid"]=rt.mid,Pe[De+"_upper"]=rt.upper,Pe[De+"_lower"]=rt.lower}else if(Q.type==="atr_bands"){const Ie=Math.max(1,Number(Q.period)||14),rt=Math.max(.1,Number(Q.mult)||2),Ze=Ei(Pe.high,Pe.low,Pe.close,Ie),Ft=new Array(Ct),Pt=new Array(Ct);for(let Yt=0;Yt<Ct;(Yt+=1)-1){const po=Ze[Yt],so=Pe.close[Yt];Ft[Yt]=po!=null&&so!=null?so+rt*po:void 0,Pt[Yt]=po!=null&&so!=null?so-rt*po:void 0}Pe[De+"_upper"]=Ft,Pe[De+"_lower"]=Pt}else if(Q.type==="zscore"){const Ie=Math.max(1,Number(Q.period)||20),rt=Q.source||"close";Pe[De]=fl(Pe[rt]||Pe.close,Ie)}else if(Q.type==="volume_delta")Pe[De]=bl(Pe.close,Pe.volume);else if(Q.type==="cum_delta"){const Ie=bl(Pe.close,Pe.volume);Pe[De]=rl(Ie)}else if(Q.type==="vwap_bands"){const Ie=Math.max(1,Number(Q.period)||20),rt=il(Pe.close,Pe.volume),{upper:Ze,lower:Ft}=Ma(Array.from(rt).map(Pt=>Pt),Ie,Math.max(.1,Number(Q.std)||2));Pe[De+"_mid"]=Array.from(rt),Pe[De+"_upper"]=Ze,Pe[De+"_lower"]=Ft}else if(Q.type==="linreg_channel"){const Ie=Math.max(1,Number(Q.period)||20),rt=Q.source||"close",Ze=Ta(Pe[rt]||Pe.close,Ie);Pe[De+"_mid"]=Ze.mid,Pe[De+"_upper"]=Ze.upper,Pe[De+"_lower"]=Ze.lower}else if(Q.type==="evwma"){const Ie=Math.max(1,Number(Q.period)||20);Pe[De]=al(Pe.close,Pe.volume,Ie)}else if(Q.type==="sar"){const Ie=Math.max(.001,Number(Q.step)||.02),rt=Math.max(Ie,Number(Q.max)||.2),Ze=Pe.high,Ft=Pe.low,Pt=new Array(Ct);let Yt=Ie,po=Ze[0],so=Ft[0],wo=!0;for(let dn=1;dn<Ct;(dn+=1)-1){const fn=Ze[dn]??NaN,Dt=Ft[dn]??NaN;if(!Number.isFinite(fn)||!Number.isFinite(Dt)){Pt[dn]=void 0;continue}let xt=so;wo?(xt=so+Yt*(po-so),fn>po&&(po=fn,Yt=Math.min(rt,Yt+Ie)),xt>Dt&&(wo=!1,xt=po,po=Dt,Yt=Ie)):(xt=so-Yt*(so-po),Dt<po&&(po=Dt,Yt=Math.min(rt,Yt+Ie)),xt<fn&&(wo=!0,xt=po,po=fn,Yt=Ie)),Pt[dn]=xt,so=xt}Pt[0]=so,Pe.sar=Pt}else if(Q.type==="stoch"){const Ie=Number(Q.kPeriod)||14,rt=Number(Q.dPeriod)||3,Ze=[],Ft=[];for(let Yt=0;Yt<Ct;(Yt+=1)-1){const po=Math.max(0,Yt-Ie+1);let so=-1/0,wo=1/0;for(let xt=po;xt<=Yt;(xt+=1)-1){const lo=Pe.high[xt]??Pe.close[xt]??NaN,Nt=Pe.low[xt]??Pe.close[xt]??NaN;lo>so&&(so=lo),Nt<wo&&(wo=Nt)}const dn=Pe.close[Yt]??NaN,fn=so-wo,Dt=fn===0?void 0:100*((dn-wo)/fn);Ze.push(Dt)}const Pt=sn(Ze.map(Yt=>Yt??NaN),rt);for(let Yt=0;Yt<Ct;(Yt+=1)-1)Ft.push(isNaN(Pt[Yt])?void 0:Pt[Yt]);Pe[De+"_k"]=Ze,Pe[De+"_d"]=Ft}else if(Q.type==="roc"){const Ie=Q.source||"close",rt=Pe[Ie]||Pe.close,Ze=Math.max(1,Number(Q.period)||10),Ft=new Array(Ct);for(let Pt=0;Pt<Ct;(Pt+=1)-1){const Yt=rt[Pt],po=rt[Pt-Ze];Yt===void 0||po===void 0||po===0?Ft[Pt]=void 0:Ft[Pt]=(Yt/po-1)*100}Pe[De]=Ft}else if(Q.type==="ichimoku"){const Ie=Math.max(1,Number(Q.tenkan)||9),rt=Math.max(1,Number(Q.kijun)||26),Ze=Math.max(1,Number(Q.senkouB)||52),Ft=rt,Pt=new Array(Ct),Yt=new Array(Ct),po=new Array(Ct),so=new Array(Ct),wo=new Array(Ct),dn=new Array(Ct),fn=new Array(Ct),Dt=Pe.high,xt=Pe.low,lo=Pe.close,Nt=(co,vi)=>{let An=-1/0,Wi=1/0;const Xr=Math.max(0,co-vi+1);for(let Is=Xr;Is<=co;(Is+=1)-1){const wi=Dt[Is]??lo[Is]??NaN,Gs=xt[Is]??lo[Is]??NaN;wi>An&&(An=wi),Gs<Wi&&(Wi=Gs)}return{hi:An,lo:Wi}};for(let co=0;co<Ct;(co+=1)-1){if(co>=Ie-1){const{hi:vi,lo:An}=Nt(co,Ie);Pt[co]=(vi+An)/2}if(co>=rt-1){const{hi:vi,lo:An}=Nt(co,rt);Yt[co]=(vi+An)/2}if(Pt[co]!==void 0&&Yt[co]!==void 0&&(po[co]=(Pt[co]+Yt[co])/2),co>=Ze-1){const{hi:vi,lo:An}=Nt(co,Ze);so[co]=(vi+An)/2}fn[co]=co+Ft<Ct?lo[co+Ft]:void 0}for(let co=0;co<Ct;(co+=1)-1)wo[co]=co>=Ft?po[co-Ft]:void 0,dn[co]=co>=Ft?so[co-Ft]:void 0;Pe.tenkan=Pt,Pe.kijun=Yt,Pe.spana=wo,Pe.spanb=dn,Pe.chikou=fn}else if(Q.type==="pivot_high"){const Ie=Math.max(0,Number(Q.left)||3),rt=Math.max(0,Number(Q.right)||3),Ze=new Array(Ct);for(let Ft=0;Ft<Ct;(Ft+=1)-1){const Pt=Pe.high[Ft]??Pe.close[Ft]??NaN;if(!Number.isFinite(Pt)){Ze[Ft]=void 0;continue}let Yt=!0;const po=Math.max(0,Ft-Ie),so=Math.min(Ct-1,Ft+rt);for(let wo=po;wo<=so;(wo+=1)-1){if(wo===Ft)continue;const dn=Pe.high[wo]??Pe.close[wo]??NaN;if(!Number.isFinite(dn)){Yt=!1;break}if(dn>=Pt){Yt=!1;break}}Ze[Ft]=Yt?Pt:void 0}Pe[De]=Ze}else if(Q.type==="pivot_low"){const Ie=Math.max(0,Number(Q.left)||3),rt=Math.max(0,Number(Q.right)||3),Ze=new Array(Ct);for(let Ft=0;Ft<Ct;(Ft+=1)-1){const Pt=Pe.low[Ft]??Pe.close[Ft]??NaN;if(!Number.isFinite(Pt)){Ze[Ft]=void 0;continue}let Yt=!0;const po=Math.max(0,Ft-Ie),so=Math.min(Ct-1,Ft+rt);for(let wo=po;wo<=so;(wo+=1)-1){if(wo===Ft)continue;const dn=Pe.low[wo]??Pe.close[wo]??NaN;if(!Number.isFinite(dn)){Yt=!1;break}if(dn<=Pt){Yt=!1;break}}Ze[Ft]=Yt?Pt:void 0}Pe[De]=Ze}else if(Q.type==="last_value"){const Ie=String(Q.source||"close").replace(/\s+/g,"_").toLowerCase(),rt=Pe[Ie]||Pe.close,Ze=new Array(Ct);let Ft;for(let Pt=0;Pt<Ct;(Pt+=1)-1){const Yt=rt[Pt];Yt!=null&&Number.isFinite(Yt)&&(Ft=Yt),Ze[Pt]=Ft}Pe[De]=Ze,tr[De]=Ie}else if(Q.type==="prev_value"){const Ie=String(Q.source||"close").replace(/\s+/g,"_").toLowerCase(),rt=Pe[Ie]||Pe.close,Ze=new Array(Ct);let Ft,Pt;for(let Yt=0;Yt<Ct;(Yt+=1)-1){const po=rt[Yt];if(po!=null&&Number.isFinite(po)){const so=po;(Ft===void 0||so!==Ft)&&(Pt=Ft,Ft=so)}Ze[Yt]=Pt}Pe[De]=Ze,tr[De]=Ie}else if(Q.type==="line_value"){const Ie=String(Q.startValue||"").replace(/\s+/g,"_").toLowerCase(),rt=String(Q.endValue||"").replace(/\s+/g,"_").toLowerCase();let Ft=tr[Ie]||tr[rt]||"";Ft||(/pl|low/i.test(Ie)||/pl|low/i.test(rt)?Ft="pl":(/ph|high/i.test(Ie)||/ph|high/i.test(rt))&&(Ft="ph"));const Pt=Pe[Ft],Yt=new Array(Ct);if(Pt){const po=[];for(let so=Ct-1;so>=0&&po.length<2;(so-=1)+1){const wo=Pt[so];wo!=null&&Number.isFinite(wo)&&po.push(so)}if(po.reverse(),po.length===2){const so=po[0],wo=po[1],dn=Pt[so],fn=Pt[wo];if(Number.isFinite(dn)&&Number.isFinite(fn)&&wo!==so){const Dt=(fn-dn)/(wo-so),xt=dn-Dt*so,lo=Math.max(1,Number(Q.lookback)||Ct),Nt=Math.max(0,wo-lo);for(let co=0;co<Ct;(co+=1)-1)Yt[co]=co>=Nt?Dt*co+xt:void 0}}}Pe[De]=Yt}else if(Q.type==="compare"){const Ie=String(Q.left??"").trim(),rt=String(Q.right??"").trim(),Ze=String(Q.op||">"),Ft=/^[-+]?\d+(?:\.\d+)?$/.test(Ie),Pt=/^[-+]?\d+(?:\.\d+)?$/.test(rt),Yt=Ie.replace(/\s+/g,"_").toLowerCase(),po=rt.replace(/\s+/g,"_").toLowerCase(),so=Ft?null:Pe[Yt]||Pe.close,wo=Pt?null:Pe[po]||Pe.close,dn=Ft?Number(Ie):NaN,fn=Pt?Number(rt):NaN,Dt=new Array(Ct);for(let xt=0;xt<Ct;(xt+=1)-1){const lo=Ft?dn:(so==null?void 0:so[xt])??NaN,Nt=Pt?fn:(wo==null?void 0:wo[xt])??NaN;if(!Number.isFinite(lo)||!Number.isFinite(Nt)){Dt[xt]=0;continue}let co=!1;switch(Ze){case">":co=lo>Nt;break;case"<":co=lo<Nt;break;case">=":co=lo>=Nt;break;case"<=":co=lo<=Nt;break;case"==":co=Math.abs(lo-Nt)<1e-9;break;default:co=lo>Nt;break}Dt[xt]=co?1:0}Pe[De]=Dt}else if(typeof Q.expr=="string"&&Q.expr.trim().length)try{const Ie={};Object.entries(Pe).forEach(([Pt,Yt])=>{const po=new Float32Array(Ct);for(let so=0;so<Ct;(so+=1)-1)po[so]=Yt[so]??NaN;Ie[Pt.replace(/\s+/g,"_").toLowerCase()]=po});const rt=Jm([{name:De,expr:String(Q.expr)}],Ie),Ze=new Array(Ct),Ft=rt[De];for(let Pt=0;Pt<Ct;(Pt+=1)-1){const Yt=Ft==null?void 0:Ft[Pt];Ze[Pt]=Number.isFinite(Yt)?Yt:void 0}Pe[De]=Ze}catch(Ie){console.error("[ScriptStudio] expr eval error",Ie)}}if(qe.pane==="sub"){const Q=new Set;Ut.forEach(De=>{const Ie=(De.source||De.name||"").replace(/\s+/g,"_").toLowerCase();Ie&&Q.add(Ie)}),(qe.labels||[]).forEach(De=>{const Ie=((De==null?void 0:De.source)||(De==null?void 0:De.name)||"").replace(/\s+/g,"_").toLowerCase();Ie&&Q.add(Ie)}),(Ke=qe.fills)==null||Ke.forEach(De=>{(Array.isArray(De==null?void 0:De.between)?De.between:[]).forEach(rt=>{const Ze=String(rt||"").replace(/\s+/g,"_").toLowerCase();Ze&&Q.add(Ze)})});const gt=(De,Ie)=>{let rt=1/0,Ze=-1/0;for(let po=0;po<De.length;(po+=1)-1){const so=De[po];so==null||Number.isNaN(so)||(so<rt&&(rt=so),so>Ze&&(Ze=so))}const Ft=Ze-rt;if(!(Ze>200||rt<-50||Ft>200))return De;const Yt=new Array(De.length);if(Ft>1e-8){for(let po=0;po<De.length;(po+=1)-1){const so=De[po];Yt[po]=so==null?void 0:(so-rt)/Ft*100}return Yt}if(Ie){for(let po=0;po<De.length;(po+=1)-1){const so=De[po],wo=Ie[po];Yt[po]=so==null||wo===void 0||wo===null||wo===0?void 0:so/wo*50+50}return Yt}return De};Q.forEach(De=>{Pe[De]&&(Pe[De]=gt(Pe[De],Pe.close))})}if(Me.length&&Ct>0)try{const Q={};Object.entries(Pe).forEach(([De,Ie])=>{const rt=new Float32Array(Ct);for(let Ze=0;Ze<Ct;(Ze+=1)-1)rt[Ze]=Ie[Ze]??NaN;Q[De]=rt});const gt=Jm(Me.map((De,Ie)=>({name:String(De.name||`series_${Ie}`),expr:String(De.expr||"").replace(/\$\{([^}]+)\}/g,(rt,Ze)=>String(pn[Ze]??rt))})),Q);Object.entries(gt).forEach(([De,Ie])=>{const rt=De.replace(/\s+/g,"_").toLowerCase(),Ze=new Array(Ct);for(let Ft=0;Ft<Ct;(Ft+=1)-1)Ze[Ft]=Ie[Ft];Pe[rt]=Ze})}catch{}const Bi={};Zo.forEach(Q=>{Bi[Q.key]=new Array(Ct)});const gr=new Array(Ct);for(let Q=0;Q<Ct;(Q+=1)-1){const gt={};Ut.forEach((De,Ie)=>{const rt=Ko[Ie]||Zo[Ie].key,Ze=(De.source||De.name||"").replace(/\s+/g,"_").toLowerCase(),Pt=(Pe[Ze]||Pe[rt]||Pe.close)[Q];gt[rt]=Pt,Bi[rt][Q]=Pt}),gt.__open=Pe.open[Q],gt.__close=Pe.close[Q],gt.__high=Pe.high[Q],gt.__low=Pe.low[Q],gr[Q]=gt}const gs={},Ts=Q=>{const gt=new Float32Array(Ct);for(let De=0;De<Ct;(De+=1)-1){const Ie=Q[De];gt[De]=Ie??NaN}return gt};if(Object.entries(Pe).forEach(([Q,gt])=>{gs[Q.replace(/\s+/g,"_").toLowerCase()]=Ts(gt)}),Object.entries(Bi).forEach(([Q,gt])=>{gs[Q]=Ts(gt)}),Array.isArray(bn)&&bn.length)for(const Q of bn){if(!Q||!Q.when)continue;let gt;try{const Ie=le(String(Q.when));try{gt=f2(Ie,gs)}catch{gt=ye(String(Q.when),gs)}}catch{gt=ye(String(Q.when),gs)}const De=(Q.source||Q.name||"").replace(/\s+/g,"_").toLowerCase()||((It=Zo[0])==null?void 0:It.key);for(let Ie=0;Ie<Ct;(Ie+=1)-1){if(!gt[Ie])continue;const rt=gr[Ie]||(gr[Ie]={}),Ze=De,Ft=Pe[Ze]||Pe.close,Pt=rt[Ze]??(Ft==null?void 0:Ft[Ie])??Pe.close[Ie],Yt=`__label_${Ze}_${Q.position||"above"}`;rt[Yt]={text:Q.text||"",color:Q.color||"#f97316",yKey:Ze,position:Q.position||"above",value:Pt,shape:Q.shape,bgColor:Q.bgColor,borderColor:Q.borderColor,textColor:Q.textColor,size:Q.size,offsetY:Q.offsetY};try{b2("label",{pane:qe.pane,index:Ie,meta:rt[Yt]})}catch{}}}if(Array.isArray(rn)&&rn.length){let Q=[];const gt=De=>{const Ie=[];for(let rt=Ct-1;rt>=0&&Ie.length<2;(rt-=1)+1){const Ze=De[rt];Ze!=null&&Number.isFinite(Ze)&&Ie.push(rt)}return Ie.reverse()};if(rn.forEach(De=>{const Ie=String(De.start||"").replace(/\s+/g,"_").toLowerCase(),rt=String(De.end||"").replace(/\s+/g,"_").toLowerCase();let Ft=tr[Ie]||tr[rt]||"";Ft||(/low/i.test(Ie)||/low/i.test(rt)?Ft="pl":(/high/i.test(Ie)||/high/i.test(rt))&&(Ft="ph"));const Yt=(De.segmentsFrom?String(De.segmentsFrom):"").replace(/\s+/g,"_").toLowerCase(),po=Pe[Ft],so=Yt&&Pe[Yt]||void 0,wo=so||po||Pe.ph||Pe.pl;if(wo)if(so){const dn=[];for(let lo=0;lo<Ct;(lo+=1)-1){const Nt=so[lo];Nt!=null&&Number.isFinite(Nt)&&dn.push(lo)}const fn=Math.max(1,Number(De.maxSegments)||dn.length-1),Dt=Math.min(fn,24);let xt=0;for(let lo=dn.length-2;lo>=0&&!(xt>=Dt);(lo-=1)+1){const Nt=dn[lo],co=dn[lo+1],vi=so[Nt],An=so[co];if(!Number.isFinite(vi)||!Number.isFinite(An)||co===Nt)continue;const Wi=(An-vi)/(co-Nt),Xr=vi-Wi*Nt;let Is=!1;const wi=Math.max(Nt,Ct-80);let Gs=NaN;for(let Ji=wi;Ji<=Math.min(co,Ct-1);(Ji+=1)-1){const mi=Wi*Ji+Xr,ra=Pe.close[Ji];if(!Number.isFinite(mi)||!Number.isFinite(ra))continue;const ml=ra-mi;if(!Number.isNaN(Gs)&&ml*Gs<0){Is=!0;break}Gs=ml}Is||(Q.push({startIndex:Nt,endIndex:co,startValue:vi,endValue:An,slope:Wi,intercept:Xr,color:De.color||"#64748b",width:De.width??1,style:(De.style||"dotted").toLowerCase(),extend:De.extend||"right",name:De.name}),xt+=1)}}else{const dn=gt(wo);if(dn.length===2){const fn=dn[0],Dt=dn[1],xt=wo[fn],lo=wo[Dt];if(Number.isFinite(xt)&&Number.isFinite(lo)){const Nt=(lo-xt)/(Dt-fn),co=xt-Nt*fn;let vi=!1;const An=Math.max(fn,Ct-80);let Wi=NaN;for(let Xr=An;Xr<=Math.min(Dt,Ct-1);(Xr+=1)-1){const Is=Nt*Xr+co,wi=Pe.close[Xr];if(!Number.isFinite(Is)||!Number.isFinite(wi))continue;const Gs=wi-Is;if(!Number.isNaN(Wi)&&Gs*Wi<0){vi=!0;break}Wi=Gs}if(vi)return;Q.push({startIndex:fn,endIndex:Dt,startValue:xt,endValue:lo,slope:Nt,intercept:co,color:De.color||"#22c55e",width:De.width??2,style:(De.style||"solid").toLowerCase(),extend:De.extend||"none",name:De.name})}}}}),Q.length){const De=[],Ie=new Set;for(const rt of Q){const Ze=Math.round((rt.slope||0)*1e4),Ft=Math.round((rt.intercept||0)*100),Pt=`${Ze}:${Ft}:${rt.style}:${rt.color}:${rt.extend}`;Ie.has(Pt)||(Ie.add(Pt),De.push(rt))}Q=De.slice(0,60)}if(!Q.length){const De=(Ie,rt,Ze,Ft)=>{const Pt=String(Ie||"").replace(/\s+/g,"_").toLowerCase(),Yt=Pe[Pt];if(!Yt)return;const po=[];for(let so=0;so<Ct;(so+=1)-1){const wo=Yt[so];wo!=null&&Number.isFinite(wo)&&po.push(so)}if(po.length>=2){const so=po[po.length-2],wo=po[po.length-1],dn=Yt[so],fn=Yt[wo];if(Number.isFinite(dn)&&Number.isFinite(fn)&&wo!==so){const Dt=(fn-dn)/(wo-so),xt=dn-Dt*so;Q.push({startIndex:so,endIndex:wo,startValue:dn,endValue:fn,slope:Dt,intercept:xt,color:rt,width:Ft,style:Ze,extend:"right",name:Pt})}}};De("ph","#64748b","dotted",1),De("pl","#64748b","dotted",1)}gr.__lineDefs=Q}if($e.length){const Q=Cs;try{const gt=new Worker(new URL(""+new URL("../workers/signals.worker-DlVCWhHl.js",import.meta.url).href,import.meta.url),{type:"module"}),De=pe.map(Ze=>({timestamp:Ze.timestamp??Ze.time??0})),Ie=$e.map(Ze=>({...Ze,when:Be(String((Ze==null?void 0:Ze.when)||""))})),rt={id:Q,condSeries:gs,bars:De,signals:Ie};gt.onmessage=Ze=>{const Ft=Ze.data;PN(Q,Ft.signals||[]);try{b2("signals",{id:Ft.id,signals:Ft.signals})}catch{}try{gt.terminate()}catch{}},gt.postMessage(rt)}catch(gt){console.error("[ScriptStudio] signals worker error",gt)}}return gr},draw:({ctx:pe,indicator:Ct,bounding:Pe,xAxis:pn,yAxis:qo})=>{if(!pe||!pn||!qo)return!1;const Bi=(Ct==null?void 0:Ct.result)||[];pe.save(),Pe&&(pe.beginPath(),pe.rect(Pe.left,Pe.top,Pe.width,Pe.height),pe.clip()),Ut.forEach((Q,gt)=>{var rt,Ze,Ft,Pt,Yt,po,so;const De=Ko[gt]||Zo[gt].key,Ie=(Q.type||"").toLowerCase();if(Ie==="dots"){const wo=Q.color||"#22d3ee",dn=Q.width||4,fn=[];for(let Dt=0;Dt<Bi.length;(Dt+=1)-1){const xt=(rt=Bi[Dt])==null?void 0:rt[De];if(xt==null){fn.push({x:NaN,y:NaN});continue}const lo=pn.convertToPixel(Dt),Nt=qo.convertToPixel(xt);fn.push({x:lo,y:Nt})}h2(pe,fn,wo,dn,Pe)}if(Ie==="stepped"||Ie==="step"){const wo=Q.color||"#22c55e",dn=Q.width||2,fn=[];for(let Dt=0;Dt<Bi.length;(Dt+=1)-1){const xt=(Ze=Bi[Dt])==null?void 0:Ze[De];if(xt==null){fn.push({x:NaN,y:NaN});continue}fn.push({x:pn.convertToPixel(Dt),y:qo.convertToPixel(xt)})}kR(pe,fn,wo,dn,Pe)}if(Ie==="area"){const wo=Q.color||"rgba(56,189,248,0.3)";pe.save(),pe.beginPath();let dn=!1;for(let fn=0;fn<Bi.length;(fn+=1)-1){const Dt=(Ft=Bi[fn])==null?void 0:Ft[De];if(Dt==null)continue;const xt=pn.convertToPixel(fn),lo=qo.convertToPixel(Dt);dn?pe.lineTo(xt,lo):(pe.moveTo(xt,lo),dn=!0)}dn&&(pe.lineTo(pn.convertToPixel(Bi.length-1),Pe.top+Pe.height),pe.lineTo(pn.convertToPixel(0),Pe.top+Pe.height),pe.closePath(),pe.fillStyle=wo,pe.fill()),pe.restore()}if(Ie==="glow_points"){const wo=Q.color||"#22d3ee",dn=(Q.width||4)+2,fn=[];for(let Dt=0;Dt<Bi.length;(Dt+=1)-1){const xt=(Pt=Bi[Dt])==null?void 0:Pt[De];if(xt==null){fn.push({x:NaN,y:NaN});continue}fn.push({x:pn.convertToPixel(Dt),y:qo.convertToPixel(xt)})}pe.save(),pe.shadowColor=wo,pe.shadowBlur=12,h2(pe,fn,wo,dn,Pe),pe.restore()}if(Ie==="neon_line"){const wo=Q.color||"#22d3ee",dn=Q.width||2;pe.save(),pe.shadowColor=wo,pe.shadowBlur=14,pe.beginPath();let fn=!1;for(let Dt=0;Dt<Bi.length;(Dt+=1)-1){const xt=(Yt=Bi[Dt])==null?void 0:Yt[De];if(xt==null)continue;const lo=pn.convertToPixel(Dt),Nt=qo.convertToPixel(xt);fn?pe.lineTo(lo,Nt):(pe.moveTo(lo,Nt),fn=!0)}pe.strokeStyle=wo,pe.lineWidth=dn,pe.stroke(),pe.restore()}if(Ie==="bezier_line"){const wo=Q.color||"#34d399",dn=Q.width||2;pe.save(),pe.beginPath();let fn=NaN,Dt=NaN,xt=!1;for(let lo=0;lo<Bi.length;(lo+=1)-1){const Nt=(po=Bi[lo])==null?void 0:po[De];if(Nt==null)continue;const co=pn.convertToPixel(lo),vi=qo.convertToPixel(Nt);if(!xt)pe.moveTo(co,vi),xt=!0;else{const An=(fn+co)/2,Wi=(Dt+vi)/2;pe.quadraticCurveTo(fn,Dt,An,Wi)}fn=co,Dt=vi}pe.strokeStyle=wo,pe.lineWidth=dn,pe.stroke(),pe.restore()}if(Ie==="cloud"||Ie==="supertrend_cloud"){const wo=Q.color||"rgba(14,165,233,0.12)";pe.save();const dn=[],fn=[];for(let Dt=0;Dt<Bi.length;(Dt+=1)-1){const xt=Bi[Dt]||{},lo=pn.convertToPixel(Dt),Nt=qo.convertToPixel(xt[De]),co=qo.convertToPixel(xt[Ko[0]]);dn.push({x:lo,y:Nt}),fn.push({x:lo,y:co})}y2(pe,dn,fn,wo,Pe),pe.restore()}if(Ie==="aura"||Ie==="candleshadow"){const wo=Q.color||"#a78bfa",dn=Q.width||2;pe.save(),pe.shadowColor=wo,pe.shadowBlur=18,pe.beginPath();let fn=!1;for(let Dt=0;Dt<Bi.length;(Dt+=1)-1){const xt=(so=Bi[Dt])==null?void 0:so[De];if(xt==null)continue;const lo=pn.convertToPixel(Dt),Nt=qo.convertToPixel(xt);fn?pe.lineTo(lo,Nt):(pe.moveTo(lo,Nt),fn=!0)}pe.strokeStyle=wo,pe.lineWidth=dn,pe.stroke(),pe.restore()}});const gr=qe.fills||[];if(Array.isArray(gr)&&gr.length)for(const Q of gr){const gt=Array.isArray(Q==null?void 0:Q.between)?Q.between:[];if(!gt||gt.length!==2)continue;const De=(gt[0]||"").replace(/\s+/g,"_").toLowerCase(),Ie=(gt[1]||"").replace(/\s+/g,"_").toLowerCase(),rt=Ms[De],Ze=Ms[Ie];if(!rt||!Ze)continue;const Ft=[],Pt=[];for(let Yt=0;Yt<Bi.length;(Yt+=1)-1){const po=Bi[Yt]||{},so=pn.convertToPixel(Yt),wo=qo.convertToPixel(po[rt]),dn=qo.convertToPixel(po[Ze]);Ft.push({x:so,y:wo}),Pt.push({x:so,y:dn})}y2(pe,Ft,Pt,Q.color||"rgba(0,0,0,0.12)",Pe)}ht.forEach(Q=>{const gt=qo.convertToPixel(Q.value);if(!Number.isFinite(gt))return;pe.beginPath(),pe.moveTo(Pe.left,gt),pe.lineTo(Pe.left+Pe.width,gt),pe.strokeStyle=Q.color||"#64748b",pe.lineWidth=Q.width??1;const De=(Q.style||"dashed").toLowerCase();De==="dashed"||De==="dotted"?pe.setLineDash(De==="dashed"?[4,4]:[2,2]):pe.setLineDash([]),pe.stroke(),pe.setLineDash([])});const gs=qe.backgroundZones||[];if(Array.isArray(gs)&&gs.length)for(const Q of gs){const gt=Number.isFinite(Q.from)?qo.convertToPixel(Q.from):Pe.top,De=Number.isFinite(Q.to)?qo.convertToPixel(Q.to):Pe.top+Pe.height,Ie=Math.min(gt,De),rt=Math.abs(De-gt);pe.beginPath(),pe.rect(Pe.left,Ie,Pe.width,rt),pe.fillStyle=Q.color||"rgba(34,197,94,0.08)",pe.fill()}const Ts=Bi.__lineDefs||[];if(Ts.length)for(const Q of Ts){const gt=Bi.length;let De=Q.startIndex,Ie=Q.endIndex;Q.extend==="both"?(De=0,Ie=Math.max(0,gt-1)):Q.extend==="left"?De=0:Q.extend==="right"&&(Ie=Math.max(0,gt-1));const rt=Number.isFinite(Q.slope)&&Number.isFinite(Q.intercept)?Q.slope*De+Q.intercept:Q.startValue,Ze=Number.isFinite(Q.slope)&&Number.isFinite(Q.intercept)?Q.slope*Ie+Q.intercept:Q.endValue,Ft=pn.convertToPixel(De),Pt=qo.convertToPixel(rt),Yt=pn.convertToPixel(Ie),po=qo.convertToPixel(Ze);if(!Number.isFinite(Ft)||!Number.isFinite(Pt)||!Number.isFinite(Yt)||!Number.isFinite(po))continue;pe.beginPath(),pe.moveTo(Ft,Pt),pe.lineTo(Yt,po),pe.strokeStyle=Q.color||"#22c55e",pe.lineWidth=Q.width??2;const so=(Q.style||"solid").toLowerCase();so==="dashed"?pe.setLineDash([6,4]):so==="dotted"?pe.setLineDash([2,2]):pe.setLineDash([]),pe.stroke(),pe.setLineDash([])}pe.font='12px "Inter", system-ui, -apple-system, sans-serif',pe.textAlign="center";const Ke={},It={};for(let Q=0;Q<Bi.length;(Q+=1)-1){const gt=Bi[Q]||{},De=Object.keys(gt).filter(rt=>rt.startsWith("__label_"));if(!De.length)continue;const Ie=pn.convertToPixel(Q);if(Number.isFinite(Ie))for(const rt of De){const Ze=gt[rt],Ft=Ze==null?void 0:Ze.value;if(Ft==null)continue;let Pt=qo.convertToPixel(Ft);if(!Number.isFinite(Pt))continue;const Yt=typeof Ze.offsetY=="number"?Ze.offsetY:10,po=(Ze.position||"above")==="above",so=po?Ke[Q]||0:It[Q]||0,wo=Yt+so*Math.max(6,(Ze.size||12)/3);po?(Pt-=wo,pe.textBaseline="bottom",Ke[Q]=so+1):(Pt+=wo,pe.textBaseline="top",It[Q]=so+1);const dn=typeof Ze.size=="number"&&Ze.size>0?Ze.size:12,fn=dn/2;if(Pe){const Is=Pe.top+fn+2,wi=Pe.top+Pe.height-fn-2;Pt=Math.max(Is,Math.min(wi,Pt))}const Dt=Ze.shape||"",xt=Dt==="arrow_up"?"arrowUp":Dt==="arrow_down"?"arrowDown":Dt==="triangle_up_filled"?"triangleUpFilled":Dt==="triangle_down_filled"?"triangleDownFilled":Dt==="arrow_up_glow"?"arrowUpGlow":Dt==="arrow_down_glow"?"arrowDownGlow":Dt==="triangle_up_gradient"?"triangleUpGradient":Dt==="triangle_down_gradient"?"triangleDownGradient":Dt==="circle_pulse"?"circlePulse":Dt==="tag"?"tag":Dt==="flag"?"flag":Dt==="pill"?"pill":Dt==="box_gradient"?"boxGradient":Dt==="bubble"?"bubble":Dt==="spark"?"spark":Dt==="star"?"star":Dt==="label"?"label":Dt==="text"||Dt==="emoji"?"text":Dt,lo=typeof Ze.size=="number"&&Ze.size>0?Ze.size:12,Nt=lo/2,co=Ze.bgColor||"rgba(15,23,42,0.95)",vi=Ze.borderColor||"rgba(0,0,0,0.65)",An=Ze.textColor||Ze.color||"#f97316",Wi=String(Ze.text||"");pe.lineWidth=typeof Ze.borderWidth=="number"?Ze.borderWidth:1;const Xr=pe.globalAlpha;if(pe.globalAlpha=typeof Ze.opacity=="number"?Math.max(0,Math.min(1,Ze.opacity)):1,xt==="circle"||xt==="square"||xt==="arrowUp"||xt==="arrowDown"||xt==="box"||xt==="triangleUpFilled"||xt==="triangleDownFilled"||xt==="label"||xt==="arrowUpGlow"||xt==="arrowDownGlow"||xt==="triangleUpGradient"||xt==="triangleDownGradient"||xt==="circlePulse"||xt==="tag"||xt==="flag"||xt==="pill"||xt==="boxGradient"||xt==="bubble"||xt==="spark"||xt==="star"||xt==="text"){if(pe.save(),pe.strokeStyle=vi,pe.fillStyle=Ze.color||co,xt==="circle")pe.beginPath(),pe.arc(Ie,Pt,Nt,0,Math.PI*2),pe.fill(),pe.stroke();else if(xt==="square")pe.beginPath(),pe.rect(Ie-Nt,Pt-Nt,lo,lo),pe.fill(),pe.stroke();else if(xt==="arrowUp"||xt==="arrowUpGlow")pe.beginPath(),pe.moveTo(Ie,Pt-Nt),pe.lineTo(Ie-Nt,Pt+Nt),pe.lineTo(Ie+Nt,Pt+Nt),pe.closePath(),(xt==="arrowUpGlow"||Ze.shadow)&&(pe.shadowColor=Ze.color||co,pe.shadowBlur=12),pe.fill(),pe.stroke();else if(xt==="arrowDown"||xt==="arrowDownGlow")pe.beginPath(),pe.moveTo(Ie,Pt+Nt),pe.lineTo(Ie-Nt,Pt-Nt),pe.lineTo(Ie+Nt,Pt-Nt),pe.closePath(),(xt==="arrowDownGlow"||Ze.shadow)&&(pe.shadowColor=Ze.color||co,pe.shadowBlur=12),pe.fill(),pe.stroke();else if(xt==="triangleUpFilled")pe.beginPath(),pe.moveTo(Ie,Pt-Nt),pe.lineTo(Ie-Nt,Pt+Nt),pe.lineTo(Ie+Nt,Pt+Nt),pe.closePath(),pe.fill(),pe.stroke();else if(xt==="triangleDownFilled")pe.beginPath(),pe.moveTo(Ie,Pt+Nt),pe.lineTo(Ie-Nt,Pt-Nt),pe.lineTo(Ie+Nt,Pt-Nt),pe.closePath(),pe.fill(),pe.stroke();else if(xt==="triangleUpGradient"||xt==="triangleDownGradient"){const Is=pe.createLinearGradient(Ie-Nt,Pt-Nt,Ie+Nt,Pt+Nt);Is.addColorStop(0,Ze.bgColor||"rgba(59,130,246,0.6)"),Is.addColorStop(1,Ze.color||"rgba(34,197,94,0.6)"),pe.fillStyle=Is,pe.beginPath(),xt==="triangleUpGradient"?(pe.moveTo(Ie,Pt-Nt),pe.lineTo(Ie-Nt,Pt+Nt),pe.lineTo(Ie+Nt,Pt+Nt)):(pe.moveTo(Ie,Pt+Nt),pe.lineTo(Ie-Nt,Pt-Nt),pe.lineTo(Ie+Nt,Pt-Nt)),pe.closePath(),pe.fill(),pe.stroke()}else if(xt==="circlePulse")pe.beginPath(),pe.arc(Ie,Pt,Nt,0,Math.PI*2),pe.fill(),pe.stroke(),pe.globalAlpha=.4,pe.beginPath(),pe.arc(Ie,Pt,Nt*1.6,0,Math.PI*2),pe.stroke(),pe.globalAlpha=1;else if(xt==="pill"){const Is=Math.max(10,pe.measureText(Wi||"").width+16),wi=Math.max(12,lo),Gs=Ie-Math.floor(Is/2),Ji=Pt-Math.floor(wi/2),mi=wi/2;pe.beginPath(),pe.moveTo(Gs+mi,Ji),pe.lineTo(Gs+Is-mi,Ji),pe.arc(Gs+Is-mi,Ji+mi,mi,-Math.PI/2,Math.PI/2),pe.lineTo(Gs+mi,Ji+wi),pe.arc(Gs+mi,Ji+mi,mi,Math.PI/2,-Math.PI/2),pe.closePath(),pe.fill(),pe.stroke()}else if(xt==="tag"||xt==="flag"){const Is=Math.max(10,pe.measureText(Wi||"").width+20),wi=Math.max(12,lo+4),Gs=Ie-Math.floor(Is/2),Ji=Pt-Math.floor(wi/2);pe.beginPath(),pe.rect(Gs,Ji,Is,wi),pe.fill(),pe.stroke(),xt==="flag"&&(pe.beginPath(),pe.moveTo(Gs,Ji),pe.lineTo(Gs-wi/2,Ji+wi/2),pe.lineTo(Gs,Ji+wi),pe.closePath(),pe.fill(),pe.stroke())}else if(xt==="boxGradient"){const Is=Math.max(10,pe.measureText(Wi||"").width+12),wi=Math.max(12,lo+6),Gs=Ie-Math.floor(Is/2),Ji=Pt-Math.floor(wi/2),mi=pe.createLinearGradient(Gs,Ji,Gs+Is,Ji+wi);mi.addColorStop(0,Ze.bgColor||"rgba(15,23,42,0.5)"),mi.addColorStop(1,Ze.color||"rgba(59,130,246,0.35)"),pe.fillStyle=mi,pe.beginPath(),pe.rect(Gs,Ji,Is,wi),pe.fill(),pe.stroke()}else if(xt==="bubble")pe.beginPath(),pe.arc(Ie,Pt,Nt,0,Math.PI*2),pe.fill(),pe.stroke(),pe.beginPath(),pe.moveTo(Ie,Pt+Nt),pe.lineTo(Ie+Nt,Pt+Nt+6),pe.stroke();else if(xt==="spark")pe.beginPath(),pe.moveTo(Ie,Pt-Nt),pe.lineTo(Ie,Pt+Nt),pe.moveTo(Ie-Nt,Pt),pe.lineTo(Ie+Nt,Pt),pe.stroke();else if(xt==="star"){pe.beginPath();for(let Is=0;Is<5;(Is+=1)-1){const wi=Math.PI*2*Is/5,Gs=Ie+Math.cos(wi)*Nt,Ji=Pt+Math.sin(wi)*Nt,mi=wi+Math.PI/5,ra=Ie+Math.cos(mi)*(Nt/2),ml=Pt+Math.sin(mi)*(Nt/2);Is===0?pe.moveTo(Gs,Ji):pe.lineTo(Gs,Ji),pe.lineTo(ra,ml)}pe.closePath(),pe.fill(),pe.stroke()}else if(xt==="box"){const Is=gt.__open,wi=gt.__close,Gs=gt.__high,Ji=gt.__low;if(Is!=null&&wi!=null&&Gs!=null&&Ji!=null){const mi=Ze.boxMode||"body",ra=mi==="wick"?Gs:Math.max(Is,wi),ml=mi==="wick"?Ji:Math.min(Is,wi),id=qo.convertToPixel(ra),Aa=qo.convertToPixel(ml);if(Number.isFinite(id)&&Number.isFinite(Aa)){const Dc=pn.convertToPixel(Q),Jr=Q>0?pn.convertToPixel(Q-1):Dc-Math.abs(pn.convertToPixel(1)-pn.convertToPixel(0)),Or=Q<Bi.length-1?pn.convertToPixel(Q+1):Dc+Math.abs(pn.convertToPixel(1)-pn.convertToPixel(0)),cl=Math.min(Dc,Math.max(Pe.left,Math.floor((Jr+Dc)/2))),za=Math.max(Dc,Math.min(Pe.left+Pe.width,Math.ceil((Dc+Or)/2))),ar=Math.min(id,Aa),Va=Math.max(1,Math.abs(Aa-id)),na=Math.max(2,za-cl);pe.beginPath(),pe.rect(cl,ar,na,Va),pe.fill(),pe.strokeStyle=vi,pe.lineWidth=lo,pe.stroke()}}}else if(xt==="label"){const Is=pe.measureText(Wi||""),wi=Math.max(10,Is.width+12),Gs=Math.max(12,lo+6),Ji=Math.max(3,Math.floor(Gs/3)),mi=Ie-Math.floor(wi/2),ra=Pt-Math.floor(Gs/2);pe.beginPath();const ml=Ji;pe.moveTo(mi+ml,ra),pe.lineTo(mi+wi-ml,ra),pe.quadraticCurveTo(mi+wi,ra,mi+wi,ra+ml),pe.lineTo(mi+wi,ra+Gs-ml),pe.quadraticCurveTo(mi+wi,ra+Gs,mi+wi-ml,ra+Gs),pe.lineTo(mi+ml,ra+Gs),pe.quadraticCurveTo(mi,ra+Gs,mi,ra+Gs-ml),pe.lineTo(mi,ra+ml),pe.quadraticCurveTo(mi,ra,mi+ml,ra),pe.closePath(),pe.fill(),pe.stroke()}else if(xt==="text"){pe.fillStyle=An,pe.textAlign="center";const Is=typeof Ze.size=="number"&&Ze.size>0?Ze.size:14;pe.font=`${Is}px sans-serif`;const wi=po?Pt-(Is/2+4):Pt+(Is/2+4);pe.fillText(Wi||"",Ie,wi)}if(Wi&&xt!=="text"){const wi=(typeof Ze.size=="number"&&Ze.size>0?Ze.size:12)/2,Gs=typeof Ze.textPadding=="number"?Math.max(0,Ze.textPadding):wi+6,Ji=po?Pt-Gs:Pt+Gs;pe.fillStyle=An,pe.strokeStyle="rgba(0,0,0,0.45)",pe.textAlign="center",pe.fillText(Wi,Ie,Ji),pe.strokeText(Wi,Ie,Ji)}pe.restore(),pe.globalAlpha=Xr}else if(Wi)pe.fillStyle=An,pe.strokeStyle="rgba(0,0,0,0.45)",pe.lineWidth=1,pe.fillText(Wi,Ie,Pt),pe.strokeText(Wi,Ie,Pt);else{const Is=String(Dt||"");if(!j.has(Is)){j.add(Is);try{console.warn("[ScriptStudio] Unknown label shape:",Is)}catch{}}pe.beginPath(),pe.arc(Ie,Pt,Math.max(3,dn/3),0,Math.PI*2),pe.fillStyle=Ze.color||"#22d3ee",pe.fill()}}}return pe.restore(),!1}}},et=[];Oe.forEach((qe,$t)=>{var Ms,Zo,Cs,tr,Us,pe,Ct;const oo=ot(qe,$t);try{Lm(oo)}catch(Pe){console.debug("Script indicator register error",Pe)}const Ko=qe.pane==="main"?"candle_pane":`pane_script_${$t}`,Ut=qe.pane==="main";let ht=ve.createIndicator(oo.name,Ut,{id:Ko,height:qe.pane==="sub"?((Ms=W==null?void 0:W.sub)==null?void 0:Ms.height)??(W==null?void 0:W.height)??200:((Zo=W==null?void 0:W.main)==null?void 0:Zo.height)??(W==null?void 0:W.height)??void 0,axis:qe.pane==="sub"?{gap:{top:2,bottom:2}}:void 0});if(ht||(ht=ve.createIndicator(oo,Ut,{id:Ko,height:qe.pane==="sub"?((Cs=W==null?void 0:W.sub)==null?void 0:Cs.height)??(W==null?void 0:W.height)??200:((tr=W==null?void 0:W.main)==null?void 0:tr.height)??(W==null?void 0:W.height)??void 0,axis:qe.pane==="sub"?{gap:{top:2,bottom:2}}:void 0})),!ht)throw new Error("Unable to render script indicator.");Ne.push(ht),we.push(oo.name),A.push({def:oo,paneId:Ko});try{ve.createOverlay({name:"script-layer",visible:!0,lock:!0,groupId:"runtime"})}catch{}const rn=(((Ct=oo.calc)==null?void 0:Ct.call(oo,((pe=(Us=s())==null?void 0:Us.getDataList)==null?void 0:pe.call(Us))||[],{calcParams:[]}))||[]).reduce((Pe,pn)=>Pe+Object.keys(pn||{}).filter(qo=>qo.startsWith("__label_")).length,0);et.push(rn)});const kt=Oe.map(qe=>qe.pane).join("+"),vo=et.reduce((qe,$t)=>qe+$t,0);if(b(Ae,`Plotted (${kt}) â€¢ labels: ${vo}`),vo===0)try{const qe=Oe.reduce((Ut,ht)=>Ut+(ht.plots||[]).length,0),$t=[];qe===0&&$t.push("Pane has no plots");const oo=new Set(["open","high","low","close","volume"]),Ko=(Ut,ht)=>{const bn=(Ut||"").toLowerCase(),rn=ht.replace(/\s+/g,"_").toLowerCase();return bn==="bbands"||bn==="bollinger"||bn==="bollinger_bands"||bn==="kc"||bn==="keltner"||bn==="donchian"||bn==="linreg_channel"?[`${rn}_mid`,`${rn}_upper`,`${rn}_lower`]:bn==="atr_bands"?[`${rn}_upper`,`${rn}_lower`]:bn==="stoch"?[`${rn}_k`,`${rn}_d`]:bn==="macd"?["macd_line","macd_signal","macd_hist"]:bn==="ichimoku"?["tenkan","kijun","spana","spanb","chikou"]:[rn]};he.forEach(Ut=>{const ht=String((Ut==null?void 0:Ut.name)||(Ut==null?void 0:Ut.type)||"").replace(/\s+/g,"_").toLowerCase();Ko(String((Ut==null?void 0:Ut.type)||""),ht).forEach(bn=>oo.add(bn))}),Me.forEach(Ut=>{const ht=String((Ut==null?void 0:Ut.name)||"").replace(/\s+/g,"_").toLowerCase();ht&&oo.add(ht)}),Oe.forEach((Ut,ht)=>{(Ut.labels||[]).forEach((bn,rn)=>{const Ms=String((bn==null?void 0:bn.when)||"").trim();if(!Ms){$t.push(`Label[${ht}:${rn}] has empty condition`);return}try{const Zo=Qv(Ms),Cs=[],tr=pe=>{!pe||typeof pe!="object"||(pe.kind==="SeriesRef"&&Cs.push(String(pe.name||"")),Object.values(pe).forEach(tr))};tr(Zo);const Us=Cs.filter(pe=>!oo.has(pe.replace(/\s+/g,"_").toLowerCase())&&!["open","high","low","close","volume"].includes(pe.replace(/\s+/g,"_").toLowerCase()));Us.length&&$t.push(`Label[${ht}:${rn}] unknown series: ${Us.join(", ")}`)}catch(Zo){const Cs=(Zo==null?void 0:Zo.position)!=null?` at ${Zo.position}`:"",tr=Zo!=null&&Zo.message?String(Zo.message):String(Zo);$t.push(`Label[${ht}:${rn}] parse failed${Cs}: ${tr}`)}})}),$t.length?b(Le,$($t.join(" â€¢ "))):b(Le,"No label signals matched")}catch{}Zt();try{F&&(clearInterval(F),F=null)}catch{}cn()}async function gl(W){var ve,he,Me;b(Le,null),b(Ae,"Running..."),b(He,!0);try{let Oe=null;try{Oe=JSON.parse(W)}catch{}if(Oe&&typeof Oe=="object"&&(Oe.plots||Oe.calc||Oe.panes||Oe.main||Oe.sub))try{const $e=$b(Oe);if($e.ok&&$e.spec)await Kl($e.spec);else{const Ve=($e.errors||[]).join("; ");b(Le,$(Ve?`Schema validation failed: ${Ve}`:"Schema validation failed")),b(Ae,"Validation failed");return}}catch($e){const Ve=$e instanceof Error?$e.message:String($e);b(Le,`Schema validation error: ${Ve}`),b(Ae,"Validation failed");return}else{const $e=uo(W),Ve=s();if(!Ve)throw new Error("Chart not ready yet. Please try again in a moment.");Gr(Ve);const vt=`${it}_${Date.now()}`,ot=Do($e,vt);try{Lm(ot)}catch(Ko){console.debug("Script indicator register error",Ko)}const et=i(je)==="main"?"candle_pane":"pane_script",kt=i(je)==="main";let vo=Ve.createIndicator(ot.name,kt,{id:et,axis:i(je)==="sub"?{gap:{top:2,bottom:2}}:void 0});if(vo||(vo=Ve.createIndicator(ot,kt,{id:et,axis:i(je)==="sub"?{gap:{top:2,bottom:2}}:void 0})),!vo)throw new Error("Unable to render script indicator.");Ne.push(vo),we.push(ot.name);const qe=((Me=ot.calc)==null?void 0:Me.call(ot,((he=(ve=s())==null?void 0:ve.getDataList)==null?void 0:he.call(ve))||[],{calcParams:[$e.window]}))||[],$t=qe.filter(Ko=>Ko==null?void 0:Ko.topSignal).length,oo=qe.filter(Ko=>Ko==null?void 0:Ko.botSignal).length;b(Ae,`Plotted (WIN=${$e.window}) â€¢ â–² ${$t} / â–¼ ${oo}`)}}catch(Oe){b(Le,$(Oe instanceof Error?Oe.message:"Script failed to run.")),b(Ae,null),console.error("[ScriptStudio] run failed",Oe)}finally{b(He,!1)}D==null||D.restore()}function el(){typeof requestAnimationFrame>"u"||requestAnimationFrame(()=>{Uo.request(()=>{var he,Me;if(!s())return;s().resize(),window.__forceApplySavedCanvasColors=!0;const W=ga(n().theme);_t.merge(W,cv(n().styles)),s().setStyles(Fr(W)),Vr();const ve=(Me=(he=s()).getVisibleRange)==null?void 0:Me.call(he);ve&&typeof ve.to=="number"&&setTimeout(()=>{s()&&s().scrollToDataIndex(ve.to,0)},30)})})}function _l(){b(se,!1),el()}const Ba=()=>{window.removeEventListener("mousemove",Kr),window.removeEventListener("touchmove",Kr),window.removeEventListener("mouseup",yr),window.removeEventListener("touchend",yr)};function ll(W){if(!i(se))return;const ve="touches"in W?W.touches[0]:W,{clientY:he}=ve;ae=he,me=i(te),b(U,!0),window.addEventListener("mousemove",Kr),window.addEventListener("touchmove",Kr,{passive:!1}),window.addEventListener("mouseup",yr),window.addEventListener("touchend",yr),W.preventDefault()}function Kr(W){var Ve;if(!i(U))return;const ve="touches"in W?W.touches[0]:W,he=(Ve=i(z))==null?void 0:Ve.getBoundingClientRect();if(!he)return;const Me=ae-ve.clientY,Oe=me*he.height+Me,$e=Math.min(J,Math.max(K,Oe/he.height));b(te,$($e)),el(),W.preventDefault()}function yr(){i(U)&&(b(U,!1),Ba(),el(),setTimeout(()=>{Uo.request(()=>{var he,Me;if(!s())return;s().resize(),window.__forceApplySavedCanvasColors=!0;const W=ga(n().theme);_t.merge(W,cv(n().styles)),s().setStyles(Fr(W)),Vr();const ve=(Me=(he=s()).getVisibleRange)==null?void 0:Me.call(he);ve&&typeof ve.to=="number"&&setTimeout(()=>{s()&&s().scrollToDataIndex(ve.to,0)},30)})},140))}function Oa(W){b(Le,null);const ve="Inline Script";try{const he=CN(ve,W);b(Ae,`Saved â€¢ ${he.name}`)}catch{b(Ae,"Saved locally")}}Su(()=>{if(Ba(),F){try{clearInterval(F)}catch{}F=null}});function wl(W){if(!W)return"";if(Array.isArray(W.colors)&&W.colors.length>0){const ve=W.angle||W.direction||0,he=W.colors.map(Me=>`${Me.color} ${Me.position}%`).join(", ");return`linear-gradient(${ve}deg, ${he})`}if(Array.isArray(W.stops)&&W.stops.length>0){const ve=W.type==="radial"?"radial":"linear",he=W.direction??W.angle??0,Oe=[...W.stops].sort(($e,Ve)=>($e.position??0)-(Ve.position??0)).map($e=>{const Ve=($e.color||"").trim(),vt=$e.position??0,ot=($e.opacity??100)/100;if(Ve.startsWith("#")){const et=parseInt(Ve.slice(1,3),16),kt=parseInt(Ve.slice(3,5),16),vo=parseInt(Ve.slice(5,7),16);return`rgba(${et}, ${kt}, ${vo}, ${ot}) ${vt}%`}if(Ve.startsWith("rgb(")||Ve.startsWith("rgba(")){const et=Ve.match(/rgba?\(([^)]+)\)/i);if(et){const kt=et[1].split(",").map(oo=>oo.trim()),[vo,qe,$t]=kt;return`rgba(${vo}, ${qe}, ${$t}, ${ot}) ${vt}%`}}return`${Ve} ${vt}%`});return ve==="radial"?`radial-gradient(circle, ${Oe.join(", ")})`:`linear-gradient(${he}deg, ${Oe.join(", ")})`}return""}function Vr(){var W,ve,he,Me,Oe,$e,Ve,vt,ot,et,kt,vo;ol=!0;try{const qe=n().styles;if(!qe)return;const $t=ga(n().theme),oo=_t.get($t,"pane.backgroundColor")||(n().theme==="dark"?"#070211":"#ffffff"),Ko=n().theme==="dark"?"#ffffff":"#070211",Ut=qe.backgroundType||"solid",ht=document.querySelector(".kline-main"),bn=document.querySelector(".kline-widget");let rn="";const Ms=Ut==="gradient"&&!!qe.backgroundGradient;if(!window.__forceApplyThemeDefaults&&!window.__forceApplySavedCanvasColors&&!Ms){const Us=pe=>{if(!pe)return"";const Ct=pe,pn=(window.getComputedStyle(Ct).getPropertyValue("--chart-background-color")||"").trim(),qo=(Ct.style.background||Ct.style.backgroundColor||"").trim();return pn||qo||""};rn=Us(ht)||Us(bn)}if(!window.__forceApplyThemeDefaults&&!window.__forceApplySavedCanvasColors&&!Ms&&rn)[ht,bn].forEach(Us=>{Us&&(Us.style.background=rn,Us.style.backgroundColor=rn,Us.style.setProperty("--chart-background-color",rn))}),console.log("ðŸŽ¨ Preserved live preview background:",rn);else if(Ut==="solid"){let Us=qe.backgroundColor||oo;const pe=(qe.backgroundOpacity??100)/100,Ct=typeof qe.backgroundColor=="string"&&qe.backgroundColor.trim().toLowerCase()===Ko.toLowerCase(),Pe=!!qe.backgroundType||!!qe.backgroundGradient||typeof qe.backgroundOpacity=="number";Ct&&!Pe&&(Us=oo);let pn=Us;if(pe!==1&&Us.startsWith("#")){const qo=parseInt(Us.slice(1,3),16),Bi=parseInt(Us.slice(3,5),16),gr=parseInt(Us.slice(5,7),16);pn=`rgba(${qo}, ${Bi}, ${gr}, ${pe})`}[ht,bn].forEach(qo=>{qo&&(qo.style.background=pn,qo.style.backgroundColor=pn,qo.style.setProperty("--chart-background-color",pn))}),console.log("ðŸŽ¨ Applied saved background color:",pn)}else if(Ut==="gradient"&&qe.backgroundGradient){const Us=qe.backgroundGradient,pe=Us.css||wl(Us);[ht,bn].forEach(Ct=>{Ct&&(Ct.style.background=pe,Ct.style.backgroundColor=pe,Ct.style.setProperty("--chart-background-color",pe))}),console.log("ðŸŽ¨ Applied saved gradient background:",pe)}const Zo=qe.gridType||"solid",Cs=_t.get($t,"grid.horizontal.color")||(n().theme==="dark"?"#081115":"#F3F3F3"),tr=n().theme==="dark"?"#F3F3F3":"#081115";if(s()&&Zo==="solid"){const Us=((ve=(W=s()).getStyles)==null?void 0:ve.call(W))??{},pe=window.__forceApplyThemeDefaults||window.__forceApplySavedCanvasColors?void 0:_t.get(Us,"grid.horizontal.color")||_t.get(Us,"grid.vertical.color"),Ct=((Me=(he=qe.grid)==null?void 0:he.horizontal)==null?void 0:Me.color)||(($e=(Oe=qe.grid)==null?void 0:Oe.vertical)==null?void 0:$e.color),Pe=typeof qe.gridOpacity=="number"?qe.gridOpacity:100,pn=Math.max(0,Math.min(100,Pe))/100;let qo=pe||Ct||Cs;const Bi=!pe&&typeof Ct=="string"&&Ct.trim().toLowerCase()===tr.toLowerCase(),gr=!!qe.gridType||!!qe.gridGradient||typeof qe.gridOpacity=="number";if(Bi&&!gr&&(qo=Cs),!pe&&typeof qo=="string"&&qo.startsWith("#")&&pn!==1){const Ts=parseInt(qo.slice(1,3),16),Ke=parseInt(qo.slice(3,5),16),It=parseInt(qo.slice(5,7),16);qo=`rgba(${Ts}, ${Ke}, ${It}, ${pn})`}const gs=_t.cloneDeep(Us);_t.set(gs,"grid.horizontal.color",qo),_t.set(gs,"grid.vertical.color",qo),(vt=(Ve=n().styles)==null?void 0:Ve.candle)!=null&&vt.type&&_t.set(gs,"candle.type",n().styles.candle.type),Ra?Ra(Fr(gs)):s().setStyles(Fr(gs)),console.log("ðŸŽ¨ Applied grid color (preserving preview when available):",qo)}else if(s()&&Zo==="gradient"&&qe.gridGradient){const Us=((et=(ot=s()).getStyles)==null?void 0:et.call(ot))??{},pe=window.__forceApplyThemeDefaults||window.__forceApplySavedCanvasColors?void 0:_t.get(Us,"grid.horizontal.color")||_t.get(Us,"grid.vertical.color"),Ct=qe.gridGradient,Pe=Ct.css||wl(Ct),pn=pe||Pe,qo=_t.cloneDeep(Us);_t.set(qo,"grid.horizontal.color",pn),_t.set(qo,"grid.vertical.color",pn),(vo=(kt=n().styles)==null?void 0:kt.candle)!=null&&vo.type&&_t.set(qo,"candle.type",n().styles.candle.type),Ra?Ra(Fr(qo)):s().setStyles(Fr(qo)),console.log("ðŸŽ¨ Applied gradient grid (preserving preview when available):",pn)}}catch(qe){console.error("Error applying canvas colors:",qe)}finally{ol=!1,window.__forceApplyThemeDefaults&&(window.__forceApplyThemeDefaults=!1),window.__forceApplySavedCanvasColors&&(window.__forceApplySavedCanvasColors=!1)}}Qs(p(),Qt(r).applyCanvasColors=Vr,Qt(r)),ro.setApplyCanvasColorsFunction(Vr),an.setApplyCanvasColorsFunction(Vr);let tl=null,Ra=null,ol=!1,Na=null;Ds(()=>{var W;if(s()&&s()!==tl){tl=s(),Ra=s().setStyles.bind(s());const ve=s().resize.bind(s());Na=((W=s().createIndicator)==null?void 0:W.bind(s()))??null,Qs(G,Qt(s).setStyles=function(he){const Me=Ra(he);return ol||Uo.request(()=>Vr()),Me},Qt(s)),Qs(G,Qt(s).resize=function(){const he=ve();return Uo.request(()=>Vr()),he},Qt(s)),Na&&Qs(G,Qt(s).createIndicator=function(he,Me,Oe){var et,kt,vo;const $e=this;let Ve=[];try{const qe=(et=$e.getPaneOptions)==null?void 0:et.call($e);Array.isArray(qe)&&(Ve=qe)}catch{}const vt=Na(he,Me,Oe);let ot=[];try{const qe=(kt=$e.getPaneOptions)==null?void 0:kt.call($e);Array.isArray(qe)&&(ot=qe)}catch{return vt}try{const qe=new Set(Ve.map($t=>$t==null?void 0:$t.id).filter(Boolean));for(const $t of ot){const oo=$t==null?void 0:$t.id;if(oo&&!(oo==="candle_pane"||oo==="x_axis_pane")&&!qe.has(oo)&&!br()){const Ko=typeof $t.height=="number"&&$t.height>0?$t.height:void 0;if(Ko!==void 0){const Ut=Ko+100;try{(vo=$e.setPaneOptions)==null||vo.call($e,{id:oo,height:Ut}),console.log("ðŸ“ Increased new subâ€‘pane height by 100px (desktop only)",{paneId:oo,baseHeight:Ko,newHeight:Ut})}catch{}}}}}catch{}return vt},Qt(s)),console.log("ðŸ”§ Chart methods wrapped to preserve canvas colors")}}),console.log("ðŸ“Š About to define onMount function"),console.log("ðŸ“Š Browser environment:",nh),console.log("ðŸš€ Attempting to call loadSymbols immediately"),At().then(()=>{console.log("âœ… loadSymbols completed successfully"),console.log("ðŸ“Š allSymbols length:",n().allSymbols.length)}).catch(W=>{console.error("âŒ loadSymbols failed:",W)}),yc(async()=>{var Oe,$e,Ve,vt,ot,et,kt,vo;if(console.log("ðŸš€ onMount started - browser:",nh),console.log("ðŸ“Š chartRef:",S),!S){console.error("âŒ chartRef is not available");return}($e=(Oe=n().styles)==null?void 0:Oe.candle)!=null&&$e.type||h().update(qe=>(qe.styles=qe.styles||{},qe.styles.candle=qe.styles.candle||{},qe.styles.candle.type="renko_atr",qe.styles.candle.renko||(qe.styles.candle.renko={method:"ATR",atrLength:14,source:"close",wick:!1}),qe));const W=ga(n().theme),ve=_t.merge({},W,n().styles);console.log("ðŸŽ¨ onMount - Theme styles:",JSON.stringify(W,null,2)),console.log("ðŸ’¾ onMount - Saved styles:",JSON.stringify(n().styles,null,2)),console.log("ðŸ”„ onMount - Merged styles:",JSON.stringify(ve,null,2)),w2(G,$(A3(S,{styles:Fr(ve),customApi:{formatDate:(qe,$t,oo)=>E1(n().period.timespan)(qe,$t,oo)}}))),Zt();try{const qe=(vt=(Ve=n().styles)==null?void 0:Ve.candle)==null?void 0:vt.type;s()&&(qe==="renko_atr"||qe==="point_and_figure"||qe==="heikin_ashi")&&ro.switchChartType({chart:s(),newType:qe,reloadDataFn:async()=>{await Vt()}})}catch{}if(s()){const qe=new qO(s()),$t=new GO(s()),oo=new HO(s()),Ko=Ab(s()),Ut=JO(Ko);$t.setProjectionManager(qe),$t.setCreationManager(oo),$t.initialize(),console.log("Enhanced overlay system initialized with templates:",Object.keys(Ut)),Mn=jP({chart:s(),persistenceKey:n().key+"_drawings",onDrawingCreated:bn=>{console.log("âœ… Drawing created:",bn.id,"for symbol:",bn.symbolKey)},onDrawingRemoved:(bn,rn)=>{console.log("ðŸ—‘ï¸ Drawing removed:",bn,"from symbol:",rn)},onSymbolChanged:(bn,rn)=>{console.log("ðŸ”„ Symbol changed in DrawingManager:",bn,"â†’",rn)}});const ht=ku(n().symbol);Mn.setCurrentSymbol(ht),oo.setCurrentSymbolKey(ht),typeof window<"u"&&(window.overlayCreationManager=oo),console.log("âœ… DrawingManager initialized for symbol:",ht)}Qs(p(),Qt(r).cloudIndLoaded+=1,Qt(r)),G1.set(n().symbol),H1.set(n().period),console.log("ðŸš€ About to call loadSymbols from onMount"),await At(),console.log("âœ… loadSymbols completed from onMount"),window.addEventListener("resize",io);let he=s();if(setTimeout(()=>{var qe,$t;if(he)try{const oo=((qe=he.getDataList)==null?void 0:qe.call(he))??[];Array.isArray(oo)&&oo.length>0&&b(q,!0);const Ko=($t=he.getVisibleRange)==null?void 0:$t.call(he);(Array.isArray(oo)&&oo.length>0&&Ko&&typeof Ko.to=="number"?Ko.to>=oo.length-2:!1)&&he.scrollToRealTime()}catch{}},100),Qe){try{Qe()}catch{}Qe=null}Qe=pt(he);const Me=ga(n().theme);_t.merge(Me,cv(n().styles)),(ot=s())==null||ot.setStyles(Fr(Me)),console.log("ðŸŽ¨ APPLYING SAVED CANVAS COLORS ON FIRST LOAD"),Vr(),setTimeout(()=>{console.log("ðŸŽ¨ RE-APPLYING SAVED CANVAS COLORS AFTER DELAY"),Vr()},200);try{const qe=()=>{var rn,Ms,Zo,Cs,tr,Us,pe,Ct,Pe,pn,qo,Bi,gr;if(!s())return;const Ut=s();let ht=[];try{ht=((rn=Ut.getIndicators)==null?void 0:rn.call(Ut))??[]}catch{ht=[]}const bn=Object.entries(n().saveInds||{});for(const[,gs]of bn){const Ts=gs==null?void 0:gs.name;if(!Ts)continue;const Ke=(gs==null?void 0:gs.pane_id)||"";if(ht.some(Ie=>Ie.name===Ts&&(!Ke||Ie.paneId===Ke)))continue;let Q;if(Array.isArray(gs.styles)&&gs.styles.length>0){const Ie=rt=>rt==="dashed"||rt==="dotted"?{style:de.Dashed,dashedValue:rt==="dotted"?[2,2]:[4,4]}:{style:de.Solid,dashedValue:[2,2]};Q={lines:gs.styles.map(rt=>{const Ze=Ie(rt==null?void 0:rt.lineStyle);return{color:rt==null?void 0:rt.color,size:(rt==null?void 0:rt.thickness)??1,style:Ze.style,dashedValue:Ze.dashedValue}})}}let gt;if(Ts==="SMARTTREND"){const Ie=gs.superTrendGroup;if(gt=Ie?{showLabels:!!Ie.showLabels,uptrendColor:((Zo=(Ms=Ie.styles)==null?void 0:Ms.uptrend)==null?void 0:Zo.color)??"#00FF00",downtrendColor:((tr=(Cs=Ie.styles)==null?void 0:Cs.downtrend)==null?void 0:tr.color)??"#FF0000",uptrendThickness:((pe=(Us=Ie.styles)==null?void 0:Us.uptrend)==null?void 0:pe.thickness)??1,downtrendThickness:((Pe=(Ct=Ie.styles)==null?void 0:Ct.downtrend)==null?void 0:Pe.thickness)??1,uptrendLineStyle:((qo=(pn=Ie.styles)==null?void 0:pn.uptrend)==null?void 0:qo.lineStyle)??"dashed",downtrendLineStyle:((gr=(Bi=Ie.styles)==null?void 0:Bi.downtrend)==null?void 0:gr.lineStyle)??"dashed"}:{showLabels:!0,uptrendColor:"#00FF00",downtrendColor:"#FF0000",uptrendThickness:1,downtrendThickness:1,uptrendLineStyle:"dashed",downtrendLineStyle:"dashed"},!Q){const rt=gt.uptrendLineStyle==="dotted"||gt.uptrendLineStyle==="dashed";Q={lines:[{color:gt.uptrendColor,size:gt.uptrendThickness,style:rt?de.Dashed:de.Solid,dashedValue:gt.uptrendLineStyle==="dotted"?[2,2]:[4,4]}]}}}const De=Ke==="candle_pane";try{Ut.createIndicator({name:Ts,calcParams:gs==null?void 0:gs.params,styles:Q,...gt?{extendData:gt}:{}},De,Ke?{id:Ke}:void 0)}catch(Ie){console.warn("âš ï¸ Failed to restore indicator:",Ts,Ie)}}};let $t=null;try{$t=typeof window<"u"?localStorage.getItem("chart.activeSaveId"):null}catch{}console.log($t?"â„¹ï¸ Active layout detected, SaveSystem will restore indicators.":"â„¹ï¸ No active layout, will add default indicators if needed.");const oo=Ut=>{try{if(!s())return;const ht=s();console.log("ðŸŽ¨ Adding default indicators...");const bn="candle_pane";try{ht.createIndicator({name:"SMARTTREND",calcParams:[10,3],styles:{lines:[{color:"#00FF00",size:1,style:de.Dashed,dashedValue:[4,4]}]},extendData:{showLabels:!0,uptrendColor:"#00FF00",downtrendColor:"#FF0000",uptrendThickness:1,downtrendThickness:1,uptrendLineStyle:"dashed",downtrendLineStyle:"dashed"}},!0,{id:bn})&&h().update(Ms=>(Ms.saveInds[`${bn}_SMARTTREND`]={name:"SMARTTREND",pane_id:bn,params:[10,3]},Ms))}catch{}try{const rn="candle_pane";ht.createIndicator({name:"VOL",calcParams:[20],styles:{lines:[]}},!0,{id:rn})&&h().update(Zo=>(Zo.saveInds[`${rn}_VOL`]={name:"VOL",pane_id:rn,params:[20]},Zo))}catch{}console.log("âœ… Default indicators applied",{force:Ut})}catch(ht){console.warn("âš ï¸ Failed to add default indicators:",ht)}};let Ko=!1;try{const Ut=(et=performance.getEntriesByType)==null?void 0:et.call(performance,"navigation");Ut&&Ut.length>0?Ko=Ut[0].type==="reload":performance.navigation&&(Ko=performance.navigation.type===1)}catch{}h().update(Ut=>(Ut.saveInds={},Ut)),$t?(console.log("âœ… Active saved layout will be restored by SaveSystem"),setTimeout(()=>{var Ut,ht;try{const bn=typeof window<"u"?localStorage.getItem("chart.activeSaveId"):null,rn=((ht=(Ut=s())==null?void 0:Ut.getIndicators)==null?void 0:ht.call(Ut))??[];!bn&&(!rn||rn.length===0)&&(console.log("ðŸ›Ÿ No active layout after restore attempt; applying default indicators"),oo(!0))}catch{}},500)):(console.log("ðŸŽ¨ No saved layout found, adding default indicators"),setTimeout(()=>{try{(typeof window<"u"?localStorage.getItem("chart.activeSaveId"):null)?console.log("â„¹ï¸ activeSaveId appeared; skipping default indicators"):oo(!0)}catch{oo(!0)}},250))}catch(qe){console.warn("âš ï¸ Indicator restore failed:",qe)}if(((vo=(kt=n().styles)==null?void 0:kt.candle)==null?void 0:vo.type)==="point_and_figure"&&s())try{s().createIndicator("PNF",!1,{id:"candle_pane"}),console.log("ðŸ“Š Added PNF indicator for initial Point & Figure chart")}catch(qe){console.warn("Failed to add initial PNF indicator:",qe)}Qs(p(),Qt(r).initDone+=1,Qt(r)),x()||setTimeout(()=>{s()&&!r().loadingKLine&&(console.log("ðŸ”„ Loading initial chart data after initialization"),Vt())},100),At(),setTimeout(()=>{console.log("ðŸ” Current allSymbols:",n().allSymbols),console.log("ðŸ” allSymbols length:",n().allSymbols.length)},3e3),S==null||S.focus();try{typeof window<"u"&&(window.drawBarRef=i(B),window.sidebarHostRef=i(Y),window.predictNextCandle=()=>xo(),window.getAutoPlayState=()=>i(We),window.getPlaybackSpeed=()=>i(Ht),window.setPlaybackSpeed=qe=>Xe(qe),window.stopPrediction=()=>Et())}catch{}Kt=qe=>{if(!Nm())return;(qe.key==="F5"||(qe.metaKey||qe.ctrlKey)&&(qe.key==="r"||qe.key==="R"))&&(qe.preventDefault(),qe.stopPropagation(),b(Ce,!0))},window.addEventListener("keydown",Kt,{capture:!0}),to=qe=>{var $t,oo;if(Nm()){try{const Ko=((($t=n())==null?void 0:$t.key)||"chart")+"_drawings";localStorage.removeItem(Ko)}catch{}try{const Ko=(((oo=n())==null?void 0:oo.key)||"chart")+"_overlays";localStorage.removeItem(Ko)}catch{}try{localStorage.removeItem("dataSpaceOverlays")}catch{}qe.preventDefault(),qe.returnValue=""}},window.addEventListener("beforeunload",to),setTimeout(()=>{const qe=S==null?void 0:S.querySelectorAll(".klinecharts-pane-separator");qe==null||qe.forEach($t=>{const oo=$t;oo.style.transition="background-color 0.2s ease, transform 0.1s ease",oo.addEventListener("mouseenter",()=>{oo.style.cursor="row-resize",oo.style.transform="scaleY(1.2)"}),oo.addEventListener("mouseleave",()=>{oo.style.transform="scaleY(1)"}),oo.addEventListener("mousedown",()=>{oo.classList.add("dragging"),document.body.style.cursor="row-resize"});const Ko=()=>{oo.classList.remove("dragging"),document.body.style.cursor=""};document.addEventListener("mouseup",Ko),oo.addEventListener("touchstart",Ut=>{Ut.preventDefault(),oo.classList.add("dragging"),"vibrate"in navigator&&navigator.vibrate(10)}),oo.addEventListener("touchend",()=>{oo.classList.remove("dragging")})})},500)}),Su(()=>{Et(),ct&&(clearTimeout(ct),ct=null),yo&&(cancelAnimationFrame(yo),yo=null),Kt&&window.removeEventListener("keydown",Kt,{capture:!0}),to&&window.removeEventListener("beforeunload",to);try{const W=Te}catch{}try{window.removeEventListener("resize",io)}catch{}if(Qe){try{Qe()}catch{}Qe=null}s()&&Gr(s())});function pt(W){let ve=null,he=!1,Me=0;const Oe=800;let $e=0;const Ve=5;let vt=null,ot=!1;const et=()=>{try{if(ot)return;const qe=W.getVisibleRange();if(!qe||he)return;const $t=W.getDataList();if($t.length===0)return;const oo=$t.length-1;X=qe.to>=oo-1;const Ut=qe.to-qe.from;vt=Ut;const ht=Math.max(3,Math.min(15,Math.floor(Ut*.15))),bn=ve&&qe.from<ve.from,rn=qe.from<=ht,Ms=!ve||Math.abs(qe.from-ve.from)>1,Zo=Date.now(),Cs=$e>=Ve?Oe*3:Oe,tr=Zo-Me>Cs;if(qe.from<=Math.max(1,Math.floor(ht/2))&&tr||rn&&tr){const Pe=$t[0];console.log(`ðŸš€ Infinite scroll triggered: from=${qe.from}, threshold=${ht}, dataLength=${$t.length}, consecutive=${$e}`),kt(Pe.timestamp),Me=Zo,$e+=1,setTimeout(()=>{$e=Math.max(0,$e-1)},Oe*1.5)}ve={...qe}}catch(qe){console.error("âŒ Error checking scroll position:",qe)}},kt=async qe=>{var $t,oo,Ko,Ut,ht,bn,rn,Ms,Zo,Cs,tr,Us;if(he||r().loadingKLine||i(Je)){console.log("â³ Already loading data, skipping request...");return}he=!0,b(Je,!0),b(be,null),console.log("ðŸ”„ Loading more historical data...");try{const Ct=((oo=($t=n().styles)==null?void 0:$t.candle)==null?void 0:oo.type)==="renko_atr"?H??qe:qe,Pe=await u.loadMoreHistoricalData(n().symbol,n().period,Ct);if(Pe.data.length>0){let pn=Pe.data;if(((Ut=(Ko=n().styles)==null?void 0:Ko.candle)==null?void 0:Ut.type)==="heikin_ashi")pn=Y1(pn);else if(((bn=(ht=n().styles)==null?void 0:ht.candle)==null?void 0:bn.type)==="renko_atr"){const gs=((Ms=(rn=n().styles)==null?void 0:rn.candle)==null?void 0:Ms.renko)||{method:"ATR",atrLength:14,source:"close",wick:!1};pn=K1(pn,gs);try{const Ts=Pe.data&&Pe.data.length?Math.min(...Pe.data.map(Ke=>Ke.timestamp||0)):null;Ts&&(!H||Ts<H)&&(H=Ts)}catch{}}else if(((Cs=(Zo=n().styles)==null?void 0:Zo.candle)==null?void 0:Cs.type)==="point_and_figure"){const gs=((Us=(tr=n().styles)==null?void 0:tr.candle)==null?void 0:Us.pnf)||{boxSizeMode:"ATR",boxSize:1,atrLength:14,reversalBoxes:3,upColor:"#00E6D8",downColor:"#FF4D4D"};pn=Z1(pn,gs)}const qo=W.getDataList();pn.sort((gs,Ts)=>gs.timestamp-Ts.timestamp);const Bi=new Set(qo.map(gs=>gs.timestamp)),gr=pn.filter(gs=>!Bi.has(gs.timestamp));if(gr.length>0){const gs=W.getVisibleRange(),Ts=(gs==null?void 0:gs.to)??null,Ke=!gs||!qo.length?!1:gs.to>=qo.length-2,It=Ts!==null&&qo[Ts]?qo[Ts].timestamp:null,Q=[...gr,...qo].sort((gt,De)=>gt.timestamp-De.timestamp);W.applyNewData(Q,{backward:!0,forward:!0});try{Q.length>0&&b(q,!0)}catch{}if(console.log(`âœ… Successfully loaded and merged ${gr.length} more historical bars`),b(be,null),gs){const gt=Ke?Q.length-1:(Ts??0)+gr.length;requestAnimationFrame(()=>{var De;try{W.scrollToDataIndex(gt),console.log(`ðŸŽ¯ Scroll anchored to index ${gt} (previous right edge was ${Ts})`)}catch(Ie){const rt=It??((De=Q[gr.length])==null?void 0:De.timestamp);if(rt)try{W.scrollToTimestamp(rt)}catch{}console.warn("Could not maintain scroll position:",Ie)}})}}else console.log("ðŸ“­ No new unique historical data to add");Pe.lays&&Pe.lays.length>0&&i(B)&&Pe.lays.forEach(gs=>{i(B).addOverlay(gs)})}else console.log("ðŸ“­ No more historical data available"),ot=!0}catch(pe){console.error("âŒ Error loading more historical data:",pe),b(be,$(pe instanceof Error?pe.message:"Failed to load historical data")),re.addAlert("error",`Failed to load historical data: ${i(be)}`)}finally{he=!1,b(Je,!1)}},vo=setInterval(et,100);return()=>{clearInterval(vo),console.log("ðŸ§¹ Infinite scrolling cleanup completed")}}async function At(){console.log("ðŸš€ loadSymbols function called. loadingPairs:",r().loadingPairs,"allSymbols length:",n().allSymbols.length),Qs(p(),Qt(r).loadingPairs=!0,Qt(r)),console.log("ðŸ”„ Loading symbols..."),console.log("ðŸ”„ loadSymbols proceeding");const W=await u.getSymbols();console.log("ðŸ“Š Symbols loaded:",W),console.log("ðŸ“Š Symbols loaded count:",W.length),Qs(h(),Qt(n).allSymbols=W,Qt(n));const ve=new Set;W.forEach(he=>{he.exchange&&ve.add(he.exchange)}),h().update(he=>(ve.forEach(Me=>{he.allExgs.add(Me)}),he)),Qs(p(),Qt(r).loadingPairs=!1,Qt(r))}async function Bt(W,ve,he,Me,Oe=!0,$e=mt){var $t,oo,Ko,Ut,ht,bn,rn,Ms;const Ve=s();if(!Ve)return;$e===mt&&Qs(p(),Qt(r).loadingKLine=!0,Qt(r));const vt=a().url.searchParams.get("strategy");console.log("loadKlineRange",{symbol:W,period:ve,start_ms:he,stop_ms:Me,strategy:vt});const ot=await u.getHistoryKLineData({symbol:W,period:ve,from:he,to:Me,strategy:vt});let et=ot.data;if(!et||et.length===0){try{setTimeout(()=>{try{const Zo=mt;$e<=Zo&&(console.log("ðŸ” Retrying empty kline load once for timeframe",ve.timeframe),Bt(W,ve,he,Me,Oe,Zo))}catch{}},220)}catch{}$e===mt&&Qs(p(),Qt(r).loadingKLine=!1,Qt(r));return}const kt=((oo=($t=n().styles)==null?void 0:$t.candle)==null?void 0:oo.type)||AP((Ut=(Ko=s())==null?void 0:Ko.getStyles)==null?void 0:Ut.call(Ko),n().styles);if(kt==="heikin_ashi")et=Y1(et);else if(kt==="renko_atr"){try{const Cs=ot.data&&ot.data.length?Math.min(...ot.data.map(tr=>tr.timestamp||0)):null;Cs&&(!H||Cs<H)&&(H=Cs)}catch{}const Zo=((bn=(ht=n().styles)==null?void 0:ht.candle)==null?void 0:bn.renko)||{method:"ATR",atrLength:14,source:"close",wick:!1};et=K1(et,Zo)}else if(kt==="point_and_figure"){const Zo=((Ms=(rn=n().styles)==null?void 0:rn.candle)==null?void 0:Ms.pnf)||{boxSizeMode:"ATR",boxSize:1,atrLength:14,reversalBoxes:3,upColor:"#00E6D8",downColor:"#FF4D4D"};et=Z1(et,Zo)}if(et=et.map((Zo,Cs)=>((!Zo.timestamp||isNaN(Zo.timestamp)||Zo.timestamp<=0)&&(console.warn(`Invalid timestamp in klines at index ${Cs}:`,Zo.timestamp),Zo.timestamp=Date.now()-(et.length-Cs)*6e4),Zo)),$e!==mt){console.log("â­ï¸ Ignoring stale load result");return}const vo=kt==="renko_atr",qe=!vo&&Oe&&et.length>0;Ve.applyNewData(et,!!qe);try{(et??[]).length>0&&b(q,!0)}catch{}if(ot.lays&&ot.lays.length>0&&i(B)&&ot.lays.forEach(Zo=>{i(B).addOverlay(Zo)}),$e===mt&&Qs(p(),Qt(r).loadingKLine=!1,Qt(r)),Qs(p(),Qt(r).klineLoaded+=1,Qt(r)),et.length){const Zo=jg(ve.timeframe)*1e3,Cs=new Date().getTime(),tr=et[et.length-1].timestamp+Zo;!vo&&tr+Zo>Cs&&u.subscribe(W,Us=>{const pe=Us,Ct=Ve.getDataList(),Pe=Ct[Ct.length-1],pn=Pe&&Pe.timestamp?[Pe.timestamp,Pe.open,Pe.high,Pe.low,Pe.close,Pe.volume??0]:null,qo=TP(pe.bars,pe.secs*1e3,Zo,pn),Bi=Ve.getChartStore(),gr=Ve.getVisibleRange(),gs=Ve.getDataList(),Ts=gr&&gs[gr.from]?gs[gr.from].timestamp:null,Ke=gs.length-1,It=gr?gr.to>=Ke-1:!0;Bi.addData(qo,"backward",{forward:It,backward:!1});try{const Q=Ve.getDataList();Array.isArray(Q)&&Q.length>0&&b(q,!0)}catch{}!It&&gr&&Ts&&requestAnimationFrame(()=>{try{const gt=Ve.getDataList().findIndex(De=>De.timestamp===Ts);gt!==-1?Ve.scrollToDataIndex(gt):Ve.scrollToDataIndex(gr.from)}catch{}})})}}async function dt(){b(q,!1);const W=D1(n().dateStart);let ve=D1(n().dateEnd);if(!W||!ve){re.addAlert("error","invalid time, please use: 202301011200");return}const he=jg(n().period.timeframe)*1e3;(ve-W)/he>w&&(ve=W+he*w),await Bt(n().symbol,n().period,W,ve,!1)}function Vt(W){console.log("ðŸ”„ loadSymbolPeriod called"),b(q,!1);const ve=n().symbol,he=n().period;console.log("ðŸ”„ Loading symbol:",ve.ticker,"period:",he.timeframe);const Me=new Date().getTime(),[Oe,$e]=R3(he,Me,oe);console.log("ðŸ”„ Time range:",new Date(Oe),"to",new Date(Me)),Bt(ve,he,Oe,Me,!x(),W??mt);try{setTimeout(()=>{var Ve;try{const vt=s(),ot=((Ve=vt==null?void 0:vt.getDataList)==null?void 0:Ve.call(vt))??[];if(!Array.isArray(ot)||ot.length===0){const et=mt;console.log("ðŸ” Retrying loadSymbolPeriod due to empty data after TF change"),Bt(ve,he,Oe,Me,!x(),et)}}catch{}},250)}catch{}}ja(h(),W=>W.period.timeframe).subscribe(W=>{var ve;try{(ve=s())==null||ve.setCustomApi({formatDate:(he,Me,Oe)=>E1(n().period.timespan)(he,Me,Oe)})}catch{}if(H1.set(n().period),H=null,!(x()||!s())){if(ro.changeTimeframe({chart:s(),period:n().period,loadDataFn:async()=>{var Me;const he=bt();try{(Me=s())==null||Me.applyNewData([],!1),b(q,!1)}catch{}await Vt(he)}}),Qe){try{Qe()}catch{}Qe=null}s()&&(Qe=pt(s()))}}),ja(h(),W=>W.symbol.ticker).subscribe(W=>{var he;if(console.log("ðŸ“Š Symbol subscription triggered:",W),console.log("ðŸ“Š Current symbol:",n().symbol),console.log("ðŸ“Š Loading state:",r().loadingKLine,"Custom load:",x()),G1.set(n().symbol),H=null,Mn){const Me=ku(n().symbol);Mn.setCurrentSymbol(Me),console.log("ðŸ”„ DrawingManager updated to symbol:",Me),Mn.renderCurrentSymbolDrawings()}try{const Me=window.overlayCreationManager;Me&&Me.setCurrentSymbolKey(ku(n().symbol))}catch{}if(x())return;console.log("ðŸ“Š Proceeding with symbol change - unsubscribing and loading new data"),u.unsubscribe();try{u.clearCache()}catch{}try{(he=s())==null||he.applyNewData([],!1),b(q,!1)}catch{}if(Qe){try{Qe()}catch{}Qe=null}s()&&(Qe=pt(s()));const ve=bt();Vt(ve)});const Ro=["SMART_MONEY","TRAP_HUNTER","VOLCANIC","VOLCANIC_SIG"];function Tn(){var Me,Oe;if(!s())return;const W=(Me=c())==null?void 0:Me.data;if(W&&(W.isPremium===!0||W.isTrial===!0))return;console.log("ðŸ”’ User does not have premium access. Removing AI indicators...");const he=s();try{const $e=((Oe=he.getIndicators)==null?void 0:Oe.call(he))??[];let Ve=0;for(const vt of $e)if(vt.name&&Ro.includes(vt.name))try{he.removeIndicator({paneId:vt.paneId||"candle_pane",name:vt.name}),Ve+=1,console.log(`âœ… Removed AI indicator: ${vt.name} from pane: ${vt.paneId}`)}catch(ot){console.warn(`âš ï¸ Failed to remove indicator ${vt.name}:`,ot)}h().update(vt=>{if(!vt.saveInds)return vt;const ot=[];return Object.keys(vt.saveInds).forEach(et=>{const kt=vt.saveInds[et];kt&&kt.name&&Ro.includes(kt.name)&&ot.push(et)}),ot.forEach(et=>{delete vt.saveInds[et],console.log(`ðŸ§¹ Removed AI indicator from saveInds: ${et}`)}),vt}),Ve>0&&(md(),console.log(`âœ… Removed ${Ve} AI indicator(s) due to lack of premium access`))}catch($e){console.error("âŒ Error removing AI indicators:",$e)}}let jo=Z(null),En=Z(!1);Ds(()=>{var Me;if(!s())return;const W=(Me=c())==null?void 0:Me.data;if(W===void 0)return;const ve=W&&(W.isPremium===!0||W.isTrial===!0);(!i(En)||i(jo)===!0&&ve===!1)&&!ve&&setTimeout(()=>{Tn()},1e3),b(jo,$(ve)),b(En,!0)});const mo=ja(h(),W=>W.theme);let Es=n().theme;mo.subscribe(W=>{var Ve,vt;if(console.log("ðŸŽ¨ THEME SUBSCRIPTION TRIGGERED:",W,"Previous:",Es),W===Es){console.log("â¸ï¸ Theme value unchanged, skipping subscription");return}if(console.log("ðŸŽ¨ THEME ACTUALLY CHANGED:",Es,"->",W),Es=W,Ee){console.log("â¸ï¸ Skipping theme subscription - manual styles being applied");return}if(r().isApplyingManualStyles){console.log("â¸ï¸ SKIPPING theme application - manual styles are being applied via context");return}W=="light"?(Qs(h(),Qt(n).colorLong="green",Qt(n)),Qs(h(),Qt(n).colorShort="red",Qt(n))):(Qs(h(),Qt(n).colorLong="green",Qt(n)),Qs(h(),Qt(n).colorShort="rgb(255,135,8)",Qt(n)));const ve=ga(n().theme);console.log("ðŸŽ¨ Theme styles from getThemeStyles:",JSON.stringify(ve,null,2)),console.log("ðŸ’¾ Current save.styles:",JSON.stringify(n().styles,null,2));const he=cv(n().styles),Me=(Ve=he==null?void 0:he.candle)==null?void 0:Ve.type;Me&&console.log("ðŸ”’ Preserving chart type during theme change:",Me);const Oe=_t.merge({},ve,he);Me&&Oe.candle&&(Oe.candle.type=Me),console.log("ðŸ”„ Merged styles (theme + saved):",JSON.stringify(Oe,null,2));const $e=Fr(Oe);console.log("âœ¨ Final processed styles:",JSON.stringify($e,null,2)),(vt=s())==null||vt.setStyles($e),console.log("âœ… Styles applied to chart via theme subscription"),console.log("ðŸŽ¨ APPLYING SAVED CANVAS COLORS AFTER THEME CHANGE"),setTimeout(()=>{Vr(),console.log("âœ… Canvas colors reapplied after theme change")},100),setTimeout(()=>{var et,kt,vo;console.log("ðŸ” CHART STATE CHECK after theme subscription:");const ot=(et=s())==null?void 0:et.getStyles();console.log("  - Current chart styles:",JSON.stringify(ot,null,2)),console.log("  - Saved chart type in $save.styles:",(vo=(kt=n().styles)==null?void 0:kt.candle)==null?void 0:vo.type)},200)}),ja(h(),W=>W.timezone).subscribe(W=>{var ve;(ve=s())==null||ve.setTimezone(W),F1(W)});const Vi=ja(h(),W=>{var ve,he;return(he=(ve=W.styles)==null?void 0:ve.candle)==null?void 0:he.type});let Rn=((sd=(Sa=n().styles)==null?void 0:Sa.candle)==null?void 0:sd.type)||null;Vi.subscribe(W=>{if(r().loadingKLine||x())return;const ve=s();if(!ve)return;H=null;const he=Rn==="point_and_figure",Me=W==="point_and_figure";if(Me&&!he)try{ve.createIndicator("PNF",!1,{id:"candle_pane"}),console.log("ðŸ“Š Added PNF indicator for Point & Figure chart")}catch(Oe){console.warn("Failed to add PNF indicator:",Oe)}else if(!Me&&he)try{ve.removeIndicator({paneId:"candle_pane",name:"PNF"}),console.log("ðŸ“Š Removed PNF indicator (switched from P&F)");const Oe=ga(n().theme),$e=_t.merge({},Oe,cv(n().styles)),Ve=Fr($e);ve.setStyles(Ve),console.log("ðŸŽ¨ Refreshed styles after P&F exit - candle colors restored")}catch(Oe){console.warn("Failed to cleanup after P&F:",Oe)}Rn=W||null,(W==="heikin_ashi"||W==="renko_atr"||W==="point_and_figure"||W!=="heikin_ashi"&&W!=="renko_atr"&&W!=="point_and_figure"&&ve.getDataList().length>0)&&ro.switchChartType({chart:ve,newType:W||"candle_solid",reloadDataFn:async()=>{await Vt()}})}),ja(h(),W=>{var he,Me;const ve=((Me=(he=W.styles)==null?void 0:he.candle)==null?void 0:Me.renko)||{};return JSON.stringify(ve)}).subscribe(W=>{var he,Me;if(r().loadingKLine||x()||((Me=(he=n().styles)==null?void 0:he.candle)==null?void 0:Me.type)!=="renko_atr")return;const ve=s();ve&&ro.switchChartType({chart:ve,newType:"renko_atr",reloadDataFn:async()=>{await Vt()}})}),ja(h(),W=>{var he,Me;const ve=((Me=(he=W.styles)==null?void 0:he.candle)==null?void 0:Me.pnf)||{};return JSON.stringify(ve)}).subscribe(W=>{var he,Me;if(r().loadingKLine||x()||((Me=(he=n().styles)==null?void 0:he.candle)==null?void 0:Me.type)!=="point_and_figure")return;const ve=s();ve&&ro.switchChartType({chart:ve,newType:"point_and_figure",reloadDataFn:async()=>{await Vt()}})}),ja(p(),W=>W.fireOhlcv).subscribe(async W=>{r().timeStart&&r().timeEnd?(await Bt(n().symbol,n().period,r().timeStart,r().timeEnd),Qs(p(),Qt(r).timeStart=0,Qt(r)),Qs(p(),Qt(r).timeEnd=0,Qt(r))):await dt()});function js(){return s()}function qi(W){Ee=W}let Ti=Z(0),xi=Z(0),oi=Z(!1),ir=Z(0),Ws=Z(0),di=Z(""),Ps,ps=Z(!1),ni=Z(""),Zi=0,ui=0,pr=null,Hr=Z($([])),ge=Z(0),We=Z(!1),ft=null,Ht=Z(1);function jt(W){var ve,he;if(s())try{const Me=s(),Oe=((ve=Me.getPaneOptions)==null?void 0:ve.call(Me,W))||null,$e=(Oe==null?void 0:Oe.state)||"normal",Ve=$e==="maximize"?"normal":"maximize";(he=Me.setPaneOptions)==null||he.call(Me,{id:W,state:Ve}),console.log("ðŸ–±ï¸ Pane double-click toggle",{paneId:W,from:$e,to:Ve})}catch(Me){console.warn("âš ï¸ Failed to toggle pane state",W,Me)}}function go(W){var Ve;if(!s()||!S)return;const ve=s();try{if(!(((Ve=ve.getIndicators)==null?void 0:Ve.call(ve))??[]).some(et=>et.paneId&&et.paneId!=="candle_pane"))return}catch{return}const he=ve._drawPanes;if(!Array.isArray(he)||he.length===0){jt("candle_pane");return}const Me=S.getBoundingClientRect(),Oe=W.clientY-Me.top;let $e=null;for(const vt of he){if(!vt||typeof vt.getId!="function"||typeof vt.getBounding!="function")continue;const ot=vt.getId();if(ot==="x_axis_pane")continue;const et=vt.getBounding();if(!et||typeof et.height!="number")continue;const kt=typeof et.top=="number"?et.top:0,vo=et.height;if(Oe>=kt&&Oe<=kt+vo){$e=ot;break}}$e||($e="candle_pane"),jt($e)}function Rt(W){const ve=S==null?void 0:S.getBoundingClientRect();ve&&(b(Ti,W.clientX-ve.left),b(xi,W.clientY-ve.top))}function To(W){if(W.preventDefault(),br())return;const ve=S==null?void 0:S.getBoundingClientRect();if(ve){const he=W.clientX-ve.left,Me=W.clientY-ve.top;b(ir,he),b(Ws,Me),b(di,$(Eo())),Ai(he,Me)}}function Lo(W){if(W.touches.length===1){const ve=W.touches[0],he=S==null?void 0:S.getBoundingClientRect();he&&(b(Ti,ve.clientX-he.left),b(xi,ve.clientY-he.top));const Me=W.target;if(i(oi)&&Me&&(Me.closest(".modal-content")||Me.closest(".action-btn")))return;const Oe=Date.now(),$e=Oe-Zi;if($e<300&&$e>0){if(ui+=1,ui===2){if(W.preventDefault(),he){const Ve=ve.clientX-he.left,vt=ve.clientY-he.top;Mo(Ve,vt)}ui=0;return}}else if(ui=1,i(oi)){W.preventDefault(),Fn(),ui=0;return}Zi=Oe,pr&&clearTimeout(pr),pr=setTimeout(()=>{ui=0},300)}}function Mo(W,ve){b(ir,$(W)),b(Ws,$(ve)),b(di,$(Eo())),b(oi,!0)}function Fn(){b(oi,!1)}let fs=Z(!1),si=Z(0),ji=Z(0);function Ai(W,ve){b(si,$(W)),b(ji,$(ve)),b(fs,!0)}function $i(){b(fs,!1)}function _i(){var ve;const W=s();if(W)try{W.scrollToRealTime();const he=S==null?void 0:S.getBoundingClientRect(),Me=he?he.width/2:0,Oe=he?he.height/2:0,$e={x:Me,y:Oe},Ve=W.getDataList(),vt=Math.min(180,Array.isArray(Ve)?Ve.length:180);let ot=0;for(;ot<25;){const et=W.getVisibleRange();if(!et||typeof et.from!="number"||typeof et.to!="number")break;const kt=et.to-et.from+1;if(kt>vt+10)W.zoomAtCoordinate(1.12,$e);else if(kt<vt-10)W.zoomAtCoordinate(.88,$e);else break;ot+=1}W.scrollToRealTime();try{const et=W.getDataList();Array.isArray(et)&&et.length>0&&W.applyNewData(et,!1);const kt=((ve=W.getStyles)==null?void 0:ve.call(W))??{};W.setStyles(Fr(kt)),W.resize()}catch{}}finally{$i()}}function br(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0}async function bs(W){try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(W),console.log("âœ… Copied using modern clipboard API"),!0}catch(ve){console.warn("Modern clipboard API failed:",ve)}try{const ve=document.createElement("textarea");ve.value=W,ve.style.position="fixed",ve.style.left="-999999px",ve.style.top="-999999px",ve.style.opacity="0",ve.style.pointerEvents="none",ve.setAttribute("readonly",""),document.body.appendChild(ve),ve.focus(),ve.select(),ve.setSelectionRange(0,W.length);const he=document.execCommand("copy");if(document.body.removeChild(ve),he)return console.log("âœ… Copied using fallback method"),!0}catch(ve){console.error("Fallback copy method failed:",ve)}try{const ve=window.getSelection();if(ve){const he=document.createRange(),Me=document.createElement("span");Me.textContent=W,Me.style.position="fixed",Me.style.left="-999999px",Me.style.opacity="0",document.body.appendChild(Me),he.selectNode(Me),ve.removeAllRanges(),ve.addRange(he);const Oe=document.execCommand("copy");if(document.body.removeChild(Me),ve.removeAllRanges(),Oe)return console.log("âœ… Copied using selection API fallback"),!0}}catch(ve){console.error("Selection API fallback failed:",ve)}return console.error("âŒ All copy methods failed"),!1}function Xi(){const W=s();if(!W)return console.error("Chart not initialized"),!1;try{const ve=W.getDataList();if(ve.length<10)return console.warn("âš ï¸ Need more historical data for prediction"),!1;const he=ve[ve.length-1],Oe=jg(n().period.timeframe)*1e3;if(!RR(he.timestamp,Oe)&&i(ge)===0){const oo=Date.now()-he.timestamp,Ko=Math.floor(oo/6e4);console.info(`â„¹ï¸ Market appears to be open (last candle ${Ko}m ago). Prediction is most useful when market is closed.`)}const Ve=ve,vt=OR(Ve);if(!vt)return console.error("âŒ Failed to generate prediction"),!1;b(Hr,$([...i(Hr),vt])),Zx(ge);const ot=[...Ve,vt],et=W.getVisibleRange(),kt=et?et.to>=Ve.length-2:!0;W.applyNewData(ot,!1);try{(ot??[]).length>0&&b(q,!0)}catch{}kt&&setTimeout(()=>{W.scrollToRealTime()},50);const vo=Ve[Ve.length-1].close,qe=(vt.close-vo)/vo*100,$t=qe>0?"ðŸ“ˆ":"ðŸ“‰";return console.log(`${$t} Prediction #${i(ge)}: ${qe>0?"+":""}${qe.toFixed(2)}% (Close: ${vt.close.toFixed(2)})`),console.log("âœ… Prediction added:",vt),console.log("ðŸ“Š Total predictions so far:",i(ge)),!0}catch(ve){return console.error("âŒ Prediction error:",ve),!1}}function xr(){return Math.round(2e3/i(Ht))}function Ge(){if(!i(We))return;ft&&(clearInterval(ft),ft=null);const W=xr();ft=setInterval(()=>{i(We)&&Xi()},W),console.log(`âš¡ Speed changed: ${i(Ht)}x (${W}ms interval)`)}function Xe(W){b(Ht,$(W)),Ge()}function eo(){if(i(We))return;b(We,!0),console.log("â–¶ï¸ Auto-play started"),Xi();const W=xr();ft=setInterval(()=>{i(We)&&Xi()},W)}function Et(){b(We,!1),ft&&(clearInterval(ft),ft=null),console.log("â¸ï¸ Auto-play stopped")}function xo(){i(We)?Et():eo()}function Eo(){const W=s();if(!W||i(Ti)===null||i(xi)===null)return"";try{const ve=S==null?void 0:S.getBoundingClientRect();if(!ve)return"";if(W&&typeof W.convertFromPixel=="function")try{const kt=W.convertFromPixel([{x:i(Ti),y:i(xi)}],{paneId:"candle_pane"});if(kt&&Array.isArray(kt)&&kt[0]&&typeof kt[0].value=="number")return kt[0].value.toFixed(2)}catch{}const he=W.getVisibleRange(),Me=W.getDataList();if(!Me||Me.length===0||!he)return"";const Oe=Me.slice(he.from,he.to+1);if(Oe.length===0)return"";let $e=1/0,Ve=-1/0;Oe.forEach(kt=>{$e=Math.min($e,kt.low),Ve=Math.max(Ve,kt.high)});const vt=Ve-$e;if(vt<=0)return"";const ot=i(xi)/ve.height;return(Ve-ot*vt).toFixed(2)}catch{return""}}console.log("ðŸ“Š Chart script execution completed");var Vo=jN();Vo.__click=[DN,r,p];var $o=m(Vo);Qo($o,5,d,W=>W.id,(W,ve)=>{Jx(W,{get type(){return i(ve).type},get text(){return i(ve).text}})}),_($o);var un=v($o,2);NO(un,{get customLoad(){return x()},get mainContainer(){return i(O)},set mainContainer(W){b(O,$(W))},get sidebarHost(){return i(Y)},set sidebarHost(W){b(Y,$(W))},onToggleScriptStudio:()=>{b(se,!i(se)),el()}});var Yo=v(un,2),vn=m(Yo),ii=m(vn),fr=m(ii),Ar=m(fr);Al(WM(Ar,{}),W=>b(B,$(W)),()=>i(B)),_(fr);var rr=v(fr,2);xe(rr,()=>!i(q),W=>{var ve=LN();N(W,ve)});var Zr=v(rr,2);Zr.__keydown=[TN,B],Zr.__contextmenu=To,Zr.__mousemove=Rt,Zr.__dblclick=go,Zr.__touchstart=Lo,Zr.__click=[AN,oi,Fn,fs,$i];var qr=m(Zr);Al(qr,W=>M=W,()=>M);var Ii=v(qr,2);Al(Ii,W=>T=W,()=>T),_(Zr),Al(Zr,W=>S=W,()=>S);var Ur=v(Zr,2);HR(Ur,{}),_(ii);var _a=v(ii,2);const Nc=tt(()=>`height: ${i(se)?`${Math.round(i(te)*100)}%`:"0px"};`);var kl=m(_a);kl.__mousedown=ll,kl.__touchstart=ll;var nl=v(kl,2),Fl=m(nl);lN(Fl,{get code(){return i(ke)},set code(W){b(ke,$(W))},get status(){return i(Ae)},get error(){return i(Le)},get isRunning(){return i(He)},get isOpen(){return i(se)},get paneTarget(){return i(je)},$$events:{run:W=>gl(W.detail.code),save:W=>Oa(W.detail.code),close:_l,pane:W=>b(je,$(W.detail.target)),guide:()=>b(ie,!0)}}),_(nl),_(_a),_(vn),Al(vn,W=>b(z,W),()=>i(z));var Ad=v(vn,2);Al(LA(Ad,{}),W=>b(Y,$(W)),()=>i(Y)),_(Yo);var Vl=v(Yo,2);xe(Vl,()=>i(Je),W=>{var ve=EN();N(W,ve)});var Sl=v(Vl,2);wN(Sl,{get show(){return i(ie)},$$events:{close:()=>b(ie,!1),insert:W=>{b(ke,$(W.detail.code)),b(se,!0)}}});var Cl=v(Sl,2);VO(Cl,{get isOpen(){return i(oi)},set isOpen(W){b(oi,$(W))},get x(){return i(ir)},get y(){return i(Ws)},get currentPrice(){return i(di)},$$events:{copy:async W=>{W.detail.price&&(await bs(W.detail.price)?(b(ni,`Price ${W.detail.price} copied!`),Ps==null||Ps.showToast(),Fn()):(b(ni,"Failed to copy price"),Ps==null||Ps.showToast()))},reset:_i,close:Fn}});var Il=v(Cl,2);xe(Il,()=>i(fs),W=>{var ve=FN(),he=m(ve);he.__click=async()=>{await bs(i(di))?b(ni,`Price ${i(di)} copied!`):b(ni,"Failed to copy price"),Ps==null||Ps.showToast(),$i()};var Me=v(m(he),2),Oe=m(Me);_(Me),_(he);var $e=v(he,2);$e.__click=_i,_(ve),Re(()=>{lt(ve,"style",`left: ${i(si)??""}px; top: ${i(ji)??""}px;`),wt(Oe,`Copy Price ${(i(di)?`(${i(di)})`:"")??""}`)}),N(W,ve)});var sc=v(Il,2);Al(Fb(sc,{get visible(){return i(ps)},set visible(W){b(ps,$(W))},get message(){return i(ni)},duration:2e3}),W=>Ps=W,()=>Ps);var ic=v(sc,2);TR(ic,{get show(){return i(Ce)},title:"Unsaved changes",message:"You made changes but did not save. Refresh will discard them.",$$events:{cancel:()=>{b(Ce,!1)},confirm:()=>{var W;b(Ce,!1);try{if(Mn&&Nm()){Mn.clearPersistedStorage();try{const ve=(((W=n())==null?void 0:W.key)||"chart")+"_overlays";localStorage.removeItem(ve)}catch{}try{localStorage.removeItem("dataSpaceOverlays")}catch{}}}catch{}location.reload()}}});var jl=v(ic,2);return CR(jl,{}),_(Vo),Al(Vo,W=>b(O,W),()=>i(O)),Re(()=>{lt(Vo,"data-theme",n().theme),Un(_a,`${`script-dock ${i(se)?"open":""}`??""} svelte-d1xqmm`),lt(_a,"style",i(Nc)),lt(_a,"aria-hidden",!i(se)),lt(nl,"style",`opacity:${i(se)?1:0}; pointer-events:${i(se)?"auto":"none"}; transform: translateY(${i(se)?"0":"6px"});`)}),N(o,Vo),Mr({getChart:js,setManualStylesFlag:qi})}Pa(["click","keydown","contextmenu","mousemove","dblclick","touchstart","mousedown"]);function WN(o,e){Pr(e,!1);const t=El(),n=()=>ti(S2,"$page",t),s=()=>ti(c,"$save",t);console.log("ðŸ“„ +page.svelte loaded");const r=bc(new Dy);let a;try{const S=sessionStorage.getItem("chart.tabId");S?a=S:(a=`${Date.now()}-${Math.random().toString(36).slice(2)}`,sessionStorage.setItem("chart.tabId",a))}catch{a=`${Date.now()}-${Math.random().toString(36).slice(2)}`}const c=Lh(`chart:${a}`,new $g);let d=Yr(!1),u="light";function p(S){u=S,document.documentElement.classList.toggle("dark",S==="dark"),document.documentElement.setAttribute("data-theme",S),window.dispatchEvent(new CustomEvent("themechange",{detail:{theme:S}})),console.log("ðŸ–Œï¸ Applied theme to document:",S)}function h(){window.location.href="https://dutyai.app/chart"}let x=null;yc(()=>((async()=>{var B,O,z,Y;let S=null;const M=n().url.searchParams.get("userId");if(M){console.log("ðŸ‘¤ User ID parameter found in URL:",M);try{localStorage.setItem("userId",M),console.log("âœ… User ID saved to localStorage:",M);const G=new URL(window.location.href);G.searchParams.delete("userId"),window.history.replaceState({},"",G.toString()),console.log("ðŸ”— User ID parameter removed from URL"),S=M}catch(G){console.error("âŒ Failed to save user ID to localStorage:",G)}}else try{S=localStorage.getItem("userId"),S&&console.log("ðŸ‘¤ User ID found in localStorage:",S)}catch(G){console.error("âŒ Failed to read userId from localStorage:",G)}if(!S){console.warn("âš ï¸ No userId found in URL or localStorage. Redirecting..."),h();return}wP(!0);try{console.log("ðŸ“¡ Fetching user preferences for userId:",S);const G=await bP(S);console.log("âœ… User preferences fetched successfully:",G),xP(G)}catch(G){console.error("âŒ Failed to fetch user preferences:",G),kP(G instanceof Error?G.message:"Unknown error"),console.warn("âš ï¸ User preferences fetch failed. Redirecting..."),h();return}const T=n().url.searchParams.get("theme"),D=(z=(O=(B=cc(Iu))==null?void 0:B.data)==null?void 0:O.theme)==null?void 0:z.toLowerCase(),A=(Y=cc(c))==null?void 0:Y.theme,j=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,F=T==="dark"||T==="light"?T:D==="dark"||D==="light"?D==="dark"?"dark":"light":A==="dark"||A==="light"?A:j?"dark":"light";c.update(G=>(G.theme=F,G)),p(F),x=c.subscribe(G=>{const oe=G.theme==="dark"||G.theme==="light"?G.theme:j?"dark":"light";oe!==u&&p(oe)});const q=n().url.searchParams.get("symbol");if(q){console.log("ðŸ”— Symbol parameter found in URL:",q);let G=0;const oe=50,re=()=>{G+=1;const se=s();if(se.allSymbols&&se.allSymbols.length>0){const ie=se.allSymbols.find(te=>te.ticker.toLowerCase()===q.toLowerCase());if(ie)console.log("âœ… Found symbol from URL parameter:",ie),c.update(te=>(te.symbol=ie,te));else{console.warn("âš ï¸ Symbol not found in available symbols:",q),console.log("ðŸ“Š Available symbols:",se.allSymbols.map(K=>K.ticker).join(", "));const te=se.allSymbols.slice(0,10).map(K=>K.ticker).join(", ");console.log(`ðŸ’¡ Try one of these symbols: ${te}${se.allSymbols.length>10?"...":""}`)}}else G<oe?(console.log(`â³ Waiting for symbols to load... (attempt ${G}/${oe})`),setTimeout(re,100)):console.error("âŒ Timeout waiting for symbols to load. Symbol parameter will be ignored.")};re()}b(d,!0)})(),()=>{x&&x()})),wc();var w=yt(),k=nt(w);xe(k,()=>i(d),S=>{$N(S,{ctx:r,save:c})}),N(o,w),Mr()}export{WN as component};
